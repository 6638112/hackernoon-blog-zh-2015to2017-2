<html>
<head>
<title>Yet another MVP article — Part 1: Let’s get to know the project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">另一篇MVP文章——第1部分:让我们了解这个项目</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/yet-another-mvp-article-part-1-lets-get-to-know-the-project-d3fd553b3e21?source=collection_archive---------1-----------------------#2016-11-29">https://medium.com/hackernoon/yet-another-mvp-article-part-1-lets-get-to-know-the-project-d3fd553b3e21?source=collection_archive---------1-----------------------#2016-11-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0093" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">使用</em> <strong class="it hv"> <em class="jp"> MVP </em> </strong> <em class="jp">，</em><strong class="it hv"><em class="jp">rx Java</em></strong><em class="jp">，</em><strong class="it hv"><em class="jp">Dagger 2</em></strong><em class="jp">，</em><strong class="it hv"><em class="jp">retro fit 2</em></strong><em class="jp">，</em><strong class="it hv"><em class="jp">Test</em></strong><em class="jp">，以及所有全新的现代方法和库</em></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/9a65b52e101b82333147f189cdaab23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*Kda_ouy1u0Tl_cv1LCOBvw.gif"/></div></figure><p id="cf16" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我发现了一些关于在<a class="ae jy" href="https://stackoverflow.com/questions/tagged/mvp" rel="noopener ugc nofollow" target="_blank"><em class="jp">stack overflow</em></a><em class="jp"/>上使用<strong class="it hv"> MVP </strong>的未解问题，这激发了我写一系列文章的强烈兴趣，提供了一个示例项目(即我自己的实践经验……)</p><p id="4db1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">去年我熟悉了<strong class="it hv"> MVP、</strong>tuxedo开发，并查看了示例和教程。我花了很长时间处理和连接这个未知的大拼图的不同部分。我能提到的最有用的网站是<a class="ae jy" href="http://caster.io/" rel="noopener ugc nofollow" target="_blank"> caster.io </a>，它总是充满了新的<a class="ae jy" href="https://hackernoon.com/tagged/android" rel="noopener ugc nofollow" target="_blank"> Android </a>视频教程。</p><p id="aef6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">解释MVP 本身可能看起来很奇怪！因为有很多文章解释了它是如何工作的，以及如何打破层等等，但很少有例子有足够的意见，这有助于新的方法。</p></div><div class="ab cl jz ka hc kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hn ho hp hq hr"><h1 id="c638" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">变化是如何开始的…</h1><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/7fcb982445a6283f36f482cba9079cfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*lvenLl3-ZZJ06pgkJkhnNg.gif"/></div></figure><p id="2e8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一切从<a class="ae jy" href="https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">开始扎实</strong> </a>(面向对象设计原则)，感谢亲爱的<a class="ae jy" href="https://en.wikipedia.org/wiki/Robert_C._Martin" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">罗伯特·c·马丁</strong> </a>。</p><p id="bfb0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">根据<a class="ae jy" href="https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29" rel="noopener ugc nofollow" target="_blank">维基百科</a>上的<strong class="it hv">固体</strong>文章，它代表:</p><blockquote class="le lf lg"><p id="a7b0" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv"> - S </strong> (SRP):单一责任原则</p><p id="e725" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv"> - O </strong> (OCP):开/关原理</p><p id="1ac7" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv"> - L </strong> (LSP):利斯科夫替代原理</p><p id="d961" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv"> - I </strong> (ISP):接口隔离原理</p><p id="8619" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv"> - D </strong> (DIP):依存倒置原则</p></blockquote><p id="e5d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">设法遵循所有五项原则。我会尽力在我的示例项目中逐一指出，使其更加透明。</p><p id="a111" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">根据这个完美的<strong class="it hv">MVP</strong>T3】文章，它代表:</p><blockquote class="le lf lg"><p id="ed79" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">-<strong class="it hv">模型</strong>是将在视图(用户界面)中显示的数据。</p><p id="e2ca" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">-<strong class="it hv">视图</strong>是一个界面，它显示数据(模型)并将用户命令(事件)发送给演示者，以对该数据进行操作。视图通常会引用其演示者。</p><p id="8be5" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">—<strong class="it hv">演示者</strong>是“中间人”(由MVC中的控制器扮演)，并且引用了视图和模型。</p></blockquote><h2 id="ab88" class="lk kh hu bd ki ll lm ln km lo lp lq kq jc lr ls ku jg lt lu ky jk lv lw lc lx dt translated">模特？！！！</h2><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/dd1fd966b6f486c9eab154e953965f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*5NJsbTFmLSaONmcXpIJPHw.gif"/></div></figure><blockquote class="le lf lg"><p id="02ed" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><strong class="it hv">请注意“模型”</strong>这个词有误导性！！！</p><p id="898f" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">更确切地说，应该是<strong class="it hv">业务逻辑检索或操作模型</strong>。</p><p id="9f87" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">例如:如果您有一个在数据库表中存储<code class="eh lz ma mb mc b">User</code>的数据库，并且您的视图想要显示一个用户列表，那么演示者将有一个对您的数据库业务逻辑(像DAO)的引用，演示者将从这里查询一个用户列表。</p></blockquote><h1 id="37e6" class="kg kh hu bd ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld dt translated">你能多解释一下MVP吗？</h1><p id="169d" class="pw-post-body-paragraph ir is hu it b iu mi iw ix iy mj ja jb jc mk je jf jg ml ji jj jk mm jm jn jo hn dt translated">不不。！只要<a class="ae jy" href="https://www.google.com/#q=android+mvp" rel="noopener ugc nofollow" target="_blank">谷歌</a>你就会找到关于这种新方法的所有理论(或者至少看一下这篇<a class="ae jy" href="http://hannesdorfmann.com/mosby/mvp/" rel="noopener ugc nofollow" target="_blank">文章</a>)。)</p></div><div class="ab cl jz ka hc kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hn ho hp hq hr"><h1 id="9d9f" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">这个示例项目是关于什么的？</h1><p id="de20" class="pw-post-body-paragraph ir is hu it b iu mi iw ix iy mj ja jb jc mk je jf jg ml ji jj jk mm jm jn jo hn dt translated">这个应用程序是一个漫威的人物搜索应用程序，是一个简单的安卓客户端，用于Marvel.com。这个应用程序是由我创建的，作为<a class="ae jy" href="https://www.smava.de/" rel="noopener ugc nofollow" target="_blank"> smava GmbH </a>技术团队技术评估的一部分。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/341487e2cfc25aee7c808e2f88a710e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*UEGBQvxzI9uKHI85NQyGkw.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Marvel Android Application screenshot</figcaption></figure><p id="8fbc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该应用程序必须搜索字符，查看信息和缓存最后的搜索。</p><p id="681f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该项目使用<strong class="it hv"> MVP </strong>实现，包含现代Android开发概念和库，可以真正改变你的职业生活！</p><p id="4e49" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我将尽我所能在这篇文章的不同部分解释每件事，即:Dagger、改型、RxJava和测试。</p><p id="ce3c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该项目还有使用<a class="ae jy" href="https://circleci.com" rel="noopener ugc nofollow" target="_blank">Circleci.com</a>&amp;<a class="ae jy" href="https://travis-ci.org" rel="noopener ugc nofollow" target="_blank">Travis-ci.org</a>的持续集成(CI)和使用<a class="ae jy" href="https://codecov.io" rel="noopener ugc nofollow" target="_blank"> Codecov.io </a>的代码覆盖报告，以及使用<a class="ae jy" href="https://hackernoon.com/tagged/google" rel="noopener ugc nofollow" target="_blank"> google </a>新的Firebase服务，您可以自己学习，这在某种程度上与本文无关。</p><p id="c7e4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在开始之前，您可以通过阅读<a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/README.md" rel="noopener ugc nofollow" target="_blank"> README </a>和<a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/Task.pdf" rel="noopener ugc nofollow" target="_blank"> Task </a>文件来更加熟悉这个项目。</p><h1 id="9b7b" class="kg kh hu bd ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld dt translated">好吧，让我看看你有什么:</h1><div class="ms mt fm fo mu mv"><a href="https://github.com/mohsenoid/marvel" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab ej"><div class="mx ab my cl cj mz"><h2 class="bd hv fv z el na eo ep nb er et ht dt translated">莫森诺德/漫威</h2><div class="nc l"><h3 class="bd b fv z el na eo ep nb er et ek translated">smava GmbH指定的漫威-漫威角色Android应用程序</h3></div><div class="nd l"><p class="bd b gc z el na eo ep nb er et ek translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jw mv"/></div></div></a></div><p id="a17c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们来看看这个项目的结构。</p><p id="67ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我个人喜欢从事干净代码的工作，所以我真的很喜欢将一个项目分成一些有意义的部分，这些部分可以帮助我和整个团队更清楚地了解任务。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="fe ff nk"><img src="../Images/5e942d90203e6b28d1ddc260c44b0fd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zX0m2WXOrC2UhB0o_lveMA.png"/></div></div></figure><h2 id="c72d" class="lk kh hu bd ki ll lm ln km lo lp lq kq jc lr ls ku jg lt lu ky jk lv lw lc lx dt translated">模块:</h2><p id="94f3" class="pw-post-body-paragraph ir is hu it b iu mi iw ix iy mj ja jb jc mk je jf jg ml ji jj jk mm jm jn jo hn dt translated">项目由两个主要和一个java控制台示例模块组成:</p><ol class=""><li id="1083" class="np nq hu it b iu iv iy iz jc nr jg ns jk nt jo nu nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> app(漫威-app) </strong> </a>:安卓应用模块</li><li id="dcdd" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo nu nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">【核心库(漫威核心)</strong> </a>:核心库模块</li><li id="419a" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo nu nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/console" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">【控制台(marvel-console)</strong></a>:Java控制台示例模块</li></ol><p id="0ea2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp"> app </em>模块包含<strong class="it hv"> MVP </strong>的Android <strong class="it hv"> View </strong>层，而其他层(<strong class="it hv">Model</strong>&amp;<strong class="it hv">Presentation</strong>)都放在<em class="jp"> core </em>中，core 是纯java，编译后就是一个jar库。</p><h2 id="1418" class="lk kh hu bd ki ll lm ln km lo lp lq kq jc lr ls ku jg lt lu ky jk lv lw lc lx dt translated">把代码分成模块有什么用？！</h2><ul class=""><li id="ca04" class="np nq hu it b iu mi iy mj jc od jg oe jk of jo og nv nw nx dt translated">首先，分离Android应用模块提醒你不要将<strong class="it hv">上下文</strong>或者任何Android相关对象传递给<strong class="it hv"> Presenter </strong>或者<strong class="it hv"> Model！…所以请停止这样做！！！</strong></li><li id="fc94" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated">其次，你可以确保<em class="jp">核心</em>部分足够完整，你甚至可以将它与另一个<strong class="it hv"> UI </strong>(即:<a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/console" rel="noopener ugc nofollow" target="_blank"> Java控制台示例</a>、Web Applet一起使用，或者作为一个预测，甚至在不久的将来，一个使用Java的iOS应用程序！！)</li><li id="f217" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated">最后，我和我们的团队真的很喜欢这样开发应用程序！整个团队成员受益于将<em class="jp">核心</em>分开，甚至我们将<em class="jp">核心</em>放在一个git子模块中，在不同的项目中使用相同的<em class="jp">核心</em>和不同的<strong class="it hv"> UI </strong>。</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="fe ff oh"><img src="../Images/43b762ece78cde0cdfcd6154f70c1e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uzurBWtZfYZ58XacCQYcYg.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">The result of java console sample module which works the same as Android Application with the core</figcaption></figure><h2 id="45b7" class="lk kh hu bd ki ll lm ln km lo lp lq kq jc lr ls ku jg lt lu ky jk lv lw lc lx dt translated">一个小模块的名字清理:</h2><p id="046f" class="pw-post-body-paragraph ir is hu it b iu mi iw ix iy mj ja jb jc mk je jf jg ml ji jj jk mm jm jn jo hn dt translated">为了让模块看起来更方便和漂亮，你可以编辑<strong class="it hv"> settings.gradle </strong>文件，如下所示:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="oi oj l"/></div></figure><p id="394e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这给了你这个干净的外观:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff ok"><img src="../Images/fc746e5b0629bceaee8099a73edceff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*qz4Zyc9IkP-1BBLqK8YfIw.png"/></div></figure><p id="2240" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并为输出APK文件产生一个相关名称。</p><h2 id="e111" class="lk kh hu bd ki ll lm ln km lo lp lq kq jc lr ls ku jg lt lu ky jk lv lw lc lx dt translated">如何避免不同模块中的版本冲突和冗余？</h2><p id="77c7" class="pw-post-body-paragraph ir is hu it b iu mi iw ix iy mj ja jb jc mk je jf jg ml ji jj jk mm jm jn jo hn dt translated">使用Gradle特性可以方便地生成一个干净的<em class="jp"> build.gradle </em>文件，并避免项目模块中的版本冲突和冗余。</p><p id="7651" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，将项目的所有依赖项放在一个Gradle文件中，比如<a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/libraries.gradle" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> libraries.gradle </strong> </a>:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="oi oj l"/></div></figure><p id="df3f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后将其添加到您的项目<em class="jp">main</em><a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/build.gradle" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">build . gradle</strong></a>文件中(注意最后一行):</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="oi oj l"/></div></figure><p id="ca36" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，在你的<em class="jp">应用</em>模块<a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/app/build.gradle" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> build.gradle </strong> </a>文件中使用它(注意依赖部分):</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="oi oj l"/></div></figure><p id="4011" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还有你的<em class="jp">核心</em>模块<a class="ae jy" href="https://github.com/mohsenoid/marvel/blob/master/core-lib/build.gradle" rel="noopener ugc nofollow" target="_blank">T21文件:</a></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="oi oj l"/></div></figure></div><div class="ab cl jz ka hc kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hn ho hp hq hr"><h1 id="d30c" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">核心模块内部发生了什么？</h1><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff ol"><img src="../Images/28b575e2f23bb549f3701ebad1910d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*7nVMcYza4YBF2fJmU92JQg.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">core module’s files structure</figcaption></figure><ul class=""><li id="6306" class="np nq hu it b iu iv iy iz jc nr jg ns jk nt jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib/src/main/java/com/mirhoseini/marvel/base" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">基础包</strong> </a> <strong class="it hv"> : </strong>包含所有基础接口，这些接口包含所有<em class="jp">交互器</em>、<em class="jp">演示者、</em>和<em class="jp">视图</em>的通用方法。</li><li id="7c71" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib/src/main/java/com/mirhoseini/marvel/character" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">角色包</strong> </a> <strong class="it hv"> : </strong>保存应用程序的主要功能，即搜索和缓存漫威角色信息。</li><li id="21be" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib/src/main/java/com/mirhoseini/marvel/database" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">数据库包</strong> </a> <strong class="it hv"> : </strong>缓存字符数据是使用本示例中的<a class="ae jy" href="http://ormlite.com/" rel="noopener ugc nofollow" target="_blank"> OrmLite </a>完成的，我不会对此做过多解释，因为这与主题无关，但您可以慢慢查看所有代码！</li><li id="77e2" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib/src/main/java/com/mirhoseini/marvel/domain" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">域包</strong> </a> <strong class="it hv"> : </strong>包含使用retrofit2和RxJava库连接网络API的代码。</li><li id="7c84" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/core-lib/src/main/java/com/mirhoseini/marvel/util" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> util包</strong> </a> <strong class="it hv"> : </strong>充满了项目所需的有用类，即:<em class="jp">常量</em>保存所有核心常量变量，<em class="jp"> HashGenerator </em>用于漫威的API调用哈希参数，<em class="jp"> SchedulerProvider </em>是一个调度程序接口，帮助实现<strong class="it hv"> RxJava </strong>和<strong class="it hv"> RxAndroid </strong>多线程(我将在本文中详细解释</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="fe ff om"><img src="../Images/4b9f105293809ab459eea757871737ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*id9iSAIVlEDnuBBhJTcNOg.jpeg"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek"><em class="on">“You wouldn’t wire a lamp directly to your house”, — </em><a class="ae jy" href="https://www.novoda.com/blog/designing-something-solid/" rel="noopener ugc nofollow" target="_blank"><strong class="bd oo"><em class="on">Novoda</em></strong></a></figcaption></figure><p id="5b91" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">参考<a class="ae jy" href="https://en.wikipedia.org/wiki/Dependency_inversion_principle" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">依存倒置原则</strong> </a>的<strong class="it hv">坚实</strong>，<em class="jp">“一个人应该依靠抽象而不依靠具体”或</em>参考<em class="jp">到</em> <a class="ae jy" href="https://www.novoda.com/blog/designing-something-solid/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">这篇荒诞的文章作者</em> <strong class="it hv"> <em class="jp">诺沃达</em> </strong> </a> <em class="jp">“你不会把一盏灯直接连到你家”</em>！，两个模块之间的所有链接(<em class="jp"> app </em> &amp; <em class="jp"> core </em>)都是用接口实现的，用dagger连接起来。</p><h1 id="88ef" class="kg kh hu bd ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld dt translated">，app模块内部是怎么回事？</h1><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff op"><img src="../Images/c5760f4a60402021f8e539740989fd4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*su23KhuGmT3olnNqpF5WTQ.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">app module’s files structure</figcaption></figure><ul class=""><li id="12c4" class="np nq hu it b iu iv iy iz jc nr jg ns jk nt jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app/src/main/java/com/mirhoseini/marvel/activity" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">活动包</strong> </a> <strong class="it hv"> : </strong>容纳3个活动，是Android应用UI的脊梁。</li><li id="42c2" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app/src/main/java/com/mirhoseini/marvel/base" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">基础包</strong> </a> <strong class="it hv"> : </strong>拥有2个活动和片段的基础抽象类，包含了注入的一般方法，可以用于其他一般方法。</li><li id="33f6" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app/src/main/java/com/mirhoseini/marvel/character" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">字符包</strong> </a> <strong class="it hv"> : </strong>保存了应用程序的主要特性，该应用程序是使用两个<em class="jp">搜索</em> &amp; <em class="jp">缓存</em>片段实现的。</li><li id="3dd3" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app/src/main/java/com/mirhoseini/marvel/database" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">数据库包</strong> </a> <strong class="it hv"> : </strong>包含使用<a class="ae jy" href="http://ormlite.com" rel="noopener ugc nofollow" target="_blank"> OrmLite </a>的Android端数据库代码，跑题了！</li><li id="9e0e" class="np nq hu it b iu ny iy nz jc oa jg ob jk oc jo og nv nw nx dt translated"><a class="ae jy" href="https://github.com/mohsenoid/marvel/tree/master/app/src/main/java/com/mirhoseini/marvel/util" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> util包</strong> </a> <strong class="it hv"> : </strong>充满了项目所需的有用的Android端类，即:<em class="jp"> AppConstants </em>扩展了<em class="jp"> core </em>的<em class="jp"> Constants </em>类并包含应用常量变量，<em class="jp"> AppSchedulerProvider </em>实现了<em class="jp"> core </em>的<em class="jp"> SchedulerProvider </em>并提供了<strong class="it hv"> RxAndroid(这是一个简短的信息，我将在本文的相关部分进行详细解释)。</strong></li></ul><h1 id="40cf" class="kg kh hu bd ki kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld dt translated">暂时就这样了…</h1><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/779d029dc96d0218ee0044d44579f5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*4QtxcYcEqQQx_U7KlOUfSg.gif"/></div></figure><p id="8326" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请从GitHub 中克隆<a class="ae jy" href="https://github.com/mohsenoid/marvel" rel="noopener ugc nofollow" target="_blank">项目repo，并更加熟悉它，因为在下一部分，我将解释更多关于dagger的内容，以及它如何帮助连接模块和层的不同对象。</a></p><p id="52d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我期待您的评论，并帮助我对这篇文章进行更多的改进。</p><p id="1a48" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你觉得这篇文章有用就分享吧，关注我更多文章<a class="oq or gr" href="https://medium.com/u/6a4ed0c4dd2c?source=post_page-----d3fd553b3e21--------------------------------" rel="noopener" target="_blank"> Mohsen Mirhoseini </a>。</p><blockquote class="le lf lg"><p id="c8c5" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">未完待续…</p></blockquote><div class="ms mt fm fo mu mv"><a href="https://hackernoon.com/yet-another-mvp-article-part-2-how-dagger-helps-with-the-project-90d049a45e00" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab ej"><div class="mx ab my cl cj mz"><h2 class="bd hv fv z el na eo ep nb er et ht dt translated">另一篇MVP文章——第2部分:Dagger如何帮助项目</h2><div class="nc l"><h3 class="bd b fv z el na eo ep nb er et ek translated">使用MVP、RxJava、Dagger 2、Retrofit2、Test和所有全新的现代技术实现一个示例Android应用程序…</h3></div><div class="nd l"><p class="bd b gc z el na eo ep nb er et ek translated">hackernoon.com</p></div></div><div class="ne l"><div class="os l ng nh ni ne nj jw mv"/></div></div></a></div><div class="jr js jt ju fq ab cb"><figure class="ot jv ou ov ow ox oy paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ot jv ou ov ow ox oy paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ot jv ou ov ow ox oy paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="le lf lg"><p id="f922" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><a class="ae jy" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jy" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jy" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">正在接受投稿</a>并乐意<a class="ae jy" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jy" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jy" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="fe ff oz"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="pa oj l"/></div></figure></div></div>    
</body>
</html>