<html>
<head>
<title>Swift Snippet: selectively update object from an optional new value</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift代码片段:从可选的新值中有选择地更新对象</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/selectively-update-object-from-an-optional-new-value-91f7ef59973d?source=collection_archive---------17-----------------------#2017-01-18">https://medium.com/hackernoon/selectively-update-object-from-an-optional-new-value-91f7ef59973d?source=collection_archive---------17-----------------------#2017-01-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0bb6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://hackernoon.com/tagged/following" rel="noopener ugc nofollow" target="_blank">后面的</a>运算符可用于根据新的可选值更新对象。当我们不想让<a class="ae jp" href="https://hackernoon.com/tagged/object" rel="noopener ugc nofollow" target="_blank">对象</a>从新的可选值更新为零时，可以使用这个方法。</p><p id="ca3b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在映射服务器响应时经常使用，因为我们不会在每个响应中获取所有参数，并且通过使用该运算符，我们不必一次又一次地检查所有非可选值。</p><pre class="jq jr js jt fq ju jv jw jx aw jy dt"><span id="3019" class="jz ka hu jv b fv kb kc l kd ke">infix operator ?= : MultiplicationPrecedence</span><span id="3630" class="jz ka hu jv b fv kf kc l kd ke">func ?= &lt;T&gt; ( property: inout T?, newValue: T?) {</span><span id="0f32" class="jz ka hu jv b fv kf kc l kd ke">   if let value = newValue {</span><span id="eda5" class="jz ka hu jv b fv kf kc l kd ke">      property = value</span><span id="bba1" class="jz ka hu jv b fv kf kc l kd ke">   }</span><span id="2d60" class="jz ka hu jv b fv kf kc l kd ke">}</span><span id="8305" class="jz ka hu jv b fv kf kc l kd ke">func ?= &lt;T&gt; ( property: inout T, newValue: T?) {</span><span id="7cba" class="jz ka hu jv b fv kf kc l kd ke">   if let value = newValue {</span><span id="064b" class="jz ka hu jv b fv kf kc l kd ke">       property = value</span><span id="5fe2" class="jz ka hu jv b fv kf kc l kd ke">   }</span><span id="9dae" class="jz ka hu jv b fv kf kc l kd ke">}</span></pre><blockquote class="kg kh ki"><p id="f2cb" class="ir is kj it b iu iv iw ix iy iz ja jb kk jd je jf kl jh ji jj km jl jm jn jo hn dt translated">使用</p></blockquote><pre class="jq jr js jt fq ju jv jw jx aw jy dt"><span id="afc9" class="jz ka hu jv b fv kb kc l kd ke">var name: String? = nil</span><span id="fc0c" class="jz ka hu jv b fv kf kc l kd ke">screenName ?= name</span></pre><figure class="jq jr js jt fq kn"><div class="bz el l di"><div class="ko kp l"/></div></figure></div></div>    
</body>
</html>