<html>
<head>
<title>Cypress will change the way you develop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">赛普拉斯将改变你的发展方式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/cypress-will-change-the-way-you-develop-47a194d2a33f?source=collection_archive---------3-----------------------#2017-01-01">https://medium.com/hackernoon/cypress-will-change-the-way-you-develop-47a194d2a33f?source=collection_archive---------3-----------------------#2017-01-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="7cef" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">用Cypress让TDD成为你的前端新年决心</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/c130555cc3918e7b7853b92800d28a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TUHYnkN1UJku2Db0aTLSwA.jpeg"/></div></div></figure><p id="23bd" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">2015年11月，我看到Brian Mann在<a class="ae kr" href="https://cypress.io" rel="noopener ugc nofollow" target="_blank"> Cypress.io </a>上做了一个演示。它立刻感觉像是未来。</p><p id="8134" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当时，我向自己和同事提出挑战，要改进我们的测试。我在为<a class="ae kr" href="http://marionettejs.com" rel="noopener ugc nofollow" target="_blank">提线木偶</a>做代码覆盖，我把我在那里学到的东西带到了日常工作中。Mocha中的单元测试很好，它对木偶很有效，但是它几乎不能覆盖我们正在开发的应用程序。我们进行了硒测试，但这些测试经常是不可靠的，而且是在开发后作为一个额外的步骤进行的。将Selenium测试与我们的开发人员工作流集成的尝试失败了。有太多的摩擦，一切都感觉有点粗糙。</p><blockquote class="ks"><p id="9fd1" class="kt ku hu bd kv kw kx ky kz la lb kq ek translated">"最后一个让我的工作流程发生如此巨大变化的工具是git . "</p></blockquote><p id="7ead" class="pw-post-body-paragraph jv jw hu jx b jy lc iv ka kb ld iy kd ke le kg kh ki lf kk kl km lg ko kp kq hn dt translated">到了5月份，我已经提前接触到了Cypress的测试版，并编写了我的第一个测试。很明显，我不知道自己在做什么。Cypress感觉非常熟悉，它使用Mocha和Chai进行测试编写，但是知道从哪里开始我的成熟应用程序是令人生畏的。我的第一个错误是把柏树当作硒的替代品。虽然它可以取代Selenium，但我强烈建议暂时搁置端到端测试，开始集成测试。</p><p id="774e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在我们开始剔除我们的服务器API之后，我们立即看到了工作流的改进。我们甚至还没有编写测试，但是我们能够轻松地处理复杂的数据场景。我们不需要接触数据库或设置服务器。通过一些简单的javascript，我们可以设置开发新功能所需的每一个场景，然后通过cypress，在我们的应用程序中与它进行交互，对浏览器中实际发生的事情有很好的可视性。很快，我停止打开chrome来测试我的工作，并且只使用Cypress进行开发。最后一个让我的工作流程发生如此巨大变化的工具是git。</p><p id="a827" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">让我们看看这在实践中是什么样子的。</p><pre class="jk jl jm jn fq lh li lj lk aw ll dt"><span id="4f56" class="lm ln hu li b fv lo lp l lq lr"><strong class="li hv">describe</strong>('User List', function() {<br/>  <strong class="li hv">describe</strong>('when there are users in selected group', function() {<br/>    <strong class="li hv">beforeEach</strong>(function() {<br/>      cy.server()<br/>        .route('/api/users?group_id=*', 'fixture:users')<br/>        .visit('/users');<br/>    });<br/>    <br/>    <strong class="li hv">it</strong>('should load the list page', function() {});  <br/>  });<br/>  <br/>  <strong class="li hv">describe</strong>('when there are no users in group', function() {<br/>    <strong class="li hv">beforeEach</strong>(function() {<br/>      cy.server()<br/>        .route('/api/users?group_id=*', [])<br/>        .visit('/users');<br/>    });<br/>    <br/>    <strong class="li hv">it</strong>('should load the empty page', function() {});<br/>  });<br/>});</span></pre><p id="9104" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在这个Cypress示例中，我们为不同的API结果设置了两个数据场景。在实践中，我们可能会将<code class="eh ls lt lu li b">describe.only</code>添加到一个场景中，这样我们就可以在那个环境中进行开发。运行“测试”后，Cypress是一个完全交互式的Chrome实例，带有控制台。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lv"><img src="../Images/727492a75267f768aa618583048be7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bj-tC-Tw603j5ZMT-GJMDw.png"/></div></div><figcaption class="lw lx fg fe ff ly lz bd b be z ek">The code example in Cypress. The left side is the interactive test results.</figcaption></figure></div><div class="ab cl ma mb hc mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hn ho hp hq hr"><p id="d9b2" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">虽然这并没有触及Cypress的承诺和潜力的表面，但如果这就是它所做的一切，那就足够了。在一月的第一周，我很高兴地宣布我们将推出我们的第一个主要功能，包括Cypress测试的各个方面。此外，我正在与木偶团队合作，可能用Cypress测试木偶，虽然它不是专门为测试库而设计的，但一切看起来都很有希望。我希望很快能分享更多我在这一路上学到的东西。</p><p id="ba61" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">Cypress应该在不久的将来公开，我相信我们很快就会质疑没有它我们是如何运作的。现在就加入吧，把Cypress和TDD作为你的新年决心。Cypress有一个活跃且不断发展的社区，虽然你不需要访问来运行cypress，但是在测试期间可以通过邀请来访问GUI。然而，获得访问是容易的；去他们的休息室问问就知道了。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mh mi l"/></div></figure><p id="6d97" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">相关链接:</strong></p><ul class=""><li id="0661" class="mj mk hu jx b jy jz kb kc ke ml ki mm km mn kq mo mp mq mr dt translated"><a class="ae kr" href="https://cypress.io" rel="noopener ugc nofollow" target="_blank"> https://cypress.io </a></li><li id="258f" class="mj mk hu jx b jy ms kb mt ke mu ki mv km mw kq mo mp mq mr dt translated"><a class="ae kr" href="https://gitter.im/cypress-io/cypress" rel="noopener ugc nofollow" target="_blank">https://gitter.im/cypress-io/cypress</a></li><li id="96f6" class="mj mk hu jx b jy ms kb mt ke mu ki mv km mw kq mo mp mq mr dt translated">【2015年11月柏树简报</li></ul><div class="jk jl jm jn fq ab cb"><figure class="mx jo my mz na nb nc paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mx jo my mz na nb nc paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mx jo my mz na nb nc paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="nd ne nf"><p id="f922" class="jv jw ng jx b jy jz iv ka kb kc iy kd nh kf kg kh ni kj kk kl nj kn ko kp kq hn dt translated"><a class="ae kr" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae kr" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kr" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jv jw ng jx b jy jz iv ka kb kc iy kd nh kf kg kh ni kj kk kl nj kn ko kp kq hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kr" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kr" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nk"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>