<html>
<head>
<title>Who said javascript was easy ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谁说javascript容易？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/who-said-javascript-easy-f4a1d5b399b8?source=collection_archive---------1-----------------------#2016-12-13">https://medium.com/hackernoon/who-said-javascript-easy-f4a1d5b399b8?source=collection_archive---------1-----------------------#2016-12-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="98db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里有一些javascript初学者应该知道的技巧和陷阱。如果你已经是一个专家了，请带着一种了解的表情阅读这篇文章。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/b814b1105751cae5313d4dfc7c15abef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*WC-PH1ivPs463Eoe4IENUw.jpeg"/></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">Javascript is just another programming language. What could possibly go wrong ?</figcaption></figure><h2 id="ebec" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">1.你尝试过对一组数字进行排序吗？</h2><p id="63bf" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">Javascript <code class="eh lc ld le lf b">sort()</code>默认使用字母数字排序。</p><p id="78ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以<code class="eh lc ld le lf b">[1,2,5,10].sort()</code>会输出<code class="eh lc ld le lf b">[1, 10, 2, 5].</code></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lg lh l"/></div></figure><p id="da74" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要正确排序数组，可以使用<code class="eh lc ld le lf b">[1,2,5,10].sort((a, b) =&gt; a — b)</code></p><p id="fc61" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简单的解决方案，前提是你首先知道有问题:)</p><h2 id="3e80" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">2.《新约会》真是太棒了</h2><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lg lh l"/></div></figure><p id="f52a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh lc ld le lf b">new Date()</code>能接受:</p><ul class=""><li id="884e" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">无参数:立即返回</li><li id="cff2" class="li lj hu it b iu lr iy ls jc lt jg lu jk lv jo ln lo lp lq dt translated">一个参数<code class="eh lc ld le lf b">x</code>:返回1970年1月1日+ x毫秒。Unix的人知道为什么。</li><li id="f416" class="li lj hu it b iu lr iy ls jc lt jg lu jk lv jo ln lo lp lq dt translated">new Date(1，1，1)得出1901年2月1日。因为你知道，第一个表示1900年后的第一年，第二个是一年中的第二个月(因此是二月)，正常人会从索引1开始索引一个表，第三个显然是一个月的第一天，所以是1，因为有时索引确实从1开始。</li><li id="b3fa" class="li lj hu it b iu lr iy ls jc lt jg lu jk lv jo ln lo lp lq dt translated">哦，还有新的日期(2016，1，1)不会把2016年加到1900年。它只代表2016年。</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/619a2248ed774234e22e988a08ed3f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*DWw9hINcdIdnnGsowQVB-w.jpeg"/></div></figure><h2 id="8118" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">3.替换不替换</h2><p id="8772" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我发现这是一件好事，因为我不喜欢改变输入的函数。你也应该知道<code class="eh lc ld le lf b">replace</code>只会替换第一个匹配:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="096e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您希望替换所有出现的内容，您可以使用带有<code class="eh lc ld le lf b">/g</code>的正则表达式:</p><pre class="jr js jt ju fq ly lf lz ma aw mb dt"><span id="7235" class="kc kd hu lf b fv mc md l me mf">"bob".replace(/b/g, 'l') === 'lol' // replace all occurences</span></pre><h2 id="9a8c" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">4.小心比较</h2><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="2b83" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">原因:[1，2，3]和[1，2，3]是两个独立的数组。它们只是碰巧包含相同的值。它们具有不同的引用，无法与<code class="eh lc ld le lf b">===</code>进行比较</p><h2 id="6752" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">5.数组不是基元类型</h2><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="fea6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要知道你的var是不是数组，还是可以用<code class="eh lc ld le lf b">Array.isArray(myVar)</code></p><h2 id="185b" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">6.关闭</h2><p id="6a80" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">这是一个众所周知的javascript面试问题:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="fe06" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你期望它输出0，1，2…？你知道为什么没有吗？你会怎么解决？</p><p id="194a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们提一下这个问题的两个可能的解决方案:</p><ul class=""><li id="2a08" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">用<code class="eh lc ld le lf b">let</code>代替<code class="eh lc ld le lf b">var</code>。嘣。解决了。</li></ul><blockquote class="mg mh mi"><p id="ef74" class="ir is mj it b iu iv iw ix iy iz ja jb mk jd je jf ml jh ji jj mm jl jm jn jo hn dt translated">“let和var之间的区别在于作用域。<code class="eh lc ld le lf b">var</code>的作用域是最近的函数块，<code class="eh lc ld le lf b">let</code>的作用域是最近的包围的<em class="hu">块(如果在任何块之外，两者都是全局的)，它可以小于函数块。(<a class="ae jp" href="http://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var-to-declare-a-variable" rel="noopener ugc nofollow" target="_blank">源</a> e)</em></p></blockquote><ul class=""><li id="ab18" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">替代方案:使用<code class="eh lc ld le lf b">bind:</code></li></ul><pre class="jr js jt ju fq ly lf lz ma aw mb dt"><span id="d42e" class="kc kd hu lf b fv mc md l me mf">Greeters.push(console.log.bind(null, i))</span></pre><p id="e382" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有很多其他方法可以做到这一点。这些只是我的前2个选择:)</p><h2 id="1788" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">7.说到bind</h2><p id="46ff" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">你认为这会输出什么？</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="77db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你认为这将与<code class="eh lc ld le lf b">Cannot read property 'name' of undefined</code>发生冲突，给你一分</p><p id="629d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">原因:<code class="eh lc ld le lf b">greet</code>没有在适当的环境下运行。还是那句话，有很多方法可以解决这个问题。</p><ul class=""><li id="41b6" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">我个人喜欢</li></ul><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="3ba2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种方式可以确保使用您的类实例作为上下文来调用<code class="eh lc ld le lf b">greet</code>。</p><ul class=""><li id="ab15" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">如果您觉得<code class="eh lc ld le lf b">greet</code>永远不应该脱离上下文，您也可以将它绑定到您的类构造函数中:</li></ul><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><ul class=""><li id="e429" class="li lj hu it b iu iv iy iz jc lk jg ll jk lm jo ln lo lp lq dt translated">你也应该知道粗箭头(<code class="eh lc ld le lf b">=&gt;</code>)可以用来保留上下文。这也是可行的:</li></ul><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lx lh l"/></div></figure><p id="0811" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管我发现最后一个例子在我们的例子中不够优雅。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/722ed511f3b8d2405507b1cbecf02d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*xq8btqt6UqtGmqc4dQyQ4A.jpeg"/></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">I’m glad we fixed this</figcaption></figure><h2 id="5b1f" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">结论</h2><p id="33a6" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">恭喜，你现在可以把东西放到网上了。大概吧。甚至可能不破坏任何东西(尽管通常是这样)。干杯\o/</p><p id="2238" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果有什么我应该提到的，请告诉我！</p><div class="jr js jt ju fq ab cb"><figure class="mo jv mp mq mr ms mt paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mo jv mp mq mr ms mt paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mo jv mp mq mr ms mt paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mg mh mi"><p id="f922" class="ir is mj it b iu iv iw ix iy iz ja jb mk jd je jf ml jh ji jj mm jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是AMI家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mj it b iu iv iw ix iy iz ja jb mk jd je jf ml jh ji jj mm jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="fe ff mu"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mz lh l"/></div></figure></div></div>    
</body>
</html>