<html>
<head>
<title>Why does this site require JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么这个网站需要JavaScript？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-does-this-site-require-javascript-d7dc4dfb1118?source=collection_archive---------11-----------------------#2017-06-22">https://medium.com/hackernoon/why-does-this-site-require-javascript-d7dc4dfb1118?source=collection_archive---------11-----------------------#2017-06-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="1bf4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我在黑客新闻论坛上经常看到的问题。每当有人发布一个在React/Angular/Vue中实现的Show HN站点，这个问题就会出现在评论的顶部。</p><p id="f11e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以，我想我应该坐下来反思我自己的项目——现在的和过去的——并尝试回答这个问题。</p><h2 id="a97d" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">JavaScript正在毁灭网络</h2><p id="a577" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">先说清楚。一般来说，我不喜欢JS多的网站。</p><p id="d9f4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">举个例子，黑客新闻UX比红迪网UX好得多——尤其是在手机上。Reddit加载时间太长。HN几乎立即加载。在移动Reddit中点击一个链接或后退按钮绝对会<strong class="it hv">*无所事事* </strong>几秒钟，这是一个常见的混乱来源。在HN，链接和反向导航可以立即工作，因为它们是简单的超级链接。</p><p id="f4b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Reddit做了很多我根本不在乎的事情。边栏里有很多乱七八糟的东西，我从来不看也不关心。我认为它有对我的帖子或诸如此类的回复的实时通知。(根据我的经验，实时更新功能几乎不需要。)Reddit可能是一个非常基本的分类、可搜索的论坛网站，以传统MPA的形式编写,(对我来说)这将是一个巨大的进步。</p><p id="0de0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总的来说，我不希望你的网站“实时更新”我。我不想让gmail实时更新我的信息。我不想你的新闻网站实时更新我。我不想要你愚蠢的弹出窗口或滑动通知。我不想要你的动画。除了以清晰、易读、不分散注意力的格式显示的内容，我不想要任何东西。</p><p id="5f80" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总的来说，我更喜欢基本的HTML和CSS网站。水疗网站通常很慢，占用资源，导航中断，移动失败，很垃圾。如果你的网站仅仅是基本的HTML + CSS，就很难产生这样的垃圾。普通的HTML和CSS是可缓存的。它的行为在其他普通的HTML/CSS站点中是可预测的(ish)和一致的(ish)。它在所有设备上都很快。它的行为符合预期。右键点击一个网址就可以了。</p><p id="c8bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而……</p><h2 id="d74b" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">我的网站都是JS重</h2><p id="0fb3" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">WTF？！你说我是个伪君子。</p><p id="68e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是啊。</p><p id="19ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是为什么呢？</p><p id="62d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是我在过去几年中编写的一些程序:网络研讨会、实时聊天、实时通知、论坛、带条件实时更新区域的复杂表单、丰富的站点编辑器、大量就地修改并需要保留订单/过滤状态的列表页面、丰富的医疗调查构建器、近实时控制货运码头的事件驱动系统(摄像系统、门禁、RFID传感器、OCR摄像系统、数字标牌)等等…</p><p id="6a0f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望你会同意这个列表中的大部分证明了使用丰富的前端框架是正确的，所以也许我可以通过？也就是说，让我们看看JS是如何进入一个更简单的站点的。</p><h2 id="f3f1" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">JavaScript如何潜入简单网站的悲惨故事</h2><p id="07be" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">我的大多数应用程序开始时都相对简单。在没有任何真正的前端架构的情况下启动它们是很诱人的(我经常会屈服于这种诱惑)。但是随着时间的推移，它们的复杂性会增加。这个简单的表单现在有一个根据用户输入有条件地显示/隐藏的部分。哦，底部的价格列表应该根据他们在字段5中的输入实时更新，等等。每一个看似简单的屏幕都会随着时间变得复杂。随着他们的复杂性增加，我开始希望我有更好的方法来管理前端复杂性，并且我开始后悔没有从一个可靠的前端架构开始。</p><p id="5c31" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里有一个真实的例子。我的一个项目有一个屏幕，主要涉及静态内容(一节课)，在底部有一个讨论线程，供学生和教师使用。</p><p id="5fd1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">库洛。</p><p id="14f7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这可以通过传统的网络方式完成，在提交评论时需要一个完整的往返行程。</p><p id="7cfd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是这样你可能会失去你的滚动位置，如果屏幕上还包括一个部分填写的测验，你会在发表评论时失去你的测验状态。好的，我们可以在这里加入一点AJAX。不需要激烈的反应或类似的事情。问题解决了。</p><p id="0dca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，客户希望在评论部分的顶部显示评论的数量和独特讨论参与者的数量。没问题。我们可以把它放进去。只是多了几个选择器。问题解决了。</p><p id="0bcb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，客户希望讨论能够随着人们的聊天而实时更新。嗯。嗯，我们仍然可以这样做，但现在我们的前端逻辑变得混乱。它在后端通过<a class="ae kq" href="https://hackernoon.com/tagged/rails" rel="noopener ugc nofollow" target="_blank"> Rails </a>呈现，但在前端实时更新，所以它需要获取HTML片段并把它们放在正确的位置……混乱随之而来。好了，让我们把底部的讨论区变成一个迷你版或者Vue应用程序什么的。问题解决了。</p><p id="74ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，客户希望讨论统计也显示在页面的顶部，在课程内容的上面。好吧，废话。这意味着更新页面中不属于React的部分。现在，我们是否应该将课程内容移到React组件中？我们应该通过DOM选择器来更新讨论统计数据吗？呃…对所有的事情做出反应！</p><h2 id="9a54" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">一种统治他们的方法</h2><p id="bfb0" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">用一种方法做UI比用多种方法要好。有些UI是从后端提供的，有些是在前端生成的，这很快就会变得一团糟。将所有的<em class="kp">UI都放在后端会限制复杂的应用程序。将所有UI移到前端允许您处理任何数量的不断增长的复杂性，同时仍然有一种方法来编写UI。</em></p><h2 id="23cb" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">React是一种优于大多数后端替代方案的开发体验</h2><p id="8bad" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">前面的原因就是为什么我认为JS会渗透到我参与的大多数项目中。但是在我目前的项目中，还有另一个原因。我发现React为构建ui提供了一种最令人愉快的方式。如果后端是用Clojure这样的函数式语言编写的，事情可能会有所不同。但我目前的项目是Rails。</p><p id="92f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是我更喜欢React而不是erb/Rails的一些原因:</p><p id="9318" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">-函数比部分更好<br/> -函数比块更好<br/> -显式导入比隐式导入更好<br/> - MVC控制器将多个独立的动作(例如索引、显示、更新)完成到一个地方<br/> -传统的MVC应用程序完成数据验证、操作和存储，并考虑到UI问题<br/> -不变性很容易推理，并且不是Ruby/Rails真正鼓励的，但是<em class="kp">在很大程度上受到React最佳实践的鼓励</em></p><h2 id="9e8b" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">API和UI的分离很好</h2><p id="dcce" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">我在上面暗示过这一点，但它有自己的部分。编写简单的后端API，然后将UI留给(各种)前端，这样可以很好地分离关注点。它还给你一个API，这本身就是一个好处。如果你愿意，你可以选择向外界公开这件事。可以写一个原生的手机app。如果您的应用程序是以这种方式构建的，有很多事情会变得简单得多。</p><h2 id="b86a" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">结论</h2><p id="17be" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">为什么这个网站需要<a class="ae kq" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>？原因有很多。按理说，不应该。可以说，团队应该更有力地对那些不能增强UX的复杂特性说“不”。</p><p id="ad9a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但即便如此，有些应用程序还是很复杂。对于普通消费者来说，这种复杂性通常并不明显。前端框架有助于降低前端复杂性。(咄！)此外，一些后端技术很糟糕，这种糟糕可以通过将前端技术转移到不那么糟糕的技术来减轻，而不需要重写整个应用程序。</p><p id="90ba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以下次你开始批评一个需要JavaScript的网站时，希望你会停下来想，“你知道，这可能不像我想的那样黑白分明。”</p><blockquote class="kr ks kt"><p id="0ad7" class="ir is kp it b iu iv iw ix iy iz ja jb ku jd je jf kv jh ji jj kw jl jm jn jo hn dt translated"><a class="ae kq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是这个家庭的一员。我们现在<a class="ae kq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is kp it b iu iv iw ix iy iz ja jb ku jd je jf kv jh ji jj kw jl jm jn jo hn dt translated">要了解更多信息，<a class="ae kq" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">请阅读我们的“关于”页面</a> , <a class="ae kq" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">喜欢/在脸书给我们发消息</a>，或者简单地，<a class="ae kq" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank">发推文/DM @HackerNoon。</a></p><p id="708a" class="ir is kp it b iu iv iw ix iy iz ja jb ku jd je jf kv jh ji jj kw jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div></figure></div></div>    
</body>
</html>