<html>
<head>
<title>Edgy corners of AngularJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">棱角分明的角落</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/edgy-corners-of-angularjs-f61e5bb295cc?source=collection_archive---------0-----------------------#2016-05-17">https://medium.com/hackernoon/edgy-corners-of-angularjs-f61e5bb295cc?source=collection_archive---------0-----------------------#2016-05-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/269490e286519c83caf4536d04d5459f.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*8vuBatG5Saxk7QO3NQtzVw.png"/></div></figure><p id="092c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">确切地说，对于1.x版本，我不是在这里歌颂BackboneJs或KnockoutJs，我也不想在它们之间进行比较，但在使用它大约两年后，有时我想我希望有人应该事先告诉我这个尖锐的角落。</p><h1 id="87a9" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated"><strong class="ak">著名的AngularJs学习曲线</strong></h1><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff ku"><img src="../Images/63d72012ea4467d62c29cdffa8e1f266.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*uZ2ljdD_1znAZaFEdaEL1A.png"/></div></figure><p id="a8d3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我和我的许多<a class="ae kz" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>开发者朋友都经历过这种情况。有几次，我们以为我们几乎知道它是如何工作的，而第二天，砰！一些新的东西出现了，我们去了WTF！我们从来没想过。</p><h1 id="e412" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">1.双向数据绑定</h1><p id="082a" class="pw-post-body-paragraph iy iz hu ja b jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv hn dt translated"><strong class="ja hv">意思是:</strong></p><ol class=""><li id="a383" class="lf lg hu ja b jb jc jf jg jj lh jn li jr lj jv lk ll lm ln dt translated">当模型中的属性更新时，UI也会更新。</li><li id="c287" class="lf lg hu ja b jb lo jf lp jj lq jn lr jr ls jv lk ll lm ln dt translated">当UI元素得到更新时，更改会传播回模型。</li></ol><p id="4138" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">许多开发人员没有意识到的是，仅仅因为它看起来很酷，给人一种<em class="lt">哇！</em>对您应用程序的影响并不意味着您需要双向数据绑定，它的成本非常高，因为这是通过<em class="lt">脏检查</em>和<em class="lt">摘要周期</em>实现的。</p><p id="a5f0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">脏检查:</strong></p><p id="52ac" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在每个浏览器事件上运行一个摘要循环，从字面上评估应用程序中的每个表达式(真的！)并且如果它发现该表达式的值已经改变，它更新表达式的值。所有这些都发生在眨眼之间，所以你不会真的看到浏览器延迟，但当当前DOM结构上的表达式达到2000时，你就能看到问题了。</p><p id="fb99" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="f8eb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">几个月前，Google发布了AngualrJs 1.5.x，它具有单向数据绑定特性，可以帮助最小化这个问题</p><p id="4980" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">消化周期:</strong></p><p id="dbd9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们已经讨论了digest cycle的问题，但是我所面临的最大问题之一是，当一些东西在AngualrJs的范围之外发生变化时，我们必须手动调用一个低级API $scope。$apply()同时，如果Anguar已经自动启动了“已经在进行中”的摘要循环，将会弹出一个错误，它会让你崩溃！</p><p id="f28e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="fc6c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">尚未找到。</p><h1 id="c154" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">2.依赖注入</h1><p id="5258" class="pw-post-body-paragraph iy iz hu ja b jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv hn dt translated">在中，角度依赖项是通过参数的名称注入的。</p><pre class="kv kw kx ky fq lu lv lw lx aw ly dt"><span id="9f67" class="lz jx hu lv b fv ma mb l mc md">function MyController($scope, $window) { // … }</span></pre><p id="c4eb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这里角称<em class="lt">。toString()，</em>获取参数的名称，然后在包含所有现有依赖项的列表中查找它们。</p><p id="d0c1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">看不出问题吗？</p><ol class=""><li id="ecaa" class="lf lg hu ja b jb jc jf jg jj lh jn li jr lj jv lk ll lm ln dt translated">尝试缩小您的代码，它将停止工作。</li><li id="d46c" class="lf lg hu ja b jb lo jf lp jj lq jn lr jr ls jv lk ll lm ln dt translated">即使您偶然错过了一个依赖项，AngularJs也不会运行，您会在屏幕前看到一个空白页。</li><li id="c0c1" class="lf lg hu ja b jb lo jf lp jj lq jn lr jr ls jv lk ll lm ln dt translated">忘记惰性加载，你必须在调用angular.bootstrap之前加载所有的依赖项。</li></ol><p id="50b0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="0c7a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您可以使用以下语法…</p><pre class="kv kw kx ky fq lu lv lw lx aw ly dt"><span id="f891" class="lz jx hu lv b fv ma mb l mc md">someModule.controller(‘MyController’, [‘$scope’, function($scope) { }]);</span></pre><p id="caf5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">或者这个</p><pre class="kv kw kx ky fq lu lv lw lx aw ly dt"><span id="227b" class="lz jx hu lv b fv ma mb l mc md">MyController.$inject = [‘$scope’, ‘$document’];</span></pre><p id="6151" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">或者使用类似<a class="ae kz" href="https://github.com/mgol/grunt-ng-annotate" rel="noopener ugc nofollow" target="_blank"> <em class="lt"> ng-annotate </em> </a>的插件。</p><h1 id="2e78" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">3.排除故障</h1><p id="bfe7" class="pw-post-body-paragraph iy iz hu ja b jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv hn dt translated">JavaScript中的调试有时令人头疼，但AngularJs让它变得更加困难，</p><pre class="kv kw kx ky fq lu lv lw lx aw ly dt"><span id="f650" class="lz jx hu lv b fv ma mb l mc md">&lt;div ng-repeat=”user in users”&gt; {{ user }} &lt;/div&gt;</span></pre><p id="d972" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果在这个绑定中有任何错误，而不是在控制台中显示，元素不会被添加到DOM中，因为绑定中的<strong class="ja hv">错误根本不会触发</strong>，因为JavaScript中发生的错误被内部角度拦截器捕获，并且<strong class="ja hv">被浏览器解释为捕获的错误！哼！</strong></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff me"><img src="../Images/c13ec279abcfedc2d616d2d8880bc0af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F0eHfFLyVseGagF7QomnwA.gif"/></div></div></figure><p id="3744" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="603e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">尚未找到。</p><h1 id="f58b" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">4.指令和所有不必要的复杂性</h1><p id="e236" class="pw-post-body-paragraph iy iz hu ja b jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv hn dt translated"><strong class="ja hv">指令:</strong></p><p id="4ff1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">每个人都为他们疯狂，人们只是因为某些原因崇拜他们！但是我很务实，这里是<a class="ae kz" href="https://docs.angularjs.org/api/ng/service/$compile#!" rel="noopener ugc nofollow" target="_blank">指令声明</a>的完整语法。要理解这个语法以及为什么需要它，真的要花很多时间。不是写做什么，而是想怎么做。可悲的是，复杂性是无用的。没有逻辑上的理由将3个方法的逻辑分开(<em class="lt">编译</em>、<em class="lt">链接</em>、<em class="lt">控制器</em>)，所有这些都可以很容易地在一个方法中实现。还要考虑到有些函数得到作用域，有些没有，有些只执行一次，有些每次都用$digest循环，而且每个指令也有优先级。即使为了在angular世界中集成一些代码，您也需要将其包装在一个指令中。现在不要误解我，一旦你掌握了它们，它们是有史以来最棒的东西，但是框架应该让开发者的生活变得简单而不是复杂。</p><p id="788f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="369b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">努力练习和学习它们，期待它会有回报。</p><p id="6af3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">无法进行服务器端渲染:</strong></p><p id="4f5c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你试图使用服务器端渲染，例如为了加速页面渲染，或者为了SEO(或者两者都是)，那么你会失望的！</p><p id="33b9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="lt">解决方案:</em></p><p id="ba86" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您将需要使用prerender.io(该服务解析您的部分内容，并为您提供应该提供给爬虫的HTML文件)。但是，啊——这是一个黑客，而不是问题的解决方案！</p><p id="0924" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">做同一件事的方法太多:</strong></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/40d26a6df767e5a3fc31eb6cca20abd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*kGtE9etQTsGJ6hWzFjNwkw.gif"/></div></figure><p id="1324" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">Angular提供了很多方法来做同样的事情，比如不同种类的服务(工厂、服务、提供商)。还有几种使用指令的方法(元素、属性、注释、相同范围、无范围、隔离范围)，以及几种使用控制器的方法。</p><p id="a279" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所有这些都增加了复杂性、新开发人员的学习曲线、缺乏约定以及缺乏最佳实践来实施。这对angular周围的生态系统，无论是用户开发者还是库开发者，都是不利的。</p><h1 id="c9e1" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">5.路由器:</h1><p id="1c2d" class="pw-post-body-paragraph iy iz hu ja b jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv hn dt translated">AngularJs使用ng-router进行路由，正如你可能知道的那样，它使用起来相当简单，但它缺乏基本功能(嵌套视图和状态)，因此，为此你需要使用<a class="ae kz" href="https://github.com/angular-ui/ui-router" rel="noopener ugc nofollow" target="_blank"> Angular-ui </a> router，它非常完美，我已经在许多项目中使用过它，但开始使用它非常困难，有时你需要使用其他库来使用Angular ui router。</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/1f2cd4ba36af984d4ff6f220d2439b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/1*3JG1C9l8hSNRArtRihStmQ.gif"/></div></figure><p id="205d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">让我们搞清楚，你正在使用AngularJs来解决你的问题，你现在正在使用ui路由器来解决路由问题，并且使用其他第三方(或第四方)库来与Angular ui路由器(pheww)一起工作..</p><p id="a12b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，我知道AngularJs如何没有被设计成今天的样子，它已经有机地成长起来，但这些都是一些早就应该解决的粗糙边缘。</p><p id="11f8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在不要误解我，我喜欢AngularJs，我仍然推荐给那些应用程序架构需要它的人。我已经开始在Angular 2.0中制作小应用程序，这些问题大部分都不存在，所以如果你是Angular新手或者还没有开始开发，你可以使用1.5.x版本或2.0版本(显然在稳定发布后！)</p><p id="8a5a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">感谢阅读。我们非常感谢您的反馈和意见。</p><p id="623e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">干杯，</p><p id="2d76" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">沙希瓦特</p><div class="kv kw kx ky fq ab cb"><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mr ms mt"><p id="f922" class="iy iz lt ja b jb jc jd je jf jg jh ji mu jk jl jm mv jo jp jq mw js jt ju jv hn dt translated"><a class="ae kz" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kz" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kz" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kz" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="iy iz lt ja b jb jc jd je jf jg jh ji mu jk jl jm mv jo jp jq mw js jt ju jv hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kz" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kz" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kv kw kx ky fq iv fe ff paragraph-image"><a href="https://goo.gl/Ahtev1"><div class="fe ff mx"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></a></figure><figure class="kv kw kx ky fq iv"><div class="bz el l di"><div class="my mz l"/></div></figure></div></div>    
</body>
</html>