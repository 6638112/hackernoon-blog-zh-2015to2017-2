<html>
<head>
<title>Guide to Migrate From EC2 to Droplets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从EC2迁移到液滴的指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/guide-to-migrate-from-ec2-to-droplets-ec29337e7616?source=collection_archive---------14-----------------------#2017-02-06">https://medium.com/hackernoon/guide-to-migrate-from-ec2-to-droplets-ec29337e7616?source=collection_archive---------14-----------------------#2017-02-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/bcd39c0f9deee1e64a1d8d96c1e4edd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*40YJskhG0AD297OQTMibKg.png"/></div></figure><p id="ca93" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jw">注意:本文不是要比较亚马逊EC2和DigitalOcean Droplet。这就是为什么我决定改变，这是多么容易。</em></p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><p id="d510" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">嘿，伙计们！我梦想自己成为一名软件工程师，热爱软件设计和开发，为人类创造有用的东西。开发一个软件不仅包括编程，还包括部署它(在本文中假设它是一个<em class="jw">网络应用</em>)，使其可以通过互联网随时随地轻松访问。这种部署工作显然需要一台服务器来托管站点，并且<em class="jw">对其进行适当的配置</em>，以便为用户发起的呼叫提供服务。在人机交互的背后，服务器上有很多模糊的东西。静态网站，就像投资组合网站一样，只是为了显示信息而构建的，易于托管，通常不需要专用的服务器。市场上有很多好的选择，比如Github的免费主机，操作方便，最近非常流行。<br/>当需要处理用户输入、保存数据并从数据库中检索数据，或者执行一些计算工作时，服务器是必不可少的。下面是简约的软件生命周期图。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff ke"><img src="../Images/4fc2d3cc18b10c025c3a4492af6c6d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*2-PLlAPVzLg5TyzyUbsZ4g.png"/></div></figure></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><p id="53c4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这篇文章很长，因为它实际上解释了从一个服务器转移到另一个服务器的一步一步的过程。你为什么不喝杯咖啡来欣赏表演呢？</p><p id="f5eb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">时光倒流，我开发了两个背对背的web应用，正式命名为<a class="ae kj" href="http://json2html.varunmalhotra.xyz" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv"><em class="jw">JSON 2 html</em></strong></a>和<a class="ae kj" href="http://translatr.varunmalhotra.xyz" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv"><em class="jw">translator</em></strong></a>。[ <em class="jw">点击姓名查看现场演示</em></p><p id="a6d1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">Json2Html 有助于将Json结构转换成定义良好的表格结构，而<a class="ae kj" href="http://translatr.varunmalhotra.xyz" rel="noopener ugc nofollow" target="_blank">translator</a>则试图帮助(多语言)读者将文本或段落一次翻译成多种语言。请给这两个应用一个机会，并提供一些反馈。谢谢大家！🙏</p><p id="797f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我选择Python作为这两个应用的编程语言，只是因为我更喜欢它的易用性。一旦应用程序被编程并准备好公开发布，就到了部署它们的时候了。由于这是我第一次部署一些真正的东西，我选择了<em class="jw"> H </em> <a class="ae kj" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> <em class="jw"> eroku </em> </a>，它提供了一个丰富的预集成扩展和服务的生态系统，可以用很少的配置大规模部署优秀的应用程序。但是我一点也不开心。我观察到<em class="jw"> Heroukuapp </em>到<em class="jw"> </em>比较慢<em class="jw"> </em>加上我总是喜欢事情以我自己的方式管理。此外，我认为<em class="jw">尝试事情</em>而不是用现成的解决方案完成事情，在任何领域都是一种很好的自学经历。我通常通过自己动手来学习技术。实践经验是知识的宝库。<br/>不久之后，我选择了亚马逊Ec2，原因很明显。</p><blockquote class="kk"><p id="f773" class="kl km hu bd kn ko kp kq kr ks kt jv ek translated"><strong class="ak">亚马逊</strong>弹性计算云(<strong class="ak">亚马逊EC2 </strong>)是一种在云中提供可调整计算能力的web服务。它旨在使开发人员更容易进行网络规模的云计算。亚马逊EC2的简单网络服务接口允许你以最小的摩擦获得和配置容量。</p></blockquote><p id="4665" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated">它是市场上非常受欢迎的云托管提供商，是一家可靠、安全、完全可控且易于上手的提供商。此外，它还为初学者提供了为期一年的免费层计划，以获得AWS云服务的实践经验。谁不喜欢如此自由地玩耍呢？😎</p><p id="bca3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以，我浏览了相关的<a class="ae kj" href="https://aws.amazon.com/documentation/ec2/" rel="noopener ugc nofollow" target="_blank"> AWS亚马逊在线文档</a>，必须承认文档的质量非常非常令人印象深刻。它们以一种组织良好的方式编写，准确地涵盖了用户真正想要的内容。我认为亚马逊在这里也使用了机器学习。😜</p><p id="cd10" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我的EC2 t2.micro实例在经历了大量的配置工作之后，已经准备好进行统治了。这个服务员是个菜鸟，很好地服从了我的命令，并为观众服务。这是一个令人欣慰的时刻。</p><p id="dfe4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">啊！时间正好在一年后，提醒我免费等级计划的到期。我开始收到电子邮件来支付额外一个月的账单。成本，正如它所显示的，大约是22美元/月。我不敢相信我的个人投资组合兼博客网站，仅仅运行两个python应用程序就能赚这么多钱。我完全被弄糊涂了，但是当下一封邮件到达我的收件箱时，它清楚地指示我支付下个月的账单，预计大约是25美元，否则该实例将被强制关闭；我决定寻找其他选择。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff kz"><img src="../Images/ea1e44d146e43ed43851612fd111dd61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vgRUqOibK8e0yOo5LtYEdg.png"/></div></div></figure><p id="aab9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">一时间，我无法理解自己所处的困境；我是否应该开始从有机交通中获得真正的价值，这可以从我的裤子中节省几美元，或者我应该首先准备好自己切换到一些较低范围的选项，然后再考虑货币化。</p><p id="b89f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这让我很难明智地思考。最后，在与我的同事研究和讨论之后，我认为DigitalOcean最适合我的个人需求。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="164a" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">数字海洋设置</h1><blockquote class="kk"><p id="2e50" class="kl km hu bd kn ko kp kq kr ks kt jv ek translated">DigitalOcean是一个为开发者打造的简单云托管提供商。每一滴旋转起来的水滴都是我们个人使用的新VPS。在一个易于使用的控制面板中，只需55秒就可以非常轻松地部署超快的固态硬盘云服务器。计划起价为每月5美元，包括512MB内存、20GB固态硬盘和1TB传输容量。</p></blockquote><p id="579b" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated">的确是笔好买卖。</p><p id="cc31" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我立即注册了一个新账户。在输入账单信息之前，检查这些<a class="ae kj" href="http://www.newcoupons.info/digitalocean-coupon-codes/" rel="noopener ugc nofollow" target="_blank">促销代码</a>，以获得一些<em class="jw">优惠</em> <a class="ae kj" href="https://m.do.co/c/b9b0f1f34c56" rel="noopener ugc nofollow" target="_blank"> <em class="jw">折扣</em> </a>。使用<a class="ae kj" href="https://m.do.co/c/b9b0f1f34c56" rel="noopener ugc nofollow" target="_blank">此链接</a>获得10美元的统一折扣。一旦帐户被创建，验证和计费信息被提供，我继续创建一个新的droplet。</p><blockquote class="mc md me"><p id="4b08" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第一步:选择图像</strong></p></blockquote><p id="d305" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我考虑使用Ubuntu 14.04  ，因为我对这个操作系统更熟悉。此外，大多数数字海洋博客都只考虑了这个操作系统。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mi"><img src="../Images/be0dc7554ad248084903870af17bb38f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wxLs3cY9MA9ppl_3IiiKfw.png"/></div></div></figure><blockquote class="mc md me"><p id="3bae" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第二步:选择液滴尺寸</strong></p></blockquote><p id="a1c6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我选择了<strong class="ja hv"><em class="jw">【5美元】计划</em> </strong>，因为它以较小的成本获得了明显的收益。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mj"><img src="../Images/750d97eeda30829383e25fbdecdfcec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1OjIEolcGwyd1WMbvnqNA.png"/></div></div></figure><blockquote class="mc md me"><p id="3236" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第三步:选择数据中心</strong></p></blockquote><p id="8330" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我选择<strong class="ja hv"> <em class="jw">纽约3 </em> </strong>是基于我的网站流量历史。我浏览了与我的网站相关的谷歌分析账户，发现大多数访问者来自美国。因此，最好选择离大多数访问者的地理位置最近的数据中心，以享受减少延迟的好处。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mj"><img src="../Images/9f804507f8ca198562e8a7bb8d8c5c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SiRHGiL2u1qzhB4z7C8pg.png"/></div></div></figure><blockquote class="mc md me"><p id="1754" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第四步:其他信息</strong></p></blockquote><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mk"><img src="../Images/159b80f7238df20b7bba97932e8ecb51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6zKVSyq4cbzR7bsHhjqHQ.png"/></div></div></figure><p id="d06d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我为droplet创建了一个新的ssh密钥。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="a726" class="mq lf hu mm b fv mr ms l mt mu">cd ~/.ssh<br/>ssh-keygen -t rsa -f ubuntu_512mb_nyc3_01 -C “<a class="ae kj" href="mailto:varun2902@gmail.com" rel="noopener ugc nofollow" target="_blank">myemail@gmail.com</a>”<br/>ssh-add ~/.ssh/ubuntu_512mb_nyc3_01<br/>cat ubuntu_512mb_nyc3_01.pub</span></pre><p id="8d91" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我复制并粘贴了下面方框中的内容。SSH密钥非常隐私，所以请不要公开分享或发布。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/498eb10a716344c8c353132c01a1fadc.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*yepT_3vlvCFNZZEemv3HZg.png"/></div></figure><blockquote class="mc md me"><p id="b630" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated">第五步:完成了！</p></blockquote><p id="7617" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我点击<em class="jw">创建</em>按钮，瞧！我有自己的服务器，上面安装了我喜欢的操作系统。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="e481" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">添加域</h1><p id="f728" class="pw-post-body-paragraph iy iz hu ja b jb mw jd je jf mx jh ji jj my jl jm jn mz jp jq jr na jt ju jv hn dt translated">现在，将服务器的IP指向域名。我输入了我的个人网站URL，开始在我新创建的DigitalOcean帐户中管理我的DNS。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff nb"><img src="../Images/3fc05e4bbe5c4117ca3e5bc2ac353b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1zJ7vRxvp9AeHoaxFP7G_A.png"/></div></div></figure><p id="6724" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">要创建新的主机名，我只需要填写A记录。如果您使用IPv6地址，您应该将其输入到AAAA记录中。</p><p id="2294" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> A记录</strong>:我输入了我的服务器的IP地址和主机名本身。主机名将被添加到域名的前面。我的屏幕看起来像这样:</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff mj"><img src="../Images/5cabbb1ed767509924a740eff9384704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*igfEawOuReiPqz0RWqNR_Q.png"/></div></div></figure><p id="06fd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">详细阅读<a class="ae kj" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-host-name-with-digitalocean" rel="noopener ugc nofollow" target="_blank">数字海洋博客</a>。</p><h2 id="55ba" class="mq lf hu bd lg nc nd ne lk nf ng nh lo jj ni nj ls jn nk nl lw jr nm nn ma no dt translated">指向通用域名注册商的数字海洋域名服务器</h2><p id="39cd" class="pw-post-body-paragraph iy iz hu ja b jb mw jd je jf mx jh ji jj my jl jm jn mz jp jq jr na jt ju jv hn dt translated">我使用Namecheap作为我的默认注册商。简直太棒了。我通过改变域名注册商的域名服务器，将我的域名绑定到其中一个水滴上。<br/>详细阅读<a class="ae kj" href="https://www.digitalocean.com/community/tutorials/how-to-point-to-digitalocean-nameservers-from-common-domain-registrars" rel="noopener ugc nofollow" target="_blank">数字海洋博客</a>。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="6e11" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">安装apache并启动和运行静态站点</h1><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff np"><img src="../Images/a55a2357c87109e17bab9eb17b596a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*QdGgN8x-PSih9WLY8i7vMw.png"/></div></figure><p id="e1e5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我通常更喜欢Apache而不是Nginx，因为我已经使用它很长时间了，而且我不太习惯Nginx。Apache是一个免费的开源软件，运行在世界上超过50%的网络服务器上。Apache web服务器是在互联网上提供web内容的最流行的方式。</p><p id="2dd9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为了安装apache，我使用ssh连接到我的服务器。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="4ca4" class="mq lf hu mm b fv mr ms l mt mu">ssh root@12.34.56.789</span></pre><p id="47d9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">并通过以下命令安装了apache。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="a451" class="mq lf hu mm b fv mr ms l mt mu">sudo apt-get update<br/>sudo apt-get install apache2</span></pre><p id="ae57" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">就是这样。要检查是否安装了Apache，请将浏览器指向服务器的IP地址(例如<a class="ae kj" href="http://12.34.56.789)." rel="noopener ugc nofollow" target="_blank"> http://12.34.56.789)。页面应该显示“它工作了！”像</a><a class="ae kj" href="https://assets.digitalocean.com/tutorial_images/333VJ.png" rel="noopener ugc nofollow" target="_blank">这个</a>。</p><p id="848a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">如何找到您的服务器的IP地址</strong></p><p id="efdb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">以下命令有助于揭示服务器的IP地址。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="0b94" class="mq lf hu mm b fv mr ms l mt mu">ifconfig eth0 | grep inet | awk '{ print $2 }'</span></pre></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="b742" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">安全地将文件从服务器传输到远程设备，反之亦然</h1><p id="f228" class="pw-post-body-paragraph iy iz hu ja b jb mw jd je jf mx jh ji jj my jl jm jn mz jp jq jr na jt ju jv hn dt translated">我使用sftp在远程服务器和本地服务器之间传输文件。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff nq"><img src="../Images/23eaaae5d35ab5c9be8ca7db07a90d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*ZvklCXr7Z-4hG4e4EglA9A.png"/></div></figure><blockquote class="kk"><p id="8187" class="kl km hu bd kn ko nr ns nt nu nv jv ek translated">SFTP，代表SSH文件传输协议或安全文件传输协议，是一个与SSH打包在一起的独立协议，在安全连接上以类似的方式工作。其优点是能够利用安全连接在本地和远程系统上传输文件和遍历文件系统。</p></blockquote><p id="b6b5" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated">阅读更多关于<a class="ae kj" href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server" rel="noopener ugc nofollow" target="_blank">数字海洋博客</a>的详细内容，这是一个关于如何将文件从一个服务器(例如:A <em class="jw"> mazon EC2 </em>)传输到本地服务器(例如:<em class="jw">个人系统</em>)然后传输到另一个服务器(例如:<em class="jw"> DO droplet </em>)的终极指南。</p><p id="54a9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这种转移方式本质上显然是非常啰嗦的。你可以选择像“赛博鸭”那样简单易用的界面。我用过它，有时很有用。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="dcde" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">部署Python应用程序</h1><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff nw"><img src="../Images/d6b912cee8709ca54408aa5e018aec6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*cimZfmrpK3DyNngiwam1VA.png"/></div></figure><p id="b394" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我之前提到的两个web app:<a class="ae kj" href="http://json2html.varunmalhotra.xyz/" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">JSON 2 html</strong></a><strong class="ja hv"/>和<strong class="ja hv"/><a class="ae kj" href="http://translatr.varunmalhotra.xyz" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">translator</strong></a>，都使用了<strong class="ja hv"> <em class="jw"> Flask </em> </strong>，一个基于<em class="jw"> Werkzeug </em>的<strong class="ja hv"> <em class="jw"> Python </em> </strong>的微框架。</p><p id="f0b0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我的下一步是将它们成功地部署在服务器上，以便观众可以通过互联网访问它们。</p><blockquote class="mc md me"><p id="0e38" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第一步</strong>:安装mod_wsgi</p></blockquote><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="619a" class="mq lf hu mm b fv mr ms l mt mu">sudo apt-get install libapache2-mod-wsgi python-dev</span></pre><blockquote class="mc md me"><p id="2f10" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第二步:</strong>启用mod_wsgi</p></blockquote><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="b50a" class="mq lf hu mm b fv mr ms l mt mu">sudo a2enmod wsgi</span></pre><blockquote class="mc md me"><p id="bba3" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第三步</strong>:创建<strong class="ja hv">砂箱</strong> app</p></blockquote><p id="a542" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">查看以下应用程序及其源代码，构建一个基本的Flask应用程序。<br/> 1。<a class="ae kj" href="http://json2html.varunmalhotra.xyz/" rel="noopener ugc nofollow" target="_blank"> Json2Html </a> — <a class="ae kj" href="https://github.com/softvar/json2html-flask" rel="noopener ugc nofollow" target="_blank">查看源代码</a> <br/> 2。<a class="ae kj" href="http://translatr.varunmalhotra.xyz" rel="noopener ugc nofollow" target="_blank">翻译器</a> — <a class="ae kj" href="https://github.com/softvar/translatr" rel="noopener ugc nofollow" target="_blank">查看源代码</a></p><p id="1a2b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">总是把你所有的需求放在一个文件里。姑且称之为:<br/><strong class="ja hv"><em class="jw">requirements . txt .</em></strong>其内容可以手工编写或者运行<strong class="ja hv"> <em class="jw"> pip freeze </em> </strong>会列出虚拟环境中到目前为止已经安装的所有模块。例如:</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="a744" class="mq lf hu mm b fv mr ms l mt mu">Flask==0.10.1<br/>requests</span></pre><blockquote class="mc md me"><p id="50f9" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">步骤4 </strong>:使用<strong class="ja hv"> virtualenv </strong>设置Python环境</p></blockquote><p id="6313" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">使用pip安装virtualenv和Flask。通过apt-get安装了pip。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="6540" class="mq lf hu mm b fv mr ms l mt mu">sudo apt-get install python-pip</span></pre><p id="37f8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">使用pip安装<strong class="ja hv"> <em class="jw"> virtualenv </em> </strong>使用以下命令:</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="d8a6" class="mq lf hu mm b fv mr ms l mt mu">sudo pip install virtualenv</span></pre><p id="71bd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我创建了一个虚拟的Python环境(<strong class="ja hv"> <em class="jw"> VENV </em> </strong>是我给我的临时环境起的名字)。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="8377" class="mq lf hu mm b fv mr ms l mt mu">sudo virtualenv <strong class="mm hv"><em class="jw">VENV</em></strong></span></pre><p id="59d3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，我通过使用以下命令激活虚拟环境，在该环境中安装了Flask:</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="699a" class="mq lf hu mm b fv mr ms l mt mu">source <strong class="mm hv"><em class="jw">VENV</em></strong>/bin/activate</span></pre><p id="c869" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，我安装了上面<strong class="ja hv"><em class="jw">requirements . txt</em></strong>中列出的我的app的所有依赖项。</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="bb04" class="mq lf hu mm b fv mr ms l mt mu">pip install -r requirements.txt</span></pre><p id="9b00" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我通过运行以下命令来验证一切是否正常:</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="0e32" class="mq lf hu mm b fv mr ms l mt mu">python __init__.py</span></pre><p id="fa98" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我得到一个消息，我的服务器运行在<a class="ae kj" href="http://127.0.0.1:5000" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv"><em class="jw">127 . 0 . 0 . 1:5000</em></strong></a><strong class="ja hv"><em class="jw">。它保证了一切工作正常。</em></strong></p><p id="7432" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我为不同的应用程序创建了虚拟主机，并指向不同的域。创建虚拟主机将在下一节中介绍。</p><p id="f3dd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">详细阅读数字海洋博客。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><h1 id="37f7" class="le lf hu bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb dt translated">设置Apache虚拟主机</h1><blockquote class="kk"><p id="4177" class="kl km hu bd kn ko kp kq kr ks kt jv ek translated">虚拟主机是基本单元，它允许管理员通过使用匹配机制，使用一台服务器托管单个接口或IP上的多个域或站点。这与任何希望在一个VPS上托管多个站点的人都有关系。</p></blockquote><blockquote class="mc md me"><p id="edff" class="iy iz jw ja b jb ku jd je jf kv jh ji mf kw jl jm mg kx jp jq mh ky jt ju jv hn dt translated"><strong class="ja hv">步骤1: </strong>按如下方式更改目录:</p></blockquote><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="641a" class="mq lf hu mm b fv mr ms l mt mu">cd /etc/apache2/sites-enabled</span></pre><blockquote class="mc md me"><p id="adfa" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第二步:</strong>示例虚拟主机文件，姑且称之为<strong class="ja hv"> example.conf </strong></p></blockquote><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="0c2a" class="mq lf hu mm b fv mr ms l mt mu">vim <em class="jw">example.conf</em></span><span id="6562" class="mq lf hu mm b fv nx ms l mt mu"># Content of <em class="jw">example.conf</em></span><span id="2902" class="mq lf hu mm b fv nx ms l mt mu">&lt;VirtualHost *:80&gt;<br/>    ServerAdmin admin@example.com<br/>    ServerName example.com<br/>    ServerAlias <a class="ae kj" href="http://www.example.com" rel="noopener ugc nofollow" target="_blank">www.example.com</a><br/>    DocumentRoot /var/www/example.com/public_html<br/>    ErrorLog ${APACHE_LOG_DIR}/error.log<br/>    CustomLog ${APACHE_LOG_DIR}/access.log combined<br/>&lt;/VirtualHost&gt;</span></pre><blockquote class="mc md me"><p id="a7f7" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv">第三步:</strong>启用虚拟主机</p></blockquote><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="c295" class="mq lf hu mm b fv mr ms l mt mu">sudo a2ensite <em class="jw">example.conf</em></span></pre><p id="1c04" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">步骤4:重启apache服务器</p><pre class="kf kg kh ki fq ml mm mn mo aw mp dt"><span id="324a" class="mq lf hu mm b fv mr ms l mt mu">sudo service apache2 restart</span></pre><p id="ee90" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">阅读更多关于数字海洋博客的详细内容。</p></div><div class="ab cl jx jy hc jz" role="separator"><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc kd"/><span class="ka bw bk kb kc"/></div><div class="hn ho hp hq hr"><p id="16ca" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">希望你能在这篇文章中学到一些新东西。如有任何疑问，请在varun2902@gmail.com给我留言。请推荐、发推文和分享，以增强我写更多文章的信心。非常感谢！</p><p id="e535" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我是一个社会人。我希望能在以下网站上联系到你:<a class="ae kj" href="http://varunmalhotra.xyz/" rel="noopener ugc nofollow" target="_blank"> <br/>网站</a>|<a class="ae kj" href="https://github.com/softvar" rel="noopener ugc nofollow" target="_blank">Github</a>|<a class="ae kj" href="https://twitter.com/s0ftvar" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kj" href="https://www.linkedin.com/in/softvar" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kj" href="http://stackoverflow.com/users/2494535/softvar" rel="noopener ugc nofollow" target="_blank">stack overflow</a></p><div class="kf kg kh ki fq ab cb"><figure class="ny iv nz oa ob oc od paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ny iv nz oa ob oc od paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ny iv nz oa ob oc od paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mc md me"><p id="f922" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><a class="ae kj" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kj" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kj" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kj" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="iy iz jw ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kj" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kj" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="fe ff oe"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>