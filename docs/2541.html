<html>
<head>
<title>Code Review: Beyond Code, Into Company Culture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码评审:超越代码，融入公司文化</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/code-review-beyond-code-into-company-culture-36233561941a?source=collection_archive---------9-----------------------#2017-02-02">https://medium.com/hackernoon/code-review-beyond-code-into-company-culture-36233561941a?source=collection_archive---------9-----------------------#2017-02-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="e005" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总结:<em class="jp">很多公司练习'</em> <a class="ae jq" href="https://hackernoon.com/tagged/code-review" rel="noopener ugc nofollow" target="_blank"> <em class="jp">代码评审</em> </a> <em class="jp">'来减少技术债。然而，通过更多的思考和关注，“代码评审”可以影响公司的</em> <a class="ae jq" href="https://hackernoon.com/tagged/culture" rel="noopener ugc nofollow" target="_blank"> <em class="jp">文化</em> </a> <em class="jp">，培养谦逊、开放&amp;的积极沟通，朝着更好的方向前进，并获得尊重。本文提出了三个简单的步骤来挖掘“代码审查”的潜在潜力，其中包括引入两个概念指导方针:“情境批评”和“基于意图的批评”。</em></p><h1 id="aca7" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">代码评审起源</h1><p id="2cc8" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">许多年前，术语<em class="jp">代码评审</em>会让人联想到产品开发的缓慢。就像没有‘黑暗’就无法充分欣赏的‘光’一样，<em class="jp">技术债，</em>在很多博文中阐述的，成了<em class="jp">代码评审</em>从中闪耀的‘黑暗’。技术债务产生于每一段新代码，它降低了代码库的整体可维护性和可扩展性。这可能是由编码器造成的:</p><ul class=""><li id="d02e" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">不知道某种编码最佳实践</li><li id="f314" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">不知道代码不同部分之间的所有依赖关系</li><li id="a498" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">没有完全理解一段代码的原始意图，从而无意中破坏了任何计划的可扩展性</li><li id="6693" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">由于个人有限的编码经验导致的狭隘视野，忽略了构建特性的更好方法</li><li id="1edc" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">不断地优先考虑特性的最后期限，而不是精心制作的代码，并且之后不进行代码重构</li><li id="eff0" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">过度工程化，或过早优化代码，而不是经常&amp;尽早发布代码，导致代码膨胀</li></ul><p id="803a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">代码评审</em>带来了一双新鲜的眼睛，它减轻(而不是根除)了前4个问题，并作为后2个问题的制衡机制。</p><p id="6fd0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">顺便说一下，代码评审也在团队中传播关于代码库的知识。</p><h1 id="49cb" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">代码审查的潜在潜力</h1><p id="9dcc" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated"><em class="jp">代码评审</em>除了减少技术债务，平衡开发发布周期之外，还能发挥更深远的作用；如果处理得当，它可以建立伟大的团队文化。它培育了:</p><ul class=""><li id="3b54" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">谦逊:团队学会了接受没有人会永远正确，犯错是人之常情，因此他们乐于接受积极的批评</li><li id="f094" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">开放的积极沟通:团队张开双臂接受积极的批评，作为学习的机会，这反过来鼓励其他人不断提供反馈</li><li id="b297" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated"><strong class="it hv">向更好的目标看齐</strong>:团队理解<em class="jp">代码评审</em>的意图，以改进代码库，以及与它一起工作的人，因此总是与那些心灵相通的人交流。意图上的一致鼓励每个人容忍冲突，以及有利于保留意图的模糊性</li><li id="71fe" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated"><strong class="it hv">尊重</strong>:团队学习尊重指导方针，这包含了每个人的兴趣，当指导方针有所欠缺时，每个人都朝着尊重更大利益的方向努力</li></ul><p id="4b1b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不幸的是<em class="jp">代码审查</em>和它所孕育的文化不会在一夜之间发生，他们要求我们为之努力。幸运的是，有了一套编码和行为指南，我们可以释放它的全部潜力。</p><h1 id="88ed" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">释放代码审查的文化潜力</h1><p id="3279" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated"><em class="jp">代码审查</em>，如果在没有支持机制的情况下被提倡，通常会以其中一个极端结束:</p><ul class=""><li id="3a0d" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">有人滥用<em class="jp">代码评审</em>作为提升自己地位和压制他人的机会，这让<em class="jp">代码评审</em>变成了噩梦</li><li id="8599" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">每个人都小心翼翼地保持一个和谐的环境，不互相批评，这违背了<em class="jp">代码评审</em>的目的</li></ul><p id="752f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了克服这些，<em class="jp">代码评审</em>需要一个<strong class="it hv">意图</strong>(目的)的正式声明，以及一套<strong class="it hv">指南</strong>来支持意图。</p><h2 id="99a4" class="li js hu bd jt lj lk ll jx lm ln lo kb jc lp lq kf jg lr ls kj jk lt lu kn lv dt translated"><strong class="ak">代码审查:意图</strong></h2><p id="5ce7" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">代码评审的目的集中在每个人的利益上，以鼓励他们支持它，并把它作为抵御破坏它的行为的原则。<em class="jp">代码审查</em>应该:</p><ul class=""><li id="b3c5" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">构建可维护和可扩展的代码，这是一种乐趣</li><li id="708e" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">提高每个人的编码能力，以及对代码库的理解</li></ul><h2 id="7590" class="li js hu bd jt lj lk ll jx lm ln lo kb jc lp lq kf jg lr ls kj jk lt lu kn lv dt translated"><strong class="ak">代码审查:指南</strong></h2><p id="a4ba" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">有两种类型的指导方针(<em class="jp">编码</em>和<em class="jp">行为</em>)需要让每个人都快速地在同一页面上保持代码审查的意图，以及什么构成了违反。它们也成为调和分歧的参照点。</p><p id="9318" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">编码指南</em> </strong></p><p id="48cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些是被社区接受的众所周知的编码实践，它们关注于<a class="ae jq" href="https://github.com/thoughtbot/guides/tree/master/best-practices" rel="noopener ugc nofollow" target="_blank">代码组成</a>和<a class="ae jq" href="https://github.com/thoughtbot/guides/tree/master/style" rel="noopener ugc nofollow" target="_blank">代码风格</a>。前者实施编码原则，例如数据完整性，它要求在数据库表中使用外键等。，而后者鼓励一致性，这有助于可读性和理解，例如，代码首选项，它记录了一些细节，如对于循环，更喜欢使用<em class="jp">而不是</em>。有很多关于这两方面的文章，所以我给你一个建议:</p><p id="84dd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不要花费数周时间去思考使用哪种最佳实践；现在就从任何一个开始，然后随着团队的发展进行调整</p><p id="a7e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">行为准则</em> </strong></p><p id="67f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">人们很容易对“积极的批评”这个词吹毛求疵，但它的解释范围太广，而且过度依赖于给予者的机智和谨慎，而这可能不是程序员天生就有的，尤其是初级程序员。</p><p id="8c5a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了万无一失的“积极批评”，我们要求它既是一种<em class="jp">情境批评</em>又是一种<em class="jp">基于意图的批评</em>。</p><p id="f7d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">情境批评</em></p><ul class=""><li id="e8b6" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">一段批评应该基于一段特定的代码，在特定的环境下，在特定的时间</li></ul><p id="466c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就消除了批评者对接受者的影射，从而传达了一种解脱感，使给予和接受都变得容易。</p><p id="6ced" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，它转移了确保批评确实是针对接受者的责任；同样的情景批评的重复出现就相当于对惯犯的申斥。</p><p id="f097" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基于意图的批评</p><ul class=""><li id="f9e5" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">任何批评都必须坚持代码评审的形式意图</li></ul><p id="9ada" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为代码审查的目的是改进每个人和代码库，所以基于目的的批评有一种积极的氛围，应该非常有用，使给予和接受都很容易。</p><h2 id="9e58" class="li js hu bd jt lj lk ll jx lm ln lo kb jc lp lq kf jg lr ls kj jk lt lu kn lv dt translated">代码评审的具体例子(更新2018–06–02)</h2><p id="5619" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">这里有几个结合了<em class="jp">情境</em>和<em class="jp">意图</em>的“好”代码评审示例，以及几个“不好”的示例。</p><p id="9e72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">好的</em> </strong></p><p id="773b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">例1 </em>:</p><p id="1f58" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果我们<em class="jp">在这里</em>使用switch语句，将来<em class="jp">会更容易理解</em>吗？</p><ul class=""><li id="6311" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">“更容易理解”:阐明<em class="jp">让代码更容易理解的意图</em></li><li id="b575" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">“在这里使用switch语句”:进行代码审查<em class="jp">情景</em></li></ul><p id="6a7a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">例二</em>:</p><p id="d793" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这部分代码中，使用工厂模式是否有可能在未来处理新的用例？</p><ul class=""><li id="7ab2" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">“使处理新用例成为可能”:阐明<em class="jp">使代码易于使用的意图</em></li><li id="5a3c" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">'在这部分代码中':进行代码评审<em class="jp">情景</em></li></ul><p id="f838" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">不好</em> </strong></p><p id="4ac0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">例1 </em>:</p><p id="a832" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用switch语句代替多个if是一个好习惯。</p><ul class=""><li id="5cf5" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">缺少对<em class="jp">意图</em>的解释</li></ul><p id="50f4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">例二</em>:</p><p id="baca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您应该使用工厂模式来确保代码可以处理新的用例。</p><ul class=""><li id="5813" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">暗示编码者不理解工厂模式，因此代码审查似乎不是<em class="jp">情境</em></li></ul><p id="fb9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意，好的代码评审例子通常也是有启发性的，吸引人的讨论，或者格式化成问题的形式。</p><h1 id="eb75" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">数据驱动的文化</h1><p id="a28e" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">如果你热衷于使用数据为你的公司提供动力，并且相信持续的实时反馈(而不是挥挥手，“<em class="jp">我们有一个开放的政策，你可以随时进来告诉我们你的问题</em>)，那么只需点击一下<a class="ae jq" href="https://reculture.us/home/code_review" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"><em class="jp">re:Culture</em></strong></a>就可以开始了解团队采用<em class="jp">代码评审</em>的情况。</p><h1 id="313e" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">包扎</h1><p id="47d6" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">我们希望你对<em class="jp">代码审查</em>在建立伟大的公司文化中的潜在作用深信不疑并感到兴奋。通过3个简单的步骤:形式化代码审查的意图，用社区最佳实践实现编码指南，用<em class="jp">情境</em>和<em class="jp">基于意图</em>的批评实现行为指南，您就拥有了转变公司文化的所有工具。</p><blockquote class="lw lx ly"><p id="4932" class="ir is jp it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated"><a class="ae jq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jq" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is jp it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated">要了解更多信息，<a class="ae jq" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">请阅读我们的“关于”页面</a>、<a class="ae jq" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">赞/在脸书给我们发消息</a>，或者简单地说，<a class="ae jq" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mc md me mf fq mg"><div class="bz el l di"><div class="mh mi l"/></div></figure></div></div>    
</body>
</html>