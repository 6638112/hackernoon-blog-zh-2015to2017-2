<html>
<head>
<title>Rebuilding the Mission Impossible security system in Elixir on RaspberryPi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在拉斯贝里皮星球的伊利莎重建不可能完成的任务的安全系统</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/rebuilding-the-mission-impossible-security-system-in-elixir-on-raspberrypi-e4ed07650210?source=collection_archive---------11-----------------------#2017-05-02">https://medium.com/hackernoon/rebuilding-the-mission-impossible-security-system-in-elixir-on-raspberrypi-e4ed07650210?source=collection_archive---------11-----------------------#2017-05-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="30c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由<a class="ae jp" href="https://twitter.com/arkh4m" rel="noopener ugc nofollow" target="_blank">刘矩</a></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/cc2bb19c9fdcf6175afdef06d6ad8edc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MhLsrL4FD9lfVID9sPuu-Q.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Rebuilding the Mission Impossible security system in Elixir on RaspberryPi</figcaption></figure><p id="0391" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是的，你没看错。在本教程中，我们将重建1996年经典电影《碟中谍》中令人惊叹的安全系统。我们将使用树莓派，许多传感器，我们将在<a class="ae jp" href="http://www2.erlang-solutions.com/l/23452/2017-05-02/4ktymv" rel="noopener ugc nofollow" target="_blank">药剂</a>中编写代码。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kg"><img src="../Images/fd8bb613ec835cff702323d171c60116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kFBadWLEWHsLbWdg.jpg"/></div></div></figure><p id="ee09" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对那些没看过这部电影的人来说，这只是一个快速复习。伊森·亨特是一名超级间谍，他试图潜入中情局总部，窃取一份有价值的双面间谍名单。不幸的是，该列表被安全地存储在一个高度安全的掩体中，具有以下安全机制:</p><ul class=""><li id="8461" class="kh ki hu it b iu iv iy iz jc kj jg kk jk kl jo km kn ko kp dt translated">激光束</li><li id="3aba" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">温度传感器</li><li id="9f1f" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">噪声传感器</li><li id="be2b" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">地面振动传感器</li></ul><h1 id="4119" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">准备</h1><p id="6019" class="pw-post-body-paragraph ir is hu it b iu lt iw ix iy lu ja jb jc lv je jf jg lw ji jj jk lx jm jn jo hn dt translated">在我们开始之前，让我给你我在开始开发Raspberry Pi时收到的最好的建议:<strong class="it hv">给你自己一根USB转TTL的串行电缆</strong>！你可以在adafruit ( <a class="ae jp" href="https://www.adafruit.com/product/954?utm_source=Erlang%20Solutions&amp;utm_medium=Blog&amp;utm_campaign=Raspberry%20Pi%20Mission%20Impossible&amp;utm_term=Elixir" rel="noopener ugc nofollow" target="_blank">链接</a>、<a class="ae jp" href="https://learn.adafruit.com/adafruits-raspberry-pi-lesson-5-using-a-console-cable?utm_source=Erlang%20Solutions&amp;utm_medium=Blog&amp;utm_campaign=Raspberry%20Pi%20Mission%20Impossible&amp;utm_term=Elixir" rel="noopener ugc nofollow" target="_blank">教程</a>)上找到它们，这些小设备将省去你为了使用你的覆盆子而必须连接外部显示器、键盘和鼠标的麻烦。只需连接电缆，启动<code class="eh ly lz ma mb b">screen</code>，你就可以进入了。</p><p id="7f7a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们需要一些传感器来构建我们的安全系统，我找到了Sunfounder制作的一套传感器，它拥有我们需要的一切，甚至更多(<a class="ae jp" href="https://www.amazon.com/SunFounder-Modules-Sensor-Raspberry-Extension/dp/B014PF05ZA" rel="noopener ugc nofollow" target="_blank">链接</a>)。我和这家公司没有任何关系，但是他们把所有的C和Python代码都放在了github上，所以我认为他们很酷。</p><p id="5e69" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们最不需要的就是长生不老药！我们可以按照本教程在我们的树莓Pi上安装它。</p><h1 id="632e" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">我们开始吧</h1><p id="572a" class="pw-post-body-paragraph ir is hu it b iu lt iw ix iy lu ja jb jc lv je jf jg lw ji jj jk lx jm jn jo hn dt translated">我们现在可以使用我们钟爱的<code class="eh ly lz ma mb b">mix</code>创建项目了:</p><pre class="jr js jt ju fq mc mb md me aw mf dt"><span id="2f26" class="mg kw hu mb b fv mh mi l mj mk">$ mix new intrusion_countermeasures</span></pre><p id="8e08" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并在我们的<code class="eh ly lz ma mb b">mix.exs</code>文件中添加<code class="eh ly lz ma mb b">elixir_ale</code>作为依赖项:</p><pre class="jr js jt ju fq mc mb md me aw mf dt"><span id="75f4" class="mg kw hu mb b fv mh mi l mj mk">defmodule IntrusionCountermeasures.Mixfile do use Mix.Project def project do [app: :intrusion_countermeasures, version: "0.1.0", elixir: "~&gt; 1.4", build_embedded: Mix.env == :prod, start_permanent: Mix.env == :prod, deps: deps()] end def application do [extra_applications: [:logger], mod: {IntrusionCountermeasures, []}] end defp deps do [{:elixir_ale, "~&gt; 0.5.6"}] end end</span></pre><p id="5f65" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个库将为我们提供控制Raspberry GPIO管脚和I2C总线的抽象。你可以在这里找到更多关于图书馆的信息。所以让我们安装并编译:</p><pre class="jr js jt ju fq mc mb md me aw mf dt"><span id="f71c" class="mg kw hu mb b fv mh mi l mj mk">$ mix deps.get &amp;&amp; mix compile</span></pre><h1 id="6ff0" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">首先:激光！</h1><p id="876c" class="pw-post-body-paragraph ir is hu it b iu lt iw ix iy lu ja jb jc lv je jf jg lw ji jj jk lx jm jn jo hn dt translated">抓住您的激光发射器模块，并以这种方式将其连接到试验板:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ml"><img src="../Images/e0e167c0f1636fa5dc0a2392e443dc9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*o6BSDaXXvop8Zw-u.png"/></div></div></figure><p id="286d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以开始为我们的安全系统编写代码了:</p><pre class="jr js jt ju fq mc mb md me aw mf dt"><span id="de60" class="mg kw hu mb b fv mh mi l mj mk">defmodule IntrusionCountermeasures do use Application def start(_, _) do {:ok, laser} = Gpio.start_link(17, :output) pid = spawn(fn -&gt; loop(laser) end) {:ok, pid} end def loop(laser) do :timer.sleep(200) turn_on(laser) :timer.sleep(200) turn_off(laser) loop(laser) end defp turn_on(pid) do Gpio.write(pid, 0) end defp turn_off(pid) do Gpio.write(pid, 1) end end</span></pre><p id="ab7c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们使用<code class="eh ly lz ma mb b">Gpio.start_link</code>连接GPIO引脚17，指定我们将其用作输出。然后，我们产生一个递归循环函数，重复地打开和关闭激光器。我们可以用<code class="eh ly lz ma mb b">iex -S mix</code>运行我们的应用程序，激光将开始闪烁。多酷啊。</p><p id="aec0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还要注意，默认行为是写<code class="eh ly lz ma mb b">0</code>打开某个东西，写<code class="eh ly lz ma mb b">1</code>关闭它。为了让代码更容易理解，我添加了<code class="eh ly lz ma mb b">turn_on</code>和<code class="eh ly lz ma mb b">turn_off</code>助手。</p><p id="360f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我桌子上的一张照片:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mm"><img src="../Images/23d7e9576995e6193e9768f9b90f72e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oQJL0P-_y3dKB8hq.jpg"/></div></div></figure><h1 id="7e44" class="kv kw hu bd kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls dt translated">阅读更多</h1><p id="e3e7" class="pw-post-body-paragraph ir is hu it b iu lt iw ix iy lu ja jb jc lv je jf jg lw ji jj jk lx jm jn jo hn dt translated">现在我们有了激光闪烁，请访问Erlang解决方案博客 了解如何添加噪声、温度和振动检测传感器。</p></div><div class="ab cl mn mo hc mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hn ho hp hq hr"><p id="df30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mu">了解更多关于Erlang Solutions如何通过</em><a class="ae jp" href="http://www2.erlang-solutions.com/l/23452/2017-05-02/4ktymv" rel="noopener ugc nofollow" target="_blank"><em class="mu">Elixir Development</em></a><em class="mu">或</em> <a class="ae jp" href="http://www2.erlang-solutions.com/emailpreference" rel="noopener ugc nofollow" target="_blank"> <em class="mu">为您提供支持的信息，注册我们的邮件列表</em> </a> <em class="mu">成为第一个知道我们未来博客文章的人。</em></p><p id="9eee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mu">原载于</em><a class="ae jp" href="http://www2.erlang-solutions.com/l/23452/2017-05-02/4kv1pz" rel="noopener ugc nofollow" target="_blank"><em class="mu">www.erlang-solutions.com</em></a><em class="mu">。</em></p></div></div>    
</body>
</html>