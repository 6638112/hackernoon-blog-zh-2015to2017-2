<html>
<head>
<title>Our Ambitious Quest to Democratise Real-time Distributed Systems — Act 2: ION vs JSON</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们雄心勃勃地追求实时分布式系统的民主化——第二幕:ION vs JSON</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/our-ambitious-quest-to-democratise-distributed-systems-act-2-ion-vs-json-ce69f4e5c4a9?source=collection_archive---------10-----------------------#2016-11-30">https://medium.com/hackernoon/our-ambitious-quest-to-democratise-distributed-systems-act-2-ion-vs-json-ce69f4e5c4a9?source=collection_archive---------10-----------------------#2016-11-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/dd238a96acfb4ae9dd92fd51cf5d00ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yIA6jJwHsVMrHlWw-exUQA.png"/></div></div></figure><p id="d8f5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我们的<a class="ae ka" href="https://hackernoon.com/our-ambitious-quest-to-democratize-distributed-systems-act-1-protocols-b6bec5297213#.k63j9izax" rel="noopener ugc nofollow" target="_blank">上一篇文章</a>中，我们讨论了分布式系统的实现给初创公司和消费者带来的巨大潜力。我们还简要提到了我们在Nanosai.com<a class="ae ka" href="http://nanosai.com/" rel="noopener ugc nofollow" target="_blank">研发的一些工具，包括我们在T4的IAP协议</a>，旨在帮助开发者构建更智能、更通用的分布式系统。今天我们将关注IAP的数据格式，称为互联网异议符号(简称ion)。</p><p id="ed78" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">为什么数据格式很重要？</strong></p><p id="5aea" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">据估计，今天我们生活在一个平均每天产生约2.5万亿字节数据的世界，其中许多数据是由谷歌、脸书、亚马逊和网飞等家喻户晓的热门服务的用户产生的。<strong class="je hv"> </strong>事实上，思科最近的一份<strong class="je hv"/><a class="ae ka" href="http://www.cisco.com/c/en/us/solutions/collateral/service-provider/visual-networking-index-vni/vni-hyperconnectivity-wp.html" rel="noopener ugc nofollow" target="_blank">报告预测如下:</a></p><p id="1776" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">●到2020年，每两分钟就会有相当于所有电影的千兆字节(GB)通过全球互联网。</p><p id="2e2c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">●在全球范围内，IP流量将在2020年达到511万亿比特每秒(Tbps)，相当于1.42亿人每天全天同时传输互联网高清(HD)视频。</p><p id="c4e7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">●2020年全球IP流量将相当于每年5040亿张DVD，每月420亿张DVD，或每小时5800万张DVD。</p><p id="fa52" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<a class="ae ka" href="http://nanosai.com/" rel="noopener ugc nofollow" target="_blank"> Nanosai </a>我们相信，只有随着新一代智能分布式系统的兴起，处理如此大量的数据才会有效，新一代智能分布式系统很可能会以新型数据和通信模式向我们提出挑战。特别是，这将需要一种更通用、紧凑、快速且易于处理的数据格式，既适用于小型设备，也适用于大型服务器。因此，任何先进的网络协议，如我们自己的IAP，都需要适应这一点，以便适用于这种先进的分布式系统。</p><p id="9cb1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如今，开发人员广泛使用的最流行的数据格式无疑是JSON。事实上，像twitter这样的公司只开发JSON API。但是JSON有很多缺点，其中包括:</p><p id="7a1a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">1.JSON是一种文本格式。这意味着JSON是一种非常冗长的发送数字的方式。这也意味着JSON不是原始二进制数据的好格式。原始字节必须是Base64或十六进制编码，并作为字符串传输。Base64编码将编码数据的大小增加到原始大小的4/3，十六进制编码将大小增加到原始大小的2/1。</p><p id="daf5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.JSON不是那么通用，因为它不擅长建模所有类型的数据结构。例如，JSON在用行和列(例如CSV文件)对相似数据的表格建模方面很弱。JSON将这种表格数据编码为对象数组，这意味着表中的每个对象(行)的列名将重复。这显然是对数据的浪费。</p><p id="9853" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.由于既有文本性又冗长，JSON不是读写最快的数据格式。由于冗长，传输速度也较慢，尤其是对于带宽有限的设备，如小型物联网设备、连接微弱的移动电话或漂浮在海洋中的船只。</p><p id="748f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，如果万物互联要成为真正的即插即用，我们不能让每一个OEM或开发者都经历创建他们自己的数据格式的麻烦，仅仅因为JSON对他们的用例来说不够合适/通用。</p><p id="a5a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">什么是离子？</strong></p><p id="8029" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> ION </strong>(参见<a class="ae ka" href="http://tutorials.jenkov.com/iap/ion-design-goals.html" rel="noopener ugc nofollow" target="_blank"> ION规范</a>)是IAP的默认二进制数据格式，它足够通用，可以编码多种数据。ION可以模拟最常用的数据结构，例如:</p><p id="4063" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">原始字节</p><p id="d924" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">基本的原始类型，如布尔值、整数、浮点、UTF 8文本和日期时间。</p><p id="ec0c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">上述类型字段的流(无界)。</p><p id="7fec" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">字段数组(有界)</p><p id="1647" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">映射(键、值对)</p><p id="fc5c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对象(具有属性名、属性值对、空值、类id、循环引用等。)</p><p id="5df5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">包含行和列的表格。</p><p id="5612" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">复杂对象图，对象嵌套在对象中，对象嵌套在表中，表嵌套在表中，表嵌套在对象中，表和对象嵌套在数组中，反之亦然。</p><p id="16b3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以上所有的组合。</p><p id="f162" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ION通常是相应JSON文档大小的2/3，对于表格数据(例如对象数组)，大小可以降到1/5(对于像Boolean这样非常小的数据类型甚至更小)。离子消息的读写在速度上可以和Google协议缓冲区竞争，如果你需要的是速度的话。ION也是自描述的，可以在没有模式的情况下导航。</p><p id="d3df" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关于ION的一个有趣的事实是，尽管我们为IAP协议开发了它，但它实际上是独立于任何网络协议而设计的！因此开发人员能够在IAP协议之外使用ION作为JSON、XML、YAML等的替代数据格式。由于ION相当紧凑和快速，在HTTP上使用它可能是希望从HTTP/JSON、SOAP/XML等转换到IAP的组织的第一步。</p><p id="296a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最终，我们的目标是使ION成为JSON的更通用的替代品，并且能够支持更多种数据。我们相信，为了创建更加通用的互联网通信，我们确实需要一种比JSON更加通用的数据格式。我们的联合创始人兼首席技术官Jakob Jenkov写了一些“T0”ION性能基准测试—<strong class="je hv">ION vs . JSON vs . Protobuf vs . MessagePack vs . CBOR。</strong></p><p id="9c69" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，在接下来的几周和几个月里，我们会在后续的帖子中与你分享我们的旅程，即<strong class="je hv">第3幕</strong>、<strong class="je hv">第4幕</strong>……<strong class="je hv">第N幕</strong>。与此同时，请访问我们的<a class="ae ka" href="https://github.com/nanosai" rel="noopener ugc nofollow" target="_blank"> github repo </a>来检查我们的代码并了解我们的最新进展。</p><p id="f0b4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">由</em><a class="ae ka" href="http://www.zaiku.co.uk" rel="noopener ugc nofollow" target="_blank"><em class="kb">Zaiku</em></a><em class="kb">联合创始人Bamborde发布。推特@cloudbalde </em></p><div class="kc kd ke kf fq ab cb"><figure class="kg iv kh ki kj kk kl paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kg iv kh ki kj kk kl paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kg iv kh ki kj kk kl paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="km kn ko"><p id="f922" class="jc jd kb je b jf jg jh ji jj jk jl jm kp jo jp jq kq js jt ju kr jw jx jy jz hn dt translated">黑客中午是黑客如何开始他们的下午。我们是这个家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd kb je b jf jg jh ji jj jk jl jm kp jo jp jq kq js jt ju kr jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ks"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>