<html>
<head>
<title>How To Mess With TypeRacer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用TypeRacer</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-mess-with-typeracer-34c650b863f6?source=collection_archive---------1-----------------------#2017-05-01">https://medium.com/hackernoon/how-to-mess-with-typeracer-34c650b863f6?source=collection_archive---------1-----------------------#2017-05-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="9436" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我在洗衣服的时候，我和我的朋友们决定玩玩<a class="ae jp" href="http://play.typeracer.com/" rel="noopener ugc nofollow" target="_blank"> TypeRacer </a>，这是一款流行的网络游戏，你可以在打字测试中与他人比赛，看谁能最快地打出一个短语或句子。正常情况下，我的平均打字速度为120~130 wpm(每分钟字数)，但只是为了好玩，我想和朋友们一起玩。在这次技术演讲中，我将解释我是如何做到的。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="f0f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们进行一场练习赛，四处打探一下，看看我们能找到什么。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff jx"><img src="../Images/b3f702b0c7d9826e0e857b29de79efa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*UXQAvi5QYkzksq8lsIhy5A.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">TypeRacer practice game</figcaption></figure><p id="9bcb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个练习游戏的界面。让我们打开我们的好朋友，Chrome Inspector工具。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff kj"><img src="../Images/93f0b5b2038adc0f4487fc695cb385d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*lFtoKkQwShtq_cLGk1W2Bg.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Chrome Web Inspector</figcaption></figure><p id="4914" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我检查了jQuery是否对我可用，它确实可用。这对于操作和访问站点上的数据非常方便。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff kk"><img src="../Images/4772ef27d140741d9727ec5030910d3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*U-EERQzFBGdjAtse1v46rg.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Inspecting the text element</figcaption></figure><p id="bf77" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看起来文本只是显示在一个带有ID的span中。其他一些代码阻止我突出显示它，但是我可以很容易地从JavaScript控制台获取它。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kl"><img src="../Images/4cb014467f64bb72ce7ed25f9e9aad62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AqN2jZ9ZCQHn9whjbZsHqA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Fetching the text using the JavaScript console.</figcaption></figure><p id="e8ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">嗯，这个<span>包含了除了第一个以外的所有单词。第一个词有什么特别之处？</span></p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff kq"><img src="../Images/52a6051d1289d1b721be630d0c0d167b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*YQ9ynpssc85xfqEqmMfWhQ.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Inspecting the text element for the first word</figcaption></figure><p id="42db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看起来您当前所在的单词包含在另一个具有另一个唯一ID的不同的<span>标签中。没问题，因为我可以选择它并获取它的文本。</span></p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff kr"><img src="../Images/af18744dd551492f310a9e2a3e395907.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*Q17eVWSe_YWF_E3HMz7QCA.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Fetching the first word using the JavaScript console</figcaption></figure><p id="f9e5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我做了更多的测试，并刷新了页面几次。span的uid似乎会改变，但通常是一个小于100的数字。我们可以试试每一个数字。我快速编写了一个脚本来输出比赛文本。</p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ks kt l"/></div></figure><p id="d055" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅仅猜测uid的计算时间是微不足道的，所以这个脚本工作得很好。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff ku"><img src="../Images/e41eb7ae8cbc15575dab6c0faa979eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4GtITB_8cICxmcvWBq3xSA.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Running the script in practice mode. These are the lyrics to the song “Say You Won’t Let Go” by James Arthur!!</figcaption></figure><p id="7db6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">经过进一步的检查，我意识到我可以选择文本的容器元素，而不是猜测uid，它没有uid，保持不变。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kv"><img src="../Images/9417f2f41dc0c74a00cb1faa63d83042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqAbs9brQS9I2M3qWrasDg.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Selecting the container element instead.</figcaption></figure><p id="57b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">效果更好。现在，我可以在JavaScript控制台中作为一行程序运行它来获取所有文本。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="b268" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">太好了！现在我有了文本，我该如何输入它呢？将它粘贴到字段中并使用JavaScript设置它不起作用，因为页面使用按键事件处理程序来检测您何时键入单词。它会等到您按下空格键，然后将您在文本栏中的内容与您当前所在的单词进行比较。</p><p id="9376" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">经过快速研究，我发现JavaScript出于安全原因阻止您触发或模拟按键。这很好，我们可以使用一个快速的Python脚本来完成这项工作。我使用<a class="ae jp" href="https://github.com/asweigart/pyautogui" rel="noopener ugc nofollow" target="_blank"> pyautogui包</a>来编程控制我的键盘并为我打字。</p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ks kt l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Python script to type the required text</figcaption></figure><p id="5d5e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我所要做的就是运行这个脚本，将文本粘贴到其中，然后将我的鼠标光标放在输入框上，脚本会处理剩下的事情。开始输入前的两秒钟窗口允许我切换回TypeRacer并选择输入框。我使用0.05秒的时间间隔来输入每个字符，这样输入看起来有点像人类。</p><p id="0d05" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看起来是这样的:</p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="kx kt l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Demonstrating the Python script</figcaption></figure><p id="d854" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，你可以在这个视频的结尾看到，它触发了一个打字挑战测试。这个更难，因为它有一个captcha风格的打字挑战，你需要用类似的wpm击败它，以便你的分数被认为是有效的。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff ky"><img src="../Images/e76b61848f26600b746b5ae999e9143f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*6hMlG3xBP6SJlDGIZrw8xA.png"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Captcha style typing challenge</figcaption></figure><p id="c132" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我试着调整输入间隔，看看网站还会做些什么。只要我把机器人的每分钟转数保持在100以下，我就从来不用做验证码测试。如果我把打字间隔设置为零，我可以达到超过300的wpm，但网站会自动标记并取消它的资格。</p><p id="3e27" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一件有趣的事情是，TypeRacer计算你的wpm是输入的单词除以总时间，这意味着让我的机器人在10秒钟内慢慢输入单词与让它在等待10秒钟后立即输入所有单词是一样的。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="9ba9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个非常有趣的方式来打发时间，而我在等待我的烘干机周期结束。如果我将来再次讨论这个问题，我可能会写第2部分，其中我也使用OCR或opencv来击败captcha测试。我得去叠衣服了，所以现在就这些了。感谢阅读！</p><p id="a984" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在推特上关注我:<a class="ae jp" href="http://twitter.com/omgimanerd" rel="noopener ugc nofollow" target="_blank"> @omgimanerd </a></p><div class="jy jz ka kb fq ab cb"><figure class="kz kc la lb lc ld le paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kz kc la lb lc ld le paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kz kc la lb lc ld le paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lf lg lh"><p id="f922" class="ir is kw it b iu iv iw ix iy iz ja jb li jd je jf lj jh ji jj lk jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is kw it b iu iv iw ix iy iz ja jb li jd je jf lj jh ji jj lk jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ll kt l"/></div></figure><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff lm"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>