<html>
<head>
<title>how to use Environment Variables keep your secret keys safe &amp; secure!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用环境变量保持您的密钥安全和可靠！</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-use-environment-variables-keep-your-secret-keys-safe-secure-8b1a7877d69c?source=collection_archive---------1-----------------------#2017-07-01">https://medium.com/hackernoon/how-to-use-environment-variables-keep-your-secret-keys-safe-secure-8b1a7877d69c?source=collection_archive---------1-----------------------#2017-07-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/90b89db18d345e7b9ce0e07ad62b5f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*wLi9C1ZYQD81V8iM."/></div></figure><h1 id="16da" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">为什么？</h1><p id="fe8d" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">避免(<em class="ku">意外地</em>)提交(<em class="ku">暴露</em>)你的<em class="ku">私钥</em>、<em class="ku">密码</em>或其他<em class="ku">敏感细节</em>(通过在你的脚本中硬编码<em class="ku">)到<a class="ae kv" href="https://hackernoon.com/tagged/github" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，通过将它们存储为环境变量。看这个例子</em></p><figure class="kx ky kz la fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="fe ff kw"><img src="../Images/c650e04192e547a48b3fcde7425fa70d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cLv5qi72XGvHt6QU.jpg"/></div></div></figure><p id="c0e1" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">有一个人把aws键推给github的故事:</p><blockquote class="lk ll lm"><p id="4cd6" class="jw jx ku jy b jz lf kb kc kd lg kf kg ln lh kj kk lo li kn ko lp lj kr ks kt hn dt translated"><em class="hu">意外地</em>将API密钥推送给GitHub可能是一个<em class="hu">昂贵/紧张的教训</em>:<a class="ae kv" href="https://www.quora.com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-can-I-reduce-the-amount-I-need-to-pay" rel="noopener ugc nofollow" target="_blank">https://www . quora . com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-I-can-reduce-amount-I-need-pay</a></p></blockquote><h1 id="0ec2" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">什么是环境变量？</h1><p id="cab4" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">环境变量是一个<code class="eh lq lr ls lt b">KEY=value</code>对，存储在运行代码/应用程序的本地系统上，可以从代码中访问。</p><h1 id="f01a" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">怎么会？</h1><p id="03a4" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">请遵循以下步骤:</p><ol class=""><li id="d5e0" class="lu lv hu jy b jz lf kd lg kh lw kl lx kp ly kt lz ma mb mc dt translated">列出所有<em class="ku">默认的</em>环境变量</li></ol><pre class="kx ky kz la fq md lt me mf aw mg dt"><span id="3945" class="mh iz hu lt b fv mi mj l mk ml">$ <!-- -->printenv</span></pre><p id="a784" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">2.为了存储我们的秘密数据，比如令牌、API密钥、密码，创建一个名为<strong class="jy hv"> app-env </strong>的文件</p><pre class="kx ky kz la fq md lt me mf aw mg dt"><span id="7998" class="mh iz hu lt b fv mi mj l mk ml">export API_KEY="ABDJFdfrpf956irjglkfmgi5kgf"<br/>export TOKEN="213j29rhdfn94htrfuh94"<br/></span></pre><p id="d14d" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">3.使用Source命令将该文件放入本地环境</p><pre class="kx ky kz la fq md lt me mf aw mg dt"><span id="4058" class="mh iz hu lt b fv mi mj l mk ml">$ source app-env</span></pre><p id="7804" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">4.现在我们可以在程序中使用这些环境变量，例如在<a class="ae kv" href="https://hackernoon.com/tagged/nodejs" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>中:</p><blockquote class="lk ll lm"><p id="0847" class="jw jx ku jy b jz lf kb kc kd lg kf kg ln lh kj kk lo li kn ko lp lj kr ks kt hn dt translated">Node.js让您可以访问在您的环境中定义在<strong class="jy hv"> process.env </strong>全局对象中的变量。</p></blockquote><p id="3082" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">所以我们可以使用process.env对象来访问我们的键</p><pre class="kx ky kz la fq md lt me mf aw mg dt"><span id="ed22" class="mh iz hu lt b fv mi mj l mk ml">var api_key = process.env.API_KEY;</span></pre><p id="9aed" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">5.最后将app-env添加到。gitignore所以这个文件被忽略。饭桶</p><pre class="kx ky kz la fq md lt me mf aw mg dt"><span id="8b57" class="mh iz hu lt b fv mi mj l mk ml">app-env</span></pre><p id="8544" class="pw-post-body-paragraph jw jx hu jy b jz lf kb kc kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt hn dt translated">这样，我们可以在本地环境中使用我们的密钥和令牌，并且不会将这些敏感数据暴露给Github上的其他人。</p><div class="kx ky kz la fq ab cb"><figure class="mm iv mn mo mp mq mr paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mm iv mn mo mp mq mr paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mm iv mn mo mp mq mr paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lk ll lm"><p id="f922" class="jw jx ku jy b jz lf kb kc kd lg kf kg ln lh kj kk lo li kn ko lp lj kr ks kt hn dt translated"><a class="ae kv" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客们下午的开始。我们是<a class="ae kv" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kv" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kv" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jw jx ku jy b jz lf kb kc kd lg kf kg ln lh kj kk lo li kn ko lp lj kr ks kt hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kv" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kv" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kx ky kz la fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="fe ff ms"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="mt mu l"/></div></figure></div></div>    
</body>
</html>