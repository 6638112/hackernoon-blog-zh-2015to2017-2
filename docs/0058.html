<html>
<head>
<title>Kernel mode hooking, good features getting rotten</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">内核模式挂钩，好功能烂了</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/kernel-mode-hooking-good-features-getting-rotten-b870febc0104?source=collection_archive---------0-----------------------#2015-09-11">https://medium.com/hackernoon/kernel-mode-hooking-good-features-getting-rotten-b870febc0104?source=collection_archive---------0-----------------------#2015-09-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3041" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这篇文章应该以教育为唯一目的来阅读。不得伤害或损坏任何用户或机器。伦理第一。过会儿开心。</p><p id="a62e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现代x86操作系统，使用<strong class="it hv">保护模式</strong>来执行指令。在保护模式下，有4个不同的权限级别，从0到3。它们也被称为<strong class="it hv">环0 </strong> — <strong class="it hv">环3 </strong>，以表示它们之间的分离程度。</p><p id="4404" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最高级别(最低特权)是常规应用程序运行的<strong class="it hv">用户区</strong> (ring3)。最低层(最高特权)是<a class="ae jq" href="https://hackernoon.com/tagged/kernel" rel="noopener ugc nofollow" target="_blank">内核</a>模式(ring0)，操作系统的内核或核心在这里运行(基本上是拥有硬件的代码)。</p><p id="bf72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每当应用程序需要调用内核时，它使用一个<strong class="it hv">中断</strong>来告诉内核执行哪个系统调用。这个中断在Linux x86–32中是指令<em class="jp"> int $0x80 </em>，在Linux x86–64中是指令<em class="jp"> syscall </em>。</p><p id="4dfa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当CPU接受中断时，它从ring3切换到ring0，并调用<em class="jp"> system_call </em>。从这种有规律且看似无害的行为中，可以做出美好又恐怖的东西，如果你明白我的意思的话。<a class="ae jq" href="https://github.com/worldofpiggy/C-code/tree/master/kernel_mode_hooking" rel="noopener ugc nofollow" target="_blank">这里的</a>是允许<a class="ae jq" href="https://hackernoon.com/tagged/hook" rel="noopener ugc nofollow" target="_blank">挂钩</a>内核系统调用的代码，嗯，释放你的想象力。黑客快乐！</p><p id="d923" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你喜欢阅读吗？请用一笔小额捐款来支持我们。我们真的很感激！</p></div><div class="ab cl jr js hc jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hn ho hp hq hr"><p id="7273" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">原载于2015年9月11日worldofpiggy.com</em><em class="jp">的</em> <a class="ae jq" href="http://worldofpiggy.com/2015/09/11/kernel-mode-hooking-good-features-getting-rotten/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">。</em></a></p><blockquote class="jy jz ka"><p id="46c5" class="ir is jp it b iu iv iw ix iy iz ja jb kb jd je jf kc jh ji jj kd jl jm jn jo hn dt translated"><a class="ae jq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jq" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae jq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is jp it b iu iv iw ix iy iz ja jb kb jd je jf kc jh ji jj kd jl jm jn jo hn dt translated">要了解更多信息，请<a class="ae jq" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">阅读我们的“关于”页面</a>、<a class="ae jq" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书上点赞/给我们发消息</a>，或者简单地说，<a class="ae jq" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb kb jd je jf kc jh ji jj kd jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ke kf kg kh fq ki"><div class="bz el l di"><div class="kj kk l"/></div></figure></div></div>    
</body>
</html>