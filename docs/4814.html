<html>
<head>
<title>Downloading an iOS UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">下载iOS用户界面</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/downloading-an-ios-layout-a9b0ede80809?source=collection_archive---------8-----------------------#2017-06-23">https://medium.com/hackernoon/downloading-an-ios-layout-a9b0ede80809?source=collection_archive---------8-----------------------#2017-06-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/2cc3e8c3b08540a5fb9c1b10c7825a5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wpdhvktnVE5W0uga64Qr5Q.png"/></div></div></figure><div class=""/><p id="42d3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章的目的是展示如何用基本代码更新或完全重新设计一个iOS UI，而不需要提交你的应用程序进行审核。</p><p id="2a75" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这个例子中，我将使用库<a class="ae ka" href="https://github.com/acrocat/EverLayout" rel="noopener ugc nofollow" target="_blank"> Everlayout </a>和<a class="ae ka" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank"> Alamofire </a>。关于Everlayout的更多信息，请阅读我的另一篇文章'<a class="ae ka" href="https://hackernoon.com/building-and-distributing-ios-layouts-with-everlayout-c9ea41750f6" rel="noopener ugc nofollow" target="_blank">用EverLayout </a>构建和分发iOS布局。</p><h1 id="118a" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">为什么？</h1><p id="d0fe" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">每个iOS开发者都曾在某个时候成为审查时间延长或iTunes应用审查团队审查力度加大的受害者。大多数人也感到恐慌，意识到他们新批准的发行被打破或有瑕疵。我感觉把UI更新推送到你已经发布的iOS应用的好处，绕过了审核过程，说明了自己。但是具体来说，我认为这种实践在三种情况下是有趣的:</p><ul class=""><li id="b0ee" class="le lf if je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">热修复有缺陷/损坏的布局</li><li id="87db" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">几乎没有麻烦的实验性A/B测试(“为10%的用户放大这个按钮，看看转化率是否有所增加。”)</li><li id="85f0" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">具有大量动态内容的服务(比如目录或新闻阅读器)可能希望通过改变布局来吸引对新内容的额外关注。</li></ul><p id="d280" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然肯定有实际的好处，但我也认为这只是很酷！</p><h1 id="2987" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">最终结果</h1><p id="2a29" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">用Swift编写的原生iOS应用程序，当暂停时，它会更新其外观，并在返回前台时立即反映这些变化，甚至无需重新启动应用程序。</p><h1 id="3682" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">方法</h1><p id="7aff" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这里实际上有几件事情需要考虑。我将简要地提到一些将决定采取正确方法的方面，但是我给出的例子将足够基本，足以证明这是多么有趣。</p><h2 id="fa87" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">考虑因素:</h2><ol class=""><li id="8aec" class="le lf if je b jf kz jj la jn mg jr mh jv mi jz mj lk ll lm dt translated">UI更新有多重要</li><li id="e650" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">启动应用程序和应用程序激活之间的时间</li><li id="4ee2" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">用户是否有网络连接</li><li id="53b4" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">用户是否启用了后台应用刷新</li><li id="6ff8" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">你的应用程序使用多少布局以及它们的更新频率</li></ol><p id="9db7" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了我的演示，我将一切视为理所当然，并假设用户有后台应用程序刷新、网络，并且该应用程序只使用一个布局文件(相比之下，我的新闻阅读器应用程序'<a class="ae ka" href="https://itunes.apple.com/us/app/headline-a-different-way-to-read-the-news/id1178454884?ls=1&amp;mt=8" rel="noopener ugc nofollow" target="_blank"> Headline </a>'使用17个布局文件，因此需要一个更好的解决方案)。)</p><h2 id="00b2" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">我的方法:</h2><ol class=""><li id="db99" class="le lf if je b jf kz jj la jn mg jr mh jv mi jz mj lk ll lm dt translated">创建新的Xcode项目，将Everlayout和Alamofire作为依赖项。</li><li id="8a19" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">在应用程序的功能中启用后台刷新。</li><li id="38f7" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">设置一个基本的ExpressJS服务器来交付JSON布局文件。</li><li id="fa2c" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">让我们的ViewController在加载时加载捆绑的布局JSON文件。</li><li id="e0c8" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz mj lk ll lm dt translated">配置应用程序从我们的服务器获取并保存布局更新，以便在应用程序返回前台时应用。</li></ol><h2 id="ce58" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">创建新项目</h2><p id="7a23" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">如果你正在阅读这篇文章，那么我希望你知道如何设置一个新的Xcode项目并安装依赖项。</p><p id="557c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关于<a class="ae ka" href="https://github.com/acrocat/EverLayout" rel="noopener ugc nofollow" target="_blank"> Everlayout </a>和<a class="ae ka" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank"> Alamofire </a>的信息。</p><h2 id="24d2" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">启用后台刷新</h2><figure class="ml mm mn mo fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mk"><img src="../Images/2af03fbb6b03eca1ad6aa0b81ce71a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oij8fgt3KXuiS3Rx6cBdw.png"/></div></div></figure><p id="6849" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了在应用暂停时更新布局，我们需要启用“后台获取”功能。要启用它，请打开您的项目设置&gt;功能并切换“后台模式”。从显示的模式中，启用“后台获取”。</p><h2 id="4161" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">ExpressJS服务器</h2><p id="926a" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">实际上，<strong class="je ig"> <em class="mp">任何能够提供JSON文件的</em> </strong>服务器都适用于此。事实是，我使用了一个ExpressJS服务器，因为我已经有一个在运行了！如果您不熟悉Node或ExpressJS，这里就不多说了。但是不要担心，只要您可以通过网络向您的应用程序提供JSON文件，就可以了。</p><p id="fce9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是我的路线，例如:</p><figure class="ml mm mn mo fq hw"><div class="bz el l di"><div class="mq mr l"/></div></figure><p id="b7db" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我发送给应用程序的JSON是一个新UI的描述，它将被输入到Everlayout中。这些布局非常灵活，可以完全改变应用程序的外观。</p><p id="bc08" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以在这里想象，服务器可能会预先确定关于客户端的事情，并以更符合其需求或特定测试组的布局来响应，而不只是返回新的布局。</p><h2 id="9586" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">视图控制器</h2><p id="2344" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">由于我们的应用程序只有一个ViewController，我将使用这个文件来加载和构建布局，并向我们的服务器请求更新。</p><p id="63a5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当我们最初启动时，最新的布局文件将是我们与应用程序捆绑在一起的文件。更新后，我们将加载存储在我们的主目录布局。</p><figure class="ml mm mn mo fq hw"><div class="bz el l di"><div class="mq mr l"/></div></figure><h2 id="3f0f" class="ls kc if bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">获取更新</h2><p id="1347" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">最后，我们需要前往AppDelegate，告诉我们的应用程序在后台运行时获取布局更新。</p><figure class="ml mm mn mo fq hw"><div class="bz el l di"><div class="mq mr l"/></div></figure><h1 id="0238" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论</h1><p id="d6ee" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">能够更新一个应用程序<a class="ae ka" href="https://hackernoon.com/tagged/design" rel="noopener ugc nofollow" target="_blank">设计</a>甚至不需要重启应用程序是非常酷的！</p><div class="ml mm mn mo fq ab cb"><figure class="ms hw mt mu mv mw mx paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ms hw mt mu mv mw mx paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ms hw mt mu mv mw mx paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="my mz na"><p id="f922" class="jc jd mp je b jf jg jh ji jj jk jl jm nb jo jp jq nc js jt ju nd jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd mp je b jf jg jh ji jj jk jl jm nb jo jp jq nc js jt ju nd jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ml mm mn mo fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ne"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="ml mm mn mo fq hw"><div class="bz el l di"><div class="nf mr l"/></div></figure></div></div>    
</body>
</html>