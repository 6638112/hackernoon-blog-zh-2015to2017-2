<html>
<head>
<title>The New Angular ::ng-deep and the Shadow-Piercing Combinators Drop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新的Angular ::ng-deep和阴影穿刺组合下降</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-new-angular-ng-deep-and-the-shadow-piercing-combinators-deep-and-drop-4b088dbe459?source=collection_archive---------6-----------------------#2017-07-17">https://medium.com/hackernoon/the-new-angular-ng-deep-and-the-shadow-piercing-combinators-deep-and-drop-4b088dbe459?source=collection_archive---------6-----------------------#2017-07-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/43087e04141724fa6036478179bac7bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ZU1njIsaThj-dQDkS-I0Q.jpeg"/></div></div></figure><p id="0720" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ka">本</em>条</strong> <strong class="je hv"> <em class="ka">原本出现在</em></strong><a class="ae kb" href="https://dormoshe.io/articles/the-new-angular-ng-deep-and-the-shadow-piercing-combinators-drop-16" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="ka">dormoshe . io</em></strong></a></p><p id="f503" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">阴影穿透组合器(<code class="eh kc kd ke kf b">/deep/</code>、<code class="eh kc kd ke kf b">&gt;&gt;&gt;</code>和<code class="eh kc kd ke kf b">::shadow</code>)被<a class="ae kb" href="https://www.w3.org/wiki/Webapps/WebComponentsApril2015Meeting" rel="noopener ugc nofollow" target="_blank"> W3C </a>、普通浏览器和工具弃用了一段时间。Sass和Chrome将这种分辨率带入了现实。</p><blockquote class="kg"><p id="374c" class="kh ki hu bd kj kk kl km kn ko kp jz ek translated">Sass在任何版本的Sass中将不再支持/deep/和&gt; &gt; &gt;；Chrome改变/deep/自Chrome 60以来的行为</p></blockquote><p id="46a6" class="pw-post-body-paragraph jc jd hu je b jf kq jh ji jj kr jl jm jn ks jp jq jr kt jt ju jv ku jx jy jz hn dt translated">Angular的团队决定为Angular添加一个名为<code class="eh kc kd ke kf b">::ng-deep</code>的新组合子。<strong class="je hv">新组合子在这里带着上周(7月14日)发布的</strong><a class="ae kb" href="https://github.com/angular/angular/blob/master/CHANGELOG.md#430-2017-07-14" rel="noopener ugc nofollow" target="_blank"><strong class="je hv">Angular 4 . 3 . 0</strong></a>新版本。</p><blockquote class="kg"><p id="31cb" class="kh ki hu bd kj kk kl km kn ko kp jz ek translated">Angular的团队建议停止使用旧的组合子，开始使用::ng-deep</p></blockquote><p id="1ddb" class="pw-post-body-paragraph jc jd hu je b jf kq jh ji jj kr jl jm jn ks jp jq jr kt jt ju jv ku jx jy jz hn dt translated">在这篇短文中，我们将回顾这种下降的状态，并遵循Angular核心团队的建议。</p></div><div class="ab cl kv kw hc kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hn ho hp hq hr"><h1 id="31be" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">一点背景——阴影穿透组合子</h1><p id="df40" class="pw-post-body-paragraph jc jd hu je b jf ma jh ji jj mb jl jm jn mc jp jq jr md jt ju jv me jx jy jz hn dt translated"><code class="eh kc kd ke kf b">/deep/</code>的初衷是提供一种方法来处理当作用域边界阻碍了偶尔的实际需求<strong class="je hv">从作用域外</strong>或全局调整样式时的异常情况。</p><p id="b0d3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh kc kd ke kf b">/deep/</code>完全忽略所有阴影边界，并进入任意数量的阴影树。简而言之，<code class="eh kc kd ke kf b">/deep/</code>允许你深入到元素的内部，并以任何节点为目标。</p><p id="1631" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在定制元素的世界里,<code class="eh kc kd ke kf b">/deep/</code>组合子特别有用。例如，当一片叶子是一个花园(在任何级别)的后代时，我们可以像这样更改样式:</p><pre class="mf mg mh mi fq mj kf mk ml aw mm dt"><span id="e29f" class="mn ld hu kf b fv mo mp l mq mr">garden /deep/ leaf {<br/>  border: 3px solid dark-green;<br/>}</span></pre><p id="311c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh kc kd ke kf b">/deep/</code>组合子也有别名<code class="eh kc kd ke kf b">&gt;&gt;&gt;</code>，所以这个例子可以写成这样:</p><pre class="mf mg mh mi fq mj kf mk ml aw mm dt"><span id="a9ab" class="mn ld hu kf b fv mo mp l mq mr">garden &gt;&gt;&gt; leaf {<br/>  border: 3px solid dark-green;<br/>}</span></pre></div><div class="ab cl kv kw hc kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hn ho hp hq hr"><h1 id="f28c" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">放置的状态</h1><p id="354c" class="pw-post-body-paragraph jc jd hu je b jf ma jh ji jj mb jl jm jn mc jp jq jr md jt ju jv me jx jy jz hn dt translated">移除这些组合器的决定在2015年的Web应用工作组(WebApps) Web组件<a class="ae kb" href="https://www.w3.org/wiki/Webapps/WebComponentsApril2015Meeting" rel="noopener ugc nofollow" target="_blank">会议上被接受。</a></p><figure class="mf mg mh mi fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ms"><img src="../Images/21cdcc7be97f4cd2dbe4b020d1c85a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMYSN-xllTR3n6DJiEeJ9A.png"/></div></div><figcaption class="mt mu fg fe ff mv mw bd b be z ek">The meeting discussion and resolution</figcaption></figure><p id="c975" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">根据这次会议，<a class="ae kb" href="https://www.chromestatus.com/feature/6750456638341120" rel="noopener ugc nofollow" target="_blank"> Chrome v45 </a>将组合符标记为不推荐使用。在下一个稳定版本的Chrome中，版本60中<strong class="je hv">、</strong>、<a class="ae kb" href="https://www.chromestatus.com/feature/4964279606312960" rel="noopener ugc nofollow" target="_blank">、<strong class="je hv">组合符的行为将会改变</strong>、</a>。<code class="eh kc kd ke kf b">/deep/</code>组合子的行为类似于<strong class="je hv">后代组合子</strong> <code class="eh kc kd ke kf b">` `</code>，即空间，实际上是无运算的。</p></div><div class="ab cl kv kw hc kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hn ho hp hq hr"><h1 id="e4ad" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">新的::ng-deep组合器</h1><p id="cea4" class="pw-post-body-paragraph jc jd hu je b jf ma jh ji jj mb jl jm jn mc jp jq jr md jt ju jv me jx jy jz hn dt translated"><code class="eh kc kd ke kf b">::ng-deep</code> combinator是Angular的一个新组合，最后一个小版本4.3.0发布。<code class="eh kc kd ke kf b">::ng-deep</code>是/deep/ and &gt; &gt; &gt;的别名，但是因为这些组合符被工具和浏览器抛弃了，Angular增加了这个新的组合符。</p><p id="b73c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh kc kd ke kf b">::ng-deep</code> <strong class="je hv">不是解决问题的长久之计，也是不可取的</strong>。根据安格尔核心团队的建议，直到安格尔放弃组合子-</p><blockquote class="kg"><p id="ddf1" class="kh ki hu bd kj kk kl km kn ko kp jz ek translated">为了与工具有更广泛的兼容性，应该首选`::ng-deep '</p></blockquote><p id="5097" class="pw-post-body-paragraph jc jd hu je b jf kq jh ji jj kr jl jm jn ks jp jq jr kt jt ju jv ku jx jy jz hn dt translated">没有任何关于何时新的组合器将被删除的澄清，但是我们知道，阴影穿透组合器的任何使用将只在有一个清晰的迁移路径时从Angular中删除。</p></div><div class="ab cl kv kw hc kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hn ho hp hq hr"><h1 id="3fff" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">结论</h1><p id="0b0a" class="pw-post-body-paragraph jc jd hu je b jf ma jh ji jj mb jl jm jn mc jp jq jr md jt ju jv me jx jy jz hn dt translated">组合数从工具和浏览器中消失只是时间问题。现在，当Chrome和Sass正在处理这个问题时，没有选择来解决这个问题。一个由Angular团队提供的新替代品，我们应该使用它。很明显，我们将在不久的将来听到这个话题。在此之前，只需使用<code class="eh kc kd ke kf b">::ng-deep</code>即可获得更广泛的兼容性。</p><figure class="mf mg mh mi fq iv fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/522b2e4ace3cfcecd43bba30fcf0a317.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*cA1Y2VmIvRnUJUvjUPNZ2A.png"/></div></figure><p id="c3e1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ka">你可以跟随我在</em></strong><a class="ae kb" href="https://www.dormoshe.io" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="ka">睡鼠宫</em> </strong> </a> <strong class="je hv"> <em class="ka">或</em> </strong> <a class="ae kb" href="https://twitter.com/DorMoshe" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> <em class="ka">推特</em> </strong> </a> <strong class="je hv"> <em class="ka">上阅读更多关于棱角分明、JavaScript和网页开发的内容。</em> </strong></p></div></div>    
</body>
</html>