<html>
<head>
<title>React tutorial: setting up a React project with webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React教程:使用webpack设置React项目</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/setting-up-a-react-project-from-scratch-6cb7cbb4da28?source=collection_archive---------7-----------------------#2017-03-30">https://medium.com/hackernoon/setting-up-a-react-project-from-scratch-6cb7cbb4da28?source=collection_archive---------7-----------------------#2017-03-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="068f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用<a class="ae jp" href="https://hackernoon.com/tagged/webpack" rel="noopener ugc nofollow" target="_blank"> webpack </a>从头开始建立一个<a class="ae jp" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank"> React </a>项目需要很多部分。这是一个关于我如何设置我的最后一个项目的演练。</p><p id="8e04" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先让我们初始化npm。</p><p id="2199" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您需要:</p><ul class=""><li id="fd66" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">打开你的终端:在Mac上你可以用Spotlight搜索终端或者在<code class="eh jz ka kb kc b">Applications -&gt; Utilities -&gt; Terminal</code>中找到它</li><li id="e415" class="jq jr hu it b iu kd iy ke jc kf jg kg jk kh jo jv jw jx jy dt translated">使用命令行创建项目目录:<code class="eh jz ka kb kc b">mkdir react-from-scratch</code></li><li id="9bac" class="jq jr hu it b iu kd iy ke jc kf jg kg jk kh jo jv jw jx jy dt translated">导航到目录:<code class="eh jz ka kb kc b">cd react-from-scratch</code></li><li id="abef" class="jq jr hu it b iu kd iy ke jc kf jg kg jk kh jo jv jw jx jy dt translated">运行<code class="eh jz ka kb kc b">npm init</code>，npm将引导您创建一个新的npm包</li><li id="248b" class="jq jr hu it b iu kd iy ke jc kf jg kg jk kh jo jv jw jx jy dt translated">首先你会被提示输入一个包名:<code class="eh jz ka kb kc b">package name: (react-from-scratch)</code>。这个项目将采用当前目录的名称，在这个例子中是<code class="eh jz ka kb kc b">react-from-scratch</code>，如果你只是按下回车键。</li><li id="a486" class="jq jr hu it b iu kd iy ke jc kf jg kg jk kh jo jv jw jx jy dt translated">还可以设置版本号(默认为<code class="eh jz ka kb kc b">1.0.0</code>)、描述、入口点(默认为<code class="eh jz ka kb kc b">index.js</code>)、测试命令、git库、关键字、作者和许可证。我将坚持使用大多数默认值，但我添加了一个简短的描述和作者姓名。</li></ul><p id="6db2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦你完成了所有的选项，你将会得到一条<code class="eh jz ka kb kc b">Is this ok? (yes)</code>消息的提示。只需按回车键确认，现在您就完成了对<code class="eh jz ka kb kc b">package.json</code>文件的初始化！</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="0894" class="kq kr hu kc b fv ks kt l ku kv">// package.json</span><span id="0039" class="kq kr hu kc b fv kw kt l ku kv">{<br/>  "name": "react-from-scratch",<br/>  "version": "1.0.0",<br/>  "description": "the demo",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>  },<br/>  "author": "Vinny Martinez",<br/>  "license": "ISC"<br/>}</span></pre><p id="359c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在项目中添加一个. gitignore文件，这样node_modules目录就不会转到GitHub。我只使用为Node创建的一个，可以在这里找到:<a class="ae jp" href="https://github.com/github/gitignore/blob/master/Node.gitignore" rel="noopener ugc nofollow" target="_blank">https://github . com/github/git ignore/blob/master/Node . git ignore</a></p><p id="a854" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将webpack安装到npm开发环境</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="d467" class="kq kr hu kc b fv ks kt l ku kv">npm install --save-dev webpack webpack-dev-server</span></pre><p id="47ba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">创建网页包.配置. js</p><p id="eee5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我在我的项目目录中创建了一个“app”目录和一个“dist”目录。我将index.js文件放在app目录中，并将一个空白的bundle.js文件放在dist目录中。我设置了如下所示的入口和输出。注意公共路径。我需要publicPath选项来启用我的webpack-dev-server。</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="fb1a" class="kq kr hu kc b fv ks kt l ku kv">// webpack.config.js</span><span id="5a57" class="kq kr hu kc b fv kw kt l ku kv">var path = require('path');</span><span id="1b99" class="kq kr hu kc b fv kw kt l ku kv">module.exports = {<br/>  entry: './app/index.js',<br/>  output: {<br/>    filename: 'bundle.js',<br/>    path: path.resolve(__dirname, 'dist'),<br/>    publicPath: "/dist/"<br/>  }<br/>};</span></pre><p id="1e26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将babel和用于react和es6的babel预设安装到npm dev only环境中</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="dd1e" class="kq kr hu kc b fv ks kt l ku kv">npm install --save-dev babel-core babel-loader babel-react</span></pre><p id="c60b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装React和ReactDOM</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="9436" class="kq kr hu kc b fv ks kt l ku kv">npm install --save react react-dom</span></pre><p id="567d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后用babel-loader设置webpack.config.js文件</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="c08c" class="kq kr hu kc b fv ks kt l ku kv">var path = require('path')</span><span id="93a9" class="kq kr hu kc b fv kw kt l ku kv">module.exports = {<br/>  entry: './app/index.js',<br/>  output: {<br/>    filename: 'bundle.js',<br/>    path: path.resolve(__dirname, 'dist'),<br/>    publicPath: "/dist/"<br/>  },<br/>  // add the babel-loader and presets<br/><strong class="kc hv">  module: {<br/>    rules: [<br/>      {<br/>        test: /\.jsx?$/,<br/>        exclude: /node_modules/,<br/>        use: [{<br/>          loader: "babel-loader",<br/>          options: { presets: ['env', 'react']}<br/>        }]<br/>      }<br/>    ]<br/>  }</strong><br/>  // end of babel-loader<br/>}</span></pre><p id="8920" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我只需要在package.json文件中添加一个脚本来轻松启动我的webpack-dev-server，这样我就可以编辑我的项目并立即得到结果。</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="2772" class="kq kr hu kc b fv ks kt l ku kv">// package.json</span><span id="3ed6" class="kq kr hu kc b fv kw kt l ku kv">{<br/>  "name": "react-from-scratch",<br/>  "version": "1.0.0",<br/>  "description": "the demo",<br/>  "main": "index.js",<br/>  "scripts": {<br/>    <strong class="kc hv">"start": "webpack-dev-server --open",</strong><br/>    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"<br/>  },<br/>  "author": "Vinny Martinez",<br/>  "license": "ISC"<br/>}</span></pre><p id="3f34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是所有的webpack设置。</p><p id="66ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在来设置目录。我做了一些看起来有点像这样的事情:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="5451" class="kq kr hu kc b fv ks kt l ku kv">├── app<br/>│   ├── components<br/>│   │   ├── componentA.js<br/>│   │   ├── componentB.js<br/>│   │   ├── componentC.js<br/>│   │   ├── componentD.js<br/>│   │   └── componentE.js<br/>│   └── index.js<br/>├── dist<br/>│   └── bundle.js<br/>├── index.html<br/>├── package.json<br/>└── webpack.config.js</span></pre><p id="8664" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我的index.html档案:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="8f40" class="kq kr hu kc b fv ks kt l ku kv">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;title&gt;My App&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="root"&gt;&lt;/div&gt;<br/>    &lt;script src="dist/bundle.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6435" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我的index.js文件:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="229d" class="kq kr hu kc b fv ks kt l ku kv">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import ComponentA from './components/componentA'</span><span id="c054" class="kq kr hu kc b fv kw kt l ku kv">ReactDOM.render(<br/>  &lt;div&gt;<br/>    &lt;ComponentA /&gt;<br/>  &lt;/div&gt;,<br/>  document.getElementById('root')<br/>)</span></pre><p id="8661" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以创建一些组件:</p><p id="4da3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">组件a:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="9c73" class="kq kr hu kc b fv ks kt l ku kv">// components/componentA.js<br/>import React, { Component } from 'react'<br/>import ComponentB from './componentB'<br/>import ComponentC from './componentC'</span><span id="5daf" class="kq kr hu kc b fv kw kt l ku kv">export default class ComponentA extends Component {<br/>  render() {<br/>    return(<br/>      &lt;div&gt;<br/>        &lt;ComponentB /&gt;<br/>        &lt;ComponentC /&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="a922" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">构成部分b:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="a0f8" class="kq kr hu kc b fv ks kt l ku kv">// components/componentB.js<br/>import React, { Component } from 'react'</span><span id="511f" class="kq kr hu kc b fv kw kt l ku kv">export default class ComponentB extends Component {<br/>  render() {<br/>    return(<br/>      &lt;div&gt;<br/>        &lt;h1&gt;Hello,&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="693a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">组件c:</p><pre class="ki kj kk kl fq km kc kn ko aw kp dt"><span id="7a86" class="kq kr hu kc b fv ks kt l ku kv">// components/componentC.js<br/>import React, { Component } from 'react'</span><span id="7d60" class="kq kr hu kc b fv kw kt l ku kv">export default class ComponentC extends Component {<br/>  render() {<br/>    return(<br/>      &lt;div&gt;<br/>        &lt;h1&gt;World&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="e433" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样！享受React带来的乐趣！</p><figure class="ki kj kk kl fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure></div></div>    
</body>
</html>