<html>
<head>
<title>Finding Nemo in the Blockchain to Understand PoW Approach to Consensus</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在区块链中寻找尼莫，了解达成共识的方法</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/finding-nemo-a-pow-approach-to-consensus-7f42156e005c?source=collection_archive---------23-----------------------#2017-04-10">https://medium.com/hackernoon/finding-nemo-a-pow-approach-to-consensus-7f42156e005c?source=collection_archive---------23-----------------------#2017-04-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/4aea58772646fc0aa7e4460d71981a2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*U9oBa8FtvCNgBi1WSuSuPA.jpeg"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">Nemo, find it for a bounty !</figcaption></figure><p id="5f01" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">标题可能是诱饵，但我向你保证，文章的其余部分有一些突出的要点，外行人可以理解基于POW的共识。我们将看看<a class="ae ka" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>空间中各种新共识机制的<a class="ae ka" href="https://hackernoon.com/tagged/development" rel="noopener ugc nofollow" target="_blank">发展</a>，以及为什么它是现在<a class="ae ka" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>发展生态系统中最突出的主题。为什么公司应该在从涌现的过多选项中委托区块链之前理解共识。</p><p id="34ab" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本文中，我们将首先研究最突出的共识机制工作证明(PoW)。PoW几乎被用于所有的生产级系统，比如比特币和以太坊。</p><p id="e9f2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将探索工作证明的所有优点，看看它如何有助于达成共识，避免重复支出。让我们开始吧…</p><blockquote class="kb kc kd"><p id="bc1a" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated"><strong class="je hv">海底总动员</strong></p></blockquote><p id="bd24" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">工作共识证明要求矿工找到(实际计算)一个值来实现共识。让我们称这个值为Nemo …</p><p id="bd07" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">输入(I) + Nemo (N) =输出(O)</p><p id="9d35" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">尼莫，在此称为n。</p><p id="9383" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">工作机制的证明涉及寻找N，使得当它被添加到事务块(输入)时，它产生已知的输出。</strong></p><p id="b15a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当然，除了打包在一个块中的事务之外，输入还包含其他内容，例如前一个块的散列、nonce等。但是我们不要在这里深入讨论实现细节。输入中的事务由挖掘器根据它们的处理费进行挑选。</p><p id="7335" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">输出是一个散列(带有一些属性、前导零等)。输出的这种性质可以改变，以增加或减少网络中的挖掘难度。面临的挑战是找到N(而且要快，因为矿工们都在竞争)，当N加到输入上时，就给出了输出。这个N的生成很难，需要计算机花费大量的计算能力才能得出正确的N。</p><p id="aa6b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ke">你可以说矿工的计算机为得出一个正确的n做了大量的工作。因为这项工作，公共区块链据说在研究</em> <strong class="je hv"> <em class="ke">工作证明</em> </strong> <em class="ke"> (PoW)机制。</em></p><p id="d948" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">矿工做这项工作会得到奖金或费用的补偿。</p><p id="4fa0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">该系统被设计成在计算上很难生成N，但是给定一个N和一个事务块，很容易检查(输入+ N)是否真的等于输出。</p><p id="e7e7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦矿工成功生成N，它就向网络广播这个工作证明(希望赢得采矿奖金)。假设矿工A找到了尼莫，而矿工B、矿工C和矿工D还在努力寻找他们的尼莫。他们会从A那里得到一个通知，通知中有一个包含事务和Nemo(N)的块。矿工B，C，D可以快速检查使用这个N是否产生o。</p><p id="44bc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果它确实正确地产生输出，他们将它添加到他们的本地区块链(同意A的交易版本，从而达成共识)。</p><p id="bffe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这使我们在4个分散的非信任节点之间达成共识。该逻辑可以外推至任意数量的节点。</p><blockquote class="kb kc kd"><p id="07ae" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated"><strong class="je hv"> <em class="hu">但是双倍消费呢？</em>T3】</strong></p></blockquote><p id="9a50" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">一个关于连锁重组的丑陋扭曲的好与坏的故事。</strong></p><p id="85a5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们通过一个虚构好先生和坏先生的例子来理解权力区块链是如何处理双重支出的。</p><p id="dad3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">坏先生提议购买好先生持有的一家公司的股票。他们同意，古德先生将接受比特币(或乙醚)的支付，一旦他这样做，他将把这些股票的数字所有权转让给巴德先生。</p><p id="9509" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">坏人在一次交易中给好人送去200个比特币，并在此过程中掏空了他的钱包。好人不知道的是，坏人也给丑人寄了同样的200个比特币，丑人是坏人的别名。</p><p id="afee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，如果好先生聪明的话，他会等待坏——好交易在区块链中永久存在。通常，在包含他的交易的块之后，他必须等待至少12个新块(块的数量根据比特币网络的当前散列率而变化),以确保他不会受到链重组的影响。在那之后，他就可以放心地把股份送给Bad先生了。在这种情况下，Bad先生与Ugly先生(化名为自己)的交易将被网络拒绝。</p><p id="e1a7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">既然古德先生被证明是天真的。他看到Bad先生给他发送了所需的比特币，他立即将这些股份发送给Bad先生。如果坏先生稍微幸运一点，他与丑先生(他自己)的交易将首先被网络获得并永久化，而他与好先生的交易将被连锁重组拒绝。</p><p id="1a84" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">实际上，他没有花一分钱，现在他拥有古德先生的所有股份。所以他可以双倍消费。</p><p id="4e12" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">该网络试图在尽力而为的基础上停止双重消费，并让用户承担责任，直到他们的交易在比特币中足够旧并变得不可逆转，然后他们才能通过网络转移任何基于支付的资产。</p><blockquote class="kb kc kd"><p id="667d" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated"><strong class="je hv">51%攻击的情况</strong>—</p></blockquote><p id="caaf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果坏先生不想靠运气去骗好先生。他听说过大约51%的攻击，并且知道在网络中拥有大部分散列能力的任何人都能够撤销交易或双倍消费。他买下了比特币网络哈希力量51%的股份，现在可以轻易地欺骗好人先生或任何人。</p><p id="0f05" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那么为什么他或其他人不这么做呢？</p><p id="bf01" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">获得51%的网络控制权是极其昂贵的。</p><p id="5d56" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您只能冲销最近的交易。重写稍微旧一点的事务在计算上仍然非常困难，几乎不可能。</p><p id="274e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近的交易值应该非常大，以至于逆转它证明这样的网络恶意接管是合理的。</p><p id="e5dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦网络遭到破坏，基础货币就失去了价值。即使你可以购买大部分的哈希能力，你也不会买，因为参与者会对系统的公平性失去信心，基础货币价值也会下跌。</p><p id="25f4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你购买的51%的网络很快就会变得一文不值。</p><p id="0a2d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我希望你能看到战俘背后简单的光辉，为此向中本聪致敬。</p><blockquote class="kb kc kd"><p id="a096" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated"><strong class="je hv">替代共识机制取代POW </strong></p></blockquote><p id="1dd4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">几乎所有新的和突出的区块链实现都提出了自己的共识机制。以太坊要出Casper，基于POS(利害关系证明)的共识，厄里斯有Tendermint，Hyperledger Fabric有PBFT —【实用拜占庭容错】，Hyperledger锯齿湖有PoET【经过时间证明】有SGX(软件卫士扩展)等等。但是为什么呢？</p><p id="f078" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">PoW的某些缺点:</p><p id="0cde" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">1.采矿需要电力，并使用昂贵的硬件。</p><p id="0839" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.处理能力集中化问题，尤其是在私有或联盟链中。</p><p id="86bd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.如果网络中只有几个已知方，在私有网络中挖掘以达成共识是没有意义的。</p><p id="f92b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">4.在私有区块链中，一个节点总是可以带来外部处理能力，并逆转更高价值的交易。</p><p id="290d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，在这些系列中，我们将查看一些备选的共识机制，并确定如何为您的用例选择正确的区块链。</p><p id="7c5e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有兴趣，<a class="ae ka" href="https://www.linkedin.com/pulse/blockchains-type-chains-you-want-hitesh-joshi" rel="noopener ugc nofollow" target="_blank">这里的</a>是我在这个系列的上一篇文章。</p><p id="3b4a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">参考资料:</p><p id="91d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">【https://bitcoin.org/bitcoin.pdf T4】</p><p id="35da" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://tendermint.com/static/docs/tendermint.pdf" rel="noopener ugc nofollow" target="_blank">https://tendermint.com/static/docs/tendermint.pdf</a></p><p id="33f2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="http://www.pmg.lcs.mit.edu/papers/osdi99.pdf" rel="noopener ugc nofollow" target="_blank">http://www.pmg.lcs.mit.edu/papers/osdi99.pdf</a></p><p id="20f1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://github.com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal" rel="noopener ugc nofollow" target="_blank">https://github . com/hyperledger-archives/fabric/wiki/Next-Consensus-Architecture-Proposal</a></p><div class="ki kj fm fo kk kl"><a href="http://ethdocs.org/en/latest/mining.html" rel="noopener  ugc nofollow" target="_blank"><div class="km ab ej"><div class="kn ab ko cl cj kp"><h2 class="bd hv fv z el kq eo ep kr er et ht dt translated">采矿-以太坊家园0.1文件</h2><div class="ks l"><h3 class="bd b fv z el kq eo ep kr er et ek translated">采矿一词起源于加密货币的黄金类比上下文。黄金或贵金属是…</h3></div><div class="kt l"><p class="bd b gc z el kq eo ep kr er et ek translated">ethdocs.org</p></div></div></div></a></div><figure class="ku kv kw kx fq iv"><div class="bz el l di"><div class="ky kz l"/></div></figure></div></div>    
</body>
</html>