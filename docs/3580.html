<html>
<head>
<title>React Navigation with MobX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用MobX反应导航</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/react-navigation-with-mobx-2064fcdaa25b?source=collection_archive---------5-----------------------#2017-04-10">https://medium.com/hackernoon/react-navigation-with-mobx-2064fcdaa25b?source=collection_archive---------5-----------------------#2017-04-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="2a29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(更新了^v1.1.0反应导航系统)</p><p id="1cdc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个帮助你建立一个<a class="ae jp" href="https://hackernoon.com/tagged/react-native" rel="noopener ugc nofollow" target="_blank"> react-native </a>应用的逐步指南，用<a class="ae jp" href="https://github.com/react-community/react-navigation" rel="noopener ugc nofollow" target="_blank"> react-navigation </a>作为你的导航器，用<a class="ae jp" href="https://github.com/mobxjs/mobx" rel="noopener ugc nofollow" target="_blank"> MobX </a>驱动你的中间数据存储。完整的源代码在<a class="ae jp" href="https://hackernoon.com/tagged/github" rel="noopener ugc nofollow" target="_blank"> Github </a>上。让我们言归正传。</p><p id="3d23" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">* <strong class="it hv">编辑:2018年2月。</strong></p><p id="3227" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我已经更新了^1.1.0.反应导航的指南唯一需要的修改是给助手添加一个存根函数<code class="eh jq jr js jt b">addListener</code>。当然，对于事件订阅的最初目的，请在这里仔细阅读作者<a class="ae jp" href="https://github.com/react-navigation/react-navigation/pull/3345" rel="noopener ugc nofollow" target="_blank">所做的惊人工作。就我个人而言，我不需要这个(也许我错了？).看看然后告诉我。</a></p><p id="a0df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，完全可运行(带expo)和更新的演示项目源是<a class="ae jp" href="https://github.com/pxue/react-native-navigation-mobx-demo" rel="noopener ugc nofollow" target="_blank">这里是</a>。</p><h2 id="52e0" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">1.从头开始设置您的注册护士应用程序:</h2><p id="0360" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">如果你是从零开始，一定要使用新的<code class="eh jq jr js jt b">create-react-native-app</code>命令。当您需要更多的控制和灵活性时，您可以随时更换Expo。</p><pre class="ku kv kw kx fq ky jt kz la aw lb dt"><span id="4e34" class="ju jv hu jt b fv lc ld l le lf">$ yarn global add create-react-native-app<br/>$ create-react-native-app my-project<br/>$ cd my-project<br/>$ yarn start</span></pre><h2 id="5182" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">2.反应-导航</h2><pre class="ku kv kw kx fq ky jt kz la aw lb dt"><span id="4c36" class="ju jv hu jt b fv lc ld l le lf">yarn add react-navigation</span></pre><h2 id="ffb7" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">3.Mobx和Mobx-react绑定</h2><pre class="ku kv kw kx fq ky jt kz la aw lb dt"><span id="219f" class="ju jv hu jt b fv lc ld l le lf">yarn add mobx<br/>yarn add mobx-react</span></pre><h2 id="a773" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">4.设置基本堆栈导航器</h2><figure class="ku kv kw kx fq lg"><div class="bz el l di"><div class="lh li l"/></div></figure><p id="89ac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个基本设置包括一个初始“索引”屏幕和一个“搜索”屏幕。通过调用<code class="eh jq jr js jt b">navigate</code>助手函数并给它一个路径名(即搜索)。</p><figure class="ku kv kw kx fq lg fe ff paragraph-image"><div class="fe ff lj"><img src="../Images/ee6c64b20e260f93ac0a1a69199f7367.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/1*Tti4_vxBHK0bD8dImdUrXA.gif"/></div><figcaption class="lm ln fg fe ff lo lp bd b be z ek">Basic stack navigation with back button.</figcaption></figure><h2 id="61ec" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">5.用MobX替换RN-Navigation的内部状态</h2><p id="4faf" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">使用默认导航器，屏幕状态由导航包在内部管理。用同一个状态管理器来管理你的所有状态是一个很好的实践，无论是Redux、MobX还是其他。在这种情况下，MobX应该负责所有的动作调度和状态管理。</p><p id="32b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本导航存储来观察状态，修补调度并通过MobX路由它。</p><figure class="ku kv kw kx fq lg"><div class="bz el l di"><div class="lh li l"/></div></figure><p id="c287" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">确保可观察对象是一个<code class="eh jq jr js jt b">ref</code>。了解更多信息。关于修饰语及其含义，请阅读MobX <a class="ae jp" href="https://mobx.js.org/refguide/modifiers.html" rel="noopener ugc nofollow" target="_blank">参考可观测量</a>。</p><p id="fd75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在主App.js中，用Provider包装呈现的视图，并将导出的商店作为属性传递给它。</p><p id="a5ef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">功能不应该改变，但是底层导航状态现在由MobX管理。</p><h2 id="48b4" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">6.从子屏幕传回更新</h2><p id="55cf" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">一个常用的功能是让子屏幕更新父屏幕上的一些参数。例如，如果用户在搜索屏幕上搜索“Cat gif ”,并导航回索引，索引屏幕应该显示“Cat gif”的结果，导航标题应该反映搜索词。</p><figure class="ku kv kw kx fq lg"><div class="bz el l di"><div class="lh li l"/></div></figure><figure class="ku kv kw kx fq lg fe ff paragraph-image"><div class="fe ff lj"><img src="../Images/d33488863ccce7f6bf8c91287084db7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/1*NjSxW7xL0DSif1GOTwISjA.gif"/></div></figure><p id="12d7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样。具有基本导航的简单应用程序，由MobX管理状态。同样，完整的源代码可以在Github上看到。</p><h2 id="be84" class="ju jv hu bd jw jx jy jz ka kb kc kd ke jc kf kg kh jg ki kj kk jk kl km kn ko dt translated">来源和灵感:</h2><div class="lq lr fm fo ls lt"><a href="https://github.com/pxue/react-native-navigation-mobx-demo" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab ej"><div class="lv ab lw cl cj lx"><h2 class="bd hv fv z el ly eo ep lz er et ht dt translated">pxue/react-native-navigation-mobx-demo</h2><div class="ma l"><h3 class="bd b fv z el ly eo ep lz er et ek translated">React-native-Navigation-mobx-demo-用MobX演示反应原生导航。博客文章撰写-&gt;</h3></div><div class="mb l"><p class="bd b gc z el ly eo ep lz er et ek translated">github.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh lk lt"/></div></div></a></div><div class="lq lr fm fo ls lt"><a href="https://github.com/react-community/react-navigation/issues/34#issuecomment-281651328" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab ej"><div class="lv ab lw cl cj lx"><h2 class="bd hv fv z el ly eo ep lz er et ht dt translated">这个包依赖Redux吗？可以配合Mobx使用吗？问题# 34 react-社区/react…</h2><div class="ma l"><h3 class="bd b fv z el ly eo ep lz er et ek translated">反应-导航-学习一次，导航到任何地方</h3></div><div class="mb l"><p class="bd b gc z el ly eo ep lz er et ek translated">github.com</p></div></div><div class="mc l"><div class="mi l me mf mg mc mh lk lt"/></div></div></a></div><div class="lq lr fm fo ls lt"><a href="https://github.com/wojteg1337/MobXApp" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab ej"><div class="lv ab lw cl cj lx"><h2 class="bd hv fv z el ly eo ep lz er et ht dt translated">wojteg1337/MobXApp</h2><div class="ma l"><h3 class="bd b fv z el ly eo ep lz er et ek translated">基本的MobX应用程序，有FlatList，StyledComponents，Flow，react-navigation。</h3></div><div class="mb l"><p class="bd b gc z el ly eo ep lz er et ek translated">github.com</p></div></div><div class="mc l"><div class="mj l me mf mg mc mh lk lt"/></div></div></a></div><div class="ku kv kw kx fq ab cb"><figure class="mk lg ml mm mn mo mp paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mk lg ml mm mn mo mp paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mk lg ml mm mn mo mp paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mq mr ms"><p id="f922" class="ir is mt it b iu iv iw ix iy iz ja jb mu jd je jf mv jh ji jj mw jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mt it b iu iv iw ix iy iz ja jb mu jd je jf mv jh ji jj mw jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ku kv kw kx fq lg fe ff paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="fe ff mx"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="ku kv kw kx fq lg"><div class="bz el l di"><div class="nc li l"/></div></figure></div></div>    
</body>
</html>