<html>
<head>
<title>Better know a module: Moment Timezone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更好地了解一个模块:时刻时区</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/better-know-a-module-moment-timezone-e7da940b9586?source=collection_archive---------5-----------------------#2017-08-29">https://medium.com/hackernoon/better-know-a-module-moment-timezone-e7da940b9586?source=collection_archive---------5-----------------------#2017-08-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/9e0efdecf7e29f7e106704140c26fd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0T2Z6LfSf8fV-T1FSH8CJQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image from <a class="ae jg" href="https://unsplash.com/@loic" rel="noopener ugc nofollow" target="_blank">Loic Djim</a></figcaption></figure><p id="9823" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">几年来，我一直在思考快速繁殖的外星白蚁物种npm模块的困境。众所周知，这个社区创造了模块创建、采用和最终放弃的记录。</p><p id="56cf" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">面对快速的变化，坚持那些永恒的东西是人类的反应。为了表彰真正有用的工具，我认为我应该对我在每个项目中使用的工具<strong class="jj hv">给予一些赞扬。</strong></p><p id="ab2b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些是重型工具，简单的工具，吸引很少竞争的工具，因为它们是同类中最好的。这些项目致力于语义版本化，他们编写(和更新)开发人员文档，他们编写单元测试。</p><p id="bcf9" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">最重要的是，这些工具处理了一个复杂而又棘手的问题。在最好的情况下，他们把你的问题归结为一个简单的步骤。在最坏的情况下，它们提供了一个为混乱世界的严酷条件而设计的一致的80/20解决方案。</p><p id="879d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在去年的<a class="ae jg" href="https://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/" rel="noopener ugc nofollow" target="_blank">左垫灾难</a>之后，我不能说像<a class="ae jg" href="https://momentjs.com/timezone/" rel="noopener ugc nofollow" target="_blank">时刻时区</a>这样的好的、深思熟虑的模块足够了。</p><h1 id="45c7" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">时刻时区</h1><p id="17bd" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">由Tim Wood在2012年创建的Moment Timezone是对他早期的Moment.js库的有益补充，大多数Javacript开发者对这个库都很熟悉。</p><p id="8822" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于Moment.js，没有什么可抱怨的。对于JavaScript中令人困惑且有限的日期和时间处理，它是一个明智、健壮且维护良好的替代品。该项目是如此的一致和周到，我像一个本地模块一样应用它。没有它我从不离开我的家。</p><p id="d0df" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Moment Timezone主要扩展Moment.js库来处理时区相关的操作和转换。</p><p id="17e3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">其他快速事实</strong></p><ul class=""><li id="74d9" class="lk ll hu jj b jk jl jo jp js lm jw ln ka lo ke lp lq lr ls dt translated">Github<a class="ae jg" href="https://github.com/moment/moment-timezone" rel="noopener ugc nofollow" target="_blank">上的32个贡献者</a></li><li id="71b5" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">31个版本</li><li id="f3e1" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">维持一个活跃的问题委员会</li><li id="b5ee" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">有一个很棒的文档页面<a class="ae jg" href="https://momentjs.com/timezone/docs/" rel="noopener ugc nofollow" target="_blank">这里</a></li><li id="c461" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">在的文档页面<a class="ae jg" href="https://momentjs.com/timezone/tests/" rel="noopener ugc nofollow" target="_blank">上运行实时时区测试！</a></li><li id="9784" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">有一个非常酷的交互式时区可视化，如下所示:</li></ul><figure class="lz ma mb mc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ly"><img src="../Images/2a72d0df64a8bf7ff930dfc41a911d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qdO0tiEwsvg7dXDUGUdlAA.png"/></div></div></figure><h1 id="94f0" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">开发者设置</h1><p id="505c" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">如果您想了解一两件关于项目寿命的事情，请查阅开发人员文档。Moment Timezone通过了我的测试，它提供了简单而全面的文档解释:</p><ol class=""><li id="cdef" class="lk ll hu jj b jk jl jo jp js lm jw ln ka lo ke md lq lr ls dt translated">开发人员的依赖性</li><li id="d739" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke md lq lr ls dt translated">运行测试</li><li id="19ea" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke md lq lr ls dt translated">编译健壮时区数据</li><li id="1518" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke md lq lr ls dt translated">贡献新区域</li><li id="38a1" class="lk ll hu jj b jk lt jo lu js lv jw lw ka lx ke md lq lr ls dt translated">针对新时区或现有时区的构建测试</li></ol><p id="c1e5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">强调测试对于执行复杂多样转换的库来说至关重要。小的时区错误可能会被忽视，你只能想象它对各种应用程序(金融、政府、医疗管理、通信、赌博等)的连锁反应。</p><p id="81a2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">开发人员环境利用Grunt进行构建和测试。虽然Grunt现在看起来已经过时了。在这一点上，我建议进一步投票支持图书馆:</p><p id="74ab" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">创造者和贡献者更关心过程的稳定性，而不是闪亮物体综合症。</p><p id="b610" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">下面简单介绍一下入门是多么简单:</p><figure class="lz ma mb mc fq iv"><div class="bz el l di"><div class="me mf l"/></div></figure><h1 id="581d" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">MVP用例</h1><p id="2169" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">如果你今天没有学到别的，那就学这个。</p><p id="a55f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">大多数最小可行产品不需要处理时区的复杂性。</strong></p><p id="58db" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于Moment Timezone来说，最有用的一种情况是设置默认的应用程序范围。我在我的每一个web或节点项目中都这样做(或有所变化):</p><figure class="lz ma mb mc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mg"><img src="../Images/5ff3392113504f6ca4f18676a9938e63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jHipjmLa0Ramw7F5i_Zggw.png"/></div></div></figure><p id="20ca" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在浏览器应用程序中，您可以在任何版本的init文件中进行设置。对于express应用程序，我建议主js文件也是如此。</p><p id="bc33" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">默认时区将使您摆脱主要基于用户机器(客户端)或服务器时区(服务器端)的不同时区所带来的混乱。</p><p id="fa3a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我在<strong class="jj hv">没有</strong>时区时遇到的最大问题是可变的客户端和服务器时间。流程是这样的:</p><figure class="lz ma mb mc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mh"><img src="../Images/fa03bad0100309d3e12286d0d05901fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aea4nbVMMxhyQcFiFBXdCA.png"/></div></div></figure><p id="9e06" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我更喜欢<strong class="jj hv">设置它然后忘记它</strong>的方法。如果我的MVP目标是纽约的酒吧，并列出他们的欢乐时光，我可以在所有应用程序上默认我的时区为美国/纽约。混乱解除！</p><p id="1d4f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">除此之外，默认时区为您提供了时区转换的基准。如果您的应用程序恰好需要多个时区，没有更可靠的方法来快速获得您需要的转换。</p><h1 id="b803" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">但是等等！还有更多…</h1><p id="2225" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">Moment Timezone和Moment.js有很多我没有接触过的更高级的特性。我的用例相当普通。最多，我倾向于处理美国时区和快速的一次性转换。然而，这正是图书馆的魅力所在。</p><p id="1f26" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">查看<a class="ae jg" href="https://momentjs.com/timezone/" rel="noopener ugc nofollow" target="_blank">文档页面</a>，不要忘记享受构建东西的乐趣。</p><figure class="lz ma mb mc fq iv"><div class="bz el l di"><div class="mi mf l"/></div></figure></div></div>    
</body>
</html>