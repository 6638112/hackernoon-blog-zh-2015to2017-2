<html>
<head>
<title>11 lessons learned as a React contractor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为React承包商的11条经验教训</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/11-lessons-learned-as-a-react-contractor-f515cd0491cf?source=collection_archive---------0-----------------------#2016-12-13">https://medium.com/hackernoon/11-lessons-learned-as-a-react-contractor-f515cd0491cf?source=collection_archive---------0-----------------------#2016-12-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/1c1d89b8ab81b130ef76edbad3816a3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1N_VDQpYq36QPoWO59P0iw.jpeg"/></div></div></figure><div class=""/><p id="91af" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我不知道我在找它，但是当我找到它的时候，我突然明白了。</p><p id="2aa6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是我反应之旅的要点版本</p><ul class=""><li id="fdf7" class="ka kb if je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki dt translated">我已经写了18年的代码，专业地写了大约13年</li><li id="6391" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">其中6年，我是一名专注的Flash开发人员</li><li id="901c" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">史蒂夫·乔布斯的公开信之后，所有的闪光点都消失了</li><li id="dcd5" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">记得我可以写HTML，CSS和JS，重温这些技能</li><li id="6730" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">我和主流的Javascript框架斗争了一段时间，他们感觉隐藏了太多的逻辑，在NPM之前的世界里，他们就像是巨大而脆弱的野兽</li><li id="2475" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">离开我的全职工作开始承包，主要是原型制作</li><li id="a09b" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">看了几个<a class="ae ko" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">的会议演示反应</a></li><li id="6aef" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">2015年10月，我虚张声势地加入了React项目，并爱上了它</li><li id="2fe4" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">2016年1月，我把LinkedIn上的职称换成了React developer……</li></ul><blockquote class="kp"><p id="4cb9" class="kq kr if bd ks kt ku kv kw kx ky jz ek translated">这些是我学到的一些东西</p></blockquote></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="96d1" class="lg lh if bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md dt translated">1:多个简单的组件比一个高度可定制的组件更好</h1><p id="8c84" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">能够根据你传递给它的道具来改变一个React组件的行为是它的一个重要特性。然而，在一个项目的早期，很容易养成一种习惯，即构建一些真正通用的、可以在很多地方使用的组件。</p><p id="2fb0" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦你进入了项目的核心，你开始充实你的组件需要如何被使用的所有边缘情况，你会发现你自己在场景X中使用组件A的地方追着你的尾巴修复错误，却发现它在场景Y和z中创造了更多的错误。</p><p id="1e32" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议</strong>:如果一个可组合的组件导致了错误，把它分解成更简单的一次性组件，即使你在重复代码。</p><h1 id="a3f4" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">2:如果你在库中发现了bug，一定要提出问题或请求</h1><p id="7635" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">如果不使用开源软件，你就无法使用React，无论是核心的React项目还是NPM上可用的1000个模块中的任何一个。如果你发现了一个bug，在项目的回购中提出一个问题——如果你修复了一个bug，那就更好了，但是提出一个Pull请求并合并修复。很可能你不是唯一一个想要修复这个bug的人。</p><p id="b11a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的建议:回馈社会，即使只是修改文档中的错别字。</p><h1 id="0e47" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">3:首先实现一个构建过程，然后做出反应</h1><p id="5850" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">我知道这听起来像是一个不太可能的场景，但是我开始了一个构建React组件的合同，却发现它所使用的主干项目正在被编译<em class="mo">而没有被编译</em>依赖项。在Backbone中实现React组件相当简单，使用Redux，您甚至可以在两者之间进行通信。然而，它们只有在与Browserify或Webpack一起编译时才能通信。</p><p id="8a5b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议</strong>:如果你在一个现有的项目中实现React，首先将你的构建过程迁移到Browserify或者Webpack <em class="mo">。</em></p><h1 id="fdc9" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">4:用于简单数据可视化的原始SVG &gt;= D3</h1><p id="8574" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">D3对于数据可视化来说很棒，但是如果你构建的东西很简单，也许只需要渲染一些原始的SVG就可以完成工作。</p><p id="e800" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议</strong>:学习一些SVG基础知识，你就可以在依赖其他任何东西之前把它推进相当长的一段路。<a class="ae ko" href="https://www.youtube.com/channel/UCbxzdZTDn4YB4Z-ukch2ivw" rel="noopener ugc nofollow" target="_blank">前端中心Youtube频道</a>前几天刚好在inline SVG上掉了一个<a class="ae ko" href="https://www.youtube.com/watch?v=af4ZQJ14yu8" rel="noopener ugc nofollow" target="_blank">很棒的视频</a>，你应该去看看！</p><h1 id="cf2e" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">5:当你只有两周时间的时候，保持精简</h1><p id="48a1" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">如果你所做的只是渲染，那么你所需要的就是反应和随机反应。</p><p id="5edf" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">没人有时间听这些废话！Redux非常适合在具有多级UI的大型项目中处理状态，如果你正在构建的东西相当简单，你可以只传递道具和回调。如果项目最终增长，你会知道什么时候开始实现Redux，并且在那时添加它应该是相当容易的。</p><p id="50ce" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的建议:样板项目可能是有用的，但是如果你想保持精简，从React-DOM开始，然后从那里开始。</p><h1 id="a017" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">6:仅仅依靠CSS动画来移动大量元素会很慢</h1><p id="009d" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">我不能准确地告诉你什么时候你会看到帧速率的显著下降，也许是30个元素或300个，但你可以做些事情来帮助。利用React的虚拟DOM，并确保只渲染或重新渲染<em class="mo">真正</em>需要的组件。</p><p id="66e8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这可能意味着，计算哪些组件在视口中可见，并且只渲染那些组件。</p><p id="d587" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议</strong>:在较低规格的机器上进行测试，但也要用极端数据进行测试，看看当它们被推到极限时运行得如何。</p><h1 id="1765" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">7:样板文件是一个很好的起点，但是…</h1><p id="0b88" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">如果你想学习一个库或框架，样板工程是一个很好的起点。如果你的公司有自己的样板文件，那太好了！</p><p id="95b9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，不要被愚弄，以为样板文件是一切的解决方案。最终你会意识到它并不能完全满足你的需求，如果你没有从头开始构建这个项目，它会令人望而生畏。此外，如果它是一个大型的高度特色的样板文件，您可能会意外地重新构建它已经拥有的功能。</p><p id="34f3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的建议:只使用他们擅长的样板——快速启动项目。不要害怕打破它们，扭曲它们，并随意滥用它们。</p><h1 id="2d87" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">8:维护可预测的组件、连接组件和容器模式</h1><p id="0adb" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">当使用Redux构建时，最好限制可以访问存储的组件的数量，以确保尽可能多地重用actions/reducer。</p><p id="4ed4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">组件</strong>要哑，只能靠自己的道具。</p><p id="344f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">连接组件</strong>通过Redux访问app数据，有一些复杂的业务逻辑，但是渲染自己的DOM和一些子组件。</p><p id="6a91" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">容器</strong>是瘦的编写器，接受数据，只呈现其他组件。</p><p id="4a49" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的建议是:保持命名和连通性的一致性</p><h1 id="0a07" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">9:严格的林挺是福也是祸</h1><p id="4c5e" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">我参与过不同的项目，涉及林挺的方方面面，从完全没有林挺到如果你漏掉一个逗号就会拒绝你推送的git钩子。</p><p id="cfff" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我想我们都同意代码质量不仅仅是确保你使用了正确数量的制表符或空格。打开一个看起来很漂亮的文件会有一些乐趣，它给你的强迫症一个放松的机会，你可以专注于写代码。</p><p id="2e08" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">林挺还帮助捕捉错误，如重新分配常量和拼写错误，甚至是经典的“未定义不是一个函数”。</p><p id="5fbe" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议:</strong>接受你的团队所能忍受的最严格的林挺规则。我对JS使用ESLint，对Sass使用Atom中的scss-lint。为了使转换更容易，您可以关闭某些规则。如果你想成为硬核并阻止人们推送坏代码，<a class="ae ko" href="https://www.npmjs.com/package/pre-push" rel="noopener ugc nofollow" target="_blank">预推送</a>将在预推送git挂钩期间运行NPM脚本。</p><h1 id="742c" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">10:在现有的Express项目中改装通用React渲染是可行的…</h1><p id="3021" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">…但是你可能会因为试图这么做而长出几根白头发！</p><p id="d063" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关于如何设置一个通用的应用程序，有相当多的博客文章，但大多数都假设你想要一个单页面应用程序，很少展示如何将单个React组件渲染到现有的多页面Express应用程序中。</p><p id="ea42" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">我的建议</strong> : ReactDOMServer是你的朋友，就想象一下组件是页面片段，你只是把它们传递给模板进行渲染。</p><h1 id="65ac" class="lg lh if bd li lj mj ll lm ln mk lp lq lr ml lt lu lv mm lx ly lz mn mb mc md dt translated">学习传奇故事可能会融化你的大脑</h1><p id="dd96" class="pw-post-body-paragraph jc jd if je b jf me jh ji jj mf jl jm jn mg jp jq jr mh jt ju jv mi jx jy jz hn dt translated">Sagas是一个基于生成器的Redux中间件，这是ES6的新特性。“生成器”通过编写一个能够保持自身状态的函数来定义迭代算法这在实践中不同于Javascript的正常流程，因为在运行另一个基于Promise的代码块时，函数可以在其执行期间暂停。</p><p id="8f9d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我可能不是第一个也不是最后一个这么说的人，<a class="ae ko" href="https://www.npmjs.com/package/redux-saga" rel="noopener ugc nofollow" target="_blank">传奇故事</a>融化了我的大脑！</p><p id="c06b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦我设法让他们工作，我的大脑重新固化，我开始写一些传奇的测试，我的大脑再次融化。</p><p id="a0a0" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我最终还是屈从了他们的意愿，为这个项目写了一整套测试。如果我一开始就充分了解发电机，事情可能会有所不同。</p><p id="c605" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的建议:如果你第一次使用Sagas，而且项目中没有人能解释它们是如何工作的，那么在你深入研究之前，确保你对承诺和发生器有深刻的理解</p><p id="e79f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这只是我今年学到的一些重要的东西。对我来说，这是令人兴奋的一年，参与了许多不同类型的项目，同时也学到了很多东西。</p><p id="f33b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">展望2017年，我的清单上有几件事情要探索，首先是我开始的React Native side项目，我一直想再看看，另一个是<a class="ae ko" href="https://github.com/styled-components/styled-components" rel="noopener ugc nofollow" target="_blank">风格的组件</a>。</p><p id="68b5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想查看我在<a class="ae ko" href="https://uk.linkedin.com/in/jolyonruss" rel="noopener ugc nofollow" target="_blank"> LinkedIn上的简介</a>，你可以，如果你喜欢的话，我也在<a class="ae ko" href="https://twitter.com/jolyon_russ" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上。</p><p id="7e68" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2016快乐！</p><div class="mp mq mr ms fq ab cb"><figure class="mt hw mu mv mw mx my paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mt hw mu mv mw mx my paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mt hw mu mv mw mx my paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mz na nb"><p id="f922" class="jc jd mo je b jf jg jh ji jj jk jl jm nc jo jp jq nd js jt ju ne jw jx jy jz hn dt translated"><a class="ae ko" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ko" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ko" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ko" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd mo je b jf jg jh ji jj jk jl jm nc jo jp jq nd js jt ju ne jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ko" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ko" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mp mq mr ms fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nf"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="mp mq mr ms fq hw"><div class="bz el l di"><div class="ng nh l"/></div></figure></div></div>    
</body>
</html>