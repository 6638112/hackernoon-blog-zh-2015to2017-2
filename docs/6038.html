<html>
<head>
<title>5 simple steps to quickly start a new VR project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速启动新虚拟现实项目的5个简单步骤</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/5-simple-steps-to-quickly-start-a-new-vr-project-d9e201aa8b78?source=collection_archive---------12-----------------------#2017-08-30">https://medium.com/hackernoon/5-simple-steps-to-quickly-start-a-new-vr-project-d9e201aa8b78?source=collection_archive---------12-----------------------#2017-08-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="de43" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">在React中建立新的A-Frame项目的分步指南</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/5a93ffe94ab428142fbe3636bfb6ec7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uj52eKbgAXliLUKdeM91lg.png"/></div></div></figure><p id="5913" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">A-Frame是进入开发<a class="ae kr" href="https://hackernoon.com/tagged/vr" rel="noopener ugc nofollow" target="_blank"> VR </a>的一个很好的方式，尤其是对于那些来自<a class="ae kr" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>背景的人来说。对于那些不知道什么是A-Frame的人来说，下面是直接取自他们网站上“什么是A-Frame”第一段的官方描述:</p><blockquote class="ks kt ku"><p id="19e3" class="jv jw kv jx b jy jz iv ka kb kc iy kd kw kf kg kh kx kj kk kl ky kn ko kp kq hn dt translated">A-Frame是一个用于构建虚拟现实(VR)体验的web框架。作为WebVR的创始人，<a class="ae kr" href="https://mozvr.com/" rel="noopener ugc nofollow" target="_blank"> Mozilla VR团队</a>开发了A-Frame作为开发WebVR内容的最简单也是最强大的方法。作为一个完全开放的项目，A-Frame已经发展成为最大、最受欢迎的VR社区之一。</p></blockquote><p id="b759" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">本教程的目的是帮助你尽快开始使用A-Frame，这样你就不必浪费时间去弄清楚如何设置。如果您已经设置了react，请跳到最后一部分。如果你想看最终的设置，这里有一个github的链接。</p><p id="5e47" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你想看他们的官方文件，点击这个<a class="ae kr" href="https://aframe.io" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h2 id="3219" class="kz la hu bd lb lc ld le lf lg lh li lj ke lk ll lm ki ln lo lp km lq lr ls lt dt translated">第一步:创建一个空的存储库</h2><p id="b984" class="pw-post-body-paragraph jv jw hu jx b jy lu iv ka kb lv iy kd ke lw kg kh ki lx kk kl km ly ko kp kq hn dt translated">在本教程中，我们将这个项目称为vr-hello-world。要创建文件夹，您可以使用终端中的<code class="eh lz ma mb mc b">mkdir</code>命令或右键单击&gt;新建文件夹。</p><ul class=""><li id="0aa0" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">在你的硬盘上创建一个文件夹，命名为vr-hello-world。</li><li id="ad31" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">前往“终端”中的vr-hello-world文件夹目录</li><li id="477c" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">接下来，通过键入:<code class="eh lz ma mb mc b">git init</code>初始化存储库中的git和yarn，在它完成设置后，<code class="eh lz ma mb mc b">yarn init</code>，并按照步骤操作。</li><li id="722d" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated"><code class="eh lz ma mb mc b">touch .gitignore</code>创建一个<em class="kv">’。gitignore' </em>文件</li><li id="676f" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">打开刚刚创建的<code class="eh lz ma mb mc b">.gitignore</code>文件，将<code class="eh lz ma mb mc b">node_modules</code>和<code class="eh lz ma mb mc b">client/dist/bundle.js</code>添加到文件中。这将告诉git忽略node_modules文件夹和最终捆绑的javascript文件。</li></ul><h2 id="1549" class="kz la hu bd lb lc ld le lf lg lh li lj ke lk ll lm ki ln lo lp km lq lr ls lt dt translated">步骤2:创建文件结构</h2><p id="3e3b" class="pw-post-body-paragraph jv jw hu jx b jy lu iv ka kb lv iy kd ke lw kg kh ki lx kk kl km ly ko kp kq hn dt translated">在project中，将有两个主要组件，一个客户端和一个服务器。因此创建两个文件夹，并将其命名为'<em class="kv">客户端</em>和'<em class="kv">服务器</em>'。</p><p id="220e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">由于该项目将使用webpack来捆绑react代码，因此在客户端文件夹中添加另外两个文件夹，并将其命名为'<em class="kv"> src </em>和'<em class="kv"> dist </em></p><h2 id="9555" class="kz la hu bd lb lc ld le lf lg lh li lj ke lk ll lm ki ln lo lp km lq lr ls lt dt translated">步骤3:创建服务器</h2><p id="be3e" class="pw-post-body-paragraph jv jw hu jx b jy lu iv ka kb lv iy kd ke lw kg kh ki lx kk kl km ly ko kp kq hn dt translated">这将创建一个节点/Express服务器，无论何时调用url，它都将为客户机提供服务。</p><ul class=""><li id="15bf" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">在服务器文件夹中创建一个文件，并将其命名为<code class="eh lz ma mb mc b">index.js</code>。</li><li id="6251" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">在终端内，键入<code class="eh lz ma mb mc b">yarn install</code>并按回车键。这将安装yarn，一个节点包管理器。</li><li id="5f23" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated"><code class="eh lz ma mb mc b">yarn add express nodemon path</code>这将告诉yarn添加express、nodemon和path作为依赖项。</li><li id="d9c9" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">在脚本中添加<code class="eh lz ma mb mc b">"start": "nodemon server/index.js</code></li><li id="9eb4" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">通过将以下代码片段添加到index.js来设置您的服务器:</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="ef13" class="kz la hu mc b fv mv mw l mx my">const express = require('express');<br/>var app = express();</span><span id="f2a9" class="kz la hu mc b fv mz mw l mx my">app.use(express.static(__dirname + '/../client/dist'));</span><span id="ab3d" class="kz la hu mc b fv mz mw l mx my">app.listen(5000, () =&gt; {<br/>  console.log(`listening on port 5000!`);<br/>});</span></pre><p id="3480" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在在终端中运行<code class="eh lz ma mb mc b">yarn start</code>，你应该会在控制台中看到<code class="eh lz ma mb mc b">listening on port 5000!</code>。</p><h2 id="638f" class="kz la hu bd lb lc ld le lf lg lh li lj ke lk ll lm ki ln lo lp km lq lr ls lt dt translated">第四步:反应和网络打包</h2><p id="0138" class="pw-post-body-paragraph jv jw hu jx b jy lu iv ka kb lv iy kd ke lw kg kh ki lx kk kl km ly ko kp kq hn dt translated">现在我们可以从客户端开始了。</p><ul class=""><li id="e6b8" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">首先，我们需要添加react的所有依赖项，并捆绑和传输我们的代码:<br/> <code class="eh lz ma mb mc b">yarn add webpack babel-core babel-loader babel-polyfill babel-preset-react babel-preset-es2015 react react-dom</code></li><li id="7875" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">接下来，我们来配置巴别塔。在端子类型:<br/> <code class="eh lz ma mb mc b">touch .babelrc</code>中，在<code class="eh lz ma mb mc b">.babelrc</code>内添加此:<br/> <code class="eh lz ma mb mc b">{ "presets": ["latest"] }</code></li><li id="968f" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">我们仍然需要配置webpack。在终端内输入:<br/> <code class="eh lz ma mb mc b">touch webpack.config.js</code>，然后将此添加到文件中:</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="6ea1" class="kz la hu mc b fv mv mw l mx my">var path = require('path');<br/>var SRC_DIR = path.join(__dirname, '/client/src');<br/>var DIST_DIR = path.join(__dirname, '/client/dist');</span><span id="23a0" class="kz la hu mc b fv mz mw l mx my">module.exports = {<br/>  entry: `${SRC_DIR}/index.jsx`,<br/>  output: {<br/>    filename: 'bundle.js',<br/>    path: DIST_DIR<br/>  },<br/>  module : {<br/>    loaders : [<br/>      {<br/>        test : /\.jsx?/,<br/>        include : SRC_DIR,<br/>        loader : 'babel-loader',<br/>        query: {<br/>          presets: ['react', 'es2015']<br/>        }<br/>      }<br/>    ]<br/>  }<br/>};</span></pre><ul class=""><li id="0e45" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">转到“package.json”并添加以下内容:</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="65a6" class="kz la hu mc b fv mv mw l mx my">"scripts": {<br/>  "start": "nodemon server/index.js",<br/>  "build": "webpack -w"<br/>},</span></pre><ul class=""><li id="e32c" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">我们终于完成了设置。让我们创建一个文件来使用。进入客户端&gt; src并创建<code class="eh lz ma mb mc b">index.jsx</code>文件。将此添加到文件中:</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="4323" class="kz la hu mc b fv mv mw l mx my">import React from 'react';<br/>import ReactDOM from 'react-dom';</span><span id="1573" class="kz la hu mc b fv mz mw l mx my">class App extends React.Component {<br/>  render () {<br/>    return (&lt;div&gt;hello world&lt;/div&gt;)<br/>  }<br/>}</span><span id="069e" class="kz la hu mc b fv mz mw l mx my">ReactDOM.render(&lt;App /&gt;, document.getElementById('app'));</span></pre><ul class=""><li id="cccf" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">然后我们需要创建一个index.html文件。转到客户端&gt;分发，创建<code class="eh lz ma mb mc b">index.html</code>并添加以下内容:</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="e66b" class="kz la hu mc b fv mv mw l mx my">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;VR Hello World&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;script type="text/javascript" src="bundle.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><ul class=""><li id="69d1" class="md me hu jx b jy jz kb kc ke mf ki mg km mh kq mi mj mk ml dt translated">现在我们准备好了。转到终端并键入<code class="eh lz ma mb mc b">yarn build</code>，完成后，键入<code class="eh lz ma mb mc b">yarn start</code>。您应该会在终端中看到<code class="eh lz ma mb mc b">listening on port 5000!</code>。打开你的浏览器，输入<code class="eh lz ma mb mc b">localhost:5000</code>，你会看到“hello world”印在屏幕上。</li></ul><h2 id="0cda" class="kz la hu bd lb lc ld le lf lg lh li lj ke lk ll lm ki ln lo lp km lq lr ls lt dt translated">第五步:建立一个三角框架</h2><ul class=""><li id="0b94" class="md me hu jx b jy lu kb lv ke na ki nb km nc kq mi mj mk ml dt translated">首先安装A-Frame依赖项。在终端中，键入:<br/> <code class="eh lz ma mb mc b">yarn add aframe aframe-react aframe-particle-system-component</code></li><li id="41f7" class="md me hu jx b jy mm kb mn ke mo ki mp km mq kq mi mj mk ml dt translated">然后把这个加入index.jsx(这个代码直接从<a class="ae kr" href="https://github.com/aframevr/aframe-react" rel="noopener ugc nofollow" target="_blank"> aframe-react </a>官方回购复制过来):</li></ul><pre class="jk jl jm jn fq mr mc ms mt aw mu dt"><span id="25c6" class="kz la hu mc b fv mv mw l mx my">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import 'aframe';<br/>import {Entity, Scene} from 'aframe-react';<br/>import 'babel-polyfill';<br/>import 'aframe-particle-system-component';</span><span id="a893" class="kz la hu mc b fv mz mw l mx my">class App extends React.Component {<br/>  render () {<br/>    return (<br/>      &lt;Scene&gt;<br/>        &lt;Entity geometry={{primitive: 'box'}} material={{color: 'red'}} position={{x: 0, y: 0, z: -5}}/&gt;<br/>        &lt;Entity particle-system={{preset: 'snow'}}/&gt;<br/>        &lt;Entity light={{type: 'point'}}/&gt;<br/>        &lt;Entity gltf-model={{src: 'virtualcity.gltf'}}/&gt;<br/>        &lt;Entity text={{value: 'Hello, WebVR!'}}/&gt;<br/>      &lt;/Scene&gt;<br/>    )<br/>  }<br/>}</span><span id="95ce" class="kz la hu mc b fv mz mw l mx my">ReactDOM.render(&lt;App /&gt;, document.getElementById('app'));</span></pre><p id="95d5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在转到<code class="eh lz ma mb mc b">localhost:5000</code>，这应该会呈现在页面上:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nd"><img src="../Images/f3e97ab0f70288e1e18b811a9b99e508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LuspzuwTYYgFiwz2mQtt1w.png"/></div></div></figure><p id="f435" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">就是这样。祝你在VR中玩得开心！</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ne nf l"/></div></figure></div></div>    
</body>
</html>