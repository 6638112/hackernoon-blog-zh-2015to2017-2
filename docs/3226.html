<html>
<head>
<title>Lessons From Building 2 Chrome Plugins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建2个Chrome插件的经验</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/lessons-from-my-2-chrome-plugins-1cabea2b8e06?source=collection_archive---------7-----------------------#2017-03-21">https://medium.com/hackernoon/lessons-from-my-2-chrome-plugins-1cabea2b8e06?source=collection_archive---------7-----------------------#2017-03-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="3355" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">A.给初学者的4个建议和6个有用的技巧</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/5e487920d7da96b48fe7f490a5ae8afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kbfZCVeW-TorvpBA6UpTTQ.jpeg"/></div></div></figure><h1 id="7c31" class="jv jw hu bd jx jy jz ka kb kc kd ke kf ja kg jb kh jd ki je kj jg kk jh kl km dt translated">简介:</h1><p id="b5c9" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">最近我的一个插件受到了一些欢迎，主要是因为它发布在产品搜索上(你可以在这里查看<a class="ae lj" href="https://chrome.google.com/webstore/detail/janus-workspace/ibjjadloomfnfbkpdbeiddncgdepdhin" rel="noopener ugc nofollow" target="_blank">)，所以我决定分享一些我在制作这个</a><a class="ae lj" href="https://hackernoon.com/tagged/plugin" rel="noopener ugc nofollow" target="_blank">插件</a>和之前的那个插件时发现的技巧和窍门。这个插件实际上是由Medium上的一篇文章— <a class="ae lj" href="https://hackernoon.com/how-do-i-stay-up-to-date-as-a-developer-5ec773e30a82#.5aqn8q60o" rel="noopener ugc nofollow" target="_blank">我如何作为一名开发人员保持最新状态</a>制作的。</p><h1 id="7424" class="jv jw hu bd jx jy jz ka kb kc kd ke kf ja kg jb kh jd ki je kj jg kk jh kl km dt translated">更多介绍:</h1><p id="4c1c" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">Chrome插件是影响很多人的好方法(我发现Chrome的市场份额在所有网络使用统计中都超过了50%)。如果有我错过的，添加评论或注释。与运行在不同设备上的Android相比，Chrome更加稳定，其API在Windows和Linux上的反应方式相同。</p></div><div class="ab cl lk ll hc lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hn ho hp hq hr"><h1 id="578f" class="jv jw hu bd jx jy lr ka kb kc ls ke kf ja lt jb kh jd lu je kj jg lv jh kl km dt translated">关于发展</h1><p id="0cee" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">Chrome插件脚本在几种情况下运行:</p><ul class=""><li id="f6f6" class="lw lx hu kp b kq ly kt lz kw ma la mb le mc li md me mf mg dt translated">后台—后台脚本持续运行。将persistent设置为false将改为创建<a class="ae lj" href="https://developer.chrome.com/extensions/event_pages" rel="noopener ugc nofollow" target="_blank">事件页面</a>。</li><li id="2d50" class="lw lx hu kp b kq mh kt mi kw mj la mk le ml li md me mf mg dt translated">浏览器动作时——当用户点击chrome omnibar中的扩展图标时</li><li id="c631" class="lw lx hu kp b kq mh kt mi kw mj la mk le ml li md me mf mg dt translated">作为<a class="ae lj" href="https://developer.chrome.com/extensions/content_scripts" rel="noopener ugc nofollow" target="_blank">内容脚本</a> —内容脚本是来自插件的脚本，注入到当前打开的网页中，在一定程度上允许它们使用网页的资源。</li></ul><p id="8baa" class="pw-post-body-paragraph kn ko hu kp b kq ly iv ks kt lz iy kv kw mm ky kz la mn lc ld le mo lg lh li hn dt translated">让他们交流的最简单的方法是在他们之间传递消息。通过<code class="eh mp mq mr ms b">chrome.runtime.sendMessage(...)</code>或<code class="eh mp mq mr ms b">chrome.tabs.sendMessage(...)</code></p><h2 id="9e97" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">提示#1</h2><p id="d6ee" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">内容脚本可以在清单文件中注册，这意味着chrome将在他自己的<br/>上为匹配的网站注入它们，但是你也可以通过编程插入它们。<br/>两个都可以，但是请记住，只在清单中注册内容脚本，<strong class="kp hv">将在页面加载后注入它们，并且不会影响用户在安装插件时已经打开的页面。因此，我认为坚持程序化注射或两者结合更好。</strong></p><p id="e56e" class="pw-post-body-paragraph kn ko hu kp b kq ly iv ks kt lz iy kv kw mm ky kz la mn lc ld le mo lg lh li hn dt translated">使用<code class="eh mp mq mr ms b">chrome.tabs.executeScript( null, {file: 'example.js});</code>，可以从任何<code class="eh mp mq mr ms b">chrome.tabs</code>监听器进行纯编程注入</p><p id="15b6" class="pw-post-body-paragraph kn ko hu kp b kq ly iv ks kt lz iy kv kw mm ky kz la mn lc ld le mo lg lh li hn dt translated">就我个人而言，我在清单中描述了我的内容脚本，所以Chrome通常可以注入它们，只需通过向它发送消息并检查响应来检查脚本是否确实存在。如果反应不是我所期望的，我会强行注射。</p><h2 id="f632" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">提示#2</h2><p id="4c0a" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">Chrome扩展可以覆盖某些默认的chrome urls(例如新标签)。这是在插件清单中定义的，因此以后不能更改(例如从设置菜单)。<br/>然而，你可以在标签页打开时添加监听器，并检查url是否与你想要覆盖的url匹配，然后使用<code class="eh mp mq mr ms b">chrome.tabs.update(data, {url: 'yourUrl'});</code>重定向到你想要的URL，与插件清单中声明的覆盖相比，它足够快，不会产生差异。</p><h2 id="edf7" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">技巧3</h2><p id="bccc" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">注意:所有关于chrome扩展的东西都使用相对路径。如果你需要插件的绝对路径，你可以使用<code class="eh mp mq mr ms b">chrome.runtime.getURL( 'your.html' );</code></p><h2 id="34dd" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">提示#4</h2><p id="ae2b" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">最后但同样重要的是，与Chrome不同的是，关于浏览器扩展的MDN文档在某些方面比Chrome<a class="ae lj" href="https://developer.chrome.com/extensions" rel="noopener ugc nofollow" target="_blank">更加详细，并且充满了示例。<br/>例如，这里是用于web请求的</a><a class="ae lj" href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/webRequest/onBeforeRequest" rel="noopener ugc nofollow" target="_blank"> MDN </a>和<a class="ae lj" href="https://developer.chrome.com/extensions/webRequest#event-onBeforeRequest" rel="noopener ugc nofollow" target="_blank"> Chrome </a>的文档。自己对比一下。</p></div><div class="ab cl lk ll hc lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hn ho hp hq hr"><h1 id="e374" class="jv jw hu bd jx jy lr ka kb kc ls ke kf ja lt jb kh jd lu je kj jg lv jh kl km dt translated">关于开发之后你做了什么</h1><p id="1928" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">一旦你把插件上传到Chrome网络商店，什么都不会发生。还有成千上万的其他扩展。不要等着某人偶然发现你的分机并爱上它，然后把它展示给他所有的朋友。</p><h2 id="865b" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的技巧#1</h2><p id="fc55" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">在你开始制作插件之前，首先检查你想出来的名字是免费的，之后也是如此。几周前，我联系了《黑暗——美丽的黑暗主题》的创作者，因为当时我的一个插件也叫《黑暗》。我写我的时候，他已经发布了他的。所以，在你完成之后，一定要仔细检查，即使你开始的时候这个名字是空的。</p><h2 id="1cd2" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的诀窍#2</h2><p id="4bb6" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">(Ab)使用Reddit。尽可能多的提交你的扩展。比如有<a class="ae lj" href="https://www.reddit.com/r/chrome/" rel="noopener ugc nofollow" target="_blank"> /r/chrome </a>、<a class="ae lj" href="https://www.reddit.com/r/SideProject/" rel="noopener ugc nofollow" target="_blank"> r/SideProject </a>、<a class="ae lj" href="https://www.reddit.com/r/Feedback/" rel="noopener ugc nofollow" target="_blank"> /r/Feedback </a>还有这个<a class="ae lj" href="https://www.reddit.com/r/startups/comments/5rkpvo/weekly_feedback_and_support_thread/" rel="noopener ugc nofollow" target="_blank">线程</a>。找到更多可以用于你的插件。即使它给了你10-20个用户，这10-20个用户也能带来大量的反馈，并向你展示人们是如何看待你的插件的。</p><h2 id="2b6a" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的技巧3</h2><p id="a76a" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">说到收集反馈，人们不会像你一样理解你的插件。你认为显而易见和容易理解的事情，实际上不是。因此，如果可以的话，总是使用视频，而不仅仅是截图。这将使你不必解释事情。Chrome网络商店允许上传YouTube视频，以及截图。</p><h2 id="6746" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的技巧#4</h2><p id="5332" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">如果Reddit可以给你一点鼓励和一些反馈，产品搜索可以给你更多。社区更好，鉴于产品搜索的某些排他性，你的插件可以被更多的观众看到，因为与一些子插件相比，不会有太多其他东西发布。Twitter上的产品搜索也更加活跃。<br/>为了简化起见，这里是<a class="ae lj" href="https://chrome.google.com/webstore/detail/janus-workspace/ibjjadloomfnfbkpdbeiddncgdepdhin" rel="noopener ugc nofollow" target="_blank">骏利工作区</a>在产品搜寻2天之前(蓝点)和之后的用户计数图。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nh"><img src="../Images/f67652148335a67f0074a4dbcf419caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lTp_hWAaCC7CtsyYwk2Wpw.png"/></div></div></figure><p id="42c9" class="pw-post-body-paragraph kn ko hu kp b kq ly iv ks kt lz iy kv kw mm ky kz la mn lc ld le mo lg lh li hn dt translated"><em class="ni">平心而论，二月份用户的最初增长是由在Reddit上发帖引起的。</em></p><h2 id="bed1" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的技巧#5</h2><p id="7f8e" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated"><a class="ae lj" href="https://www.typeform.com/" rel="noopener ugc nofollow" target="_blank">Typeform.com</a>可用于制作反馈表单，并将其设置为卸载url，以获得用户关于卸载扩展的反馈。这真的很容易定制和编辑，你不需要任何托管和后端。小心你可能会(<strong class="kp hv">和will) </strong>得到许多回应，用不可理解的蹩脚英语，你不会说的语言，或者从“<em class="ni">ok”</em>和<em class="ni">“puf”</em>到<em class="ni">“No Me Gusta”</em>的任何东西。然而，在所有这些不可用的回复中，总有一些是值得的——“<em class="ni">它不会自动捕捉，这将是一个很好的例子”，“预定义的窗口分布将使它更容易管理。”、“写下URL时从历史记录中加载它们。”</em></p><h2 id="3fb8" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">有用的诀窍6</h2><p id="ec63" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">Google Analytics可以用在插件中，绝对值得。关于如何在插件中运行谷歌分析的教程可以在<a class="ae lj" href="https://developer.chrome.com/extensions/tut_analytics" rel="noopener ugc nofollow" target="_blank">这里</a>找到。<br/>打开谷歌分析板，看到总是有很多人在使用你的插件是一个额外的好处。</p></div><div class="ab cl lk ll hc lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hn ho hp hq hr"><h2 id="b4c0" class="mt jw hu bd jx mu mv mw kb mx my mz kf kw na nb kh la nc nd kj le ne nf kl ng dt translated">序言</h2><p id="760c" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated"><em class="ni">我猜是</em></p><p id="58f9" class="pw-post-body-paragraph kn ko hu kp b kq ly iv ks kt lz iy kv kw mm ky kz la mn lc ld le mo lg lh li hn dt translated">我写这篇文章是为了总结我在制作最新的2个副业项目时遇到的一些事情。我不认为自己是制作和推广Chrome插件的专家。然而，我相信这对于刚开始涉足Chrome网上商店的开发者来说是有用的。</p><div class="jk jl jm jn fq ab cb"><figure class="nj jo nk nl nm nn no paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nj jo nk nl nm nn no paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nj jo nk nl nm nn no paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="np nq nr"><p id="f922" class="kn ko ni kp b kq ly iv ks kt lz iy kv ns mm ky kz nt mn lc ld nu mo lg lh li hn dt translated"><a class="ae lj" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客们下午的开始。我们是<a class="ae lj" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lj" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae lj" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="kn ko ni kp b kq ly iv ks kt lz iy kv ns mm ky kz nt mn lc ld nu mo lg lh li hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lj" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lj" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nv"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nw nx l"/></div></figure></div></div>    
</body>
</html>