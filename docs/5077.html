<html>
<head>
<title>A guide to TDD a React/Redux TodoList App — Part 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TDD a React/Redux TodoList应用程序指南—第4部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-guide-to-tdd-a-react-redux-todolist-app-part-4-edb62e113c9b?source=collection_archive---------7-----------------------#2017-07-09">https://medium.com/hackernoon/a-guide-to-tdd-a-react-redux-todolist-app-part-4-edb62e113c9b?source=collection_archive---------7-----------------------#2017-07-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="be6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-1-b8a200bb7091">第1部分—链接</a>。</p><p id="8f4a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-2-8d4cb2dc154c">第二部分—链接</a>。</p><p id="0b8f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-3-f25c2289c54">第3部分—链接</a>。</p><p id="5ad2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第四部分——你现在在这里。</p><h1 id="cda0" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">TodoList组件</h1><p id="6b8f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">为了通过我们失败的e2e测试，我们还有几件事要做；有一个<code class="eh kt ku kv kw b">.todo-text</code>元素，让它包含我们在表单中提交的文本。</p><p id="1a3d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">创建文件夹结构<code class="eh kt ku kv kw b">src/components/todoList/</code>，然后在<code class="eh kt ku kv kw b">test.js</code>编写我们的第一个单元测试，这将允许我们创建我们的组件:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/test.js</figcaption></figure><p id="4465" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这应该是不言自明的，它非常类似于我们如何开始构建我们的<code class="eh kt ku kv kw b">addTodo</code>组件。</p><p id="55d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">index.js</code>中的组件应该返回什么:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/index.js</figcaption></figure><p id="f921" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 4</code>我们将把组件包装在一个<code class="eh kt ku kv kw b">&lt;ul&gt;</code>中。</p><p id="370b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后让我们测试列表中的todo:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/test.js</figcaption></figure><p id="5ed3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 8 — 13</code>我们创建了我们的<code class="eh kt ku kv kw b">todos</code> prop，一个包含一个todo的数组，作为带有<code class="eh kt ku kv kw b">id</code>和<code class="eh kt ku kv kw b">text</code>的对象。</p><p id="f581" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">实际上，我们将todo作为一个道具传递给组件。</p><p id="7be3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 22</code>我们期望我们的<code class="eh kt ku kv kw b">todoList</code>将包含一个带有todo文本的<code class="eh kt ku kv kw b">.todo-text</code>元素。</p><p id="c93f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们只需要让我们的todo渲染:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/index.js</figcaption></figure><p id="b77a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 2</code>导入<code class="eh kt ku kv kw b">PropTypes</code>供我们验证。</p><p id="a409" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 18 — 25</code>我们告诉我们的组件，它将接收一个名为<code class="eh kt ku kv kw b">todos</code>的<code class="eh kt ku kv kw b">prop</code>，它将是一个对象数组，它的<code class="eh kt ku kv kw b">id</code>将是一个数字，<code class="eh kt ku kv kw b">text</code>将是一个字符串，一切都是必需的。<a class="ae jp" href="https://facebook.github.io/react/docs/typechecking-with-proptypes.html" rel="noopener ugc nofollow" target="_blank"> <em class="li">反应道具类型验证</em> </a>。</p><p id="e272" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将<code class="eh kt ku kv kw b">todos</code> prop传入我们的实际组件。</p><p id="57b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 5 — 8</code>我们<code class="eh kt ku kv kw b">map</code>通过我们的数组，返回一个<code class="eh kt ku kv kw b">li</code>，它的内容是<code class="eh kt ku kv kw b">todo.text</code>，它有一个<code class="eh kt ku kv kw b">todo.id</code>的<code class="eh kt ku kv kw b">key</code>,<a class="ae jp" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">React</a>需要<code class="eh kt ku kv kw b">key</code>来更有效地知道如何重新渲染DOM，如果你没有它，你将在开发中得到一个控制台警告。</p><p id="6234" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 11 — 15</code>我们返回我们的<code class="eh kt ku kv kw b">ul</code>包装器，其中包含我们状态中每个todo的所有<code class="eh kt ku kv kw b">li</code>。</p><ul class=""><li id="8752" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">Git提交。</li><li id="4c0c" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/33dbea8e008b47bddc6acce8cf5d9570c0645495" rel="noopener ugc nofollow" target="_blank">储存库的状态</a>。</li></ul><h1 id="2594" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">显示待办事项</h1><p id="88f1" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">此时，我们的<code class="eh kt ku kv kw b">TodoList</code>组件知道如何呈现自己，因此可以连接到我们的主应用程序。</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/App.js</figcaption></figure><p id="9ecf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 5</code>导入我们的<code class="eh kt ku kv kw b">TodoList</code>组件。</p><p id="b875" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 18 — 23</code>为其提供适当的验证。</p><p id="3ed1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 8</code>将我们的todos数组作为一个<code class="eh kt ku kv kw b">prop</code>从状态输入到我们的应用程序中，这样我们就可以将它传递下去。多亏了<code class="eh kt ku kv kw b">line 26</code>，我们才把它变成了<code class="eh kt ku kv kw b">prop</code>。</p><p id="34d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 12</code>将<code class="eh kt ku kv kw b">TodoList</code>组件添加到我们的<code class="eh kt ku kv kw b">App</code>中，并将<code class="eh kt ku kv kw b">todos</code>从状态传递给它。</p><p id="051c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在得到一个测试错误，因为我们已经告诉组件它需要一个<code class="eh kt ku kv kw b">todos</code>数组，但是还没有传入:</p><figure class="kx ky kz la fq lb fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff lx"><img src="../Images/688f24d1981e0efc37d3cc987b4a08f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oPPigEwD7Hz6RkMHfT10KA.png"/></div></div></figure><p id="e0b0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我们做出了改变:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/App.test.js</figcaption></figure><p id="cf29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简单地传递一个空数组给我们的道具，这将停止我们的抱怨。我们不想在父级对子组件进行单元测试。</p><p id="5450" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，如果我们在浏览器中查看我们的应用程序，我们会发现我们实际上可以显示那些我们一直存储在状态中的可爱的待办事项。万岁。</p><figure class="kx ky kz la fq lb fe ff paragraph-image"><div class="fe ff me"><img src="../Images/de6d898ca1b94917ef4050ac9f723024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*UguAd_79BRrRZJkNpr-50A.png"/></div></figure><p id="99c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们的e2e测试应该通过了:</p><figure class="kx ky kz la fq lb fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff mf"><img src="../Images/be62b0c6e46f4310983586497e77eae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7zVF52mt2M7vtecUPJtdSg.png"/></div></div></figure><ul class=""><li id="c0ed" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/commit/5f03d81cbc3240e0beb71c8daa5dd77547e9d801" rel="noopener ugc nofollow" target="_blank"> Git提交</a></li><li id="9bd5" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/5f03d81cbc3240e0beb71c8daa5dd77547e9d801" rel="noopener ugc nofollow" target="_blank">存储库的状态</a>。</li></ul><h1 id="a1fd" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">删除待办事项</h1><p id="0639" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">首先，我们编写e2e测试:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">e2etests/test.js</figcaption></figure><p id="9b29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将上面的<code class="eh kt ku kv kw b">Line 12 — 21</code>添加到你的e2e测试中。</p><p id="fb39" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该测试运行与之前相同的程序，然后单击<code class="eh kt ku kv kw b">.todo-delete</code>元素，然后期望选择器的<code class="eh kt ku kv kw b">state</code>等于“失败”。如果它存在(没有被删除)，就等于“成功”。</p><p id="a855" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我喜欢通过编写动作、缩减器、创建组件，然后将其添加到应用程序来实现功能。</p><p id="1f3e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，让我们测试一下正确的操作。首先让我们创建一个适当的常数:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/constants/index.js</figcaption></figure><p id="d7bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 3</code>我们新的DELETE_TODO常量。</p><p id="5916" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，在<code class="eh kt ku kv kw b">action</code>中，我们只需要知道删除一个todo将是它唯一的<code class="eh kt ku kv kw b">id</code>。</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/actions/test.js</figcaption></figure><p id="d288" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后添加代码使其通过:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/actions/index.js</figcaption></figure><p id="2168" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们对我们的缩减器功能进行单元测试:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/reducers/test.js</figcaption></figure><p id="28f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在看来，这应该很有意义了。我们给我们的<code class="eh kt ku kv kw b">reducer</code>一个包含todo的<code class="eh kt ku kv kw b">startingState</code>，将它传递给我们刚刚创建的<code class="eh kt ku kv kw b">action</code>，它将从存储中删除该todo，并期望返回的状态确实不包含该todo。</p><p id="b5c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在需要在我们的<code class="eh kt ku kv kw b">reducer</code>中添加另一个<code class="eh kt ku kv kw b">case</code>来处理这个问题:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/reducers/index.js</figcaption></figure><p id="b7ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当遇到DELETE_TODO <code class="eh kt ku kv kw b">action.type</code>时，我们返回一个包含所有现有<code class="eh kt ku kv kw b">...state</code>的新状态，我们覆盖<code class="eh kt ku kv kw b">todos</code>数组，使其成为一个过滤列表，其中<code class="eh kt ku kv kw b">todo.id</code>与<code class="eh kt ku kv kw b">action.id</code>不同。因此所有的<code class="eh kt ku kv kw b">todo</code>都不是我们想要删除的。</p><p id="c8c7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那很容易，不是吗？</p><p id="b629" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们测试一下我们的组件能不能让我们删除一个todo:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/test.js</figcaption></figure><p id="cc38" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 1</code>将<code class="eh kt ku kv kw b">jest</code>添加到eslint异常中。</p><p id="3419" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 8</code>为我们的删除功能创建一个模拟函数。</p><p id="2abb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将我们之前的单个<code class="eh kt ku kv kw b">todos</code>道具重构为一个包含我们需要的所有道具的对象。</p><p id="5726" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 20</code>让我们的<code class="eh kt ku kv kw b">component</code>浅层渲染，把之前指定的<code class="eh kt ku kv kw b">props</code>全部解包。</p><p id="f5d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">测试点击一个<code class="eh kt ku kv kw b">.todo-delete</code>元素确实调用了我们的<code class="eh kt ku kv kw b">deleteTodo</code>函数。</p><p id="e0fe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后是通过测试的代码:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/components/todoList/index.js</figcaption></figure><p id="d45f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 36</code>验证我们的<code class="eh kt ku kv kw b">deleteTodo</code>道具。</p><p id="da5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 4</code>将它传递给我们的组件。</p><p id="f361" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 8 — 14</code>添加一个“删除”按钮，该按钮将调用<code class="eh kt ku kv kw b">deleteTodo</code>函数，并将<code class="eh kt ku kv kw b">todo.id</code>作为<code class="eh kt ku kv kw b">onClick</code>事件的参数。</p><p id="f81a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，我们需要通过应用程序将它连接到我们的用户界面:</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">src/App.js</figcaption></figure><p id="d4d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 36 — 38</code>创建将分派适当动作的<code class="eh kt ku kv kw b">deleteTodo</code>道具。</p><p id="5aa4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 24</code>验证。</p><p id="46b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 8</code>将其添加到我们组件的道具中。</p><p id="c39a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">Line 12</code>将其添加到<code class="eh kt ku kv kw b">TodoList</code>组件中。</p><p id="9463" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">而且真的就是这么简单。单元测试和e2e测试应该通过，功能应该在我们的应用程序在浏览器中工作。</p><figure class="kx ky kz la fq lb fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff mg"><img src="../Images/994137c2a5ba10b0115e239de8e8cfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GDZr_MOwQZLcn_eCLTKJ1w.png"/></div></div></figure><ul class=""><li id="1547" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/commit/29d4f8459e68312a9ac4ebc83d22880314708b3b" rel="noopener ugc nofollow" target="_blank"> Git提交</a>。</li><li id="5ee2" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/6c40a3c8eef589c5784b88e32d98b3f5cce424d0" rel="noopener ugc nofollow" target="_blank">储存库的状态</a>。</li></ul><h1 id="7d70" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">取消删除待办事项</h1><p id="6506" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">如果你还和我在一起，那么你做得很好，绝对不是一个新手！所以是时候来点小挑战了。我不会告诉你怎么做，为什么不自己试一试呢？</p><p id="0c04" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">想想你需要什么。</p><p id="c9cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就在上面，你可以删除待办事项的所有功能，取消删除也一样。还要考虑如何、在哪里以及何时存储你最近删除的待办事项。有了这个地方，它应该点击！</p><p id="b913" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">做这件事不会太难，可能需要半个小时或几个小时，但你能做到。尝试和TDD它一个坚实的挑战。</p><p id="4f11" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后看看我是如何做到的:</p><ul class=""><li id="d00c" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">Git提交。</li><li id="54a4" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/c9092163b5fc648b540ab92f8061fbf3d75dd562" rel="noopener ugc nofollow" target="_blank">存储库的状态</a>。</li></ul><h1 id="9842" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">禁用按钮</h1><p id="aa26" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">因此，我们的应用程序在某种程度上是可行的，我们测试过的东西也是可行的。但是如果你尝试使用它，你可能会发现一些我们没有编码的错误。如果你愿意，你可以试着修改它们并添加更多的功能，但是在你这么做之前，我要给你的最后一个挑战是，当不适合点击按钮时，禁用<strong class="it hv">‘添加待办事项’</strong>和<strong class="it hv">‘取消删除’</strong>按钮。</p><p id="c0d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">想一想你可以如何实现这一点，谷歌一下，试一试。我们都知道你能做到！</p><p id="f674" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你做完后，看看我是怎么做的。我绝对不会说有正确或错误的方法，只是不同的方法:</p><ul class=""><li id="418c" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/commit/ae5b9a0031c09220cc0f967bdbb5297951f7cd49" rel="noopener ugc nofollow" target="_blank"> Git提交</a>。</li><li id="8a97" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/ae5b9a0031c09220cc0f967bdbb5297951f7cd49" rel="noopener ugc nofollow" target="_blank">储存库的状态</a>。</li></ul><h1 id="1d35" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">设计它</h1><p id="b4b9" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">作为一个前端，我很痛苦地称之为<em class="li">风格的</em>，但我猜这不是一个CSS教程。如果你想把它变漂亮，那就穿上你的靴子。这正是我的样子:</p><figure class="kx ky kz la fq lb fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff mh"><img src="../Images/208808022fabf2151970092c0c56ab0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*61tIzsAu9iy873cNlOhRpw.png"/></div></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">High production value</figcaption></figure><ul class=""><li id="75ce" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/commit/53af5cdba4e3630d9a49e935879c1249bdc0a79c?diff=split" rel="noopener ugc nofollow" target="_blank"> Git提交</a>。</li><li id="d71a" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/tree/53af5cdba4e3630d9a49e935879c1249bdc0a79c" rel="noopener ugc nofollow" target="_blank">储存库的状态</a>。</li></ul><h1 id="047d" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">部署到Heroku</h1><p id="cea0" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这是可选的，只是为了好玩，但如果你想免费轻松地在线部署你的应用程序，Heroku提供了一个快速解决方案。如果你愿意的话，这将允许你使用生产版本和你自己的CI/CD管道。</p><p id="544e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先<a class="ae jp" href="https://devcenter.heroku.com/start" rel="noopener ugc nofollow" target="_blank">与Heroku </a>建立联系。</p><p id="b05a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后按照<a class="ae jp" href="https://github.com/mars/create-react-app-buildpack" rel="noopener ugc nofollow" target="_blank"> heroku-buildpack </a>的说明进行反应。</p><p id="ca57" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">点击在线访问<a class="ae jp" href="https://my-react-todolist.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">应用程序。</a></p><h1 id="218a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">撰写自述文件</h1><p id="d630" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我用简单的方法列出了如何设置、运行和测试我们的应用程序。</p><ul class=""><li id="cf3a" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">自述</a>。</li><li id="3511" class="lj lk hu it b iu ls iy lt jc lu jg lv jk lw jo lo lp lq lr dt translated"><a class="ae jp" href="https://github.com/sanjsanj/my-react-todolist" rel="noopener ugc nofollow" target="_blank">存储库的最终状态</a>。</li></ul><h1 id="82de" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">以前的零件</h1><p id="0a5e" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-1-b8a200bb7091">第1部分—链接</a>。</p><p id="b94f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-2-8d4cb2dc154c">第二部分—链接</a>。</p><p id="63df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" rel="noopener" href="/@sanjsanj/a-guide-to-tdd-a-react-redux-todolist-app-part-3-f25c2289c54">第三部分——链接</a>。</p><p id="de42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第四部分——你现在在这里。</p><h1 id="bd86" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">就这样…</h1><p id="0648" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">是的，确实是。有什么反馈吗？请在下方留言。</p><p id="4583" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我出9000。</p><figure class="kx ky kz la fq lb"><div class="bz el l di"><div class="mi ld l"/></div></figure></div></div>    
</body>
</html>