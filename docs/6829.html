<html>
<head>
<title>How to create a blog with APIQ CMS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用APIQ CMS创建博客</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-create-a-blog-with-apiq-cms-e6ccfc5f5e63?source=collection_archive---------27-----------------------#2017-10-05">https://medium.com/hackernoon/how-to-create-a-blog-with-apiq-cms-e6ccfc5f5e63?source=collection_archive---------27-----------------------#2017-10-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/c4c2291d8db97087be151241f910ca09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qv7TugYXiHMtqsTW-dxpuA.jpeg"/></div></div></figure><p id="5e28" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">大家都知道博客是内容营销策略的第一项。</p><p id="6f0e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有很多地方你可以建立你的博客并开始写作。但是如果您需要一些定制的内容模型来写博客呢？那么您可能应该选择自托管或云解决方案，在构建您的特定内容模型时提供更多的灵活性。</p><p id="fae5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">今天我将向你展示如何使用APIQ CMS制作博客。让我们跳过<a class="ae ka" href="https://hackernoon.com/tagged/apiq" rel="noopener ugc nofollow" target="_blank"> APIQ </a>安装步骤，并考虑我们已经有空白<a class="ae ka" href="https://hackernoon.com/tagged/cms" rel="noopener ugc nofollow" target="_blank"> CMS </a>安装。通过以下步骤，您将获得功能齐全博客。</p><h1 id="1585" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">选择HTML模板</h1><p id="2eef" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">首先，你需要下载HTML或者由HTML编码器从头开始准备。我挑了<a class="ae ka" href="https://freehtml5.co/verb-free-html5-bootstrap-template-for-blog-websites/" rel="noopener ugc nofollow" target="_blank">这个</a>:</p><h1 id="60a5" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">创建第一个模板</h1><p id="b9b9" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">好的，在下载的模板档案中我有<code class="eh le lf lg lh b">index.html</code>。我打算用它作为博客索引页的模板。只需粘贴html内容，给模板一个名称，然后点击“添加模板”。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff li"><img src="../Images/4dd6e59ec4b1cb9b1584c496f68be574.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LVmxJva8_PcRQpyx.jpg"/></div></div></figure><h1 id="3978" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">上传资产</h1><p id="5289" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">现在，我们需要上传下载模板中的所有资产(在“资产”部分下)，即图像、样式表和javascripts。您可以一次选择多个。对于我的模板，我首先上传了<code class="eh le lf lg lh b">js</code>文件夹的内容，然后是<code class="eh le lf lg lh b">fonts</code>、<code class="eh le lf lg lh b">images</code>和<code class="eh le lf lg lh b">css</code>。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ln"><img src="../Images/806029a525108367e3cf0ba78d96569f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HNdAjkDB6zRH9R2u.jpg"/></div></div></figure><p id="5134" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我们需要通过从“资产”部分插入正确的URL来修复字体URL(如<code class="eh le lf lg lh b">url("../fonts/icomoon/icomoon.eot")</code>)或样式表中的其他URL。</p><p id="7b61" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，让我们在模板的内容中找到一个应该注入页面内容的地方，并在那里插入特殊的like指令<code class="eh le lf lg lh b">{% yield %}</code>。我将把它插入到<code class="eh le lf lg lh b">&lt;div id="gtco-main"&gt;&lt;div class="container"&gt;</code>之后，并删除所有内容，直到结束标签。</p><h1 id="92ab" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">创建索引页面</h1><p id="68e3" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">现在让我们创建一个索引页面，它使用刚刚创建的模板，并将我们之前从模板中剪切的内容粘贴到那里。一旦我们做好了这些，你应该会在网站的根目录下看到这样的内容:</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lo"><img src="../Images/6e941becd643ecd16681a29b90b723eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*teZJF9v4qxKwR_SN.jpg"/></div></div></figure><h1 id="dd10" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">创建第一个模型</h1><p id="ae4a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">接下来，我将通过引入一些模型来使索引页面动态化。首先，我想主菜单(<code class="eh le lf lg lh b">Develop</code>，<code class="eh le lf lg lh b">Business</code>等)。)来代表博客类别。让我们在APIQ <code class="eh le lf lg lh b">Models</code>部分下创建<code class="eh le lf lg lh b">Category</code>模型。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lp"><img src="../Images/e7d2e652f3271ff6a8730e4d3dfe9cd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0Q2jFa5mkR7lV4Zy.jpg"/></div></div></figure><p id="5537" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在让我们将类别输出为菜单片段。我将模板中的<code class="eh le lf lg lh b">&lt;ul&gt;...&lt;/ul&gt;</code>提取到带有“菜单”名称和“菜单”标签的新代码片段中，并将该代码片段包含在模板中:</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="7340" class="lu kc hu lh b fv lv lw l lx ly">{% include 'menu' %}</span></pre><p id="6c8d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，我修改了代码片段，如下所示(<code class="eh le lf lg lh b">name</code>是我添加到<code class="eh le lf lg lh b">Category</code>模型中的唯一属性，<code class="eh le lf lg lh b">permalink</code>是内置属性):</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="bfd5" class="lu kc hu lh b fv lv lw l lx ly">&lt;ul&gt;<br/>  {% for category in: models.categories do: %}<br/>    &lt;li&gt;&lt;a href="/{{ category.permalink }}"&gt;{{ category.name }}&lt;/a&gt;&lt;/li&gt;<br/>  {% end for %}<br/>&lt;/ul&gt;</span></pre><h1 id="a590" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">创建帖子模型</h1><p id="4f4d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">好吧，我可以添加类别，并有基于它们的动态菜单。让我们添加第二个模型——<code class="eh le lf lg lh b">Post</code>——并建立它和<code class="eh le lf lg lh b">Category</code>模型之间的关系。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/64fc02fc9f251c995d6d10ccc15d5ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BWEqNBuTRCCqXV-6.jpg"/></div></div></figure><p id="6143" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这之后，我添加了一个属于“发展”类别的帖子。现在我将把最新的帖子显示为宽横幅(按照模板设计的建议)。我像这样更新了模板的内容(注意我是如何获取最近的帖子的):</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="5890" class="lu kc hu lh b fv lv lw l lx ly">{% assign recent_post = models.posts.order('created_at desc').first %}<br/>&lt;header id="gtco-header" class="gtco-cover" role="banner" style="background-image:url({{ recent_post.image }});" data-stellar-background-ratio="0.5"&gt;<br/>  &lt;div class="overlay"&gt;&lt;/div&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;div class="row"&gt;<br/>      &lt;div class="col-md-7 text-left"&gt;<br/>        &lt;div class="display-t"&gt;<br/>          &lt;div class="display-tc animate-box" data-animate-effect="fadeInUp"&gt;<br/>            &lt;span class="date-post"&gt;{{ recent_post.created_at | strftime format: '%d %B %Y' }}&lt;/span&gt;<br/>            &lt;h1 class="mb30"&gt;<br/>              &lt;a href="/{{ recent_post.permalink }}"&gt;{{ recent_post.title }}&lt;/a&gt;<br/>            &lt;/h1&gt;<br/>            &lt;p&gt;&lt;a href="/{{ recent_post.permalink }}" class="text-link"&gt;Read More&lt;/a&gt;&lt;/p&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/header&gt;</span></pre><p id="f261" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，在这个标题下面，我想列出所有的帖子。这是用于此目的的索引页面的唯一内容:</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="8e35" class="lu kc hu lh b fv lv lw l lx ly">&lt;div class="row row-pb-md"&gt;<br/>  &lt;div class="col-md-12"&gt;<br/>    &lt;ul id="gtco-post-list"&gt;<br/>      {% for post in: models.posts.order("created_at desc") do: %}<br/>        &lt;li class="full entry animate-box" data-animate-effect="fadeIn"&gt;<br/>          &lt;a href="/{{ post.permalink }}"&gt;<br/>            &lt;div class="entry-img" style="background-image: url({{ post.image }})"&gt;&lt;/div&gt;<br/>            &lt;div class="entry-desc"&gt;<br/>              &lt;h3&gt;{{ post.title }}&lt;/h3&gt;<br/>              {{ post.preview }}<br/>            &lt;/div&gt;<br/>          &lt;/a&gt;<br/>          &lt;a href="/{{ post.category.permalink }}" class="post-meta"&gt;{{ post.category.name }}  &lt;span class="date-posted"&gt;{{ post.created_at | strftime format: '%d %B %Y' }}&lt;/span&gt;&lt;/a&gt;<br/>        &lt;/li&gt;<br/>      {% end for %}<br/>    &lt;/ul&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ma"><img src="../Images/f9490a28a876cd009c1ff8615b51e83e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1IwJlV-57cWCb6ww.jpg"/></div></div></figure><p id="9c16" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">索引页面应该是这样的(是不是很酷？).</p><h1 id="8b91" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">为类别和帖子模型创建模板页面</h1><p id="3f7d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这是我们的最后一步:我们希望有类别页和帖子页，这样我们的<code class="eh le lf lg lh b">permalink</code>属性将开始工作，并指向具体的类别或帖子。让我们创建这两个页面作为索引页面的子页面。这里最棘手的事情是启用<code class="eh le lf lg lh b">Use as object template</code>属性并选择可表示的对象。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mb"><img src="../Images/7c0bd5d4ef4ddcd2bb61055b9005b39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rmfACH_7UL3pwFPI.jpg"/></div></div></figure><p id="f0d3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不要忘记在相应的页面中放置一些显示类别和产品的html。在这些页面中，您可以通过<code class="eh le lf lg lh b">item</code>对象访问当前对象。例如，您可以像这样输出帖子的内容(在帖子页面上):</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="a128" class="lu kc hu lh b fv lv lw l lx ly">&lt;h1&gt;{{ item.title }}&lt;/h1&gt;<br/>{{ item.content }}</span></pre><p id="cf03" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在类别页面上还有一个获取当前类别帖子的技巧(因为我使用了<code class="eh le lf lg lh b">belongs to</code>字段):</p><pre class="lj lk ll lm fq lq lh lr ls aw lt dt"><span id="239f" class="lu kc hu lh b fv lv lw l lx ly">{% assign posts = models.posts.find_all_by(category: item.id).order("created_at desc") %}<br/>{% for post in: posts do: %}<br/>...</span></pre><p id="baba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">就这样——现在我有了完全动态的、可工作的类别页面和产品页面！这就是本教程的全部内容:我们有非常基本的博客功能，还有很多进一步改进的可能性。例如，您可以将<code class="eh le lf lg lh b">Published</code>字段添加到<code class="eh le lf lg lh b">Post</code>模型中，默认情况下只列出发布的文章，或者引入文章标记。你的想象力是唯一的极限，所以就去尝试吧；-)</p><p id="23c1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你可以在<a class="ae ka" href="http://patient-forest-605.app.apiq.io/" rel="noopener ugc nofollow" target="_blank">http://patient-forest-605 . app . apiq . io</a>找到我的最终结果</p><p id="72b2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mc">如果你喜欢这个帖子，请点击</em> ✋ <em class="mc">来传播这个消息。</em></p><p id="b2ea" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mc">这篇</em> <a class="ae ka" href="https://www.apiq.io/2017/09/26/how-to-create-a-blog-with-apiq-cms/" rel="noopener ugc nofollow" target="_blank"> <em class="mc">文章</em> </a> <em class="mc">最初发表在APIQ CMS博客上。</em></p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="md me l"/></div></figure></div></div>    
</body>
</html>