<html>
<head>
<title>Face Recognition Service with Python Dlib Flask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python Dlib Flask的人脸识别服务</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/face-recognition-service-with-python-dlib-flask-ca33d335fa26?source=collection_archive---------10-----------------------#2017-12-21">https://medium.com/hackernoon/face-recognition-service-with-python-dlib-flask-ca33d335fa26?source=collection_archive---------10-----------------------#2017-12-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/a2cbc68c34063fc4cb83cdcadada8ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3bzo59E8zM6pxnjfoNj3Q.png"/></div></div></figure><p id="b33e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当在相机直播服务工作时，我决定将机器学习加入到这个项目中。这意味着我们的相机可以学习知道谁是家庭成员，在视频流中，如果相机中的人不是家庭成员，就向主人发出警告。这只是一个想法，你可能有更多的想法，用于其他设备，也许门开着…</p><h2 id="4435" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">Python开发Pycharm</h2><p id="772a" class="pw-post-body-paragraph jc jd hu je b jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv kz jx jy jz hn dt translated">我推荐下载用于Python开发的<a class="ae la" href="https://www.jetbrains.com/pycharm/download/" rel="noopener ugc nofollow" target="_blank"> Pycharm </a>工具。</p><h2 id="3766" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">Python虚拟环境安装</h2><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="5f53" class="ka kb hu lg b fv lk ll l lm ln">sudo pip install virtualenv</span></pre><h2 id="263d" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">创建新的python项目</h2><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="a18a" class="ka kb hu lg b fv lk ll l lm ln">mkdir project</span><span id="af04" class="ka kb hu lg b fv lo ll l lm ln">cd project</span><span id="6ddd" class="ka kb hu lg b fv lo ll l lm ln">virtualenv venv</span></pre><h2 id="453e" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">设置Boost Python</h2><p id="82fc" class="pw-post-body-paragraph jc jd hu je b jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv kz jx jy jz hn dt translated">当我们为python模块编译<a class="ae la" href="https://github.com/davisking/dlib" rel="noopener ugc nofollow" target="_blank"> Dlib </a> c++时，我们需要boost python</p><p id="610d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">来编译Boost。Python自己从http://boost.org<a class="ae la" href="http://boost.org" rel="noopener ugc nofollow" target="_blank">下载boost</a>然后进入boost根文件夹</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="3dda" class="ka kb hu lg b fv lk ll l lm ln">./bootstrap.sh --with-libraries=python<br/>./b2<br/>sudo ./b2 install</span></pre><h2 id="9fc9" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">安装dlib C++库</h2><p id="5a61" class="pw-post-body-paragraph jc jd hu je b jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv kz jx jy jz hn dt translated">Dlib是一个现代C++工具包，包含机器学习算法和工具，用于用C++创建复杂的软件来解决现实世界的问题。<a class="ae la" href="https://github.com/davisking/dlib" rel="noopener ugc nofollow" target="_blank">https://github.com/davisking/dlib</a></p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="3db5" class="ka kb hu lg b fv lk ll l lm ln">brew install cmake</span><span id="3194" class="ka kb hu lg b fv lo ll l lm ln">git clone https://github.com/davisking/dlib.git</span><span id="37e9" class="ka kb hu lg b fv lo ll l lm ln">cd dlib<br/>mkdir build; cd build; cmake .. -DDLIB_USE_CUDA=0 -DUSE_AVX_INSTRUCTIONS=1; cmake --build .</span></pre><p id="fa3a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我们的Python项目中激活Python虚拟环境</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="1cca" class="ka kb hu lg b fv lk ll l lm ln">cd /PATH-OUR-PROJECT<br/>cd venv<br/>source bin/activate</span><span id="2cf4" class="ka kb hu lg b fv lo ll l lm ln">python setup.py install --yes USE_AVX_INSTRUCTIONS --no DLIB_USE_CUDA</span></pre><h2 id="1191" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">瓶</h2><p id="5cb8" class="pw-post-body-paragraph jc jd hu je b jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv kz jx jy jz hn dt translated">使用flask作为Python框架构建api服务。API<a class="ae la" href="http://flask.pocoo.org/docs/0.12/api" rel="noopener ugc nofollow" target="_blank">http://flask.pocoo.org/docs/0.12/api</a></p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="163c" class="ka kb hu lg b fv lk ll l lm ln">from flask import Flask,Response,json<br/>app = Flask(__name__)<br/><br/>@app route('/', methods=['GET'])<br/>def home():<br/>  return Response(json.dumps({"api": "1.0"}), status=200, mimetype='application/json')<br/> <br/>if __name__ == "__main__":<br/><br/>  app.run()</span></pre><h2 id="0146" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">数据库ˌ资料库</h2><p id="4127" class="pw-post-body-paragraph jc jd hu je b jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv kz jx jy jz hn dt translated">我们可以使用任何数据库来存储用户信息。在这个项目中，我只使用Python的sqlite3默认支持。设计slqlite<a class="ae la" href="http://sqlitebrowser.org/" rel="noopener ugc nofollow" target="_blank">http://sqlitebrowser.org/</a>的工具</p><h2 id="3caa" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">录像</h2><figure class="lb lc ld le fq iv"><div class="bz el l di"><div class="lp lq l"/></div><figcaption class="lr ls fg fe ff lt lu bd b be z ek">Part 1: Setup and begin with Flask</figcaption></figure><h2 id="8646" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">第2部分:人脸识别</h2><figure class="lb lc ld le fq iv"><div class="bz el l di"><div class="lp lq l"/></div></figure><h2 id="96cc" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">第3部分:基本前端</h2><figure class="lb lc ld le fq iv"><div class="bz el l di"><div class="lp lq l"/></div></figure><blockquote class="lv lw lx"><p id="0816" class="jc jd ly je b jf jg jh ji jj jk jl jm lz jo jp jq ma js jt ju mb jw jx jy jz hn dt translated">请在<a class="ae la" href="https://www.youtube.com/channel/UCtS27upPphvp_lH_ttXsANA" rel="noopener ugc nofollow" target="_blank"> Youtube </a>上为我订阅下一部分。</p><p id="24f3" class="jc jd ly je b jf jg jh ji jj jk jl jm lz jo jp jq ma js jt ju mb jw jx jy jz hn dt translated">github:<a class="ae la" href="https://github.com/tabvn/face-recognition-service" rel="noopener ugc nofollow" target="_blank">https://github.com/tabvn/face-recognition-service</a></p></blockquote></div></div>    
</body>
</html>