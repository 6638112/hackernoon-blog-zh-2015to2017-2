<html>
<head>
<title>Why your organization should start using Apache Mesos</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么您的组织应该开始使用Apache Mesos</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-your-organization-should-start-using-apache-mesos-a730d0a82c78?source=collection_archive---------3-----------------------#2017-02-11">https://medium.com/hackernoon/why-your-organization-should-start-using-apache-mesos-a730d0a82c78?source=collection_archive---------3-----------------------#2017-02-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="594d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我之前在Agoda <a class="ae jp" href="https://hackernoon.com/tagged/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a> meetup上发表的关于Mesos介绍的书面博文。</p><p id="c419" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该职位主要分为以下几个部分:</p><ul class=""><li id="61ac" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">挑战</li><li id="c0b1" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">数据中心分区和资源管理</li><li id="27ce" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">为什么选择Apache Mesos</li></ul><p id="5c6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">挑战</strong></p><p id="fcc8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每个人都在向<a class="ae jp" href="https://hackernoon.com/tagged/microservices" rel="noopener ugc nofollow" target="_blank">微服务</a>发展，特别是如果你的公司做得很好，那么你现在可能正在使用一堆微服务。微服务是为做一件事而构建的，并且做得很好(就像unix命令一样)，而且这些微服务可以很好地捕捉整个组织结构，它们可以独立地构建、测试、部署和回滚，而不会相互中断。但是，如果您不是以分布式系统的方式设计它，那么您的服务可能已经到了不再适合单台机器的地步，因为它需要更多的内存或更多的计算核心来处理“大数据”或并发用户的数量。随着您的组织开始成长，用户和数据每天都会增长。</p><p id="5756" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">数据中心分区和资源管理</strong></p><p id="81ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通常，使用托管多种服务的多台计算机的组织对数据中心进行如下分区:</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff ke"><img src="../Images/852f7ec30274368beab46e8ee6c878c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wz15kjdDgzp8TfxT."/></div></div></figure><p id="3105" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">处理失败是这里的一项重要任务。想象一下，连接Cassandra机架的最上面的交换机出现故障，这显然意味着没有人查询Cassandra，这是一次停电。</p><p id="3ede" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一封真实的电子邮件，我从infra的工作人员那里得到的，他们说OpenStack托管了一堆机器，它自己重启了，所有在上面运行的服务都停止了。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff kq"><img src="../Images/00fca2137da9f8201d0f3d798130659c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vHTK_AAn24sph82X."/></div></div></figure><p id="6708" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">回到静态分区，故障将如下所示:</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff kr"><img src="../Images/cd2bf13309175d4599aca2dc3427e709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s9uIf23xQi6r7147."/></div></div></figure><p id="8321" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里的另一个挑战是资源利用率。通常，如果您查看资源利用率，您会发现运行Hadoop、kafka的机器使用了大约30–40%的资源，而Java应用程序在白天使用了更多的资源，但在晚上它们几乎处于空闲状态。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div class="fe ff ks"><img src="../Images/11ddc8f257606ee3218198fb2d287d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/0*dWZZZ_7lLcyIWB3Q."/></div></figure><p id="a6cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如您所看到的，这里的大部分资源都是闲置的，使用类似下面这样的方法显然可以降低成本，更有效地利用资源。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff kt"><img src="../Images/279cdd16be667765b934fc404d856051.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T1Ow-oV8QjtTy8EW."/></div></div></figure><p id="a104" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">为什么选择阿帕奇Mesos？</strong></p><p id="217d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用Apache Mesos极大地解决了上面列出的所有挑战。Apache Mesos是一个现代的通用集群管理器，它最初于2009年在加州大学伯克利分校启动，然后在Twitter上得到强化，Twitter上的大多数东西实际上都运行在超过数万个节点的Mesos之上。Mesos还在Java/c++/Python等各种编程语言中公开了丰富的API集。此外，一些顶级Apache项目已经移植到Mesos上运行:</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff ku"><img src="../Images/0e2f02d0c25b64f9efd36aa2e2382e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UOXofu6x9yqTmlRJ."/></div></div></figure><p id="7f0d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">像大多数分布式系统一样，Apache Mesos有一个主从架构</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff kv"><img src="../Images/6209f1b8858c181cfadc35516698411b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I3s9Gy0-ALll3ALL."/></div></div></figure><p id="713d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其中调度器/框架与主机交互以调度从机上的任务。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff kw"><img src="../Images/7bc61476dc78aa2f940114188f2a7f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AoHKSwQDVoVAKnJq."/></div></div></figure><p id="d7af" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">中间层马拉松作业调度</strong></p><p id="db48" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这一部分非常简单，你构建你的应用程序，将其容器化，它可以是二进制文件，tgz甚至是docker映像。将包上传到从属机器可以访问的地方(HDFS/S3/HTTP)，描述服务，然后进行调度。为此，您可以使用Marathon Web UI、REST端点或CLI。</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div class="fe ff kx"><img src="../Images/f9dcb46d6696b4155af6dec2d7118d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/0*8hKjjsYeq3XM7BuU."/></div></figure><p id="beff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里有一个JSON的例子:</p><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff ky"><img src="../Images/5479375726ff06aab288858ed77bd608.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kOaCpZBILZYrNQ6R."/></div></div></figure><p id="f044" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还有更多要写的，你可以从这里找到演讲幻灯片<a class="ae jp" href="https://docs.google.com/presentation/d/1GGQFFOsidQsRGK-IlQ3X7GpGsqAdLwqxjfz4QARFG1s/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">。</a></p><div class="kf kg kh ki fq ab cb"><figure class="kz kj la lb lc ld le paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kz kj la lb lc ld le paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kz kj la lb lc ld le paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lf lg lh"><p id="f922" class="ir is li it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is li it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kf kg kh ki fq kj fe ff paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="fe ff lm"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kf kg kh ki fq kj"><div class="bz el l di"><div class="ln lo l"/></div></figure></div></div>    
</body>
</html>