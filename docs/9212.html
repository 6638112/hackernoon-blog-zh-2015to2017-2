<html>
<head>
<title>OOP Design: Composible objects support change</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OOP设计:可组合对象支持变化</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/oop-design-composible-objects-support-change-336d96a1a60f?source=collection_archive---------8-----------------------#2017-12-30">https://medium.com/hackernoon/oop-design-composible-objects-support-change-336d96a1a60f?source=collection_archive---------8-----------------------#2017-12-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/23617304d148c93621ff65ab3a60cc76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0DuOb8rk8clq3w8YV1a4Og.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Best tools for the job</figcaption></figure><p id="e85e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我相信“组合重于继承”是最重要的OOP原则，只有极少数用OOP语言写代码的人理解它，应用它的开发者就更少了。自从2003年开始写第一行代码并获得报酬以来，我在4家公司担任开发人员和采访人员的全部经历就是我的肯定的基础。老实说，这也是基于我过去几年的阅读，我也可以告诉你，有很多比我更好的开发人员这样说。</p><p id="ee61" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在我参加的所有面试中，每当我问及这个问题时，没有人知道如何解释“组成优于继承”。另一方面，我不经常问这个组成问题，我只把它放在我认为高于平均水平的开发人员面前。我知道我们都有偏见，所以也许我错过了一个很好的解释，因为我对“高于平均水平”的开发人员的看法。</p><p id="526c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">优秀的开发人员的工作效率是普通开发人员的10倍，但这不是打字速度快几倍，而是做出更好的决策。当你的客户想出新的伟大的特性来添加时，这些决定给你所需要的灵活性。</p><h2 id="df35" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">一切以此为基础</h2><p id="5b1d" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">我们很多Java/C#开发人员至少参与过一个项目，在这个项目中，我们可以找到像BaseService或BaseManager或BaseClient或BaseHandler这样的类，甚至所有这些类。这样一个类清楚地表明继承被用于错误的目的:放置重复代码的地方。我相信，如果我们以正确的方式使用继承，它仍然可以帮助我们，这将意味着达到多态设计。我也看到继承可能是我们代码中最被滥用的OOP概念，所以也许去掉它并用接口来代替它，可能对我们的代码有更大的好处。在这种事情发生之前，让我来解释为什么使用复合对象比使用派生对象更好。</p><p id="0692" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">当我们在学校(计算机科学系)学习遗传时，通常我们有一个例子，比如狗是哺乳动物，所以我们可以有哺乳动物类，它们的行为比如生孩子，用牛奶喂养孩子，然后我们有从哺乳动物继承的狗类，我们可以添加特定的狗行为，比如吠叫。这是一个很好的例子，因为只要我们使用狗的哺乳动物行为，我们就可以使用基类。所以我们达到了多态状态，因为除了狗，我们还可以有其他从哺乳动物继承来的物体。</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lf"><img src="../Images/3b3469376600589562e9edb6acb92858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KqUTZlUeRJFSuy1HmYKOCQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Inheritance</figcaption></figure><h2 id="4f93" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">设计一所学校</h2><p id="d1fb" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">现在考虑设计一个学校系统。当我们说“学校”时，我们大多数人会想到建筑，因此设计的第一步是创建一个建筑类，它成为学校类的基类。我们认为这是合理的，因为无论建筑物有什么属性和行为，它们都将被学校继承。然后我们看到学校是一个我们上课学习，学习新东西，参加考试，庆祝圣诞节等等的地方。如果学校继承了一栋建筑，这并不矛盾。您仍然可以使用这种继承来设计一个工作系统。</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lk"><img src="../Images/d44985419625d9016143911d7f71da05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WBtDzbt9enILCJNiL2glGw.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">School inherits from building</figcaption></figure><p id="d1c7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">让我们用一种更面向对象的方式来问这个问题:学校有一栋建筑还是一栋建筑？就像我们之前说的，没有正确的答案，你可以从建筑类继承或者拥有学校的建筑部分，在这两种情况下，你都可以为你的客户的问题提出一个可行的解决方案。它更多的是关于未来的变化，那些甚至你的客户现在都不知道的变化。</p><p id="eb65" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们可以获得创建在线课程和考试的功能请求，使学习材料成为其他语言等等。当你继承学校建筑时，一些要求可能会给你带来麻烦，比如支持其他城镇的新建筑。在这种情况下，学校需要支持一个以上的建筑，所以一个组合会更好。因此，对于简单的系统来说，继承可能是可行的，但是对于需要改变的系统(可能现在所有的系统)来说，组合将是更好的选择。</p><figure class="lg lh li lj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ll"><img src="../Images/53e7ab88bce0cc400d0b048a13442d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6U_GisDITJ5QLzidyGAesg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">School &amp; building composition</figcaption></figure><p id="ba63" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">学校和建筑是一个简单的例子，我们通常不会在代码中处理如此简单的概念。狗和哺乳动物也是如此。但这些概念是解释更复杂概念的最佳起点。我正在考虑举办一个关于面向对象设计的研讨会，其中一个主要的讨论点将会是复合而不是继承。你可以在这里找到更多关于<a class="ae ke" href="https://mailchi.mp/6c944dd6daac/oop-design-workshop" rel="noopener ugc nofollow" target="_blank">的信息。</a></p></div></div>    
</body>
</html>