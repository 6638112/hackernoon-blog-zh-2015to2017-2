<html>
<head>
<title>Lessons learned from moving my side project to Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将我的副业项目转移到Kubernetes的经验教训</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/lessons-learned-from-moving-my-side-project-to-kubernetes-c28161a16c69?source=collection_archive---------1-----------------------#2017-04-17">https://medium.com/hackernoon/lessons-learned-from-moving-my-side-project-to-kubernetes-c28161a16c69?source=collection_archive---------1-----------------------#2017-04-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d10e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个标题可能已经敲响了一些微弱的警钟；为什么要动用Kubernetes的小侧项目？这值得吗？</p><p id="b0a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我在https://www.aerolith.org的<a class="ae jp" href="https://www.aerolith.org." rel="noopener ugc nofollow" target="_blank"/>经营一个小型的拼字游戏玩家学习网站。(请原谅没有一个漂亮的登录页面)。它包括一个Django应用程序，带有PostgreSQL，以及一个基于go的小型微服务，可以按需生成一些复杂的单词挑战。service使用Go而不是Python的原因主要与性能有关，但部分原因是我当时也在尝试使用Go。该网站还使用SQLite来存储word databases、Gunicorn、Nginx，即一个标准的Django设置。这个网站每天有几百名玩家，所以它不是那么小。我也曾经利用这个平台学习过；Aerolith的第一个网络版是在2011年完成的，是用糟糕的Javascript写的。它现在是一个相当现代的应用程序，有React.js和ES6。所以这是一个很好的项目，因为我可以修补我有时会在日常工作中用到的技术(例如，我过去简单地做过一些Redis/Sock.js的东西，以及Django升级等等)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/8102adb203eee4be2462febaaa2f935e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9eSD3uWziVWGjvCrHUTSlA.gif"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Let’s solve some 7-letter words</figcaption></figure><p id="20e4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于我们在<a class="ae jp" href="https://www.appinsights.com" rel="noopener ugc nofollow" target="_blank">工作</a>时大量使用Docker，我前一段时间花时间把我的应用程序转移到使用Docker。我喜欢Docker，因为它很容易封装依赖关系；在此之前，部署有点糟糕— <code class="eh kg kh ki kj b">git pull </code>在我的虚拟机中，<code class="eh kg kh ki kj b">pip install</code>每当我更改任何包时，升级都是一个问题，等等。然而，我所做的只是制作一个docker-compose文件，过程还是差不多的，包括git pull，将代码目录装入容器，最糟糕的是，更改任何环境变量或依赖关系都需要停机时间(以重新构建容器)。所以在某种程度上，这比之前基于virtualenv的方法更糟糕，尽管在本地开发期间，这是一种相当不错的体验。由于我的空闲时间有限，这已经设置了好几个月了，每当我升级一些包时，我总是忘记和破坏这个应用程序。</p><p id="4840" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">无论如何，我在去年的某个时候决定修复它，并开始研究基于HAProxy的方法。计划是构建一个容器的两个副本，用Nginx反向代理它们，在代码更新期间，与HAProxy API交互并更改IP，等等。由于主要Aerolith游戏的实时性，我真的希望有一个零停机部署，这实际上是令人惊讶的困难——稍后会有更多。在开始研究这种HAProxy方法时，我意识到我可能需要某种服务发现和数据存储来跟踪活动容器的最新版本，以便在随机重启时存活下来。意识到我正在重新发明轮子，我开始研究Docker Swarm。</p><p id="b156" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我短暂地玩了一下Docker Swarm，它不知何故破坏了我的数字海洋虚拟机。我不太记得失败模式，但这也是很早的时候(可能在2016年7月-8月)，我放弃了一段时间，并再次专注于我的React.js前端。我们在工作中使用AWS ECS，我不想离开我廉价的5美元数字海洋实例，加上我不喜欢ECS的一些东西，想学习可能的替代品。</p><p id="e36c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我第一次听说Kubernetes是从这篇有趣的<a class="ae jp" href="https://circleci.com/blog/its-the-future/" rel="noopener ugc nofollow" target="_blank"> CircleCI文章</a>中。我记得当时我想，我从来没有听说过它，也永远不会使用这样一个神秘的技术，因为它必须是过度杀伤，对不对？但是越来越多的我从《黑客新闻》上听到Kubernetes是怎样的未来，尽管<a class="ae jp" href="https://www.youtube.com/watch?v=PivpCKEiQOQ" rel="noopener ugc nofollow" target="_blank">有相反的证据</a>，集装箱化仍然存在。所以我在本地安装了Minikube，并开始修补，几个小时后就能得到一个功能齐全的设置。Kubernetes.io文档非常好。</p><p id="0fb0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，我学到了一些教训，而设置这一切。</p><h2 id="5e1f" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">1.运行Minikube不同于运行集群</h2><p id="805a" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">实际上，我现在的集群设置一点也不理想。但由于这是一个附带项目，我所做的只是使用了<code class="eh kg kh ki kj b">kubeadm</code>，它告诉你不要在生产上使用它。另外，我的集群目前只包含一个节点:)</p><p id="b63f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Kubernetes.io文档解释了如何设置kubeadm集群，这实际上非常简单。我也尝试了变戏法和Juju，不能得到任何功能。YMMV我可能还不够努力:/</p><p id="fce8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">默认情况下，kubeadm不启用允许CronJobs的batch v2 API。如果有人知道如何做到这一点，我会感谢任何细节。这似乎太难搞清楚了，我有一份日常工作，而是用crontab中的<code class="eh kg kh ki kj b">kubectl run</code>来运行。</p><h2 id="6016" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">2.入口有点令人困惑</h2><p id="26cc" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">默认情况下，入口实际上什么都不做。您需要运行一个“入口控制器”,但是默认情况下，入口控制器清单文件中没有选择器。这有点奇怪，因为似乎其他所有东西都使用选择器(服务/部署/复制控制器等)。</p><p id="0824" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">找到合适的入口控制器也有点困难。我最终使用了<a class="ae jp" href="https://github.com/nginxinc/kubernetes-ingress" rel="noopener ugc nofollow" target="_blank"> nginxinc </a>开发的版本，尽管他们无耻地在所有文档中自我宣传他们的Plus版本。Kubernetes项目本身也有一个更复杂的入口控制器，但是当我在上面运行ApacheBenchmark时，偶尔会出现SSL错误。有人知道为什么吗？</p><h2 id="5b2c" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated"><strong class="ak"> 3。零停机部署并不是Kubernetes </strong>的默认设置</h2><p id="49ef" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">看这个长帖:<a class="ae jp" href="https://github.com/kubernetes/contrib/issues/1140" rel="noopener ugc nofollow" target="_blank">https://github.com/kubernetes/contrib/issues/1140</a></p><p id="31c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本上，如果您有一个部署，并且您将容器更新到一个新版本，这是并行发生的事情(转述自该线程上的一个注释):</p><ol class=""><li id="cfa5" class="lk ll hu it b iu iv iy iz jc lm jg ln jk lo jo lp lq lr ls dt translated">库伯莱向吊舱发送了一个信号术语</li><li id="351d" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">控制器将运输舱从终点移走</li><li id="549a" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">kube-proxy将Pod从虚拟LBs中移除</li></ol><p id="1a46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，默认情况下，一旦收到SIGTERM，它就会开始拒绝连接，并优雅地包装其余的连接。问题是，在一段时间内，控制器仍然将流量导向这个垂死的gunicorn，这导致nginx返回502。我不得不想出下面的方法。这可能还可以做得更好，但目前还行:</p><pre class="jr js jt ju fq ly kj lz ma aw mb dt"><span id="78da" class="kk kl hu kj b fv mc md l me mf">readinessProbe:<br/>  exec:<br/>    command:<br/>    - cat<br/>    - /opt/webolith/djAerolith/test_requirements.txt<br/>  successThreshold: 1<br/>  failureThreshold: 2<br/>  periodSeconds: 5<br/>  initialDelaySeconds: 5</span><span id="34cd" class="kk kl hu kj b fv mg md l me mf">lifecycle:<br/>  preStop:<br/>    exec:<br/>      # A hack to try to get 0% downtime during deploys. This should<br/>      # help ensure k8s eventually stops giving this node traffic.<br/>      command: ["sh", "-c", "rm /opt/webolith/djAerolith/test_requirements.txt &amp;&amp; sleep 20"]</span></pre><p id="53f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意，initialDelay是必需的，因为gunicorn需要一点时间做好准备，而<code class="eh kg kh ki kj b">sleep 20</code>确保gunicorn有一些时间脱离端点/虚拟负载平衡器。在某种程度上，发送的SIGTERM并不重要。</p><p id="a369" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我基本上用类似<code class="eh kg kh ki kj b">ab -n 1500 -c 15 <a class="ae jp" href="https://minikube.aerolith.org/healthz/" rel="noopener ugc nofollow" target="_blank">https://minikube.aerolith.org/healthz/</a></code>的东西测试了行为，直到我能够在图像更新期间可靠地获得零错误。</p><p id="3d4b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另请注意，如果您只有一个副本在运行(我现在只有一个节点)，您还必须设置以下策略:</p><pre class="jr js jt ju fq ly kj lz ma aw mb dt"><span id="78f0" class="kk kl hu kj b fv mc md l me mf">spec:<br/>  replicas: 1<br/>  strategy:<br/>    rollingUpdate:<br/>      maxUnavailable: 0</span></pre><p id="807a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这使得至少有一个副本在运行。在某个时候，我忘记将它添加到prod中，我花了一段时间试图弄清楚发生了什么以及它为什么会坏，几乎再次放弃，直到我在做图像更新时仔细查看了<code class="eh kg kh ki kj b">watch kubectl get po</code>的输出。</p><h2 id="c227" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">4.RBAC搞什么鬼？</h2><p id="e46e" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">因此，当我准备将我的项目部署到生产环境中时，Kubernetes 1.6.0决定推出，突然我的入口控制器停止工作，我无法降级回1.5。</p><p id="572c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基于Github的一些问题和对文档的一些阅读，我能够为我的入口控制器添加一些东西。有一段时间，我变得非常沮丧，几乎要重新发明轮子，甚至完全放弃Docker，回到<code class="eh kg kh ki kj b">git pull &amp;&amp; kill -HUP &lt;gunicorn PID&gt;</code>之前，我记得我很固执，沉没成本谬论是一个真实的事情。无论如何，这是我的改变:</p><div class="mh mi fm fo mj mk"><a href="https://github.com/domino14/Webolith/blob/master/kubernetes/deploy-configs/nginx-ingress-rc.yaml" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab ej"><div class="mm ab mn cl cj mo"><h2 class="bd hv fv z el mp eo ep mq er et ht dt translated">domino14/Webolith</h2><div class="mr l"><h3 class="bd b fv z el mp eo ep mq er et ek translated">web olith-Aerolith 2.0-web的aero lith。一个单词学习网站-学习拼字游戏，拼字游戏，单词与弗伦茨等。</h3></div><div class="ms l"><p class="bd b gc z el mp eo ep mq er et ek translated">github.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my ka mk"/></div></div></a></div><p id="cb86" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意所有早期的RBAC(基于角色的访问控制)的东西。希望项目能够更新他们的文档。</p><p id="ff80" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">再说一次，我不是Kubernetes或ops master，所以可能这些太宽容了，或者我正在以某种方式向世界开放我的集群(我希望不是)。欢迎评论！</p><h2 id="c7b5" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">5.Kubernetes吃你的资源</h2><p id="3c57" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">我可以发誓，有一些有趣的希特勒使用Docker视频，特别指出虚拟机中的大多数资源都被正在使用的编排框架占用了，但我找不到它。无论如何，对于默认的<code class="eh kg kh ki kj b">kubeadm</code>集群来说,$5 DO实例的能力太弱了，而且一旦所有的Kubernetes容器都在运行(对于API服务器、etcd、kubelet、DNS等等),即使是$10实例似乎也没有多少内存或CPU了。所以我认为我的时间价值超过每月20美元，并为此付出了代价。仍然很便宜，捐款应该够了；)</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mz"><img src="../Images/70ecfa37c54e2faf429bd7ff1ee07d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jF_XQRwWj8sXMDFmPXt5Ww.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">I think it’s doing OK. The weird spikes are from when I resized the instance from 1 -&gt; 2 GB. Note that the memory usage was pretty high before.</figcaption></figure><h2 id="56d8" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">6.没必要把所有东西都搬过来</h2><p id="e68f" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">我保留了我专用的$5 Postgres实例。为什么要弄乱它？希望它能长期保持稳定。此外，在本地，我仍然使用docker-compose进行本地开发，而不是minikube。虽然minikube已经足够好了，但是docker-compose摩擦更少(只需要安装docker，没有额外的依赖)。</p><h2 id="2195" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">7.如何自动化</h2><p id="924f" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">我使用CircleCI构建docker容器，推送到Docker Hub，还从CircleCI内部使用kubectl运行各种<code class="eh kg kh ki kj b">apply -f</code>命令。kubeconfig文件在私人回购中。我也在CircleCI中生成YAML的文件，从一个小胡子样的模板组合(我称之为卷曲:<code class="eh kg kh ki kj b">CURLIES_RE = r'{{\s*(\w+)\s*}}'</code>)和仅仅YAML。许多配置存储在CircleCI环境变量中。</p><p id="85dd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们加密我的SSL。现在这是一个伪手动过程。我可能想尽快学会如何使用<code class="eh kg kh ki kj b">kube-lego</code>,但目前我对Kubernetes有点着迷。此外，它只与官方的入口控制器兼容，因为我偶尔看到的SSL握手问题，我没有使用它。</p><p id="084e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，如果您修改了TLS密码，这不会自动重新加载入口。您还必须修改一些关于入口的内容。所以我有一个黑客路径，看起来像这样:</p><pre class="jr js jt ju fq ly kj lz ma aw mb dt"><span id="87a9" class="kk kl hu kj b fv mc md l me mf">- path: {{ HACK_PATH }}<br/>  backend:<br/>    serviceName: nginx-static-svc<br/>    servicePort: 80</span></pre><p id="fa26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该路径最终类似于<code class="eh kg kh ki kj b">/hackpath-{UUID}</code>。非常janky，但我不知道还有其他更好的方法。</p><h2 id="7678" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">8.几个附加说明</h2><ul class=""><li id="14c1" class="lk ll hu it b iu lf iy lg jc na jg nb jk nc jo nd lq lr ls dt translated">我运行了Nginx的两个副本，一个用于入口控制器，一个用于静态文件服务器。也许有可能将它们合二为一，但Nginx相当轻便，也许这样就可以了。虽然这看起来有点傻。</li><li id="0b20" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo nd lq lr ls dt translated">静态文件就内置在我的Nginx静态服务器中。如果我能自动检测任何静态文件是否被修改，以避免构建相同代码的多个副本，那就太好了，尽管…</li><li id="b2ef" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo nd lq lr ls dt translated">高山图像小，用起来！</li><li id="8983" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo nd lq lr ls dt translated">很容易不小心将各种秘密提交给Github和/或Dockerhub。尤其是后者不像git那样尊重忽略规则(即<code class="eh kg kh ki kj b">*.yaml</code>和<code class="eh kg kh ki kj b">**/*.yaml</code>在<code class="eh kg kh ki kj b">.dockerignore</code>文件中是不同的东西)。)</li><li id="4b9f" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo nd lq lr ls dt translated">所有这些都是用<code class="eh kg kh ki kj b">kubeadm</code>手动完成的，我有所有东西的1个副本。如果该节点出现故障，我必须重建它。只要DigitalOcean合作，部署仍然是零停机😊。</li><li id="4e13" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo nd lq lr ls dt translated">(事后)我的需求的新版本导致了一些测试没有发现的零星错误。以后还得调查一下。</li></ul><p id="3cff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">无论如何，现在我终于有了一个零停机部署的故事，也许我再也不用碰这个设置了，我可以开始加入多人模式了。耶！最终这是值得的；部署新容器现在就像推送到master一样简单。</p><div class="jr js jt ju fq ab cb"><figure class="ne jv nf ng nh ni nj paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ne jv nf ng nh ni nj paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ne jv nf ng nh ni nj paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="nk nl nm"><p id="f922" class="ir is nn it b iu iv iw ix iy iz ja jb no jd je jf np jh ji jj nq jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is nn it b iu iv iw ix iy iz ja jb no jd je jf np jh ji jj nq jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff nr"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>