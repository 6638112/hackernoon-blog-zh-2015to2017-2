<html>
<head>
<title>Isomorphic JavaScript is Dead… Long Live Isomorphic JavaScript!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">同构JavaScript已死…同构JavaScript万岁！</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/isomorphic-javascript-is-dead-long-live-isomorphic-javascript-743e1b7b181c?source=collection_archive---------6-----------------------#2017-12-12">https://medium.com/hackernoon/isomorphic-javascript-is-dead-long-live-isomorphic-javascript-743e1b7b181c?source=collection_archive---------6-----------------------#2017-12-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu"><div class="bz el l di"><div class="iv iw l"/></div></figure><p id="785c" class="pw-post-body-paragraph ix iy hu iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hn dt translated">这个视频是我两年前在ng-conf上谈论同构JavaScript如何风靡世界。当时，在两个地方复制代码的想法(即一个在服务器上用于搜索引擎，另一个在客户端用于丰富的用户界面)让我感到恶心。<a class="ae jv" href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noopener ugc nofollow" target="_blank">干</a>规矩！</p><p id="1559" class="pw-post-body-paragraph ix iy hu iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hn dt translated">嗯…从那以后发生了很多事情。具体来说，一些具体的事情极大地影响了我对同构JavaScript概念的看法:</p><ul class=""><li id="a50d" class="jw jx hu iz b ja jb je jf ji jy jm jz jq ka ju kb kc kd ke dt translated">随着时间的推移，我必须发展和维护一个大型的代码库。在许多情况下，我用来使我的代码“同构”的“技巧”最终导致了比它们解决的问题更多的问题。</li><li id="fc0e" class="jw jx hu iz b ja kf je kg ji kh jm ki jq kj ju kb kc kd ke dt translated">我的团队变得越来越大，我开始意识到训练某人理解同构JavaScript开发的微妙之处是不简单的(并且极易出错)。</li><li id="5971" class="jw jx hu iz b ja kf je kg ji kh jm ki jq kj ju kb kc kd ke dt translated">在我的团队中，发布产品特性的速度呈指数级增长。我最终意识到，超干代码通常会产生紧密的依赖关系，这实际上阻碍了快速的迭代周期(即，您不能快速更改一段代码，因为害怕对许多其他依赖的代码段产生负面影响)</li><li id="b1bf" class="jw jx hu iz b ja kf je kg ji kh jm ki jq kj ju kb kc kd ke dt translated">更好的服务器渲染解决方案出现了(包括我作为<a class="ae jv" href="https://github.com/angular/universal" rel="noopener ugc nofollow" target="_blank"> Angular Universal </a>团队的一员帮助构建的一个)</li><li id="8f40" class="jw jx hu iz b ja kf je kg ji kh jm ki jq kj ju kb kc kd ke dt translated">试图同时优化初始加载性能和内容读取，而不是长期使用和丰富的界面……坦白地说，这是不可能的。当然，你可以在这两方面都做得很好，但是当你想拥有绝对最好的体验时，它们会非常不一致。</li></ul><p id="b1b6" class="pw-post-body-paragraph ix iy hu iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hn dt translated">我在AngularConnect的一次关于代码管理的最新演讲中对所有这些做了一些介绍:</p><figure class="kk kl km kn fq iu"><div class="bz el l di"><div class="iv iw l"/></div></figure><p id="2de1" class="pw-post-body-paragraph ix iy hu iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hn dt translated">出于所有这些原因，我真的认为同构JavaScript已死。嗯……至少同构JavaScript的概念是，你可以为客户端构建一个应用程序，然后让它神奇地在服务器上运行。我再也不相信那一套了。</p><h1 id="7d23" class="ko kp hu bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">新的“同构”</h1><p id="da96" class="pw-post-body-paragraph ix iy hu iz b ja lm jc jd je ln jg jh ji lo jk jl jm lp jo jp jq lq js jt ju hn dt translated">相反，我相信未来是关于<strong class="iz hv">在一个地方创作</strong>你的特定平台代码(也就是说，你可以在同一个repo中拥有你的SEO代码和你的富客户端代码)，然后让你的应用程序的不同部分专门用于其中一个。换句话说:</p><ul class=""><li id="1b68" class="jw jx hu iz b ja jb je jf ji jy jm jz jq ka ju kb kc kd ke dt translated"><strong class="iz hv">登录页面</strong> —仅服务器端呈现很少或没有客户端JavaScript。关注最大初始加载性能和内容交付。</li><li id="162d" class="jw jx hu iz b ja kf je kg ji kh jm ki jq kj ju kb kc kd ke dt translated"><strong class="iz hv">应用页面</strong> —仅客户端呈现，可能仅在服务器端呈现一个应用外壳。专注于尽可能好的丰富用户体验。</li></ul><p id="f01c" class="pw-post-body-paragraph ix iy hu iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hn dt translated">这两个可以生活在同一个网站的同一个领域(在许多情况下应该)。例如，查看GetHuman.com上的联合航空公司电话号码页面。它是唯一没有客户端JavaScript的服务器渲染。但是，如果您点击一个链接(例如，“跳过等待”按钮)，您将开始与一系列客户端加载的具有丰富功能的页面进行交互。</p><h1 id="180c" class="ko kp hu bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">放大器的最终结论</h1><p id="1bbc" class="pw-post-body-paragraph ix iy hu iz b ja lm jc jd je ln jg jh ji lo jk jl jm lp jo jp jq lq js jt ju hn dt translated">哦，还有一件事…当你开始沿着这条路走下去，还有一个额外的奖励。你创建的服务器专用登陆页面应该非常接近<a class="ae jv" href="https://www.ampproject.org/docs/reference/spec" rel="noopener ugc nofollow" target="_blank">AMP规范</a>。“放大”你的页面不应该花费你太多的工作，这将在初始加载时为用户体验带来更多的好处。我将在<a class="ae jv" href="https://sketchpoints.io/ngconf2018" rel="noopener ugc nofollow" target="_blank"> ng-conf 2018 </a>上谈论更多这方面的内容，我的演讲是<a class="ae jv" href="https://sketchpoints.io/ngconf2018/super-powered-server-rendered-progressive-native-apps" rel="noopener ugc nofollow" target="_blank">超级强大、服务器渲染的渐进式原生应用</a>。</p></div></div>    
</body>
</html>