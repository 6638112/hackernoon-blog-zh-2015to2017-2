<html>
<head>
<title>Speedrunning code, the 3 things I re-learnt while recoding a basic ls in C</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Speedrunning代码，这是我在用C重新编写基本ls代码时重新学到的3件事</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/speedrunning-code-the-3-things-i-re-learnt-while-recoding-a-basic-ls-in-c-d559b0f1a92b?source=collection_archive---------5-----------------------#2017-07-22">https://medium.com/hackernoon/speedrunning-code-the-3-things-i-re-learnt-while-recoding-a-basic-ls-in-c-d559b0f1a92b?source=collection_archive---------5-----------------------#2017-07-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="64cb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">朋友们好，</p><p id="b206" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">今天我想回顾一下我在学生时代做过的一个项目，当时我很纠结，觉得这个项目很无聊。</p><p id="baa5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本上，我必须使用-l -r -R和-a选项开发ls，并且只使用malloc、free、write、stat、ctime、time、getpwuid、getgrgid、readdir、opendir和closedir。</p><p id="901c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">像往常一样，我想再次挑战自己重写一些C。起初，我告诉自己，作为一个老C开发人员，这将是一个轻松的2小时项目，但神圣的***，它没有。我花了大约5个小时写了一个我并不引以为豪的代码，不允许使用sprintf节省了我的时间。它仍然需要大量测试、内存泄漏查找和重构(它总是需要:)。</p><div class="jp jq fm fo jr js"><a href="https://github.com/Poilon/c_ls" rel="noopener  ugc nofollow" target="_blank"><div class="jt ab ej"><div class="ju ab jv cl cj jw"><h2 class="bd hv fv z el jx eo ep jy er et ht dt translated">波伦/c_ls</h2><div class="jz l"><h3 class="bd b fv z el jx eo ep jy er et ek translated">在GitHub上创建一个帐户，为c_ls开发做贡献。</h3></div><div class="ka l"><p class="bd b gc z el jx eo ep jy er et ek translated">github.com</p></div></div><div class="kb l"><div class="kc l kd ke kf kb kg kh js"/></div></div></a></div><p id="bd02" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，是的，这是一个伟大的基础工程。我建议任何想学习C开发，学习基本算法和内存处理的人来试试这个。</p><p id="ec86" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">至少你会学到3样东西。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="de7c" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">1.处理内存</h1><p id="410d" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">用一种没有垃圾收集器的语言重写代码是一件痛苦的事情。很难跟踪所有分配的内存，以便在以后释放它。但是过了一段时间，这样做真的很愉快。你真的可以去喜欢性能，只分配最少的内存给你需要的最佳算法。</p><p id="f6f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">GDB是一个很棒的工具，可以帮助任何人调试C代码，但是一般来说调试C很慢，所以让C程序正常工作的最好方法是在编码前认真思考。</p><h1 id="3463" class="kp kq hu bd kr ks ls ku kv kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm dt translated">2.数据结构</h1><p id="8254" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">在C语言中，只给出了基本的函数，你没有很好的字符串/数组/散列/链表函数。很狂野。</p><p id="9efd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我开始用简单的字符串解析来完成所有的数据结构化，然后排序是一件痛苦的事情，所以我致力于链表数据结构。非常简单，但是添加-删除-排序是基本的，但是对于开始算法来说非常好。例如，理解Ruby中排序背后的含义是很好的。您对什么是性能以及您可以使用的不同种类有了更好的了解。</p><p id="65a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你需要解析字符串，将字符串转换成整数，将整数转换成二进制字符串等等。大量的操作会导致大量的错误，这将随着重构时间的推移而减少。</p><p id="759b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在C开发中要有大局观，不要急于求成，因为除了“游戏结束，你的代码有<strong class="it hv"> <em class="lx"> segfault </em> </strong>，再试一次”之外，你不会有任何结果</p><p id="7542" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这一部分对于-R(递归)选项非常重要，就好像你只是看到什么就打印什么，不可能将算法应用到文件夹中的文件夹:)</p><h1 id="1493" class="kp kq hu bd kr ks ls ku kv kw lt ky kz la lu lc ld le lv lg lh li lw lk ll lm dt translated">3.什么是ls，Unix中的访问权限是什么</h1><p id="5284" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">每个在生活中使用过unix终端人都知道ls是什么，以及它的用途。但是ls有很多选项来格式化数据并将其用于您的脚本。</p><p id="3fa0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，最常见的ls -l会给出一个类似于</p><blockquote class="ly lz ma"><p id="c746" class="ir is lx it b iu iv iw ix iy iz ja jb mb jd je jf mc jh ji jj md jl jm jn jo hn dt translated">总计40个<br/>-rw-r-r-1个poilon staff 41 22 July 13:55 Makefile<br/>-rwxr-xr-x 1个poilon staff 14248 22 July 13:58 c _ ls</p></blockquote><p id="90ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在编写代码的时候，你会对它的工作原理有更好的理解。读写执行权限、链接数量、所有者:用户和组等。</p><p id="fe5e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于那些刚刚参加开发训练营并且不每天使用基于unix的系统的人来说，这肯定是有用的。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><p id="46ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我有一个ls -alRr工作时，这个项目给了我真正的满足感。我把它作为一个游戏的速度运行，我让ls -alRr在5小时和12米内工作。现在我真的累了！</p><p id="8309" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">重做一些C语言真的很有趣，很愉快，我肯定这让我成为了一个更好的开发人员！</p><p id="092e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望你喜欢这次阅读，告诉我你的想法，如果你想让我做这种挑战的流媒体/youtube版本，或任何其他格式。</p><figure class="mf mg mh mi fq mj fe ff paragraph-image"><div class="fe ff me"><img src="../Images/083973c56174b1d309422881fa707ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*WLacqxFazv-_frh5vqpltQ.png"/></div></figure></div></div>    
</body>
</html>