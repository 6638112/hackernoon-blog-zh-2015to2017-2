<html>
<head>
<title>How to Build a Website for Your Band Using Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Node.js为你的乐队建立一个网站</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-website-for-your-band-using-node-js-a7c856266c?source=collection_archive---------18-----------------------#2017-10-18">https://medium.com/hackernoon/how-to-build-a-website-for-your-band-using-node-js-a7c856266c?source=collection_archive---------18-----------------------#2017-10-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/7c94ef140670bcc0838ba9325016b4be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7R_yrhJcOFVk11C-oVbSfA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">What we’ll be building</figcaption></figure><h1 id="980c" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="bdf3" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated"><a class="ae lc" href="https://cosmicjs.com/apps/band-website/demo" rel="noopener ugc nofollow" target="_blank">查看演示</a> <br/> <a class="ae lc" href="https://github.com/cosmicjs/band-website" rel="noopener ugc nofollow" target="_blank">查看GitHub上的完整代码库</a> <br/> <a class="ae lc" href="https://cosmicjs.com/apps/band-website" rel="noopener ugc nofollow" target="_blank">点击几下即可安装并部署网站</a></p><p id="0f2c" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">当你全神贯注于写歌、充分利用录音室时间、寻找演出机会时，你就不会被为乐队建立静态网站或处理深奥的CMS系统所困扰。当你想方便地访问你的数据，想知道一切都在哪里，想能够为自己编写一个简单的，可预测的应用程序时，Cosmic JS应该是最明显的选择。</p><p id="3155" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">Cosmic JS是一个API优先的CMS，这意味着它独立于语言、独立于数据库，并且几乎独立于其他任何东西。这对于像这样的小项目来说非常棒，因为我们可以在未来用任何语言或框架快速扩展它，我们可以定义我们需要的复杂的数据结构。</p><p id="df3d" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">我们的乐队网站需要有以下功能:</p><ol class=""><li id="813a" class="li lj hu kg b kh ld kl le kp lk kt ll kx lm lb ln lo lp lq dt translated">巡演日期，这样我们的粉丝就知道在哪里可以看到我们</li><li id="2671" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">照片库，因为看起来酷和听起来好一样重要</li><li id="ea98" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">视频画廊，因为照片会变得无聊</li><li id="3b1a" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">一本传记，这样新粉丝就能知道我们在做什么</li><li id="a7c6" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">一个邮件列表注册表格，所以我们可以向我们的球迷营销</li></ol><p id="8778" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">我们的网站将被建成一个Express应用程序，与Mailchimp集成以处理电子邮件注册，其所有数据将完全由Cosmic JS提供。它也将通过Cosmic部署。</p><h1 id="b7c8" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第0部分:设置Cosmic JS</h1><p id="a9f2" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">我们将在Cosmic中使用三种对象类型来构建我们的数据。</p><ol class=""><li id="ff67" class="li lj hu kg b kh ld kl le kp lk kt ll kx lm lb ln lo lp lq dt translated">旅游日期—用于存储演出信息</li><li id="5ff9" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">图库—用于存储相册</li><li id="7220" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">视频—用于存储Youtube视频的链接</li><li id="fa57" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb ln lo lp lq dt translated">设置—用于存储站点设置</li></ol><p id="6932" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">我们将用预定义的元字段设置每个对象类型，如下所示:</p><p id="9773" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated"><strong class="kg hv">游览日期<br/>图元字段<br/> </strong>地点(文本)<br/>地点(文本)<br/>日期(日期)<br/>门票链接(文本)</p><p id="b987" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated"><strong class="kg hv">图库<br/>图元字段<br/> </strong>照片(复读机)<br/> -照片(文件)<br/> -日期(日期)</p><p id="2db3" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated"><strong class="kg hv">视频<br/>图元字段<br/> </strong>嵌入代码(文本)</p><p id="c764" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">(设置类型没有预设的元字段，我们将在需要时设置它们)</p><h1 id="727a" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第一部分。样板设置</h1><p id="1340" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">为了节省样板文件的时间，我们将使用Yeoman和Express Generator(构建在Express的“官方生成器”上)来开始。如果你没有安装Yeoman，运行<code class="eh lw lx ly lz b">npm i -g yo</code>。然后用<code class="eh lw lx ly lz b">npm i -g generator-express</code>安装发电机，用<code class="eh lw lx ly lz b">yo express</code>运行发电机。按照说明在一个新目录下建立你的项目(比如说<code class="eh lw lx ly lz b">CosmicUserBlog</code>)，安装<em class="ma">基础</em>版本，并为你的视图引擎使用手柄。</p><p id="89a3" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">您的目录结构现在如下:</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="20c0" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">第二部分。装置</p><p id="faee" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">我们将使用以下软件包:</p><ul class=""><li id="f159" class="li lj hu kg b kh ld kl le kp lk kt ll kx lm lb mh lo lp lq dt translated">async——一个强大的异步实用程序库</li><li id="3e34" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">axios——简单、基于承诺的http请求</li><li id="695b" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">Cors——标准CORS中间件</li><li id="2c58" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">宇宙JS——官方客户端</li><li id="201a" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">时刻—格式化日期</li><li id="7dea" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">TruncateHTML —用于HTML安全文本缩短</li><li id="78ab" class="li lj hu kg b kh lr kl ls kp lt kt lu kx lv lb mh lo lp lq dt translated">洛达什——因为它的各种设施</li></ul><p id="73da" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">你可以用npm安装这些，但我主张用纱线。它明显更快，我们没有时间浪费。所以安装Yarn(在macOS上我们会做一个<code class="eh lw lx ly lz b">brew install yarn</code>，然后运行<code class="eh lw lx ly lz b">yarn add async axios cors cosmicjs moment truncate-html lodash</code>。</p><h1 id="511d" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第三部分。配置应用程序</h1><p id="f0ca" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">在<code class="eh lw lx ly lz b">app.js</code>中，导入我们刚刚安装的包，并声明一个用于Cosmic JS客户端的<code class="eh lw lx ly lz b">config</code>对象:</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="d716" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">我们将其分配给<code class="eh lw lx ly lz b">app.locals</code>以在我们的路线中使用。</p><h1 id="1f11" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">网站设置</h1><p id="b976" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">我们希望能够在整个网站上显示某些数据，我们将把它存储在一个Cosmic JS对象中，以便于编辑，而不是每次需要更改时都必须重新部署我们的网站。在你的宇宙仪表盘中，制作一个名为<code class="eh lw lx ly lz b">`Site Settings`</code>的<code class="eh lw lx ly lz b">Settings</code>物体。</p><p id="c1cd" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">主要布局</p><p id="d7ca" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">在我们开始构建之前的最后一步是对主手柄布局进行一些调整，其中我们需要链接到字体Awesome、Normalize.css，并更改标题。变更后，<code class="eh lw lx ly lz b">main.handlebars</code>将是这样的:</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><h1 id="bb7c" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第四部分。构建页眉和页脚</h1><p id="898c" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">网站上的每个页面都将有一个标题，所以我们将首先建立它。出于同样的原因，我们将使它成为部分的。它将链接到我们的社交媒体，我们邮件列表的注册表单，我们的徽标和主要导航。</p><p id="164f" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">将此添加到<code class="eh lw lx ly lz b">partials/header.handlebars</code>:</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="ba96" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">这给了我们一个带有移动下拉菜单的响应式标题，我们需要将<code class="eh lw lx ly lz b">nav-links</code>、<code class="eh lw lx ly lz b">signup-form</code>和<code class="eh lw lx ly lz b">social-links</code>构建成它们自己的部分。同样，<code class="eh lw lx ly lz b">settings.logo</code>(和其他数据)将从路线通过<code class="eh lw lx ly lz b">req.locals</code>传递。</p><h1 id="47c9" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">导航链接部分</h1><p id="af18" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">为了不重复，我们用<code class="eh lw lx ly lz b">partials/nav-links.handlebars</code>中的所有导航链接创建了一个部分。</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><h1 id="1923" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">部分社交链接</h1><p id="62c2" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">这同样适用于我们的社交媒体链接，除了我们传递数据的方式会使构建稍微有趣一点。因为除了<code class="eh lw lx ly lz b">title</code>、文本和<code class="eh lw lx ly lz b">href</code>之外，每个帐户的link元素都是相同的，所以我们将使用Handlebars <code class="eh lw lx ly lz b">each</code>助手来迭代我们所有的帐户。</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><h1 id="5731" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">注册表单部分</h1><p id="0c7e" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">最后，我们需要一个表单来处理向我们的Mailchimp列表添加新订户。我们将简单地收集他们的电子邮件地址，并在稍后向<code class="eh lw lx ly lz b">/signup</code>发送POST请求时进行处理。</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="8a52" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">所有的页眉部分都完成了，页眉本身也就完成了，我们基本上免费得到了页脚:</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="6cf6" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">注意<code class="eh lw lx ly lz b">#getYear</code>助手。稍后我们将在<code class="eh lw lx ly lz b">app.js</code>中定义它，并使用它以字符串形式返回当前年份。</p><h1 id="face" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第五部分。构建主页</h1><p id="c603" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">主页可以让你一瞥网站的其他部分。在上半部分，我们将展示我们的标题和一个大的CTA部分，其中有链接到我们的旅行日期和照片库的按钮。在下半部分，我们将展示三个即将播出的节目，一个简介和一个页脚。</p><figure class="mb mc md me fq iv"><div class="bz el l di"><div class="mf mg l"/></div></figure></div><div class="ab cl mi mj hc mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hn ho hp hq hr"><blockquote class="mp mq mr"><p id="8f28" class="ke kf ma kg b kh ld kj kk kl le kn ko ms lf kr ks mt lg kv kw mu lh kz la lb hn dt translated">本文是Matt Cain在Cosmic JS 上发表的<a class="ae lc" href="https://cosmicjs.com/articles/how-to-build-a-website-for-your-band-with-cosmic-js-j8v73a00" rel="noopener ugc nofollow" target="_blank">原文的缩略版</a></p></blockquote><h1 id="858e" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第九部分。部署</h1><p id="5da6" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">在部署之前——这只是推到一个Github repo并遵循宇宙仪表盘上的指示——确保用<code class="eh lw lx ly lz b">gulp sass</code>编译Sass样式</p><h1 id="86d6" class="jg jh hu bd ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd dt translated">第十部分。结论</h1><p id="fafe" class="pw-post-body-paragraph ke kf hu kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb hn dt translated">使用Cosmic JS、Express和Mailchimp，我们为我们的乐队建立了一个可访问的功能性网站，让我们可以随时更新信息、巡演日期、照片库和视频，而不必每次改变都重新部署网站。Cosmic的API first approch让我们可以简单地做到这一点，不需要数据库，只要有一个很棒的仪表板，就可以随时随地管理我们的数据。</p><p id="a366" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">鉴于我们能够如此快速地构建我们的应用程序，以及部署和维护它的简单性，很明显，Cosmic JS在其API优先的内容管理方法中是独一无二的。很明显，CosmisJS是一个赚钱机器。</p></div><div class="ab cl mi mj hc mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hn ho hp hq hr"><p id="d08a" class="pw-post-body-paragraph ke kf hu kg b kh ld kj kk kl le kn ko kp lf kr ks kt lg kv kw kx lh kz la lb hn dt translated">Matt Cain构建了智能web应用程序，并介绍了构建这些应用程序所使用的技术。你可以在他的 <a class="ae lc" href="http://mattcain.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ma">作品集</em> </a>上了解他的更多信息。</p></div></div>    
</body>
</html>