<html>
<head>
<title>Iris Go vs .NET Core Kestrel in terms of HTTP performance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Iris Go与NET Core Kestrel在HTTP性能方面的比较</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/iris-go-vs-net-core-kestrel-in-terms-of-http-performance-806195dc93d5?source=collection_archive---------1-----------------------#2017-08-21">https://medium.com/hackernoon/iris-go-vs-net-core-kestrel-in-terms-of-http-performance-806195dc93d5?source=collection_archive---------1-----------------------#2017-08-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="9497" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Iris Golang和T2红隼之间的公平基准。网芯 (C#)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/3507b7eee97b2cdc0e15d5130624dc0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*Q5Cl3YVaLVyuxvUaamegLw.png"/></div></figure><p id="9672" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你好！</p><p id="3fab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本文是“就HTTP性能而言Go vs .Net Core”系列的第二篇，如果您还没有阅读第一篇文章的话，您<em class="jp">应该</em>真的<a class="ae jy" rel="noopener" href="/@kataras/go-vs-net-core-in-terms-of-http-performance-7535a61b67b8">阅读第一篇文章</a>。</p><blockquote class="jz ka kb"><p id="2565" class="ir is jp it b iu iv iw ix iy iz ja jb kc jd je jf kd jh ji jj ke jl jm jn jo hn dt translated">为自己准备一杯咖啡或茶，无论你最喜欢什么！</p></blockquote><h2 id="4449" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">关于反馈</h2><p id="3db1" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">在这一部分，我会试着给你一个关于<a class="ae jy" rel="noopener" href="/@kataras/go-vs-net-core-in-terms-of-http-performance-7535a61b67b8">前一篇文章</a>的一部分(不好的方面)的大致想法，然而你可能根本不在乎或者你没有心情，因此你<strong class="it hv">可能 </strong> <em class="jp">想要</em> <strong class="it hv"> <em class="jp">跳过</em> </strong>那个和<strong class="it hv">直接进入<strong class="it hv">基准</strong>部分。</strong></p><p id="55b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我们的<a class="ae jy" rel="noopener" href="/@kataras/go-vs-net-core-in-terms-of-http-performance-7535a61b67b8">上一篇文章</a>中，我们比较了<a class="ae jy" href="https://github.com/kataras/iris" rel="noopener ugc nofollow" target="_blank"> Iris web框架</a>和<a class="ae jy" href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" rel="noopener ugc nofollow" target="_blank"> MVC </a>特性的性能。NET Core 通过测试一个简单的应用程序(以避免类似“您可以使用更快的json编码器”之类的争论)。</p><p id="b0be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这篇文章引起了相当惊人的反响。大多数的评论都很好，很有礼貌，不管你同意还是不同意。有些人的评论带有负面的味道，但这是意料之中的，也是受欢迎的。</p><p id="af59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我总是努力做到负责任，所以我会回答你的大部分问题，这些问题都与文章避免重复有关。如果你在你的评论下面没有看到我的回复，那么搜索一下相关的问题，我相信你会找到我的答案的。</p><p id="cb35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一些。NET开发者通过twitter联系我，告诉我这不是真的。NET Core因为我用的是MVC而不是Kestrel，是不是意味着C#开发者要避免。NET Core的MVC特性？我不明白。从基准测试标题和<a class="ae jy" href="https://github.com/kataras/iris/tree/master/_benchmarks" rel="noopener ugc nofollow" target="_blank">代码本身</a>可以清楚地看出，我们正在对Iris和的MVC版本进行比较。NET Core，Iris也有一个“更低的级别”,但是我们没有使用它。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Note: the IrisMVC is a foreign twitter account, it is not Iris web framework’s account.</figcaption></figure><p id="0138" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我知道我的文章会对。网络世界。我最近收到了很多粗鲁的评论，有趣的是，发布最令人难以接受的评论的人都在为大公司工作，我的意思是，他们在某个年龄可以理解人类的接触，但实际上他们从来没有学到人类沟通的基本知识，礼貌。</p><p id="fcbb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我真的不觉得这是对的，我的意思是发表他们(已经公开的)评论是正确的决定，但无论如何，我们都应该尽快谴责他们。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">He insists without even reading the article…</figcaption></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">That guy really thinks that I got paid from someone? Sadly I have just 0.67$ at my personal bank account!</figcaption></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Scott’s reply to that guy. Beside the fact that every Scott’s talk is beyond the best It’s a great person with ethos as well.</figcaption></figure><p id="bfad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一方面，我真的没有任何问题，<strong class="it hv">仇恨言论</strong>过去和将来都不会影响我，因为我体内没有那个东西——设计:p<strong class="it hv">T3。我不认为这些是人身攻击，也不害怕我，但这个<strong class="it hv">并不意味着我应该容忍它们，心照不宣</strong>。</strong></p><p id="fe5f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如<a class="ae jy" href="https://twitter.com/abatishchev" rel="noopener ugc nofollow" target="_blank">那个家伙</a> <strong class="it hv">声称</strong>他在微软工作，但我不相信受过“高等教育”的人能写出这样的东西:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Even if the code ran in production mode he doesn’t care about that, he just want to comment something. One more guy who didn’t actually read the article neither the code inside it.</figcaption></figure><div class="jr js jt ju fq ab cb"><figure class="ll jv lm ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/1ec7186f3bde76eadcf23c2159dbc2fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:162/format:webp/1*vkcTJ_YURA9XC0TW9DdmtQ.png"/></div></figure><figure class="ll jv lv ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/de565c395689b531f7cc3fa842a2923d.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*MK1u2u-oKh1BcTe570NVLA.png"/></div></figure><figure class="ll jv lw ln lo lp lq paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><img src="../Images/d0878a3b63f34b9a191297a5874cc371.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*SGjQRn5JXRmX2xhOn4IKPg.png"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek lx di ly lz">He’s clearly promoting hate without reason, just to be said.</figcaption></figure></div><p id="f63a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">不，他们没有就此止步</strong>，你会惊讶于这个评论所宣扬的民主意识！</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lf lg l"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">That guy for example, reported dev.to for sharing my article. Bad dev.to authors, don’t share my articles again, he doesn’t allow these things! “after investigating” oh boy…</figcaption></figure><p id="cd54" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt ma translated"><span class="l mb mc md bm me mf mg mh mi di"> B </span>除了遗漏的论点和诽谤性的评论，第一个人<a class="ae jy" href="https://twitter.com/AliMalekpour" rel="noopener ugc nofollow" target="_blank"> Ali Malekpour </a>很好地发表了他的论点，所以我认真地考虑了一下，他实际上<strong class="it hv">给了我这个想法:</strong>为这两个世界的“低级”web端<strong class="it hv"> </strong>编写基准，去。我们到了:)</p></div><div class="ab cl mj mk hc ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hn ho hp hq hr"><h1 id="854f" class="mq kg hu bd kh mr ms mt kl mu mv mw kp mx my mz ks na nb nc kv nd ne nf ky ng dt translated">标杆管理</h1><p id="b536" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">这次我们将比较“低级”的速度。NET Core的服务器实现名为<strong class="it hv"> Kestrel </strong>和<strong class="it hv">Iris</strong>’“低级”处理程序，我们将测试两个简单的应用程序，第一个<strong class="it hv">和第二个</strong>几乎与我们之前的应用程序相同，但使用处理程序编写，第二个<strong class="it hv">和第三个</strong>测试将包含一个单一的路由，该路由基于一个键(字符串)设置和获取一个<strong class="it hv">会话</strong>值(字符串)并将该会话值返回给客户端。</p><h2 id="32ce" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">五金器具</h2><ul class=""><li id="5698" class="nh ni hu it b iu la iy lb jc nj jg nk jk nl jo nm nn no np dt translated">处理器:英特尔酷睿i7–4710 HQ CPU @ 2.50 GHz 2.50 GHz</li><li id="d8c1" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">内存:8.00 GB</li></ul><h2 id="973b" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">软件</h2><ul class=""><li id="f4f7" class="nh ni hu it b iu la iy lb jc nj jg nk jk nl jo nm nn no np dt translated">操作系统:Microsoft Windows[版本10.0.15063]，电源计划是“高性能”</li><li id="83fc" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">HTTP基准工具:<a class="ae jy" href="https://github.com/codesenberg/bombardier" rel="noopener ugc nofollow" target="_blank">https://github.com/codesenberg/bombardier</a>，最新版本1.1</li><li id="338b" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">。网芯:<a class="ae jy" href="https://www.microsoft.com/net/core" rel="noopener ugc nofollow" target="_blank">https://www.microsoft.com/net/core</a>，最新版本2.0</li><li id="f78b" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">iris:<a class="ae jy" href="https://github.com/kataras/iris" rel="noopener ugc nofollow" target="_blank">https://github.com/kataras/iris</a>，最新版本8.3内置<a class="ae jy" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"> go1.8.3 </a></li></ul><h2 id="7f77" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">首次申请</h2><p id="691c" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">Spawn <code class="eh nv nw nx ny b">1000000 requests</code>与<code class="eh nv nw nx ny b">125 </code>不同的“线程”，以一个动态注册的路由路径为目标，用一个简单的<code class="eh nv nw nx ny b">“value”</code>文本响应。</p><p id="fc4d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">。净芯(红隼)</strong></p><p id="7756" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">源代码</em></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="nz lg l"/></div></figure><p id="ad78" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">启动。NET Core Kestrel web服务器</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="8d88" class="kf kg hu ny b fv oe of l og oh">$ cd netcore<br/>$ dotnet run -c Release<br/>Hosting environment: Production<br/>Content root path: C:\mygopath\src\github.com\kataras\iris\_benchmarks\netcore<br/>Now listening on: <a class="ae jy" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a><br/>Application started. Press Ctrl+C to shut down.</span></pre><p id="2a90" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">瞄准并运行HTTP基准工具</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="5f22" class="kf kg hu ny b fv oe of l og oh">$ bombardier -c 125 -n 1000000 <a class="ae jy" href="http://localhost:5000/api/values/5" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/api/values/5</a><br/>Bombarding <a class="ae jy" href="http://localhost:5000/api/values/5" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/api/values/5</a> with 1000000 requests using 125 connections<br/> 1000000 / 1000000 [======================================================================================] 100.00% 10s<br/>Done!<br/>Statistics        Avg      Stdev        Max<br/>  Reqs/sec     97884.57    8699.94     110509<br/>  Latency        1.28ms   682.63us    61.04ms<br/>  HTTP codes:<br/>    1xx - 0, 2xx - 1000000, 3xx - 0, 4xx - 0, 5xx - 0<br/>    others - 0<br/>  Throughput:    17.73MB/s</span></pre><p id="4c41" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">虹膜</strong></p><p id="61c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">源代码</em></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="nz lg l"/></div></figure><p id="6cde" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">启动Iris Go网络服务器</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="c8e6" class="kf kg hu ny b fv oe of l og oh">$ cd iris<br/>$ go run main.go<br/>Now listening on: <a class="ae jy" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a><br/>Application started. Press CTRL+C to shut down.</span></pre><p id="b4c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">瞄准并运行HTTP基准工具</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="fac7" class="kf kg hu ny b fv oe of l og oh">$ bombardier -c 125 -n 1000000 <a class="ae jy" href="http://localhost:5000/api/values/5" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/api/values/5</a><br/>Bombarding <a class="ae jy" href="http://localhost:5000/api/values/5" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/api/values/5</a> with 1000000 requests using 125 connections<br/> 1000000 / 1000000 [=======================================================] 100.00% 8s<br/>Done!<br/>Statistics        Avg      Stdev        Max<br/>  Reqs/sec    117917.79    4437.04     125614<br/>  Latency        1.06ms   278.12us    19.03ms<br/>  HTTP codes:<br/>    1xx - 0, 2xx - 1000000, 3xx - 0, 4xx - 0, 5xx - 0<br/>    others - 0<br/>  Throughput:    21.93MB/s</span></pre><h2 id="741c" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">摘要</h2><ul class=""><li id="69f9" class="nh ni hu it b iu la iy lb jc nj jg nk jk nl jo nm nn no np dt translated">完成<code class="eh nv nw nx ny b">1000000 requests</code>的时间——越短越好。</li><li id="63ec" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">每秒请求数—越大越好。</li><li id="78c6" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">延迟—越短越好</li><li id="2b05" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">吞吐量—越大越好。</li><li id="8c5e" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">LOC(代码行)—越小越好。</li></ul><p id="fab9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">。使用<strong class="it hv"> 63代码行</strong>编写的NET Core (Kestrel)应用程序运行了<strong class="it hv"> 10秒</strong>，每秒处理<strong class="it hv"> 97884.57 </strong>个请求，平均<strong class="it hv"> 17.73MB/s </strong>，平均<strong class="it hv"> 1.28ms </strong>延迟，<strong class="it hv"> 61.04ms </strong>最大。</p><p id="cb53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用<strong class="it hv"> 14代码行</strong>编写的Iris应用程序运行了<strong class="it hv"> 8秒</strong>，每秒处理<strong class="it hv"> 117917.79 </strong>个请求，平均<strong class="it hv"> 21.93MB/s </strong>，平均<strong class="it hv"> 1.06ms </strong>延迟，<strong class="it hv"> 19.03ms </strong>最大延迟。</p><h2 id="5ea6" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">第二次申请(会话)</h2><p id="0f19" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">用针对静态请求路径的<code class="eh nv nw nx ny b">125 different “threads”</code>生成<code class="eh nv nw nx ny b">5000000 requests</code>，基于名称<code class="eh nv nw nx ny b">“key” </code>，字符串值<code class="eh nv nw nx ny b">”value"</code>设置并获取会话，并将会话值写入(或返回，由您选择)响应流。</p><p id="09a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">。具有会话的网络核心(Kestrel)</strong></p><p id="2086" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">源代码</em></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="nz lg l"/></div></figure><p id="d875" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">启动。NET Core Kestrel web服务器</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="39fe" class="kf kg hu ny b fv oe of l og oh">$ cd netcore-sessions<br/>$ dotnet run -c Release<br/>Hosting environment: Production<br/>Content root path: C:\mygopath\src\github.com\kataras\iris\_benchmarks\netcore-sessions<br/>Now listening on: <a class="ae jy" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a><br/>Application started. Press Ctrl+C to shut down.</span></pre><p id="4eba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">瞄准并运行HTTP基准工具</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="f589" class="kf kg hu ny b fv oe of l og oh">$ bombardier -c 125 -n 5000000 <a class="ae jy" href="http://localhost:5000/setget" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/setget</a><br/>Bombarding <a class="ae jy" href="http://localhost:5000/setget" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/setget</a> with 5000000 requests using 125 connections<br/> 5000000 / 5000000 [====================================================================================] 100.00% 2m40s<br/>Done!<br/>Statistics        Avg      Stdev        Max<br/>  Reqs/sec     31844.77   13856.19     253746<br/>  Latency        4.02ms    15.57ms      0.96s<br/>  HTTP codes:<br/>    1xx - 0, 2xx - 5000000, 3xx - 0, 4xx - 0, 5xx - 0<br/>    others - 0<br/>  Throughput:    14.51MB/s</span></pre><p id="3e22" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> Iris与会话</strong></p><p id="fe9c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">源代码</em></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="nz lg l"/></div></figure><p id="f36c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">启动Iris Go网络服务器</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="21f5" class="kf kg hu ny b fv oe of l og oh">$ cd iris-sessions<br/>$ go run main.go<br/>Now listening on: <a class="ae jy" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a><br/>Application started. Press CTRL+C to shut down.</span></pre><p id="7cd9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">瞄准并运行HTTP基准工具</em></p><pre class="jr js jt ju fq oa ny ob oc aw od dt"><span id="8586" class="kf kg hu ny b fv oe of l og oh">$ bombardier -c 125 -n 5000000 <a class="ae jy" href="http://localhost:5000/setget" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/setget</a><br/>Bombarding <a class="ae jy" href="http://localhost:5000/setget" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/setget</a> with 5000000 requests using 125 connections<br/> 5000000 / 5000000 [====================================================================================] 100.00% 1m15s<br/>Done!<br/>Statistics        Avg      Stdev        Max<br/>  Reqs/sec     66749.70   32110.67     110445<br/>  Latency        1.88ms     9.13ms      1.94s<br/>  HTTP codes:<br/>    1xx - 0, 2xx - 5000000, 3xx - 0, 4xx - 0, 5xx - 0<br/>    others - 0<br/>  Throughput:    20.65MB/s</span></pre><h2 id="cb63" class="kf kg hu bd kh ki kj kk kl km kn ko kp jc kq kr ks jg kt ku kv jk kw kx ky kz dt translated">摘要</h2><ul class=""><li id="cb64" class="nh ni hu it b iu la iy lb jc nj jg nk jk nl jo nm nn no np dt translated">完成<code class="eh nv nw nx ny b">5000000 requests</code>的时间到了——越小越好。</li><li id="616e" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">每秒请求数—越大越好。</li><li id="f211" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">延迟—越短越好</li><li id="bb18" class="nh ni hu it b iu nq iy nr jc ns jg nt jk nu jo nm nn no np dt translated">吞吐量—越大越好。</li></ul><p id="f627" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">。带有会话应用的NET Core运行了<strong class="it hv"> 2分40秒</strong>，每秒处理<strong class="it hv"> 31844.77 </strong>个请求，其中<strong class="it hv"> 14.51MB/s </strong>，平均延迟<strong class="it hv"> 4.02ms </strong>，最大延迟<strong class="it hv"> 0.96s </strong>。</p><p id="577c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Iris with Sessions应用程序运行了<strong class="it hv"> 1分15秒</strong>，每秒处理<strong class="it hv"> 66749.70 </strong>个请求，平均<strong class="it hv"> 20.65MB/s </strong>，平均<strong class="it hv">1.88毫秒</strong>延迟，最大<strong class="it hv">1.94秒</strong>。</p><h1 id="b913" class="mq kg hu bd kh mr oi mt kl mu oj mw kp mx ok mz ks na ol nc kv nd om nf ky ng dt translated">收场白</h1><p id="152b" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">我们真的不得不承认Kestrel相对于它的MVC端运行得相当快，<strong class="it hv">祝贺</strong> <a class="ae jy" href="https://github.com/dotnet/corefx" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">开源项目的贡献者</strong> </a> <strong class="it hv">和</strong> <a class="ae jy" href="https://www.microsoft.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">微软</strong> </a>启动并支持它！</p><p id="58b0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">像上一篇文章一样，这篇文章<a class="ae jy" href="https://github.com/kataras/iris/tree/master/_benchmarks/screens" rel="noopener ugc nofollow" target="_blank">有自己的截图</a>取自我的电脑，你在这里看到的相同代码片段也存在于gists和<a class="ae jy" href="https://github.com/kataras/iris/tree/master/_benchmarks" rel="noopener ugc nofollow" target="_blank">github库</a>中，点击链接即可导航。</p><p id="ae40" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt ma translated"><span class="l mb mc md bm me mf mg mh mi di">我</span>希望看到更多的测试人员，所以下载源代码并从你的机器上运行基准，<strong class="it hv">与我们其他人分享结果。</strong></p><p id="26f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想和我讨论某个话题，我随时欢迎新的机会和新的朋友，在我的推特上你可以找到我所有的联系方式！</p><div class="on oo fm fo op oq"><a href="https://twitter.com/MakisMaropoulos" rel="noopener  ugc nofollow" target="_blank"><div class="or ab ej"><div class="os ab ot cl cj ou"><h2 class="bd hv fv z el ov eo ep ow er et ht dt translated">Gera simos Maropoulos(@ MakisMaropoulos)|推特</h2><div class="ox l"><h3 class="bd b fv z el ov eo ep ow er et ek translated">Gerasimos Maropoulos的最新推文(@MakisMaropoulos)。那个叫#golang的家伙。自学10多年的开发人员…</h3></div><div class="oy l"><p class="bd b gc z el ov eo ep ow er et ek translated">twitter.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe jw oq"/></div></div></a></div><p id="f96f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">感谢</strong>你给我个人时间来阅读这篇文章，像你对上一篇文章所做的那样，把它传播给外界。</p><p id="5a6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我会在我的下一篇文章中看到你…一如既往，玩得开心！</p></div><div class="ab cl mj mk hc ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hn ho hp hq hr"><p id="10f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我喜欢当<strong class="it hv">我不止一次点击</strong>按钮时的视觉效果，你呢？很简单:只要点击拍手按钮。如果感觉强烈，再点一下<strong class="it hv">(或者直接按住</strong> <strong class="it hv">)。</strong></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff pf"><img src="../Images/e7bd15bcb40212893d2e7daf3f20813b.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/1*A6fw1R0_Eb7rbfP7sJckmQ.gif"/></div></figure></div></div>    
</body>
</html>