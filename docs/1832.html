<html>
<head>
<title>How JavaScript Fatigue simplifies coding and increases revenue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript疲劳如何简化编码并增加收入</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-javascript-fatigue-simplifies-coding-and-increases-revenue-46925c7efd47?source=collection_archive---------4-----------------------#2016-12-12">https://medium.com/hackernoon/how-javascript-fatigue-simplifies-coding-and-increases-revenue-46925c7efd47?source=collection_archive---------4-----------------------#2016-12-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/779e32894f6a48feb4641b429924fab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ALakzyR2RWU7oqLdXSwblQ.jpeg"/></div></div></figure><div class=""/><p id="e425" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们以前来过这里。在BASIC和Fortan中，过程编程和goto语句风靡一时。为什么任何人都应该停止使用一个非常好的工具来迎合一种叫做OOP的新时尚呢？</p><p id="22af" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如此巨大的转变是艰难的。过渡到面向对象编程使我们能够构建出令人惊叹的产品，如果没有面向对象编程，这些产品将极具挑战性。改变核心基本面需要摒弃旧的方法，给新想法在现实世界中发挥的机会。克服JavaScrip疲劳的转变尤其困难，因为新工具违背了OOP和MVC的规范。但是没有人停下来解释原因。为什么你作为开发人员的生活会更好？为什么你的公司会受益？</p><p id="2811" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在过去的两年里，我发布了使用这种新堆栈的应用程序。他们以MVC和OOP无法做到的方式帮助了我。我不太担心破损，因为我的破损少了。我花更少的时间管理测试框架，花更多的时间启用和迭代功能，使我的应用程序更有用。这让我能够让设计师和研究团队更快地学习和迭代我们的产品。企业赢得了更多的客户，并更快地了解他们的客户。让我们来分解4个最重要的工具，以及为什么它们每一个都使开发更容易，并提高您公司的底线。</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/47c48905bd8d5677d3f7d096d05959bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*Z_O2vl7r-RY8sHx-EqTl-A.png"/></div></figure><h1 id="a396" class="kg kh if bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">1.反应</h1><p id="a576" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">新架构最关键的部分是<a class="ae ka" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">反应</a>。React改进了传统UI开发的许多问题，很难简洁地描述它的好处。React好处的关键在于它在一个组件架构中使用<a class="ae ka" href="http://bit.ly/pure-views" rel="noopener ugc nofollow" target="_blank"> <strong class="je ig"> <em class="lj">纯函数来渲染UI </em> </strong> </a>。</p><p id="b15d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">纯功能视图允许React to <strong class="je ig"> <em class="lj">将业务逻辑从UI </em> </strong>中分离出来。构建稳定的前端应用程序的问题在于用户。用户以随机的顺序做随机的事情。他们不懂用户界面。拯救用户的方法是将他们与业务逻辑代码隔离开来。React通过使整个UI只是底层静态数据的简单反映来做到这一点，对视图使用纯函数意味着给定任何静态JSON，它将总是以完全相同的方式呈现。</p><p id="6d57" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">React中业务逻辑和UI的分离使得代码库<strong class="je ig"> <em class="lj">更容易搜索。</em> </strong>在React中，包含多个抽象的复杂类集合变成了非常基本的函数。我开发的最后一个enterprise React应用程序，我们让一个新的jr .开发者在第一天自己添加了一个新特性，第二天就发布了。构建前端应用程序并没有我们想象的那么难；我们只是有太多复杂的工具。</p><p id="6c0c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">凡事都有权衡要考虑。React也没什么不同。这可能是与现有的强制性的、基于可变的框架的斗争。有一些迁移途径，比如对现有应用程序的一部分使用React，或者将旧应用程序封装在React组件中，以便退出DOM管理。最后，如果开发团队看不到现有复杂的OOP/MVC框架中的缺陷，这将是一个硬推销。当你全押时，反应最好。</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/e2dfab0f3dd6d5c98ab60e4e665a6bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*MIr3dCSUDr-zrIaYKOqarg.png"/></div></figure><h1 id="71ca" class="kg kh if bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">2.网络包</h1><p id="08e2" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">Webpack极大地改善了开发人员的体验，同时也极大地改善了用户体验。Webpack with Babel的设置和配置可能会很痛苦，但是有两个很好的理由说明Webpack的重要性。</p><p id="0ff8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Webpack对于开发最大的特点就是活编码。<strong class="je ig"> <em class="lj">现场编码一点也不像现场重装。如果你曾经使用过像Java或C这样的编译语言和使用像JavaScript这样的截取语言，你就会体会到其中的不同。实时编码使得在编辑器中输入并立即看到结果变得轻松。不得不打开Chrome DevTools或alt-tab打开浏览器并点击鼠标，这几乎是一种负担。只需更改一行代码并在浏览器中看到即时结果会更快。</em></strong></p><p id="b0ce" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Webpack改善了开发者的体验，对最终用户的影响更大，它将增加公司的收入。谷歌、微软、沃尔玛和亚马逊都有<a class="ae ka" href="http://www.globaldots.com/how-website-speed-affects-conversion-rates/" rel="noopener ugc nofollow" target="_blank">案例研究</a>显示，页面加载速度哪怕提高1秒，他们的转化率和收入都会增加2%到4%。在沃尔玛的案例中，他们会留下2.4亿美元。Webpack只需要几个设置就可以极大地提高页面负载。在代码分割和使用responsive image(使用resize-image-loader)之间，我们将页面加载时间从20秒减少到了2秒。</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/3c303b036dfaedcea8fa94a4caac4c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*kFbuYs4tE-qaZkgt43m7FA.png"/></div></figure><h1 id="aa93" class="kg kh if bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">3.Redux</h1><p id="28b2" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">Redux是一个基于函数式编程范例的状态管理工具。对于<strong class="je ig"> <em class="lj">减少bug，减少浪费时间试图回购bug</em></strong>来说是天赐良机。Redux之所以这么做，是因为它严格控制依赖关系。通常依赖关系被认为是导入。但是一个更完整的观点包含了任何可以<em class="lj">隐含</em>改变状态的东西。这将包括引用<em class="lj"> this </em>的类，局部范围之外的对象，或者甚至创建一个对象并返回它，以便有人能够改变它的状态。简化和内心的平静来自于对突变的更好限制。Redux使用静态数据和更容易进行单元测试的纯函数，减少了对模拟的需求，并提供了更高水平的防破坏保证。</p><p id="49b9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">静态数据为我们提供了整个应用程序在任一时间点的可序列化快照。这让Redux to <strong class="je ig"> <em class="lj">记录并稍后重放生产</em> </strong>中发生的每一个bug。堆栈跟踪和QA的复制步骤忽略了如何找到程序错误的原因，即程序的状态。修复Redux中的一个bug，只需要开发者下载用户的状态，重放和倒带检查所有的状态转换，就可以看到bug的原因。</p><p id="abd6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Redux的缺点是它是一种非常规范的业务逻辑建模方式。这些模式并不总是直截了当或切实可行的，特别是对于异步、协调离线和在线以及透明地从web服务获取数据。还有其他工具和插件可以帮助解决这些问题。Redux需要重写您的代码库，但带来了一些巨大的好处。</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/ac8474c0941fb7a85632491f2fe76b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/format:webp/1*tGsdzopb8wJdurH8v1WuRw.png"/></div></figure><h1 id="7944" class="kg kh if bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">4.ClojureScript</h1><p id="1205" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">ClojureScript可能是列表中最后一个核心工具，也是最强大的一个。ClojureScript减少了许多开发人员认为编码固有的脆弱性。在开始使用ClojureScript时，我的主要建议是，在你真正使用它之前，不要做任何判断。我听到的对ClojureScript的常见反应是“我不喜欢你的脸/语法”。如果有机会的话，它的语法优于点符号是有充分理由的。Clojure已经存在10年了。工具、语言和社区都非常成熟。ClojureScript结合了优秀的工具、更好的核心原语、异步模式及其对静态类型的改进，使其优于其他选项。</p><h2 id="efc4" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">不可改变。</h2><p id="7899" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">ClojureScript中的所有原语永远都不能更改。<strong class="je ig"> <em class="lj">突变导致bug所以ClojureScript默认是不可变的。</em> </strong>不可变的数据使得不经意间代码库中某个部分的bug很难影响到其他地方的东西。正常的推回是不可变数据浪费大量内存，速度慢。在ClojureScript中，它比大多数可变数据使用模式*更快，并且更好地使用内存。更好的核心原语提供不同的性能特征。抵制微优化一切的冲动，因为这不像OOP。</p><h2 id="4652" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">可重构性和可读性。</h2><p id="3442" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">最好的特性是可重构性和可读性。<strong class="je ig"> <em class="lj">函数式编程优化提升开发者效率。学习曲线很高，但回报更高。仅用了3周时间，我就从对ClojureScript一无所知变成了一个可以投入生产的应用。关于ClojureScript代码库最令人惊奇的事情是，当我几个月后回到它的时候，我仍然可以阅读它。更令人吃惊的是，我没有重构旧代码的强烈愿望。与OOP重构相比，ClojureScript中的典型重构非常简单。我的大部分重构只是将功能转移到其他文件，或者将数据结构与转换数据分离开来。我工作过的Clojure代码库是清晰的、声明性的和简洁的。他们很少需要跳来跳去理解数据流。</em></strong></p><h2 id="58d1" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">类型。</h2><p id="7d7e" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">静态类型不是目标；目标是在编写、编译和运行代码时有更好的错误处理。<strong class="je ig"><em class="lj">ClojureScript one ups static typing system with Spec。</em> </strong> Spec*通过查看整个数据验证问题，不仅仅是类型。Flow或TypeScript只提供编译时检查。当你点击一个web服务或者访问一个不是你创建的JS库的时候，你不能保证类型。规范是处理编译时类型检查、运行时数据验证、运行时断言以及处理硬错误和软错误统一方法。它还可以为您的测试创建存根数据，为您编写测试，甚至在测试中断时告诉您它在代码中的确切位置和原因。是的，你没看错:Spec会为你生成测试。它还将测试你以前从未考虑过的条件。在使用Spec之后，其他测试实践感觉像是在建造沙堡；它们需要更长的时间来维持，而结果却更差。</p><h2 id="ba25" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">异步。</h2><p id="a109" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">ClojureScript async看起来很有趣。承诺并不适用于所有类型的异步工作。<strong class="je ig"> <em class="lj"> ClojureScript core.async就像《超级马里奥兄弟》中的绿色曲速管</em> </strong>在《超级马里奥兄弟》中，一根绿色曲速管就能把马里奥送到关卡、世界或游戏中的其他任何地方。这就是ClojureScript的通道为您的代码库的异步工作所做的事情。它使用Go Lang风格的通道，可以在一个地方创建，并在代码库中的任何其他地方轻松共享。它提供了Rx的所有优点，而没有任何复杂的函数耦合和流合并问题。Channels使异步代码读起来像线性代码，这减少了读者的认知超载，因此有更少的复杂的抽象错误。凭借所有这些令人惊叹的功能，ClojureScript also one ups还可以通过在通道上添加传感器来扩展通道。</p><h2 id="c7f5" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">传感器。</h2><p id="4a62" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">这是一个很大的词，但它们基本上只是一个有一个参数的函数。<em class="lj">(用户)= &gt;用户，名字</em>可用作传感器。<strong class="je ig"> <em class="lj">传感器使用简单的、不可知的函数以高性能的方式处理多个变换。使用不可知函数意味着可重用性更高。任何对干方法论有共鸣的人(不要重复自己)都会喜欢换能器。</em></strong></p><p id="4312" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了更好地理解传感器，让我们花一点时间回到超级马里奥对通道的类比。在游戏中，我们有一个功能，当马里奥触摸火花时，他会变成火马里奥。我们可以把同样功能放在一个绿色的曲速管“通道”上，当马里奥从管子里出来时，他就会解雇马里奥。这是相同的功能，但用在不同的上下文中。我们还可以在代码库中的另一个地方添加一个超级Tanooki传感器到同一个“通道”, Mario将作为Fire Tanooki Mario出现。将马里奥的所有朋友都通过这个通道，他们只需要简单的、不可知的函数就可以得到相同的变换。</p><p id="5e69" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你已经读到这里，那么剩下的唯一一件事就是花5分钟自己尝试ClojureScript。一个命令(见下文)将安装您使用Atom编辑器开始实时编码ClojureScript所需的一切。在您看到ClojureScript工具有多棒之后，请查看<a class="ae ka" href="http://reagent-project.github.io/" rel="noopener ugc nofollow" target="_blank">试剂对ClojureScript的介绍</a>和<a class="ae ka" href="https://www.niwi.nz/cljs-workshop/" rel="noopener ugc nofollow" target="_blank"> Andrew的教程系列，从JS到ClojureScript </a>。如果您有任何问题，请查看Clojurian Slack频道或在Twitter @puppybits上给我发消息。</p><h2 id="e89d" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">ClojureScript在一个命令中设置</h2><pre class="kc kd ke kf fq ly lz ma mb aw mc dt"><span id="b464" class="lk kh if lz b fv md me l mf mg">apm install parinfer &amp;&amp; \<br/>brew cask install java &amp;&amp; \<br/>brew install leiningen &amp;&amp; \<br/>lein new figwheel hello-cljs -- --reagent &amp;&amp; \<br/>cd hello-cljs &amp;&amp; \<br/>atom src/hello_cljs/core.cljs &amp;&amp; \<br/>lein figwheel &amp;&amp; \<br/>open http://localhost:3449</span></pre><h2 id="32fd" class="lk kh if bd ki ll lm ln km lo lp lq kq jn lr ls ku jr lt lu ky jv lv lw lc lx dt translated">附录</h2><p id="0120" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated"><a class="ae ka" href="http://www.globaldots.com/how-website-speed-affects-conversion-rates/" rel="noopener ugc nofollow" target="_blank"> 1/沃尔玛页面加载速度提升对话</a><br/><a class="ae ka" href="https://www.infoq.com/presentations/Simple-Made-Easy" rel="noopener ugc nofollow" target="_blank">2/Simple made Easy—Rich Hickey</a><br/><a class="ae ka" href="https://www.youtube.com/watch?v=mS264h8KGwk" rel="noopener ugc nofollow" target="_blank">3/不可变数据—David Nolen</a><br/><a class="ae ka" href="https://www.youtube.com/watch?v=VNTQ-M_uSo8" rel="noopener ugc nofollow" target="_blank">4/Spec:Agility&amp;Robustness—Stuart Halloway</a><br/><a class="ae ka" href="https://clojuredocs.org/" rel="noopener ugc nofollow" target="_blank">5/clo jure Help</a><br/><a class="ae ka" href="http://clojure.org/api/api" rel="noopener ugc nofollow" target="_blank">6/clo jure Docs</a><br/>7<a class="ae ka" href="http://reagent-project.github.io" rel="noopener ugc nofollow" target="_blank">/Intro to ClojureScript with Reagent</a><br/>8</p><p id="337d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">感谢<a class="mh mi gr" href="https://medium.com/u/e9dc50ed7c76?source=post_page-----46925c7efd47--------------------------------" rel="noopener" target="_blank">阿米莉亚·施密特</a>和<a class="mh mi gr" href="https://medium.com/u/5540d0047484?source=post_page-----46925c7efd47--------------------------------" rel="noopener" target="_blank">克里斯·奥克曼</a>。</p><div class="kc kd ke kf fq ab cb"><figure class="mj hw mk ml mm mn mo paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mj hw mk ml mm mn mo paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mj hw mk ml mm mn mo paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mp mq mr"><p id="f922" class="jc jd lj je b jf jg jh ji jj jk jl jm ms jo jp jq mt js jt ju mu jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd lj je b jf jg jh ji jj jk jl jm ms jo jp jq mt js jt ju mu jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mv"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="mw mx l"/></div></figure></div></div>    
</body>
</html>