<html>
<head>
<title>How we develop in and with distributed systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们如何在分布式系统中开发</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-we-develop-in-and-with-distributed-systems-66c71e918735?source=collection_archive---------7-----------------------#2016-12-20">https://medium.com/hackernoon/how-we-develop-in-and-with-distributed-systems-66c71e918735?source=collection_archive---------7-----------------------#2016-12-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/235812041c0919c2841f541e50b62b17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBJR6e47HHhLotKVfKtZhQ.jpeg"/></div></div></figure><div class=""/><p id="f3a5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">分布式系统很难。在分布式系统中开发更加困难。</p><p id="1ccb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">有什么难的？</em>首先，我们要处理两个方面:</p><ul class=""><li id="9e07" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">下图中的集群，<strong class="je ig"> CL </strong>，也就是分布式系统本身比如DC/OS或者<a class="ae ka" href="https://hackernoon.com/tagged/kubernetes" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>或者Spark或者Kafka。</li><li id="de42" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">开发环境，可以是从vi/Emacs到IntelliJ思想的任何东西。</li></ul><figure class="kr ks kt ku fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kq"><img src="../Images/a197e831ecb97a11725552512dbd9771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tYVgZKhJYUjX-joHvz6eQ.png"/></div></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Fundamental options for developing in and with distributed systems.</figcaption></figure><p id="dcd9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从开发人员的角度来看，我们要做的第二个区分是本地和远程。本地意味着:在我的机器上运行。远程意味着:在云中的某个地方运行(或者是的，在你的数据中心，欢迎来到2017年；)</p><p id="40f1" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在让我们看一下四个基本选项:</p><h2 id="46db" class="kz la if bd lb lc ld le lf lg lh li lj jn lk ll lm jr ln lo lp jv lq lr ls lt dt translated">一级</h2><p id="a119" class="pw-post-body-paragraph jc jd if je b jf lu jh ji jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz hn dt translated">CL和DE都是本地的。例子有K8S <a class="ae ka" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> minikube </a>、DC/OS <a class="ae ka" href="https://dcos.io/docs/1.8/administration/installing/local/" rel="noopener ugc nofollow" target="_blank">流浪汉</a>和<a class="ae ka" href="https://docs.docker.com/compose/" rel="noopener ugc nofollow" target="_blank"> Docker Compose </a>。</p><p id="8c40" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从开发人员的角度来看，这种方法的优点是:</p><ul class=""><li id="b7d1" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">网上的东西是免费的，我想玩多久就玩多久。</li><li id="f063" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">完全在我的控制下。</li></ul><p id="bbc6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">缺点是:</p><ul class=""><li id="20b9" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">实际上无法涵盖分布式系统的所有情况，比如网络延迟(或者，在最坏的情况下，分区)或时钟偏差。人们有时会忘记分布式计算的谬误，但是不管你是否听说过，这些问题仍然存在。</li><li id="7206" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">没有真正的规模。嗯，只是垂直的。通常还必须通过将代码部署到(真实的)分布式开发/测试环境中来补充。</li></ul><h2 id="e2d4" class="kz la if bd lb lc ld le lf lg lh li lj jn lk ll lm jr ln lo lp jv lq lr ls lt dt translated">第二类</h2><p id="f0de" class="pw-post-body-paragraph jc jd if je b jf lu jh ji jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz hn dt translated">CL和DE位于人们期望的位置。CL通过代理或VPN对de可用。一个例子是<a class="ae ka" href="https://dcos.io/docs/1.8/administration/access-node/tunnel/" rel="noopener ugc nofollow" target="_blank">DC/操作系统隧道</a>。</p><p id="195f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从开发人员的角度来看，这种方法的优点是:</p><ul class=""><li id="b92e" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">可以快速迭代和部署/测试真实的东西。</li><li id="99f9" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">在我的机器上，我只需要运行DE。</li></ul><p id="c021" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">缺点是:</p><ul class=""><li id="9b75" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">需要在线连接，因此离线开发要么非常有限，要么根本不可能。</li><li id="046f" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">由于隧道/代理的限制，某些边缘情况可能不被支持。</li></ul><h2 id="ace1" class="kz la if bd lb lc ld le lf lg lh li lj jn lk ll lm jr ln lo lp jv lq lr ls lt dt translated">第三类</h2><p id="818a" class="pw-post-body-paragraph jc jd if je b jf lu jh ji jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz hn dt translated">在分离方面与类II相同，但是为了测试服务，需要在CL中实际部署它。这是许多环境中常见的设置，有或没有<a class="ae ka" href="https://www.youtube.com/watch?v=cnIfSrMxgyE" rel="noopener ugc nofollow" target="_blank"> CI/CD管道</a>。</p><p id="67c4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从开发人员的角度来看，这种方法的优点是:</p><ul class=""><li id="4193" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">这是真货。这是所见即所得，尽可能完整。</li></ul><p id="2beb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">缺点是:</p><ul class=""><li id="9dfb" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">和第二类一样，它需要连通性，离线开发肯定是不可能的。</li><li id="e34f" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">迭代起来可能会超级慢。您可能需要等待5分钟或更长时间来部署新版本的服务。</li></ul><h2 id="34fc" class="kz la if bd lb lc ld le lf lg lh li lj jn lk ll lm jr ln lo lp jv lq lr ls lt dt translated">IV类</h2><p id="1568" class="pw-post-body-paragraph jc jd if je b jf lu jh ji jj lv jl jm jn lw jp jq jr lx jt ju jv ly jx jy jz hn dt translated">CL和DE都是远程的。称之为<em class="kb">基于Chromebook的开发</em>或其他什么，但实际上，在这种设置下，没有任何东西运行你的机器。虽然我多年前就写过这个话题<a class="ae ka" href="http://www.deri.ie/fileadmin/documents/DERI-TR-AFTAB-2012-10-06.pdf" rel="noopener ugc nofollow" target="_blank"/>，但我认为总的来说，我们还没有到那一步。这一类的例子有<a class="ae ka" href="https://cloud.google.com/shell/docs/" rel="noopener ugc nofollow" target="_blank"> Google Cloud Shell </a>和<a class="ae ka" href="https://c9.io/" rel="noopener ugc nofollow" target="_blank"> Cloud9 </a>。</p><p id="d5ce" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从开发人员的角度来看，这种方法的优点是:</p><ul class=""><li id="519d" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">无论我在哪里，无论我去哪里，我都有现成可用的东西；没有本地设置/依赖关系。</li><li id="d2bb" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">无论是从系统还是团队的角度来看，它的规模都非常大。</li></ul><p id="f3a2" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">缺点是:</p><ul class=""><li id="2289" class="kc kd if je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">默认为始终在线。你不能为了<strong class="je ig">任何事情</strong>下线。</li><li id="a70c" class="kc kd if je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">您对您的数据几乎没有控制权(==代码和构建工件)，并且在您的de的可用性方面依赖于其他人。</li></ul></div><div class="ab cl lz ma hc mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hn ho hp hq hr"><p id="5ac2" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">选什么？我不知道你的偏好，你的用例，你的团队规模，你的行业，你的监管要求，你的预算，…你懂的。就我个人而言，我相信我们将在未来5到10年内过渡到第四级。目前，我主要使用第二类设置:它结合了分布式系统的真实性和(必要的)迭代速度，如果你喜欢，你可以在这里看一个具体的例子<a class="ae ka" href="https://github.com/dcos/demos/tree/master/1.8/fintrans#development" rel="noopener ugc nofollow" target="_blank"/>。</p><div class="kr ks kt ku fq ab cb"><figure class="mg hw mh mi mj mk ml paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mg hw mh mi mj mk ml paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mg hw mh mi mj mk ml paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mm mn mo"><p id="f922" class="jc jd kb je b jf jg jh ji jj jk jl jm mp jo jp jq mq js jt ju mr jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>的机会。</p><p id="708a" class="jc jd kb je b jf jg jh ji jj jk jl jm mp jo jp jq mq js jt ju mr jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kr ks kt ku fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ms"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kr ks kt ku fq hw"><div class="bz el l di"><div class="mt mu l"/></div></figure></div></div>    
</body>
</html>