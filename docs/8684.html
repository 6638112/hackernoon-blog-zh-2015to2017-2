<html>
<head>
<title>Understanding Git (part 2) — Contributing to a Team</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解Git(第2部分)——为团队做贡献</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/understanding-git-2-81feb12b8b26?source=collection_archive---------0-----------------------#2017-12-11">https://medium.com/hackernoon/understanding-git-2-81feb12b8b26?source=collection_archive---------0-----------------------#2017-12-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d140aa1f6798ebfcacea8a7f8f235c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSzuCHAmXrtoEhBk3zq5PQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Trees and branches. Is this some sort of analogy? Photo by <a class="ae jg" href="https://unsplash.com/photos/4iwLxkESGe4?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Liam Pozz</a>.</figcaption></figure><blockquote class="jh ji jj"><p id="2346" class="jk jl jm jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated"><a class="ae jg" href="https://hackernoon.com/understanding-git-fcffd87c15a3" rel="noopener ugc nofollow" target="_blank">了解Git(第一部分)——解释得像我五岁一样</a> <br/> → <a class="ae jg" href="https://hackernoon.com/understanding-git-2-81feb12b8b26" rel="noopener ugc nofollow" target="_blank">了解Git(第二部分)——为团队做贡献</a> <br/>了解Git(第三部分)——解决冲突(敬请期待！)</p></blockquote><p id="636c" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">几乎每个主要的软件公司和<a class="ae jg" href="https://hackernoon.com/tagged/open-source" rel="noopener ugc nofollow" target="_blank">开源</a>项目都使用某种类型的“版本控制”来跟踪随时间的变化。版本控制可以帮助你协调团队工作并找出软件错误。</p><p id="bace" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">Git是当今最流行的版本控制系统之一。如果你还不熟悉的话，请看本系列的第一部分“像我五岁时一样解释”的介绍。</p><p id="3b72" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">本指南涵盖了如何使用<a class="ae jg" href="https://hackernoon.com/tagged/git" rel="noopener ugc nofollow" target="_blank"> git </a>为团队做出贡献——无论是在办公室还是在开源社区的网上——并且面向初学者。它将解释从想法到拉动请求的整个流程。</p><p id="6c32" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">任何<strong class="jn hv">行话</strong>在第一次被描述时都会以粗体突出显示。请随意在官方的<a class="ae jg" href="https://git-scm.com/docs/gitglossary" rel="noopener ugc nofollow" target="_blank"> git词汇表</a>或<a class="ae jg" href="https://git-scm.com/docs" rel="noopener ugc nofollow" target="_blank">参考指南</a>中查找这些术语，了解更多细节。</p><h1 id="9f87" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">从树干开始</h1><p id="6335" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">Git使用了很多“树”的类比，所以要做好准备。你可以把你的主要代码库想象成一棵树的主干🎄</p><p id="4c20" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">每次你添加更多的变化(又名<strong class="jn hv">提交</strong>)，你的树就会长得更高，笔直向上。即使你删除了代码，这仍然被认为是一个变化，并导致树的增长。这就像文本编辑器中的“撤销”历史如何保存你的击键，包括退格键。</p><p id="9170" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">默认情况下，Git调用主干<code class="eh lp lq lr ls b">master</code>。你想怎么叫都行；除了它是一个约定俗成的词之外，这个词没有什么特别的。</p><p id="987f" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">通过<strong class="jn hv">检查</strong>第一部分中描述的特定“检查点”,你可以在树干上上下移动——相当于在时间中前进和后退。</p><h1 id="dd9e" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">分支</h1><p id="70f1" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">大多数项目都有很多新功能需要添加，还有很多bug需要修复。当你想解决其中一个问题时，一种方法是让树长得更高，并直接提交给树干(<code class="eh lp lq lr ls b">master</code>)。这对于小项目或者只有你一个人进行修改的项目来说很好，但是如果多人同时工作呢？太容易妨碍对方，并以相互冲突的变化而告终。</p><p id="7daf" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">解决方法是分支。不是提交到主干，而是创建你自己的<strong class="jn hv">分支</strong>(例如<code class="eh lp lq lr ls b">my-cool-feature</code>而不是<code class="eh lp lq lr ls b">master</code>)并从那里开始工作。现在你正在长高你的树枝，而不是树干。</p><p id="a03b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">当可视化分支时，为了节省空间，它们通常被画在一边。想象下面是一棵丑陋的树，翻倒了，树根在左边。每个圆圈都是一个承诺。每个圆圈越靠右，最近发生的次数越多:</p><figure class="lu lv lw lx fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/185787e4005bf37b3ab07277375e8386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qsdaWGlvPQ58GcMWxDRzCQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">I wouldn’t plant this in my front yard.</figcaption></figure><p id="fc2e" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">有一个蓝色的树干和一个绿色的树枝。每一个都有几个提交，从左到右按时间顺序显示。您的分支在提交<code class="eh lp lq lr ls b">T2</code>时开始。当您处理您的分支时(提交<code class="eh lp lq lr ls b">B1</code>和<code class="eh lp lq lr ls b">B2</code>，其他人直接处理主干(提交<code class="eh lp lq lr ls b">T3</code>和<code class="eh lp lq lr ls b">T4</code>)。那些提交还不在您的分支中；你的分支过时了，你很快就会读到。</p><p id="1db4" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">同样，参见本系列的<a class="ae jg" href="https://hackernoon.com/understanding-git-fcffd87c15a3" rel="noopener ugc nofollow" target="_blank">第1部分</a>来理解<code class="eh lp lq lr ls b">branch</code>和<code class="eh lp lq lr ls b">commit</code>命令，或者如果你想要更多的可视化，参见免费的<a class="ae jg" href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging" rel="noopener ugc nofollow" target="_blank"> git书籍</a>。你也可以在GitHub 上看到真实的分支可视化，或者在你的终端上输入<code class="eh lp lq lr ls b">git log --all --decorate --oneline --graph</code>。</p><h1 id="7280" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">提交您的更改</h1><p id="0fd8" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">现在你在一个分支上有了你的变更，但是最终的目标是把它们作为“官方”代码库的一部分放回到主干上。</p><p id="0648" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">一旦您测试了您的更改，您将需要与团队分享它们。通常你会通过一个<strong class="jn hv">拉请求</strong> (PR)或者一个<strong class="jn hv">合并请求</strong> (MR)来完成这个任务——它们是同一个东西，只是术语取决于你使用的是什么软件(例如GitHub/Bitbucket/GitLab)。您正在<em class="jm">请求</em>将您的更改<em class="jm">拉入并合并</em>。从现在开始，我将这些称为pr。</p><p id="8bcf" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">有些人在做第一次公关时会紧张(我当然也是)，但这真的没什么好害怕的。大多数团队都乐于接受新的PRs，即使代码在被接受之前还需要一些工作。PRs是开源生态系统的重要组成部分。</p><p id="8526" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">这里有一个关于如何提交公关的详细描述和一些关于公关礼仪的建议。甚至有一个完整的社区“<a class="ae jg" href="http://www.firsttimersonly.com/" rel="noopener ugc nofollow" target="_blank">仅限初次尝试者</a>”，供那些想开始为开源做贡献但不知道从哪里开始的人使用。</p><p id="2262" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">要记住的主要事情是要清楚地解释<strong class="jn hv">为什么</strong>你要做出改变，以便给出背景。</p><h1 id="310f" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">讨论和修改</h1><p id="5cda" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">一旦您提交了您的PR，团队中的其他人将需要查看它并留下反馈。他们可以对特定的代码行提出问题和评论，或者对您的更改给出更一般的反馈。在某些情况下，他们可能会将自己的更改直接推送到您的分支机构，但通常他们会要求您自己进行更改。</p><p id="213b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">如果您想根据反馈进行更改，只需向您现有的分支添加更多的提交，并再次将其推送到<code class="eh lp lq lr ls b">origin</code>。PR将自动更新以反映您的更改。</p><h1 id="760e" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">保持最新</h1><p id="25cb" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">如果在你的PR被接受之前过了一段时间，它可能会变得“陈旧”，这意味着它是基于主干的旧版本(就像前面显示的树)。您的更改可能在一周前起作用，但是不能保证它们仍然和其他对主干的更新的更改一起起作用。</p><p id="1a15" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">要获得最新信息，您有两种选择:</p><ol class=""><li id="8f39" class="ly lz hu jn b jo jp js jt kj ma kk mb kl mc ki md me mf mg dt translated">您可以使用<code class="eh lp lq lr ls b">git merge master</code>对中的<a class="ae jg" href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="noopener ugc nofollow" target="_blank"> <strong class="jn hv">合并</strong>。这将在您的工作之上应用来自主干的任何新的更改。</a></li><li id="c64f" class="ly lz hu jn b jo mh js mi kj mj kk mk kl ml ki md me mf mg dt translated">您可以使用<code class="eh lp lq lr ls b">git rebase master</code>将<a class="ae jg" href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="noopener ugc nofollow" target="_blank"> <strong class="jn hv">调整为</strong></a>之上的。这将您的工作重新应用到主干上的任何新的变更之上。</li></ol><p id="c0be" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">在这两种情况下，您自己的更改仍然是相同的——您实际上只是将您的分支移动到主干的顶部，以便与最新的代码保持同步。</p><p id="ca41" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">不同的团队可能喜欢这种或那种方法；如果你不确定，通常选择<code class="eh lp lq lr ls b">merge</code>更安全。</p><h1 id="abae" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">处理冲突</h1><p id="aed0" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">当合并或重定基础时，你偶尔会遇到<strong class="jn hv">冲突</strong>。这意味着你修改了一行别人也修改了的代码，git不知道该保留哪个版本。</p><p id="243d" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">当这种情况发生时，许多人会感到恐慌。git的输出看起来很糟糕，带有奇怪的<code class="eh lp lq lr ls b">&gt;&gt;&gt;&gt;&gt;&gt;&gt; ======= &lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>符号，你可能会认为你已经破坏了整个系统。放心吧！这看起来很奇怪，但稍加练习你就会明白。</p><p id="6844" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">这里涉及的内容太多了，但是看看这篇文章可以了解冲突是如何发生的，以及如何解决它们。我还计划在本系列的第3部分重点讨论如何处理冲突。</p><p id="2fc6" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">本质上，你只需要删除那些奇怪的符号，并手动组合它们之间的代码。</p><p id="7990" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">例如，该行:</p><pre class="lu lv lw lx fq mm ls mn mo aw mp dt"><span id="5b0a" class="mq kn hu ls b fv mr ms l mt mu">print "Hello"</span></pre><p id="052b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">可能会在两个独立的分支上更改，从而导致冲突:</p><pre class="lu lv lw lx fq mm ls mn mo aw mp dt"><span id="22f2" class="mq kn hu ls b fv mr ms l mt mu">&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br/>print "Hello, world"<br/>=======<br/>print "Hello!"<br/>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></pre><p id="a477" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">解决后，可能会变成:</p><pre class="lu lv lw lx fq mm ls mn mo aw mp dt"><span id="ae91" class="mq kn hu ls b fv mr ms l mt mu">print "Hello, world!"</span></pre><p id="36a4" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">手动将冲突的行合并在一起后——保留“world”<em class="jm">和</em>的“！”，它们都是单独添加的。</p><h1 id="3e1a" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">接受您的更改</h1><p id="b461" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj lm jy jz kk ln kc kd kl lo kg kh ki hn dt translated">一旦所有的公关意见都得到解决，任何冲突都得到解决，您的分支机构就可以合并了！</p><p id="1bc1" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">代码库的管理员可以通过将您的分支合并到主干中来接受PR——只需按下GitHub上的一个按钮——从而使您的更改正式化。</p><p id="235b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">下面的提交<code class="eh lp lq lr ls b">T5</code>是一个“合并提交”，将绿色分支中的更改放到主干上。</p><figure class="lu lv lw lx fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mv"><img src="../Images/d7f0f6095fd122e6dd9e7a2c10d21c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0zlMKn2cVGIPl1ZT4G8ngg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">This isn’t how trees work in nature.</figcaption></figure><p id="a873" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">你做出了成功的贡献！🙌你可以在<a class="ae jg" href="https://github.com/pulls" rel="noopener ugc nofollow" target="_blank">https://github.com/pulls</a>查看你提交的所有简历。</p><p id="1a91" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">如果您觉得本指南有用，请点击<strong class="jn hv">帮助您👏你想按多少次按钮就按多少次</strong>，这样其他人也能找到它。</p><p id="5feb" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">感谢阅读，请继续关注第3部分。与此同时，去看这个<a class="ae jg" href="https://www.youtube.com/watch?v=V74l_zS1x8E" rel="noopener ugc nofollow" target="_blank">简单教程</a>视频，然后解决一些<a class="ae jg" href="http://www.firsttimersonly.com/" rel="noopener ugc nofollow" target="_blank">新手</a>的问题！</p></div></div>    
</body>
</html>