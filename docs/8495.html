<html>
<head>
<title>Consumers Don’t Care About Your Technology</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">消费者不关心你的技术</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/consumers-dont-care-about-your-technology-4d5cb687d1de?source=collection_archive---------18-----------------------#2017-12-04">https://medium.com/hackernoon/consumers-dont-care-about-your-technology-4d5cb687d1de?source=collection_archive---------18-----------------------#2017-12-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/7e5571ec9dc20bb7a199ae4eee20f6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6YlJO5I5CEV24-R45YKDZA.jpeg"/></div></div></figure><div class=""/><p id="040e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本着验证一个想法并快速起步的精神，公司通常在一开始就建立一个MVP，或最小可行产品。但是一个公司靠MVP能生存多久？消费者真的关心幕后发生的事情或者一个系统有多脆弱吗？</p><p id="8b25" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">简而言之，答案是否定的。如果一种产品服务于消费者的需求，历史表明，技术的作用非常小。要么是因为缺乏关心，要么是因为缺乏知识。</p><p id="047d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们来看看三家成功的大规模MVP公司——Buffer、Dropbox和Airbnb。</p><h1 id="02d7" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">Buffer——服务于400多万人的社交媒体日程安排应用。</h1><p id="d38f" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">在<a class="ae ld" href="https://stories.buffer.com/the-cronjob-that-generates-4-million-a-year-4540b0cde584" rel="noopener ugc nofollow" target="_blank">2014年发布的一篇博客文章</a>中，Buffer承认仍然在运行他们的整个调度架构，这个架构是由创始人<a class="ae ld" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=6&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiz1sGx1sjXAhWkhFQKHb3HDzkQ6F4ISDAF&amp;url=https%3A%2F%2Ftwitter.com%2Fjoelgascoigne%3Fref_src%3Dtwsrc%255Egoogle%257Ctwcamp%255Eserp%257Ctwgr%255Eauthor&amp;usg=AOvVaw3j1P7f_U-pl8YDzpuwcsKp" rel="noopener ugc nofollow" target="_blank">乔尔·加斯科因</a>在他2010年的卧室里设计的——一个cron工作。您知道，基于Unix的操作系统级调度程序设计用于运行shell脚本，如更新软件或与NTP服务器同步系统时钟。</p><p id="33b5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">根据设计，cron是单线程的。该进程休眠，直到一个调度的作业准备好运行，在这种情况下，它将派生一个进程来运行该调度的作业，然后返回休眠，直到另一个作业被调度。</p><p id="49b5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">正如Buffer最终发现的那样，这可能会导致一些问题。</p><ol class=""><li id="bf47" class="le lf if je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">没有托管线程或进程池，这意味着如果您分叉太多进程或进程需要太长时间才能完成，您将会过度利用您的机器，导致崩溃或至少导致重要进程停止。发生这种情况时，缓冲区会垂直扩展，升级到更大的虚拟实例，从而延迟问题的出现。</li><li id="3fd6" class="le lf if je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">如果调度进程的时间超过了调度间隔(在本例中为1分钟)，那么调度将开始延迟，因为没有并发调度。</li></ol><p id="1956" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">cron作业负责每分钟查询他们的数据库<strong class="je ig">，以找到预计在该分钟发布的帖子。幸运的是，现在有了AWS等构建的数据库抽象层，您可以快速扩展一个表来处理这样的读密集型操作，但它仍然注定会失败。如果扫描表格的时间超过了预定的时间间隔(1分钟)，那么帖子将被延迟，这还不包括准备帖子的处理时间和发布到社交媒体平台的网络延迟。</strong></p><figure class="lt lu lv lw fq hw fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/ae8c6883e3ea371dd633c8e0411aed5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*oFJTi09QqmsaR8Nt_sgKiw.png"/></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">CPU usage of Buffer’s single server running both the web-app and SQL database</figcaption></figure><p id="9b57" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在规模上，Buffer开始看到4分钟的帖子延迟。为了适应不断增长的数据库表，他们将调度间隔更改为15分钟。这意味着cron作业现在查找未来15分钟内发出的帖子，每小时运行4次，而不是60次。</p><p id="1efd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">他们还将处理转移到实用服务器的服务器池中，这些服务器通过JMS消息总线——亚马逊的SQS——接收post意图。尽管所有的意图调度仍然由单个cron作业处理。</p><p id="f1af" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">尽管仍然很大程度上依赖于MVP系统，Buffer轻松获得了近1600万美元的收入。</p><figure class="lt lu lv lw fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mb"><img src="../Images/5b0917bb0a6eaeeff94297fceca8a6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZiMdclueixHp86TTmEisjw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek"><a class="ae ld" href="https://buffer.baremetrics.com/stats/arr" rel="noopener ugc nofollow" target="_blank">https://buffer.baremetrics.com/stats/arr</a></figcaption></figure><h1 id="e90e" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated"><strong class="ak">Dropbox——拥有超过5亿用户的文件备份应用</strong></h1><p id="48cd" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">在<a class="ae ld" href="https://www.youtube.com/watch?v=PE4gwstWhmc" rel="noopener ugc nofollow" target="_blank">2012年斯坦福大学的一次演讲</a>中，<a class="ae ld" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwippbD_5cjXAhUnl1QKHUKUCbQQFggoMAA&amp;url=https%3A%2F%2Ftwitter.com%2Fkevmod%3Flang%3Den&amp;usg=AOvVaw0YDh3sS35PPLh61sVZaQmc" rel="noopener ugc nofollow" target="_blank">凯文·莫泽莱夫斯基</a>回顾了Dropbox的前五年，以及试图大规模运营MVP时遇到的技术限制。</p><p id="88e9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">可能由于当今技术的进步和访问的便利，今天大多数人可能会使用HDFS(如亚马逊的S3)来构建文件存储应用程序。你可以以低廉的价格存储大量数据，并且仍然可以相对快速地访问。然后，元数据可以存储在数据库中以供查找。</p><p id="0860" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，当Dropbox的创始人<a class="ae ld" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjGmZbM6MjXAhUhsVQKHcL6Ah8QFggoMAA&amp;url=https%3A%2F%2Ftwitter.com%2Fdrewhouston%3Flang%3Den&amp;usg=AOvVaw2g1ljNYQP18VFI_NrpO6HZ" rel="noopener ugc nofollow" target="_blank">德鲁·休斯顿</a>第一次构思这个想法并应用于YC时，亚马逊的S3刚刚发布，HDFS即服务的想法还是相当新的。大概因此，Dropbox被设计成在单台机器上运行，负责为静态网站提供服务，在MySQL中存储元数据，并将文件持久化到其本地磁盘。</p><figure class="lt lu lv lw fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mc"><img src="../Images/7f903bd50e1ae55ea46700a461392c0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hv5l1xTHrnXf2IlBG5lp3A.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek"><a class="ae ld" href="https://www.youtube.com/watch?v=PE4gwstWhmc" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=PE4gwstWhmc</a></figcaption></figure><p id="753c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当年晚些时候，在用完磁盘空间并锁定CPU后，Drew将数据存储转移到S3，并将元数据从单台机器迁移到专用的数据库实例中。</p><figure class="lt lu lv lw fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff md"><img src="../Images/957a1cbd8ffb5a8db2635e9467f6d0a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uZwURgW97XLZR7gi9QnWAw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek"><a class="ae ld" href="https://www.youtube.com/watch?v=PE4gwstWhmc" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=PE4gwstWhmc</a></figcaption></figure><h1 id="0878" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated"><strong class="ak">Airbnb——有4480万人睡在别人家里的公寓共享应用</strong></h1><p id="e318" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">今天，Airbnb有一个优雅简单的UX和一个功能丰富的仪表盘。但是，情况并非总是如此。你喜欢的公寓共享应用曾经是这样的:</p><figure class="lt lu lv lw fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff me"><img src="../Images/00196cab6a9ce33c35d200a793d69514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rmFQTkpYf_ujovVndM96HQ.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">AirBed &amp; Breakfast, now Airbnb</figcaption></figure><p id="ec64" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第一次迭代只是一个静态网站，允许设计会议的与会者给Brian Chesky和Joe Gebbia发电子邮件，要求在他们旧金山公寓的气垫上睡觉。</p><p id="12d5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在“成功”推出3个快乐的客人之后，室友们决定聘请Nathan Blecharczyk来帮助他们建立一个更强大的网站，如上图所示。</p><p id="8aa6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">该网站仍然非常简单，几年后他们才注意到任何重大增长，并开始添加更多功能，如“星级”属性的能力。</p><h1 id="1794" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">什么是正确的方法？</h1><p id="3f1d" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">在重新设计系统之前，你应该把MVP推到它的技术极限吗？你是否应该<a class="ae ld" href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwj0jNjX68jXAhWCiVQKHVgtDAkQFgg1MAA&amp;url=https://cloudcampaign.wordpress.com/2017/05/04/building-a-tech-stack-that-scales/&amp;usg=AOvVaw0n0x6Rn22OLIWIg_S1rU7j" rel="noopener ugc nofollow" target="_blank">设计一个从第一天</a>就可以扩展的堆栈？生存偏差起了多大的作用？</p><p id="60fb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面分享一下你的想法。</p></div></div>    
</body>
</html>