<html>
<head>
<title>funKTionale: Function composition for Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">funKTionale:为科特林创作的函数</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/funktionale-function-composition-for-kotlin-1f6e3e3c3a83?source=collection_archive---------8-----------------------#2017-06-09">https://medium.com/hackernoon/funktionale-function-composition-for-kotlin-1f6e3e3c3a83?source=collection_archive---------8-----------------------#2017-06-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ed5a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">functionale是一个为<a class="ae jp" href="https://hackernoon.com/tagged/kotlin" rel="noopener ugc nofollow" target="_blank">科特林</a>设计的函数库，它提供了几种功能模式和构造。</p><h1 id="c779" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">一点历史</h1><p id="4723" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我在2012年末开始研究funKTionale背后的想法，2013年4月12日发布了第一个公开版本(0.1.5)(这是JetBrains之外的第一批Kotlin库之一)。最初的想法是让Kotlin体验更接近Scala(我的日常工作包括编写Scala代码，最近还有<a class="ae jp" href="https://hackernoon.com/tagged/typescript" rel="noopener ugc nofollow" target="_blank">的TypeScript </a>)但是它演变成了有自己身份和风格的东西</p><h1 id="9d69" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">让我们编写一些函数</h1><p id="4a18" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">函数组合是将一个函数的返回应用到另一个函数以产生第三个函数。很简单。</p><p id="087a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">funKTionale为函数类型提供了扩展函数，实现了函数合成(喝游戏思路:本帖每个“函数”一个镜头)。</p><p id="8fdf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要使用它，您需要在您的repos上添加JCenter:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="4e58" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后functional-composition(8Kb)到您的依赖项:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="4d73" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者，如果你想要所有的好东西，GOTY版，整个enchilada，你可以添加funkonionale-all(1372 kb):</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="c457" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于我们的例子，一个正常而无聊的发票价格计算(我确信有更好的方法来计算发票价格，为了这个例子，请原谅我)。</p><p id="53f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，一个项目数据类和一个存根ItemDao</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="b442" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，价格计算</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="048b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以，三次地图迭代:</p><ul class=""><li id="2366" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated">从商品到一对价格和折扣</li><li id="2cd4" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">从价格和折扣对到价格和折扣百分比</li><li id="d91f" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">从价格和折扣百分比对到价格</li></ul><p id="1c74" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后是求和运算。</p><p id="5ed9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，我们可以将这些函数移到val中，以获得更清晰的外观</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="2f34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仍然是三次地图迭代</p><p id="260c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，借助函数组合的强大功能，我们可以通过一次映射迭代将所有三个函数转换成一个函数(商品到价格)</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="252c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，这又是什么呢？</p><p id="8260" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">funKTionale提供了三个函数复合运算符</p><ul class=""><li id="c17a" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated"><a class="ae jp" href="https://github.com/MarioAriasC/funKTionale/blob/master/funktionale-composition/src/main/kotlin/org/funktionale/composition/namespace.kt#L31" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>:将第二个函数的结果作为第一个函数的参数。</li><li id="5961" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated"><a class="ae jp" href="https://github.com/MarioAriasC/funKTionale/blob/master/funktionale-composition/src/main/kotlin/org/funktionale/composition/namespace.kt#L23" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">forward compose</strong></a>:将第一个函数的结果作为第二个函数的参数。</li><li id="f85c" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated"><a class="ae jp" href="https://github.com/MarioAriasC/funKTionale/blob/master/funktionale-composition/src/main/kotlin/org/funktionale/composition/namespace.kt#L19" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">然后</strong> </a>:是forwardCompose的别名。</li></ul><h1 id="f086" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">四人帮:油漆工</h1><p id="6f0c" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">最近<a class="ae jp" href="https://lmller.github.io/" rel="noopener ugc nofollow" target="_blank">Lovis ml ler</a>写了一篇文章描述了一些<a class="ae jp" href="https://dev.to/lovis/gang-of-four-patterns-in-kotlin" rel="noopener ugc nofollow" target="_blank"> GoF模式在Kotlin </a>上的实现。</p><p id="786c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">马里奥富斯科正确地指出，装饰者更好的实现应该使用函数组合。</p><p id="8719" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以让我们用函数组合来实现Lovis的例子</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="95b8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以，只有几个简单的方法</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="2af6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用函数引用(::)，它们可以以几种方式组合。</p><h1 id="bfd6" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">目前就这些了</h1><p id="3bcc" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在下一篇文章中，我将介绍其他功能特性，到时见。再见</p></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><blockquote class="lv lw lx"><p id="47a7" class="ir is ly it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is ly it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated">要了解更多信息，请阅读我们的“关于”页面、<a class="ae jp" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书</a>上给我们点赞/发消息，或者简单地发送<a class="ae jp" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is ly it b iu iv iw ix iy iz ja jb lz jd je jf ma jh ji jj mb jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="mc kz l"/></div></figure></div></div>    
</body>
</html>