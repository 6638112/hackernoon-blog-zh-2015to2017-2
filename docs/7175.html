<html>
<head>
<title>nuclio: The New Serverless Superhero</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新的无服务器超级英雄</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/nuclio-the-new-serverless-superhero-3aefe1854e9a?source=collection_archive---------7-----------------------#2017-10-19">https://medium.com/hackernoon/nuclio-the-new-serverless-superhero-3aefe1854e9a?source=collection_archive---------7-----------------------#2017-10-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6d4087130452b10c21efc27932a1a8c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jazmL39qEfh3ebdI3ZM5ZA.png"/></div></div></figure><p id="d73b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们已经习惯了总有一个权衡:如果某个东西是抽象的并且容易用作<a class="ae ka" href="https://hackernoon.com/tagged/serverless" rel="noopener ugc nofollow" target="_blank">无服务器</a>，那么它可能会很慢并且不灵活。或者，我们不得不以牺牲可用性为代价来获得最大的性能和满足独特的应用需求。但是nuclio的无服务器功能(【https://github.com/nuclio/nuclio】T2)让我们可以快速创建和运行代码，而没有基础设施的麻烦。nuclio运行速度比裸机代码更快，适用于更广泛的应用，调试更简单，最重要的是，它可以在任何地方运行。</p><p id="d234" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不久前，iguazio需要一种方法在其实时数据平台中添加弹性和临时数据处理功能，因此我们为此开发了一个高速FaaS层。然后，我们利用从第一代产品中学到的知识，构建了一个独特的<strong class="je hv">开源</strong>无服务器平台。我们称之为<a class="ae ka" href="https://github.com/nuclio/nuclio" rel="noopener ugc nofollow" target="_blank"> nuclio </a>:</p><ul class=""><li id="9eda" class="kb kc hu je b jf jg jj jk jn kd jr ke jv kf jz kg kh ki kj dt translated">提供实时性能和最大并行度</li><li id="83eb" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">支持简单的调试、回归和多版本CI/CD管道</li><li id="1fdd" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">使用通用API支持可插拔的数据/事件源</li><li id="1e21" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">可在低功耗设备、笔记本电脑、内部和公共云中携带</li></ul><p id="ebb0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我的文章中阅读更多关于无服务器<a class="ae ka" rel="noopener" href="/@yaronhaviv/serverless-background-challenges-and-future-d0928df71758">背景和当前挑战的信息</a></p><h1 id="c5ef" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">努克利奥的建筑</h1><p id="2e0c" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">nuclio的核心组件是函数处理器(用Go编写)。这个处理器通过抽象接口工作，是函数的“操作系统”，提供对事件、数据、日志等的所有访问。相同的功能代码可以从各种可插拔的事件源(目前支持HTTP、<a class="ae ka" href="https://aws.amazon.com/kinesis/" rel="noopener ugc nofollow" target="_blank"> Kinesis </a>、<a class="ae ka" href="https://kafka.apache.org/" rel="noopener ugc nofollow" target="_blank"> Kafka </a>、<a class="ae ka" href="https://www.rabbitmq.com/" rel="noopener ugc nofollow" target="_blank"> RabbitMQ </a>、<a class="ae ka" href="http://mqtt.org/" rel="noopener ugc nofollow" target="_blank"> MQTT </a>、<a class="ae ka" href="https://nats.io/" rel="noopener ugc nofollow" target="_blank"> NATS </a>、<a class="ae ka" href="https://www.iguazio.com/product/" rel="noopener ugc nofollow" target="_blank"> iguazio的V3IO、</a>和仿真器)中馈入。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ls"><img src="../Images/b1c2af3378a6b497fc23d44ac19cdfc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VUmt1Hi0w76Yqvce.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">nuclio’s function processor architecture</figcaption></figure><p id="2b15" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">外部数据(对象、文件、数据库和流)通过数据绑定接口访问，该接口负责所有数据连接、安全和缓存方面。我们可以编写一个使用本地文件的函数，或者通过HTTP访问远程数据，或者通过TCP或RDMA实现极快的横向扩展数据库/流，而无需更改代码。</p><p id="9e42" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">nuclio处理器是实时的。对其“操作系统”事件和数据的访问是基于并行性、零拷贝、智能内存/线程重用和无阻塞IO。编写自己的裸机函数可能比在nuclio处理器生态系统中运行它要慢。使用一个简单的Go函数，单个nuclio函数处理器每秒可以运行400，000次函数调用，或者使用Python (PyPy)或node.js每秒可以运行多达70，000次事件，并且响应延迟不到0.1毫秒。这比大多数无服务器/FaaS解决方案快100倍。基于Go的处理器和其他语言运行时之间的访问是通过低延迟共享内存访问来完成的，以消除上下文切换或进程启动开销。</p><p id="b3ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">nuclio支持四种应用模式:同步、异步、流和批处理/交互式作业，并在处理器(经销商)之间动态分配事件、流和作业任务。这使得无服务器适用于新的工作负载，包括重量级后端和分析任务。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mb"><img src="../Images/43365c2720067099007a897d7e7771a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Du1-UniTTZFVhYnr.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">nuclio platform services</figcaption></figure><p id="c67c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">nuclio注重可移植性和可重用性:</p><ul class=""><li id="c783" class="kb kc hu je b jf jg jj jk jn kd jr ke jv kf jz kg kh ki kj dt translated">在低功耗设备、<a class="ae ka" href="https://hackernoon.com/tagged/docker" rel="noopener ugc nofollow" target="_blank"> Docker </a>、Kubernetes中工作，或者在使用nuclio SDK的ide中工作</li><li id="2d1e" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">事件/数据源在部署时映射到函数或版本/标签</li><li id="6887" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">日志和统计数据可以发送到多个目标类型，或者发送到IDE屏幕。</li><li id="84a4" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">功能映像存储在共享存储库中，并被推送到多个集群/设备</li></ul><p id="d457" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">可移植性允许用户使用SDK或Docker在笔记本电脑上测试和调试功能，将它们运送到不同云中的Kubernetes集群上运行，或将它们推送到多个边缘物联网设备上。它还简化了回归测试和诊断:函数从仿真事件中获取信息，并将输出写入结构化日志，与预期结果进行比较；如果他们自动通过，他们将被提升为测试版。</p><h1 id="b629" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">60秒后开始使用nuclio</h1><p id="c0a4" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">部署一个完整的Kubernetes集群或一堆服务并不需要开始，只需用一体化的Docker版本测试一下nuclio。在Linux中键入以下内容(假设安装了Docker):</p><p id="9814" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">docker run-p 8070:8070-v/var/run/docker . sock:/var/run/docker . sock-v/tmp:/tmp nucl io/playground:stable-amd64</strong></p><p id="bb16" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">-然后在这个地址打开浏览器HTTP:// <machine-ip> :8070看nuclio游乐场UI。</machine-ip></p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mc"><img src="../Images/db765209299e66be858c399f513385ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5kg_aLiZHa-wNmZR1fJyJw.png"/></div></div></figure><p id="d30f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">nuclio的playground附带了几个内置示例，解释了如何编写函数、使用日志以及通过行内注释或定义的事件添加包依赖关系。</p><p id="1342" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要开始，从下拉列表中选择一个示例，编辑并重命名它，然后按deploy。构建错误将显示在日志中，修复它们并重新部署。完成后，使用invoke选项卡生成手动事件并测试函数。使用日志级别选择器动态更改详细程度并调试问题。注意，在幕后，nuclio从您的函数生成了Docker容器或Kubernetes部署。</p><p id="0577" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以使用您最喜欢的IDE开发nuclio函数，导入或克隆<a class="ae ka" href="https://github.com/nuclio/nuclio-sdk" rel="noopener ugc nofollow" target="_blank"> nuclio-SDK </a>并查看自述文件或示例。查看nuclio的<a class="ae ka" href="https://nuclio.io/" rel="noopener ugc nofollow" target="_blank">官方网站</a>或<a class="ae ka" href="https://github.com/nuclio/nuclio/blob/master/README.md" rel="noopener ugc nofollow" target="_blank"> Github文档</a>以了解更多信息，我们在那里查看其架构，并提供关于用法和<a class="ae ka" href="https://github.com/nuclio/nuclio/blob/master/docs/nuctl/nuctl.md" rel="noopener ugc nofollow" target="_blank"> CLI </a>的细节。也可以在nuclio <a class="ae ka" href="https://nuclio-io.slack.com/" rel="noopener ugc nofollow" target="_blank"> slack channel </a>获得帮助。</p><p id="727a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">nuclio仍在开发中，它支持Golang、Python和Node.js，Java即将推出。给它一颗星，加入我们，加速新功能的开发。</p><figure class="lt lu lv lw fq iv"><div class="bz el l di"><div class="md me l"/></div></figure></div></div>    
</body>
</html>