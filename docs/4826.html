<html>
<head>
<title>Implementing Trapping Rain Water , Twitter’s Interview Question using UIImageGraphics in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift中使用UIImageGraphics实现Twitter的面试问题“捕捉雨水”</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/implementing-trapping-rain-water-twitters-interview-question-using-uiimagegraphics-in-swift-5783885f6d42?source=collection_archive---------4-----------------------#2017-06-24">https://medium.com/hackernoon/implementing-trapping-rain-water-twitters-interview-question-using-uiimagegraphics-in-swift-5783885f6d42?source=collection_archive---------4-----------------------#2017-06-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a133" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我的第一篇文章中，我将告诉你如何实现<a class="ae jq" href="https://www.youtube.com/watch?v=UzeL2GcLx3Y" rel="noopener ugc nofollow" target="_blank"><em class="jp">Google</em></a><em class="jp"/><a class="ae jq" href="http://www.businessinsider.com/twitter-job-interview-question-rainfall-walls-2013-12" rel="noopener ugc nofollow" target="_blank"><em class="jp">Twitter</em></a><em class="jp"/>与<em class="jp"> </em>使用<strong class="it hv">Swift</strong><strong class="it hv">ui imagegraphics</strong>在<em class="jp">采访中问到的<strong class="it hv">收集雨水</strong>问题。</em></p><h2 id="952d" class="jr js hu bd jt ju jv jw jx jy jz ka kb jc kc kd ke jg kf kg kh jk ki kj kk kl dt translated">问题是什么？</h2><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="fe ff km"><img src="../Images/5935c75dddb4c90123fb39d49ea2ef12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UsvWmZOVv-EHvJzJfDWhIQ.png"/></div></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">Photo is taken from <a class="ae jq" href="http://javabypatel.blogspot.com.tr/2016/10/trapping-rain-water-between-towers.html" rel="noopener ugc nofollow" target="_blank">http://javabypatel.blogspot.com.tr/2016/10/trapping-rain-water-between-towers.html</a></figcaption></figure><p id="5abc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我想解释一下这个问题。将给出n个非负整数来表示塔的高度，每个塔的宽度只有1个单位。我们假设下雨了，问题是:</p><blockquote class="lc ld le"><p id="4646" class="ir is jp it b iu iv iw ix iy iz ja jb lf jd je jf lg jh ji jj lh jl jm jn jo hn dt translated">所有塔之间填充了多少单位水？</p></blockquote><h2 id="405b" class="jr js hu bd jt ju jv jw jx jy jz ka kb jc kc kd ke jg kf kg kh jk ki kj kk kl dt translated">怎么解决？</h2><p id="56ad" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">首先，我会告诉你如何解决它，然后我会解释如何实现它的快捷和核心形象。</p><p id="b7a7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们总是假设在一个可用的结构(在一个数组中)中，条形高度是可用的。例如，塔的高度是[ 3，0，0，2，0，4 ]。</p><p id="8579" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于每一座塔，我们必须弄清楚在它的左边是否有一座比它高的塔，在它的右边是否有一座比它高的塔。如果其中一座塔不存在，我们假设那座塔所在的地方，不会带走任何水。</p><p id="be45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果有两座塔，我们可以选择左边最高的一座和右边最高的一座，然后我们必须选择两座塔中最小的一座。放置塔的单元，总共将消耗最少数量的水。</p><p id="9f49" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果我们从这个最小值中减去塔的高度，我们将会发现每个塔单元有多少水。</p><p id="7095" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为场景中第一个塔的第一个索引和作为最后一个塔的最后一个索引将没有水，因为在第一个塔的左边没有塔，同样的，在最后一个塔的右边也没有塔。</p><h1 id="cc8a" class="ln js hu bd jt lo lp lq jx lr ls lt kb lu lv lw ke lx ly lz kh ma mb mc kk md dt translated">快速实施</h1><p id="1c44" class="pw-post-body-paragraph ir is hu it b iu li iw ix iy lj ja jb jc lk je jf jg ll ji jj jk lm jm jn jo hn dt translated">UIViewController有一个用于生成的<strong class="it hv"> <em class="jp"> UIButton </em> </strong>和一个用于表示被处理图像的<strong class="it hv"> <em class="jp"> UIImageView </em> </strong>。这里是存储所有塔高度的结构，我将向您展示我已经将<strong class="it hv"> <em class="jp"> UIImage </em> </strong>划分并表示为<strong class="it hv"> <em class="jp"> 8x8 </em> </strong>部分。因此，对于这个问题，将有8个塔，每个塔最多8个高度单位。</p><pre class="kn ko kp kq fq me mf mg mh aw mi dt"><span id="642e" class="jr js hu mf b fv mj mk l ml mm">struct WallHeights  {</span><span id="2b77" class="jr js hu mf b fv mn mk l ml mm">  var wallHeights : [Int] = [0,0,0,0,0,0,0,0];</span><span id="f9b8" class="jr js hu mf b fv mn mk l ml mm">}</span></pre><p id="fde6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，随机生成塔高的时间到了。</p><pre class="kn ko kp kq fq me mf mg mh aw mi dt"><span id="7c4e" class="jr js hu mf b fv mj mk l ml mm">var testWall : WallHeights = WallHeights();</span><span id="ed3a" class="jr js hu mf b fv mn mk l ml mm">for iterator in 0..&lt;8{</span><span id="8f7a" class="jr js hu mf b fv mn mk l ml mm">testWall.wallHeights[iterator] = Int(arc4random_uniform(256)) % 8; </span><span id="4928" class="jr js hu mf b fv mn mk l ml mm">}</span></pre><p id="2a1c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，我开始使用UIGraphics函数开始处理图像，并实现了许多功能，以找出它是否可以填充水，处理图像以生成场景和填充塔之间的水。</p><p id="50ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是随机场景:</p><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div class="fe ff mo"><img src="../Images/29e149902836d1cb695a15051e8a50a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/1*XTHAUGCZOhxIYZOA9hLAJg.gif"/></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">Generating Random Scenarios for this Problem</figcaption></figure><p id="092e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个问题的最后一部分，实现图像的水填充功能。这是这个问题的最终状态:</p><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div class="fe ff mp"><img src="../Images/89ee88f46e523f8bcb5fb9601bceef67.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/1*NvIuJS-EfrUXzwPMU1aI0g.gif"/></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">Filled water into towers</figcaption></figure></div><div class="ab cl mq mr hc ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hn ho hp hq hr"><p id="0038" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果这篇文章有帮助，你可以在Github上开始这个项目。</p><div class="mx my fm fo mz na"><a href="https://github.com/eliakorkmaz/Trapping-Rain-Water-with-Swift" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab ej"><div class="nc ab nd cl cj ne"><h2 class="bd hv fv z el nf eo ep ng er et ht dt translated">eliakorkmaz/用雨燕收集雨水</h2><div class="nh l"><h3 class="bd b fv z el nf eo ep ng er et ek translated">用Swift和UIImageGraphics实现的雨水问题</h3></div><div class="ni l"><p class="bd b gc z el nf eo ep ng er et ek translated">github.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no kw na"/></div></div></a></div></div><div class="ab cl mq mr hc ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hn ho hp hq hr"><p id="773f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想问问题，请直接在<a class="ae jq" href="https://hackernoon.com/tagged/twitter" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上评论或给我发消息。我会分享一些关于<a class="ae jq" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>，算法，尤其是Swift的文章，所以你可以关注我，喜欢这篇文章。</p><div class="kn ko kp kq fq ab cb"><figure class="np kr nq nr ns nt nu paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="np kr nq nr ns nt nu paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="np kr nq nr ns nt nu paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lc ld le"><p id="f922" class="ir is jp it b iu iv iw ix iy iz ja jb lf jd je jf lg jh ji jj lh jl jm jn jo hn dt translated"><a class="ae jq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jq" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb lf jd je jf lg jh ji jj lh jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="fe ff nv"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="nw nx l"/></div></figure></div></div>    
</body>
</html>