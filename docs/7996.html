<html>
<head>
<title>Setting Up Perfmon for SQL Server Tuning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为SQL Server优化设置Perfmon</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/setting-up-perfmon-for-sql-server-tuning-6ea188bf9b88?source=collection_archive---------12-----------------------#2017-11-15">https://medium.com/hackernoon/setting-up-perfmon-for-sql-server-tuning-6ea188bf9b88?source=collection_archive---------12-----------------------#2017-11-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/f4c0176d7bc4fd58001b2d072eb97d9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tzLuCSZ-gr4mZtw3.jpg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://geek.hr/znanost/clanak/fibonaccijev-niz-u-prirodi/" rel="noopener ugc nofollow" target="_blank">credit</a></figcaption></figure><p id="de96" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">性能监视器，或称<a class="ae jg" href="https://hackernoon.com/tagged/perfmon" rel="noopener ugc nofollow" target="_blank"> Perfmon </a>，定期测量性能统计数据，并将这些统计数据保存在一个文件中。</p><p id="e163" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">要为<a class="ae jg" href="https://hackernoon.com/tagged/sql" rel="noopener ugc nofollow" target="_blank"> SQL </a>服务器进行设置，请执行以下步骤:</p><ul class=""><li id="685a" class="kf kg hu jj b jk jl jo jp js kh jw ki ka kj ke kk kl km kn dt translated">从运行中打开perfmon</li><li id="fe0a" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">展开数据收集器集</li><li id="6a99" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">右键<strong class="jj hv">用户自定义</strong></li><li id="4ab7" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">点击<strong class="jj hv">新建</strong>-&gt;-<strong class="jj hv">数据采集器设置</strong></li><li id="a792" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">给它一个名字</li><li id="9f51" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">单击手动创建</li></ul><figure class="ku kv kw kx fq iv fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/a99e4b503bddc3cc2d48dd3d280c02d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/0*Bl0bPBDLDcOFjODM."/></div></figure><ul class=""><li id="cb7c" class="kf kg hu jj b jk jl jo jp js kh jw ki ka kj ke kk kl km kn dt translated">单击下一步-&gt;创建数据日志-&gt;性能计数器-&gt;下一步</li></ul><figure class="ku kv kw kx fq iv fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/2f96f1d4cadb3b95bf5ffdcbeb6cbab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/0*KeONhPzCGF84fUCn."/></div></figure><ul class=""><li id="1125" class="kf kg hu jj b jk jl jo jp js kh jw ki ka kj ke kk kl km kn dt translated">在下一个屏幕中单击添加</li></ul><figure class="ku kv kw kx fq iv fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/126a24d6a6334670269fb75b5513a48b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/0*VaNEb_wsmHlKwzyR."/></div></figure><ul class=""><li id="7fab" class="kf kg hu jj b jk jl jo jp js kh jw ki ka kj ke kk kl km kn dt translated">在内存下添加可用字节、可用兆字节、每秒页面错误数、每秒页面数</li><li id="00b3" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在物理磁盘下添加%磁盘时间、每次读取的平均磁盘秒数、每次写入的平均磁盘秒数、当前磁盘队列长度、每秒磁盘字节数、每秒磁盘传输次数</li><li id="d841" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">%特权时间，%处理器下的处理器时间</li><li id="3769" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server访问方法下添加每秒空闲空间扫描、每秒全扫描</li><li id="ac90" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">添加SQL Server缓冲区管理器下的缓冲区缓存命中率、每秒检查点页数、可用页数、每秒延迟写入数、页面预期寿命</li><li id="8a22" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server常规统计信息下添加用户连接</li><li id="54e1" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server闩锁下添加总闩锁等待时间</li><li id="acbb" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server锁下添加锁超时/秒、锁等待时间、死锁数/秒</li><li id="17fc" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server内存管理器下，添加内存授予挂起、目标服务器内存和总服务器内存</li><li id="f7b5" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在SQL Server SQL统计信息下，添加每秒批处理请求数、每秒SQL编译数、每秒SQL重新编译数</li><li id="714e" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">在“系统”下，添加“每秒上下文切换，处理器队列长度”</li><li id="5210" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">单击确定-&gt;下一步-&gt;下一步-&gt;完成</li><li id="012b" class="kf kg hu jj b jk ko jo kp js kq jw kr ka ks ke kk kl km kn dt translated">右键单击用户定义下的新收集器集，然后选择启动</li></ul><p id="995c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当需要查看报告时，停止该收集器，打开收集器文件并以报告形式查看。</p><p id="f1ac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://www.youtube.com/watch?v=E7QIoHj1FeI" rel="noopener ugc nofollow" target="_blank">来源</a></p><p id="185e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://goo.gl/photos/Wt5gdCP11Y3AfyiX6" rel="noopener ugc nofollow" target="_blank">照片</a></p></div><div class="ab cl ky kz hc la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hn ho hp hq hr"><p id="09fc" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="lf">最初发布于</em><a class="ae jg" href="http://xameeramir.github.io/Setting-Up-Perfmon-for-SQL-Server-Tuning/" rel="noopener ugc nofollow" target="_blank"><em class="lf">xameeramir . github . io</em></a><em class="lf">。</em></p><figure class="ku kv kw kx fq iv"><div class="bz el l di"><div class="lg lh l"/></div></figure></div></div>    
</body>
</html>