<html>
<head>
<title>Ready for Infinity War? Here’s a Simple Countdown Timer Using ReactJS!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">准备好无限战争了吗？这是一个简单的使用ReactJS的倒计时器！</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/ready-for-infinity-war-heres-a-simple-countdown-timer-using-reactjs-2751eae37c0e?source=collection_archive---------10-----------------------#2017-09-05">https://medium.com/hackernoon/ready-for-infinity-war-heres-a-simple-countdown-timer-using-reactjs-2751eae37c0e?source=collection_archive---------10-----------------------#2017-09-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/34f56db36379fe529b11af27e69e6dac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EntHChgUyirgbZ9A3zTxkA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Source: <a class="ae jg" href="https://velopert.com/wp-content/uploads/2016/03/react.png" rel="noopener ugc nofollow" target="_blank">https://velopert.com/wp-content/uploads/2016/03/react.png</a></figcaption></figure><p id="9c1a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我是漫威的超级粉丝。自从2008年《钢铁侠》上映以来，我一直在追踪导致与灭霸大战的故事线索。但同时又喜欢<a class="ae jg" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>。最近我一直在学习<a class="ae jg" href="https://hackernoon.com/tagged/reactjs" rel="noopener ugc nofollow" target="_blank">反应堆</a>的一点一滴，我对自己说，“为什么不从我学到的这些随机的技巧中做点有用的东西呢！”看这里<a class="ae jg" href="https://desolate-falls-20423.herokuapp.com" rel="noopener ugc nofollow" target="_blank"/>。如果字体看起来像TNR，等待一会儿，刷新页面。下载复仇者联盟字体需要一段时间。</p><p id="4eac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是我在早期学习阶段制作的首批应用之一。从那以后，我学到了更多。我计划在将来分享我的其他作品来记录我的学习进展。令人惊讶的是，我们没有利用多少本可以用来学习和建设的时间。我度过的间隔年让我意识到。</p><p id="b647" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我对“边做边学”的信念源于建立确定性的想法。起初，我不知道我之前摆弄ReactJS到底是为了什么。有大量的试验和错误，就像为初学者建立一个该死的项目！之后，我继续四处查看，确保我从代码中至少理解了一两件我知道对输出有贡献的事情。我仍然在这个过程中(老实说，我不认为你真的会离开这个过程)，我会继续走这条路，因为它帮助我填补空白，同时，建立在以前的知识上，最终将达到更大的项目。</p><p id="cdc6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">做这件事真的很简单，因为我只需要一个简单的命令，比如create-react-app，就可以设置好手头的一切。让生活变得比从Babel到Webpack都要简单得多。程序员是出了名的懒，所以像这样的捷径总是受到欢迎和适应。</p><p id="1095" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我在Python和MATLAB编程方面的经验也有助于从整体上理解JS。当你开始意识到它们都以这样或那样的方式遵循相同的结构和逻辑时，将技能移植到其他语言是非常容易的。ReactJS相当大，更不用说JS了，所以我要说还有很长的路要走。</p><p id="8cc1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以下是我清理后html文件的内容:</p><pre class="kg kh ki kj fq kk kl km kn aw ko dt"><span id="d302" class="kp kq hu kl b fv kr ks l kt ku">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>&lt;head&gt;<br/>     &lt;meta charset="utf-8"&gt;<br/>     &lt;title&gt;ReactJS Countdown Timer&lt;/title&gt;<br/>&lt;/head&gt;</span><span id="c16b" class="kp kq hu kl b fv kv ks l kt ku">&lt;body&gt;<br/>     &lt;noscript&gt;<br/>          You need to enable JavaScript to run this app.<br/>     &lt;/noscript&gt;<br/>     &lt;div id="root"&gt;&lt;/div&gt;<br/>&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="21f4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一切都为你准备好了。下面是主index.js文件的样子:</p><pre class="kg kh ki kj fq kk kl km kn aw ko dt"><span id="1085" class="kp kq hu kl b fv kr ks l kt ku">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import './index.css';<br/>import App from './App';</span><span id="e16c" class="kp kq hu kl b fv kv ks l kt ku">ReactDOM.render(&lt;<em class="kf">App</em> /&gt;, document.getElementById('root'));</span></pre><p id="8c26" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这里，通过将“App”的内容“附加”到上面HTML文件中的根div标签来进行呈现。可以把它想象成把一个先前编码的200多行的HTML文件插入到根div标签中。这就是ReactJS的工作原理。你用JavaScript扩展(JSX)编程，让它看起来像你还在用HTML编程，而实际上你用的是JavaScript。非常棒的东西。</p><p id="72ca" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">大部分渲染在App.js中进行，如下所示。JSX让你感觉像是在同时写HTML和JS。神奇的东西！</p><pre class="kg kh ki kj fq kk kl km kn aw ko dt"><span id="4cac" class="kp kq hu kl b fv kr ks l kt ku">import React, { Component } from 'react';<br/>import './App.css';<br/>import Clock from './Clock';</span><span id="4f19" class="kp kq hu kl b fv kv ks l kt ku"><em class="kf">class</em> App extends <em class="kf">Component</em> {</span><span id="7967" class="kp kq hu kl b fv kv ks l kt ku"><em class="kf">     constructor</em>(<em class="kf">props</em>) {<br/>          super(props);<br/>          this.state = { deadline: 'May, 4, 2018' };<br/>     }</span><span id="1520" class="kp kq hu kl b fv kv ks l kt ku">     render() {<br/>          return (<br/>              &lt;div className="App"&gt;<br/>                   &lt;div className="App-title"&gt;<br/>                        Avengers: Infinity War<br/>                   &lt;/div&gt;<br/>                   &lt;div className="App-date"&gt;<br/>                        {this.state.deadline}<br/>                   &lt;/div&gt;</span><span id="7735" class="kp kq hu kl b fv kv ks l kt ku">                   &lt;<em class="kf">Clock</em> deadline={ this.state.deadline }/&gt;<br/>              &lt;/div&gt;<br/>          );<br/>     }<br/>}<br/>export default App;</span></pre><p id="f3a2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">倒计时定时器的功能放在另一个名为<em class="kf"> Clock.js </em>的文件中。大部分的数学和实际渲染，让人们看到实时倒计时都在那里。我还没有直观地理解组件生命周期，所以我还不能简单地解释<em class="kf"> componentWillMount() </em>和<em class="kf"> componentDidMount() </em>是如何工作的。我知道这行得通，但我就是找不到简单的词来描述<em class="kf">为什么</em>和<em class="kf">如何</em>。我不想对我不太了解的事情妄加猜测。告诉过你还有一些差距；我正在努力！</p><pre class="kg kh ki kj fq kk kl km kn aw ko dt"><span id="8ca6" class="kp kq hu kl b fv kr ks l kt ku">import React, { Component } from 'react';<br/>import './App.css';</span><span id="b77b" class="kp kq hu kl b fv kv ks l kt ku"><em class="kf">class</em> Clock extends <em class="kf">Component</em> {<br/>     <em class="kf">constructor</em>(<em class="kf">props</em>) {<br/>     super(props);<br/>     this.state = {<br/>               days: 0,<br/>               hours: 0,<br/>               minutes: 0,<br/>               seconds: 0,<br/>          };<br/>     }</span><span id="4b11" class="kp kq hu kl b fv kv ks l kt ku">     componentWillMount() {<br/>          this.getTimeUntil(this.props.deadline);<br/>     }</span><span id="b7f2" class="kp kq hu kl b fv kv ks l kt ku">     componentDidMount() {<br/>          setInterval(() <em class="kf">=&gt;</em> this.getTimeUntil(this.props.deadline), 1000);<br/>     }  </span><span id="3b37" class="kp kq hu kl b fv kv ks l kt ku">     leading0(<em class="kf">num</em>) {<br/>          return num &lt; 10 ? '0' + num : num;<br/>     }</span><span id="4a1b" class="kp kq hu kl b fv kv ks l kt ku">     getTimeUntil(<em class="kf">deadline</em>) {<br/>          <em class="kf">const</em> time = <em class="kf">Date</em>.parse(deadline) - <em class="kf">Date</em>.parse(new Date());<br/>          if(time &lt; 0) {<br/>               this.setState({ days: 0, hours: 0, minutes: 0, seconds: 0 });<br/>          <br/>          } else {<br/>               <em class="kf">const</em> seconds = Math.floor((time/1000)%60);<br/>               <em class="kf">const</em> minutes = Math.floor((time/1000/60)%60);<br/>               <em class="kf">const</em> hours = Math.floor((time/(1000*60*60))%24);<br/>               <em class="kf">const</em> days = Math.floor(time/(1000*60*60*24));<br/>               this.setState({ days, hours, minutes, seconds });<br/>          }<br/>     }</span><span id="83ee" class="kp kq hu kl b fv kv ks l kt ku">     render() {<br/>          return(<br/>               &lt;div&gt;<br/>                    &lt;div className="Clock-days"&gt;<br/>                         {this.leading0(this.state.days)} Days<br/>                    &lt;/div&gt;</span><span id="73a2" class="kp kq hu kl b fv kv ks l kt ku">                    &lt;div className="Clock-hours"&gt;<br/>                         {this.leading0(this.state.hours)} Hours<br/>                    &lt;/div&gt;</span><span id="b89f" class="kp kq hu kl b fv kv ks l kt ku">                    &lt;div className="Clock-minutes"&gt;<br/>                         {this.leading0(this.state.minutes)} Minutes<br/>                    &lt;/div&gt;</span><span id="fd13" class="kp kq hu kl b fv kv ks l kt ku">                    &lt;div className="Clock-seconds"&gt;<br/>                         {this.leading0(this.state.seconds)} Seconds<br/>                    &lt;/div&gt;<br/>               &lt;/div&gt;<br/>          );<br/>     }<br/>}<br/>export default Clock;</span></pre><p id="c9c0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您是ReactJS的新手，您可能已经注意到div标签有<em class="kf">类名</em>而不是<em class="kf">类</em>。记住，我们还在用JS编程，单词<em class="kf"> class </em>已经被保留了。还有一些像这样的细节。例如，用<em class="kf">常量</em>或<em class="kf"> let </em>代替<em class="kf">变量</em>。我对这一切还很陌生，所以我还在摸索中。</p><p id="506d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我把所有的东西都放在了我的Github页面上，以防有人想看一看全部内容。</p><p id="cc5b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">还有很长的路要走！必须不断练习。我是说，我得在网上的某个地方托管我的机器学习后端，对吧？</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="kw kx l"/></div></figure></div></div>    
</body>
</html>