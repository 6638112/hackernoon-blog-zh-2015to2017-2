<html>
<head>
<title>[Nodejs] Fast Setup MySQL and running in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[Nodejs]快速设置MySQL并在Node.js中运行</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/nodejs-mysql-install-setup-tutorial-example-connection-insert-query-fd5c5032d3b0?source=collection_archive---------2-----------------------#2017-01-03">https://medium.com/hackernoon/nodejs-mysql-install-setup-tutorial-example-connection-insert-query-fd5c5032d3b0?source=collection_archive---------2-----------------------#2017-01-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/57b82018c223a737b11640c0bf001b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4aK5NNQb3DissjPYfl4_mA.jpeg"/></div></div></figure><p id="dc11" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，我们需要什么如果我们需要建立一个现代化的应用程序，我们需要一个用户使用的前端平台(或web)。但是用户希望与其他用户交流，并希望与他们交换内容/信息，我们需要一个存储信息的地方和获取这些有价值内容的途径，即数据库。</p><p id="2993" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是一个配置MySQL数据库的注意事项，目的是在<strong class="je hv"><em class="ka">node . js</em></strong>server<strong class="je hv"><em class="ka">中远程连接和查询。</em> </strong></p><h1 id="6a7a" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">内容:</h1><ol class=""><li id="886c" class="kz la hu je b jf lb jj lc jn ld jr le jv lf jz lg lh li lj dt translated">在虚拟机上设置MySQL</li><li id="56e8" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz lg lh li lj dt translated">设置GUI工具(续)</li><li id="3256" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz lg lh li lj dt translated"><a class="ae lp" href="https://hackernoon.com/mysql-note-create-admin-user-5e77b43ecc8e#.d35h8s3uh" rel="noopener ugc nofollow" target="_blank">创建管理员帐户</a></li><li id="2d32" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz lg lh li lj dt translated">在Node.js中连接</li></ol><h1 id="12e8" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">1-设置MySQL环境</h1><p id="0407" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">首先，我们需要一台运行MySQL的机器，可以是Macbook、Windows或Linux，因为谷歌上有足够多的教程来在所有这些操作系统上安装MySQL，并且你会享受到发现安装的乐趣。</p><p id="fdda" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我设置MySQL服务器的方法，运行Docker机器并通过命令运行Docker映像:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="a41c" class="mc kc hu ly b fv md me l mf mg"><a class="ae lp" href="https://www.blogger.com/blogger.g?blogID=1229041620781457011#editor/target=post;postID=1699931676231264255;onPublishedMenu=overviewstats;onClosedMenu=overviewstats;postNum=0;src=postname" rel="noopener ugc nofollow" target="_blank">docker run --name mysql -e MYSQL_ROOT_PASSWORD=<strong class="ly hv"><em class="ka">mysqlpw</em></strong> -p 3306:3306 -d mysql</a></span></pre><p id="1723" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所发生的是用“<a class="ae lp" href="https://www.blogger.com/blogger.g?blogID=1229041620781457011#editor/target=post;postID=1699931676231264255;onPublishedMenu=overviewstats;onClosedMenu=overviewstats;postNum=0;src=postname" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="ka">mysqlpw</em></strong></a><strong class="je hv"><em class="ka">”</em></strong>作为密码创建一个root用户，并且打开一个外部端口，以便我们能够通过MySQL客户端工具远程连接。</p><h1 id="df39" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">2-设置Sequel、MySQL GUI工具(可选)</h1><p id="38fd" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">安装<strong class="je hv"> <em class="ka"> MySQL </em> </strong>客户端GUI工具Sequel，帮助你理解数据库表行如何以可视化的方式工作，有两个功能对我很有帮助:</p><p id="1e12" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">2<em class="ka">2。控制台<br/> </em> </strong>事实上，客户端和MySQL之间的任何操作都是通过TCP协议进行通信的，Sequel只是一个将UI动作翻译成MySQL能够理解的命令的工具。控制台，在右上方，提供了由Sequel翻译的SQL命令的每个日志。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mh"><img src="../Images/9ade2a2ec8ce2507ebe1ca1bc1e7ad9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VEvliXn81RWwc-zT9fczNQ.jpeg"/></div></div></figure><p id="eda5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ka"> 2。查询<br/> </em> </strong>它能做的和终端MySQL客户端一样。对我来说，它是一个更好的编辑器，加快了复制粘贴和鼠标操作的速度(这是终端所不能做到的)。一个好的编辑器对于程序员变得高效是非常重要的，这就是为什么有这么多编辑器:Sublime，VSCode，Atom等等。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/6e4d6bc8df1daddf98cb027faa2a4aeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JSbuVBCXNG--IV46O4XsLw.jpeg"/></div></div></figure><h1 id="8c68" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated"><strong class="ak"> <em class="mj"> 3-创建一个管理员帐号，并停止使用Root用户</em> </strong></h1><p id="ef89" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated"><a class="ae lp" href="https://hackernoon.com/mysql-note-create-admin-user-5e77b43ecc8e#.ianfe97a2" rel="noopener ugc nofollow" target="_blank">通过SQL命令创建管理员帐户</a></p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mk"><img src="../Images/03fb3f32012036de15aff75c54a3b3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Z5D9E6tlcCxJwRYo5deJQ.jpeg"/></div></div></figure><h1 id="d516" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">4-在Node.js中开始编码</h1><p id="ce95" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">安装npm模块<strong class="je hv"><em class="ka">MySQL</em>T3】</strong></p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="f341" class="mc kc hu ly b fv md me l mf mg">$ npm install mysql</span></pre><p id="b742" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">创建一个名为<strong class="je hv"> <em class="ka"> connect.js </em> </strong>的文件，并将下面的代码复制粘贴到其中:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="3bc1" class="mc kc hu ly b fv md me l mf mg">var mysql = require("mysql");</span><span id="40c8" class="mc kc hu ly b fv ml me l mf mg">// First you need to create a connection to the db<br/>var con = mysql.createConnection({<br/>  host: "12.34.56.78",<br/>  user: "peter",<br/>  password: "1234",<br/>  database: "southwind"<br/>});</span><span id="a659" class="mc kc hu ly b fv ml me l mf mg">con.connect(function(err){<br/>  if(err){<br/>    console.log('Error connecting to Db');<br/>    return;<br/>  }<br/>  console.log('Connection established');<br/>});</span><span id="c8a0" class="mc kc hu ly b fv ml me l mf mg">con.end(function(err) {<br/>  // The connection is terminated gracefully<br/>  // Ensures all previously enqueued queries are still<br/>  // before sending a COM_QUIT packet to the MySQL server.<br/>  if(err) console.log('err: ', err);<br/>  else console.log('Terminated done: ');<br/>});</span></pre><h2 id="efc6" class="mc kc hu bd kd mm mn mo kh mp mq mr kl jn ms mt kp jr mu mv kt jv mw mx kx my dt translated">运行:</h2><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="35dc" class="mc kc hu ly b fv md me l mf mg">$ node connect.js</span><span id="06b9" class="mc kc hu ly b fv ml me l mf mg">Connection established<br/>terminated done:</span></pre><h1 id="3139" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">摘要</h1><p id="d639" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">对我来说，我花了大部分时间在第二部分。设置MySQL Docker-Machine很容易，只需一个命令。Node.js连接和查询也非常流畅。然而，理解SEQUEL中的SQL命令(query)并不是很简单，我需要一些时间来从MongoDB中挑选现有的命令并"<em class="ka">"</em>翻译成我能理解的东西。</p><h1 id="ad83" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">你可能也喜欢</h1><ul class=""><li id="27b6" class="kz la hu je b jf lb jj lc jn ld jr le jv lf jz mz lh li lj dt translated"><a class="ae lp" rel="noopener" href="/curiousian/mysql-handbook-tutorial-example-for-beginner-setup-admin-query-curd-relation-583b05106c1f#.v7tni8uoj"> MySQL手册</a></li><li id="23c2" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz mz lh li lj dt translated"><a class="ae lp" href="https://hackernoon.com/nodejs-mysql-install-setup-tutorial-example-connection-insert-query-fd5c5032d3b0#.hpp65qg28" rel="noopener ugc nofollow" target="_blank">【MySQL】注意:在Node.js中快速设置和运行</a></li><li id="976c" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz mz lh li lj dt translated"><a class="ae lp" href="https://hackernoon.com/mysql-note-create-admin-user-5e77b43ecc8e#.uncmszepg" rel="noopener ugc nofollow" target="_blank">【MySQL】注意:创建管理员用户</a></li><li id="ee9a" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz mz lh li lj dt translated"><a class="ae lp" href="https://hackernoon.com/mysql-note-database-curd-b62a21404678#.jm4eqcmgu" rel="noopener ugc nofollow" target="_blank">【MySQL】注:数据库凝乳</a></li><li id="f50c" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz mz lh li lj dt translated"><a class="ae lp" rel="noopener" href="/hacker-daily/mysql-tutorial-query-limit-offset-condition-row-foreign-key-join-select-d3835b28e1a#.dob477vn4">【MySQL】注:排凝乳</a></li><li id="b4c0" class="kz la hu je b jf lk jj ll jn lm jr ln jv lo jz mz lh li lj dt translated"><a class="ae lp" href="https://hackernoon.com/mysql-tutorial-example-relation-foreign-key-database-funtion-join-table-query-one-namy-nest-41dd09648fbd" rel="noopener ugc nofollow" target="_blank">【MySQL】注:关系:1–1，1-n，n-n，嵌套</a></li></ul></div><div class="ab cl na nb hc nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hn ho hp hq hr"><h1 id="1b6f" class="kb kc hu bd kd ke nh kg kh ki ni kk kl km nj ko kp kq nk ks kt ku nl kw kx ky dt translated">参考:</h1><p id="dd3a" class="pw-post-body-paragraph jc jd hu je b jf lb jh ji jj lc jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated"><a class="ae lp" href="https://www.sitepoint.com/using-node-mysql-javascript-client/" rel="noopener ugc nofollow" target="_blank">https://www . site point . com/using-node-MySQL-JavaScript-client/</a></p><div class="lt lu lv lw fq ab cb"><figure class="nm iv nn no np nq nr paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nm iv nn no np nq nr paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nm iv nn no np nq nr paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ns nt nu"><p id="f922" class="jc jd ka je b jf jg jh ji jj jk jl jm nv jo jp jq nw js jt ju nx jw jx jy jz hn dt translated"><a class="ae lp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿美族家庭的一员。我们现在<a class="ae lp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae lp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd ka je b jf jg jh ji jj jk jl jm nv jo jp jq nw js jt ju nx jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ny"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>