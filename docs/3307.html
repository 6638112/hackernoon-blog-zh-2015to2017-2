<html>
<head>
<title>How Termux saved my ass</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Termux是怎么救了我的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-termux-saved-my-ass-73db53b2dea1?source=collection_archive---------0-----------------------#2017-03-26">https://medium.com/hackernoon/how-termux-saved-my-ass-73db53b2dea1?source=collection_archive---------0-----------------------#2017-03-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/c291ad0e19c47e25f99426189e567a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FTY7qzTE8N0gqEMV8eBHVA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="a402" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">安卓摇滚的原因之一</h2></div><p id="7e00" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我有一个肮脏的秘密。</p><p id="7916" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我的基于位置的照片请求应用Looxie发送推送通知。这不是秘密:许多应用程序都是这样做的。</p><p id="a453" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">仍然不是秘密:Looxie使用<a class="ae kq" href="https://developers.google.com/cloud-messaging/" rel="noopener ugc nofollow" target="_blank">谷歌云消息</a>(现在更名为Firebase云消息)来发送通知。直到最近，在引入<a class="ae kq" href="https://firebase.google.com/docs/functions/" rel="noopener ugc nofollow" target="_blank"> Firebase云功能</a>之前，你必须有自己的服务器运行&amp;跟随Firebase实时数据库的变化。</p><p id="45f6" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我仍然在使用这个架构，因为出于某种原因，我似乎无法让我创建的node.js服务器作为Firebase Cloud函数运行。</p><p id="aa0c" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">秘密来了:node.js服务器运行在我花300美元买的一台旧华硕笔记本电脑上。在一次完全不知从何而来的灾难性硬盘故障之后(好吧，我在<a class="ae kq" href="http://www.playdead.com/games/limbo/" rel="noopener ugc nofollow" target="_blank"> Limbo </a>中一个特别具有挑战性的部分打了一拳)，我用SSD替换了硬盘，并安装了Ubuntu，因为我太便宜了，无法购买Windows许可证。</p><p id="434e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">听起来<em class="kr">不算太</em>差吧？好了，这里是它变好的地方:笔记本电脑通过Wi-Fi连接到网络。当路由器开始发送垃圾信息时(这种情况以惊人的频率发生)，连接就会中断，Ubuntu在连接到网络之前会再次要求输入密码。如果我没有输入密码并按下“回车”，Looxie将停止发送推送通知。</p><p id="ddf2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">谢天谢地，我住的地方离我的办公室只有几分钟的路程，所以当连接中断时，我就去那里把电脑重新连接到互联网上。这仍然是一件愚蠢的事情，但至少它的工作。</p><p id="a655" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">所以想象一下，我离开塞浦路斯旅行20天是多么有压力，同时一直在想“如果(或者更现实地说，<em class="kr">当</em>我不在的时候连接中断了，我该怎么把服务器带回来？”</p><div class="ht hu fm fo hv ks"><a href="https://www.buymeacoffee.com/XozUExS" rel="noopener  ugc nofollow" target="_blank"><div class="kt ab ej"><div class="ku ab kv cl cj kw"><h2 class="bd ig fv z el kx eo ep ky er et ie dt translated">给安东尼斯·查加利斯买杯咖啡——BuyMeACoffee.com</h2><div class="kz l"><h3 class="bd b fv z el kx eo ep ky er et ek translated">我是一名Android开发人员和设计师，热爱漂亮的用户界面！</h3></div><div class="la l"><p class="bd b gc z el kx eo ep ky er et ek translated">www.buymeacoffee.com</p></div></div><div class="lb l"><div class="lc l ld le lf lb lg ib ks"/></div></div></a></div><h2 id="926f" class="lh li if bd lj lk ll lm ln lo lp lq lr kd ls lt lu kh lv lw lx kl ly lz ma mb dt translated">我不在时，连接中断</h2><p id="e750" class="pw-post-body-paragraph ju jv if jw b jx mc jg jz ka md jj kc kd me kf kg kh mf kj kk kl mg kn ko kp hn dt translated">旅行进行到第五天时，Looxie停止发送推送通知。</p><p id="bdde" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">妈的。</p><p id="0506" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我打电话给我哥哥，让他把笔记本电脑重新连接到互联网上。我哥哥很乐意帮忙，但是，随着事情的发展，一天后，笔记本电脑又断开了。</p><p id="62f1" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">当时我的感觉是这样的:</p><figure class="mi mj mk ml fq hw fe ff paragraph-image"><div class="fe ff mh"><img src="../Images/f03e77f9b0265bc96248278fe837f257.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/1*jmupidzUO0Ex48EPfVpbFQ.gif"/></div></figure><p id="89d2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">沮丧之余，我带着一个计划走进了旧金山的T-Mobile商店。我买了一张载有2gb数据的SIM卡，并开始实施我的计划。</p><figure class="mi mj mk ml fq hw"><div class="bz el l di"><div class="mm mn l"/></div></figure><h2 id="a8ab" class="lh li if bd lj lk ll lm ln lo lp lq lr kd ls lt lu kh lv lw lx kl ly lz ma mb dt translated">Termux出现了</h2><p id="8728" class="pw-post-body-paragraph ju jv if jw b jx mc jg jz ka md jj kc kd me kf kg kh mf kj kk kl mg kn ko kp hn dt translated">我以前在/r/androiddev subreddit中听说过<a class="ae kq" href="https://play.google.com/store/apps/details?id=com.termux" rel="noopener ugc nofollow" target="_blank"> Termux </a>。我实际上把它安装在我的Nexus 6P上，但从未真正使用过它。在你的手机上安装一个Linux终端模拟器是那些一开始听起来很酷，但最终几乎没有实际用途的事情之一。</p><p id="cfa6" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">这次不会。这次我去了</p><pre class="mi mj mk ml fq mo mp mq mr aw ms dt"><span id="69db" class="lh li if mp b fv mt mu l mv mw">apt install git</span></pre><p id="748b" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">还有…什么？Git已安装。在Termux中初始化一个repo之后，我从Github中取出了整个Looxie存储库。</p><p id="c52c" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">到目前为止，一切顺利。但是……我怎么才能让node.js在这里运行呢？嗯，怎么样</p><pre class="mi mj mk ml fq mo mp mq mr aw ms dt"><span id="e0a6" class="lh li if mp b fv mt mu l mv mw">apt install nodejs</span></pre><p id="af3c" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">这是瞎猜的，但令我惊讶的是，一些事情开始发生了。</p><p id="bca9" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">几分钟后，我在Termux中运行了node.js安装。这是我的运气所能达到的极限，对吗？</p><p id="6d5a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">当我开始打字时，我想，“嗯，我不会有什么损失的。”</p><pre class="mi mj mk ml fq mo mp mq mr aw ms dt"><span id="a9dd" class="lh li if mp b fv mt mu l mv mw">npm install nodemon</span></pre><p id="1c2b" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">还有…天哪，成功了！</p><p id="5fb7" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我有点沉迷于这种令人惊叹的感觉，于是我输入了</p><pre class="mi mj mk ml fq mo mp mq mr aw ms dt"><span id="8845" class="lh li if mp b fv mt mu l mv mw">apt install nano</span></pre><p id="e8d2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">因为我想到了可以在JavaScript源代码中做些改变来解决服务器中的一个小错误。</p><p id="f234" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">你明白了:它起作用了。</p><p id="f015" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">不可能这么简单，对吧？当我打字的时候，有些事情会变得很糟糕</p><pre class="mi mj mk ml fq mo mp mq mr aw ms dt"><span id="2dbc" class="lh li if mp b fv mt mu l mv mw">nodemon looxieapp.js</span></pre><p id="512a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">启动服务器。</p><p id="bebf" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">没有什么可怕的错误。</p><p id="7834" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">没什么。</p><p id="6f5f" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">服务器启动了，并且运行得很好<em class="kr"/>。Looxie再次发送推送通知。</p><p id="0bf2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我唯一担心的是？当手机进入Android臭名昭著的“瞌睡”模式时，服务器就会停止工作——这种模式在你想让它工作时不起作用，在你不想让它工作时起作用。</p><blockquote class="mx"><p id="053e" class="my mz if bd na nb nc nd ne nf ng kp ek translated">瞌睡模式:当你想让它工作的时候不工作，当你不想让它工作的时候工作</p></blockquote><p id="a8d4" class="pw-post-body-paragraph ju jv if jw b jx nh jg jz ka ni jj kc kd nj kf kg kh nk kj kk kl nl kn ko kp hn dt translated">Termux又一次覆盖了我:在通知下拉列表的通知中，它有“获取wakelock”的选项。</p><p id="ded1" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我得到了唤醒锁。</p><p id="8465" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">睡着了。</p><div class="mi mj mk ml fq ab cb"><figure class="nm hw nn no np nq nr paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nm hw nn no np nq nr paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nm hw nn no np nq nr paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ns nt nu"><p id="f922" class="ju jv kr jw b jx jy jg jz ka kb jj kc nv ke kf kg nw ki kj kk nx km kn ko kp hn dt translated"><a class="ae kq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kq" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ju jv kr jw b jx jy jg jz ka kb jj kc nv ke kf kg nw ki kj kk nx km kn ko kp hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mi mj mk ml fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ny"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>