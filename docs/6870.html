<html>
<head>
<title>Zero to live with Vue — How we built Chatwoot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">零与Vue共存——我们如何构建Chatwoot</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/zero-to-live-with-vue-how-we-built-chatwoot-c7304e596d62?source=collection_archive---------7-----------------------#2017-10-08">https://medium.com/hackernoon/zero-to-live-with-vue-how-we-built-chatwoot-c7304e596d62?source=collection_archive---------7-----------------------#2017-10-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="aa85" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt jp translated">现在有很多<a class="ae jy" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>框架。你会看到很多关于一个框架如何优于另一个框架的文章。这是<strong class="it hv">而不是</strong>关于为什么Vue更好。这个故事是关于我们在构建Chatwoot时所吸取的教训和遵循的实践。</p><h1 id="3835" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated"><strong class="ak">产品</strong></h1><p id="d21c" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated"><a class="ae jy" href="https://www.chatwoot.com?utm_source=medium" rel="noopener ugc nofollow" target="_blank"> Chatwoot </a>是一款面向即时消息渠道的客户支持工具，可以帮助企业提供卓越的客户支持。</p><p id="0fa2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们正在见证客户支持的范式转变——我们可以称之为客户支持2.0。大多数企业仍然停留在电子邮件时代，而他们的客户使用即时通讯工具。他们现在要求企业立即回复。</p><p id="245c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Chatwoot 旨在弥合这一差距。我们正在帮助企业在他们的客户所在的地方出现，这是一个一站式的解决方案，让企业通过即时信使从一个地方管理他们所有的客户支持行动。不再涉足多个网站。</p><figure class="ld le lf lg fq lh fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff lc"><img src="../Images/8f8c16a8173b9387542751c19178178c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pGgeaoy8ExkJJM54T9zIFQ.png"/></div></div></figure><h1 id="83ea" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">入门指南</h1><p id="b790" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们一年前就开始讨论建造Chatwoot。像大多数开发人员一样，我们也怀疑该使用什么框架。我们能够缩短关于前端框架的讨论，要么反应要么Vue。我们决定使用Vue，因为它有更简单的语法和丰富的文档，我们从不后悔。</p><p id="5f20" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从<a class="ae jy" href="https://github.com/vuejs/awesome-vue" rel="noopener ugc nofollow" target="_blank"> awesome-vue </a>库中的<a class="ae jy" href="https://github.com/vuejs/awesome-vue#scaffold" rel="noopener ugc nofollow" target="_blank">样板文件</a>开始。基本设置包括以下组件:</p><ol class=""><li id="970d" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated"><a class="ae jy" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Vue 2.0 </strong> </a></li><li id="9ca0" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><a class="ae jy" href="https://foundation.zurb.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">基金会</strong></a>——我们抛弃了Bootstrap。</li><li id="3720" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><a class="ae jy" href="http://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">Sass</strong></a>——我们对Sass语言感到很舒服。我们用<a class="ae jy" href="http://bourbon.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">波旁</strong> </a>连同萨斯。它有足够的mixins来开始。</li><li id="3294" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><a class="ae jy" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>——这个插件帮助编写干净的代码。我们使用<a class="mc md gr" href="https://medium.com/u/ebe93072cafd?source=post_page-----c7304e596d62--------------------------------" rel="noopener" target="_blank">airbneng</a><a class="ae jy" href="https://github.com/airbnb/javascript" rel="noopener ugc nofollow" target="_blank">样式向导</a>来裁剪我们的文件。</li><li id="d6c8" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><a class="ae jy" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">web pack</strong></a>——这个很难入手。这需要一点时间来适应。</li></ol><h1 id="a308" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">挑战</h1><p id="d6b9" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">开始更容易。当我们试图实现特性时，真正的挑战开始了。我们不得不从头开始构建所有组件，因为没有人在大规模使用Vue-Foundation combo。我们决定自己制造组件。</p><figure class="ld le lf lg fq lh fe ff paragraph-image"><div class="fe ff me"><img src="../Images/1f73f3593427d1662beaa73baf959269.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/1*8LYTs-tCcwUhWfT211daxA.gif"/></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">Vue — Emoji Picker</figcaption></figure><p id="7226" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">表情选择器</strong></p><p id="c2d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个决定的主要收获之一就是这个表情符号选择器。默认情况下，表情符号呈现为unicodes。它支持SVG和unicode。我们计划很快对它进行开源。</p><h1 id="af07" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">所用的包装</h1><p id="9aa2" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">与React相比，我在Vue中看到的一个优点是由Vuex和Vue路由器组成的Vue生态系统。以下是我们使用过的软件包列表。</p><ul class=""><li id="30be" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo mj lu lv lw dt translated"><a class="ae jy" href="https://vuex.vuejs.org/en/intro.html" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Vuex </strong> </a> —状态管理是一项艰巨的任务。Vuex让它变得更简单。他们的文档也很好。</li><li id="d515" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://router.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Vue路由器</strong> </a> —这个更容易管理，也更容易设置基于角色的路由访问。</li><li id="614c" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://github.com/kazupon/vue-i18n" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">Vue-i18n</strong></a><strong class="it hv"/>—随着你app的进展，你的需求也在变化。您可能需要支持多种语言。你为什么不从头开始呢？</li><li id="5ea8" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Axios </strong> </a> —这是管理API请求和响应的好工具。我们使用<a class="ae jy" href="https://en.wikipedia.org/wiki/Interceptor_pattern" rel="noopener ugc nofollow" target="_blank">拦截器模式</a>来管理我们的请求和响应。我们有类似下面的响应拦截器。这有助于我们显示错误消息，并在一个点上执行常见操作。</li></ul><figure class="ld le lf lg fq lh"><div class="bz el l di"><div class="mk ml l"/></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">Response Interceptor</figcaption></figure><ul class=""><li id="f3a1" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo mj lu lv lw dt translated"><a class="ae jy" href="https://monterail.github.io/vuelidate/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">Vuelidate</strong></a><strong class="it hv"/>—一个轻量级的验证插件。</li></ul><h1 id="b88d" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">使用的技术堆栈和工具</h1><p id="398c" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们将前端和后端应用程序分离为独立的服务，这有助于两个团队独立工作。所有的通信都是通过REST API调用进行的。更新更容易处理。</p><ul class=""><li id="adb6" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo mj lu lv lw dt translated"><a class="ae jy" href="http://rubyonrails.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Rails </strong> </a>用于API后端。</li><li id="a5b1" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>为储位。</li><li id="bb0e" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://aws.amazon.com/cloudfront\" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> CloudFront </strong> </a>为CDN。早些时候，在开发期间，我们使用Firebase作为我们的CDN。后来我们切换到Cloudfront，因为Firebase不支持定制SSL证书。</li><li id="1538" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://travis-ci.com" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Travis </strong> </a> —这个构建工具使得部署我们的前端更新变得更加简单。我们有一个筹备和生产部门。我们正在将构建文件上传到S3，并通过<em class="mm"> CloudFront </em>交付。以下脚本将构建文件上传到S3，并使相应的CloudFront缓存失效。</li></ul><figure class="ld le lf lg fq lh"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="2c97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在travis项目设置控制台中设置环境变量。</p><figure class="ld le lf lg fq lh fe ff paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="fe ff mn"><img src="../Images/99c8ed1219a0a769ae3dc6ef73221be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eABiLOSuAOtxAGWjH3ILJQ.png"/></div></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">travis.com — Project Settings — Environment Variables</figcaption></figure><ul class=""><li id="5678" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo mj lu lv lw dt translated"><a class="ae jy" href="http://mixpanel.com/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>—用于产品分析。</li><li id="3744" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://sentry.io/welcome/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">哨兵</strong> </a> —用于错误跟踪和管理。这是推荐的工具，它让我们的生活更简单。</li><li id="cc21" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated">我们受够了你在大多数网站上看到的字体。我们想要一种新鲜的感觉。TypeKit以合理的价格提供优质字体。我们用<strong class="it hv"> <em class="mm">布兰登-奇形怪状</em> </strong>和<strong class="it hv"> <em class="mm">比邻星-新星</em> </strong>。对于图标，我们用的是<a class="ae jy" href="http://ionicons.com/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"><em class="mm">ion icons</em></strong></a>。</li><li id="0a3c" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="http://karma-runner.github.io/1.0/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>—用于单元测试。</li><li id="459e" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://aws.amazon.com/opsworks/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Aws Opsworks </strong> </a>托管我们的rails应用程序——ops works帮助我们在很短的时间内启动并运行，由于整个基础架构都在chef中编码，因此很容易扩展。</li><li id="b56c" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://github.com/mperham/sidekiq" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Sidekiq </strong> </a>为后台作业</li><li id="0b38" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><a class="ae jy" href="https://balsamiq.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">香膏</strong> </a>为实物模型</li><li id="b478" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated"><strong class="it hv"> Github </strong>管理项目问题和bug。</li></ul><p id="5085" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们从<a class="ae jy" href="https://developers.facebook.com/fbstart/" rel="noopener ugc nofollow" target="_blank"> <em class="mm"> FBStart </em> </a>项目中获得了积分，这有助于以几乎为零的成本推出产品。<a class="ae jy" href="https://stripe.com/atlas" rel="noopener ugc nofollow" target="_blank"> <em class="mm"> Stripe Atlas </em> </a>与<a class="ae jy" href="https://www.chargebee.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mm"> Chargebee </em> </a>帮助我们不费吹灰之力就建立了计费和订阅。</p><h1 id="104c" class="jz ka hu bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dt translated">尾注</h1><p id="6948" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">和Vue在一起已经一年了。我在Vue中发现的好的部分如下</p><ul class=""><li id="1121" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo mj lu lv lw dt translated">简单且记录良好的API—<a class="ae jy" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">与其他框架相比，学习</a>曲线较少</li><li id="d65e" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo mj lu lv lw dt translated">更好的模板选项——与JSX相比，Vue模板在模板方面有更好的语法。您不需要编写另一个函数来处理if情况，v-if很好地完成了这项工作。</li></ul><p id="5922" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">别忘了试试<a class="ae jy" href="https://www.chatwoot.com?utm_source=medium" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">聊天工具</strong> </a>，让我们知道你的反馈。</p><figure class="ld le lf lg fq lh fe ff paragraph-image"><a href="http://buymeacoff.ee/pranavrajs"><div class="fe ff mo"><img src="../Images/83dc7212ef8502659c81086ad58b8d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*bk_C8Um34KavCkO2yzMCZg.png"/></div></a></figure><figure class="ld le lf lg fq lh"><div class="bz el l di"><div class="mp ml l"/></div></figure></div></div>    
</body>
</html>