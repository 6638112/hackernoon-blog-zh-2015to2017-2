<html>
<head>
<title>Getting Started with Sequelize for Nodejs Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nodejs应用程序Sequelize入门</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/getting-started-with-sequelize-for-nodejs-applications-2854c58ffb8c?source=collection_archive---------0-----------------------#2017-05-30">https://medium.com/hackernoon/getting-started-with-sequelize-for-nodejs-applications-2854c58ffb8c?source=collection_archive---------0-----------------------#2017-05-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/e5970eea114c0dd5187abb2985ce4b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ShbzlvZjT-VI72oW.png"/></div></div></figure><h1 id="27bd" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">ORM简介</h1><p id="3b9b" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">ORM或对象关系映射是对象和关系数据库系统之间的映射过程。ORM就像两个系统之间的接口。ORM为开发人员提供了一些基本的优势，比如节省时间和精力，更注重业务逻辑。代码是健壮的而不是冗余的。ORM有助于以有效的方式管理对多个表的查询。最后，ORM(像<a class="ae ky" href="http://docs.sequelizejs.com/en/v3/" rel="noopener ugc nofollow" target="_blank"> sequelize </a>)能够连接不同的数据库(当从一个数据库切换到另一个数据库时，这很方便)。</p><h1 id="a515" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">Sequelize入门</h1><p id="bc15" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">Sequelize 是Node.js的一个基于promise的ORM。Sequelize很容易学习，有几十个很酷的特性，比如同步、关联、验证等等。它还支持PostgreSQL、MySQL、MariaDB、SQLite和MSSQL。我假设您的机器上已经启动了某种形式的SQL数据库服务。我目前正在使用MySQL。</p><h1 id="6898" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">装置</h1><p id="d317" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">Sequelize可通过npm获得。</p><figure class="kz la lb lc fq iv"><div class="bz el l di"><div class="ld le l"/></div></figure><h1 id="c17d" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">建立连接</h1><p id="3919" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">Sequelize确实在rest API/应用程序和您的SQL数据库之间建立了一个连接。要设置两者之间的基本连接:</p><figure class="kz la lb lc fq iv"><div class="bz el l di"><div class="ld le l"/></div></figure><h1 id="c578" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">我如何设置我的序列连接？</h1><p id="bb6b" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">为了简洁起见，我喜欢将代码分成模块。毕竟，<a class="ae ky" href="https://amandeepmittal.github.io/blog/2017/04/05/The-Node-Way-Philosophy-of-a-Platform/" rel="noopener ugc nofollow" target="_blank"> <em class="lf">一个程序/模块应该做一件事</em> </a>的Unix哲学是如今用JavaScript编写代码(并使用Node.js作为服务器端平台)背后的哲学的主要部分。</p><p id="5656" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated">我从我的应用程序/api文件夹的根目录中的<code class="eh ll lm ln lo b">config.json</code> / <code class="eh ll lm ln lo b">config.js</code>文件开始，在该文件夹中，我定义了设置与数据库的连接所需的一般约束:</p><figure class="kz la lb lc fq iv"><div class="bz el l di"><div class="ld le l"/></div></figure><p id="a15e" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated">如果你喜欢遵循这种模式，你可以在你的<code class="eh ll lm ln lo b">.env</code>文件中这样做。有关这方面的更多信息，请参见<code class="eh ll lm ln lo b"><a class="ae ky" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank">dotenv</a></code>。</p><p id="6b55" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated">在定义了配置变量之后，在我的<code class="eh ll lm ln lo b">models/</code>文件夹中或者我在应用程序级定义数据库中的表模式的地方，我在一个<code class="eh ll lm ln lo b">index.js</code>文件中创建连接:</p><figure class="kz la lb lc fq iv"><div class="bz el l di"><div class="ld le l"/></div></figure><p id="b2ee" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated">注意到我公开了包含每个模型/表模式定义的<code class="eh ll lm ln lo b">db</code>对象是很重要的。从现在开始，我只需导入<code class="eh ll lm ln lo b">db</code>对象，使用它对特定的数据库表进行操作。</p><p id="f202" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated">该设置可以在<a class="ae ky" href="https://github.com/sequelize/cli" rel="noopener ugc nofollow" target="_blank"> Sequelize CLI </a>工具的帮助下自动生成，该工具有助于以有效的方式引导新项目(如上所述),并直接从终端处理数据库迁移。</p><h1 id="3fdb" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">结论</h1><p id="41ec" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">Sequelize是一个功能丰富的ORM for Node.js。它有一个文档，有时可能不会为您的问题提供直接的解决方案，但总是有Github的问题。我喜欢的是它基于承诺的控制流。来自NoSQL背景(并使用MongoDB)，理解Sequelize真的花了更少的时间。大多数基于查询的模型与MongoDB中的非常相似(尤其是CRUD操作)。我正在寻找一个更明亮，更完善的文档和Sequelize的支持容易。</p></div><div class="ab cl lp lq hc lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hn ho hp hq hr"><p id="e99b" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated"><strong class="kc hv">想收到更多像这样的文章吗？订阅我</strong> <a class="ae ky" href="https://patreon.us17.list-manage.com/subscribe?u=ad4c168a6d5bb975f2f282d54&amp;id=39e959cecd" rel="noopener ugc nofollow" target="_blank"> <strong class="kc hv">这里</strong> </a> <strong class="kc hv">。有时，我会向我的订户发送“从未见过”的内容。</strong></p><p id="b023" class="pw-post-body-paragraph ka kb hu kc b kd lg kf kg kh lh kj kk kl li kn ko kp lj kr ks kt lk kv kw kx hn dt translated"><strong class="kc hv"> <em class="lf">感谢阅读。如果你觉得这篇文章有用，请点击</em> </strong>💚<strong class="kc hv"> <em class="lf">按钮，这样这个故事就能接触到更多的</em>读者<em class="lf">。如果你想谈论更多，请在</em></strong><a class="ae ky" href="https://twitter.com/amanhimself" rel="noopener ugc nofollow" target="_blank"><strong class="kc hv"><em class="lf">Twitter</em></strong></a><strong class="kc hv"><em class="lf">上ping我。</em>T29】</strong></p><div class="kz la lb lc fq ab cb"><figure class="lw iv lx ly lz ma mb paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lw iv lx ly lz ma mb paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lw iv lx ly lz ma mb paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mc md me"><p id="f922" class="ka kb lf kc b kd lg kf kg kh lh kj kk mf li kn ko mg lj kr ks mh lk kv kw kx hn dt translated"><a class="ae ky" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ky" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ky" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ky" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ka kb lf kc b kd lg kf kg kh lh kj kk mf li kn ko mg lj kr ks mh lk kv kw kx hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ky" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ky" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kz la lb lc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>