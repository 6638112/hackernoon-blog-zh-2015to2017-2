<html>
<head>
<title>Vue.js docs performance audit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js文档绩效审计</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/vue-js-docs-performance-audit-e89b11dfc43?source=collection_archive---------5-----------------------#2017-08-06">https://medium.com/hackernoon/vue-js-docs-performance-audit-e89b11dfc43?source=collection_archive---------5-----------------------#2017-08-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/c071a9f722fb60884136bca5f7de7b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*0-L_x0M-KHy-zr_b0yPg0w.png"/></div></figure><h1 id="ad92" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">介绍</h1><p id="21bf" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">随着移动设备变得比桌面更加可用，web面临着应用程序运行缓慢的问题。我们很多人在Chrome中测试应用程序，然后发布。没有多少开发人员尝试在真实设备和真实网络上测试他们的应用程序。</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff ku"><img src="../Images/a5d2ff4b730de0b42a290def0561b937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*mhoMljA_5ggtx55-gxAMQA.png"/></div></figure><p id="1966" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">所以，我试着(部分地)遵循这些规则，并测试<a class="ae le" href="https://hackernoon.com/tagged/vuejs" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>框架的开源文档—【https://vuejs.org/】T2</p><h2 id="8dba" class="lf iz hu bd ja lg lh li je lj lk ll ji kh lm ln jm kl lo lp jq kp lq lr ju ls dt translated">测试设置</h2><ul class=""><li id="9546" class="lt lu hu jy b jz ka kd ke kh lv kl lw kp lx kt ly lz ma mb dt translated"><strong class="jy hv">设备:</strong> Nexus 5设备仿真</li><li id="cfeb" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><strong class="jy hv">网络:</strong> 1.6 Mbps <a class="ae le" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a>节流</li><li id="0e5a" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><strong class="jy hv">网址:</strong><a class="ae le" href="http://localhost:4000/v2/guide" rel="noopener ugc nofollow" target="_blank">http<strong class="jy hv">://</strong>localhost:4000/v2/guide</a></li></ul><h2 id="a4d5" class="lf iz hu bd ja lg lh li je lj lk ll ji kh lm ln jm kl lo lp jq kp lq lr ju ls dt translated">工具:</h2><ul class=""><li id="e2ff" class="lt lu hu jy b jz ka kd ke kh lv kl lw kp lx kt ly lz ma mb dt translated">Chrome开发工具</li><li id="ea98" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><a class="ae le" href="https://github.com/paulirish/pwmetrics" rel="noopener ugc nofollow" target="_blank"> pwmetrics </a></li><li id="a93e" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><a class="ae le" href="https://chromedevtools.github.io/timeline-viewer/" rel="noopener ugc nofollow" target="_blank">时间线查看器</a></li></ul><h1 id="1cdd" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">问题:</h1><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff mh"><img src="../Images/08f6e9182014c10c5bcc7878db4d8e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLNoPladraKWqm1r3cUbGw.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">pwmetrics results for vue.js docs</figcaption></figure><p id="0505" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">FCP</strong>—<em class="mq">3.5秒</em></p><p id="6041" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">FMP—4.6秒</p><p id="5ab0" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">磅/平方英寸</strong>—6.1秒</p><p id="db17" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">TTFP—6.1秒</p><p id="f406" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">TTC</strong>—6.1秒</p><p id="3c08" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">在<a class="ae le" href="https://codeburst.io/performance-metrics-whats-this-all-about-1128461ad6b" rel="noopener" target="_blank">性能指标中了解有关这些指标的更多信息。这是怎么回事？第</a>条。</p><p id="7e45" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">还有一些不一致的行为<strong class="jy hv"> FOIC </strong>(不可见内容的闪现)<strong class="jy hv"> FOUC </strong>(未样式化内容的闪现)。</p><blockquote class="mr ms mt"><p id="f9a7" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">不同的浏览器有不同的表现</p><p id="c129" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">FOIC <em class="hu"> — Chrome、Firefox、Safari </em></p><p id="fb51" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">FOUC <em class="hu"> —边缘，即</em></p></blockquote><p id="e160" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FOIC </strong></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/cbdc759858a6038096c0323cf6b63a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/1*OHYVVbZvDdrQ0oEjaQ0YrA.gif"/></div></figure><p id="535d" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FOUC </strong></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff my"><img src="../Images/bbad71d9a0673f10f6f4e06b71b05adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/1*iGmu9_2_QF2HwhCO-dIKhw.gif"/></div></figure><p id="b8b0" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">这将是很好的尽快显示回退字体，并添加<a class="ae le" href="https://en.wikipedia.org/wiki/Progressive_enhancement" rel="noopener ugc nofollow" target="_blank">渐进增强策略</a>到网站。</p></div><div class="ab cl mz na hc nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hn ho hp hq hr"><h1 id="9b17" class="iy iz hu bd ja jb ng jd je jf nh jh ji jj ni jl jm jn nj jp jq jr nk jt ju jv dt translated">推迟脚本</h1><p id="1a05" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">但是，首先，应该管理阻止首次绘制的脚本。</p><blockquote class="mr ms mt"><p id="a1e3" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">旧但金<a class="ae le" href="http://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html" rel="noopener ugc nofollow" target="_blank">文章</a>关于延迟和异步脚本行为</p><p id="9f17" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">仅供参考:默认情况下，ECMAScript6模块被延迟</p></blockquote><p id="4187" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><a class="ae le" href="https://chromedevtools.github.io/timeline-viewer/?loadTimelineFromURL=drive://0B0c67TI7mLzERGUwRV9FNlhmVU0" rel="noopener ugc nofollow" target="_blank">时间轴轨迹</a></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff nl"><img src="../Images/5a5f8c3d436c26f36d6b7e20426ca01a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vlxjN4byP-5i6UE4."/></div></div></figure><p id="8260" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">因此，将<a class="ae le" href="https://www.w3.org/TR/html5/scripting-1.html#attr-script-defer" rel="noopener ugc nofollow" target="_blank"> <em class="mq"> defer </em> </a>属性添加到所有这些脚本(除了vue.js，我们将在后面管理它)中，给我们带来了这个结果:</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff nm"><img src="../Images/40400a39a196b47f542c272fea82ed31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Z5eIBDynwAOq51BKtKvpA.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">pwmetrics results after deferring scripts for vue.js docs</figcaption></figure><p id="253e" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><em class="mq">100毫秒</em>对于<strong class="jy hv"> TTCI </strong>和<strong class="jy hv"> TTFI </strong>指标<strong class="jy hv"> </strong>不那么令人印象深刻，但也很了不起。</p><p id="cb49" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">添加defer到<em class="mq"> vue.js </em>可以节省更多的时间:</p><p id="d2f1" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">FCP</strong>—3.5秒-&gt;1.9秒</p><p id="48f3" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">FMP</strong>—4.6秒-&gt;3.4秒</p><p id="5413" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">PSI</strong>—6.1秒-&gt;4.9秒</p><p id="4892" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">TTFI</strong>—6.1秒-&gt;4.9秒</p><p id="1842" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv">TTCI</strong>—6.1秒-&gt;4.9秒</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff nn"><img src="../Images/22027b3381c2d7ebf13fd6fc283abbc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TbBwMpjOUS2c_tfDZbZ7og.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">pwmetrics results after deferring vue.js</figcaption></figure><blockquote class="mr ms mt"><p id="6290" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">添加defer需要将示例代码扭曲到DOM<em class="hu">content loaded</em>listener中，但是我认为在“<em class="hu">hexo-renderer-marked</em>”fork的范围内很容易做到。</p></blockquote><h1 id="9b79" class="iy iz hu bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">管理字体</h1><p id="79d3" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated"><a class="ae le" href="https://chromedevtools.github.io/timeline-viewer/?loadTimelineFromURL=drive://0B0c67TI7mLzEYWxSeEYyTlVxYWM" rel="noopener ugc nofollow" target="_blank">时间轴轨迹</a></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff no"><img src="../Images/8c930a4e69e51c7e26040c52f4c73d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/0*JxcVRNpZR_OeZXRl."/></div></figure><p id="d7bc" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">看一下<a class="ae le" href="https://chromedevtools.github.io/timeline-viewer/?loadTimelineFromURL=drive://0B0c67TI7mLzEYWxSeEYyTlVxYWM" rel="noopener ugc nofollow" target="_blank">时间轴轨迹</a>可以注意到字体就像脚本一样阻挡了<strong class="jy hv"> FMP </strong>。</p><p id="4f33" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">因此，可以应用一些技术来处理它。</p></div><div class="ab cl mz na hc nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hn ho hp hq hr"><h2 id="7ee3" class="lf iz hu bd ja lg lh li je lj lk ll ji kh lm ln jm kl lo lp jq kp lq lr ju ls dt translated">将字体移入正文</h2><p id="9fc6" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">因为浏览器会在载入主体中的资源后重新绘制</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff np"><img src="../Images/0116b35c1d0604c714f5ec8e62f7c80e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T0eI5AeNiO5YO-FP."/></div></div></figure><p id="1463" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">字体可以移到那里。</p><p id="35a0" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><a class="nq nr gr" href="https://medium.com/u/f87cd234b9d9?source=post_page-----e89b11dfc43--------------------------------" rel="noopener" target="_blank">杰克·阿奇博尔德</a>有一篇关于这种行为的很酷的文章——<a class="ae le" href="https://jakearchibald.com/2016/link-in-body/" rel="noopener ugc nofollow" target="_blank">加载CSS的未来</a>。</p><p id="e59a" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">结果</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff ns"><img src="../Images/ec9c1b360beb9b491842ab343cd87c60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UeyOQqDWy75b0Eb6m-5N0A.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">pwmetrics results for fonts resources in body for vue.js docs</figcaption></figure><p id="6c65" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FMP </strong>，下<strong class="jy hv">FCP</strong>`<strong class="jy hv">2秒</strong></p><p id="354e" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> TTCI </strong>，<strong class="jy hv"> TTCI </strong>，<strong class="jy hv"> PSI </strong>下`<strong class="jy hv"> 5秒</strong></p><p id="973d" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FOIC </strong>演示</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/76f9c18739fd9d7ad0cad1007254a9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/1*L8-EcTrqo72CVEyvpdyVcw.gif"/></div></figure><p id="abfe" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FOUC </strong></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/5c8f97aaf9bbb4fe57521c095911ca3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/1*nWX6Z339IC_ofp_pyu3qFA.gif"/></div></figure><p id="3abb" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">统计结果很好，但用户体验并不好。</p></div><div class="ab cl mz na hc nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hn ho hp hq hr"><h2 id="4cb5" class="lf iz hu bd ja lg lh li je lj lk ll ji kh lm ln jm kl lo lp jq kp lq lr ju ls dt translated">第三方图书馆</h2><p id="80fe" class="pw-post-body-paragraph jw jx hu jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">有几个库可以帮助监控加载字体:</p><ul class=""><li id="7d3d" class="lt lu hu jy b jz kz kd la kh nt kl nu kp nv kt ly lz ma mb dt translated"><a class="ae le" href="https://github.com/bramstein/fontfaceobserver" rel="noopener ugc nofollow" target="_blank"> fontfaceobserver </a></li><li id="91a6" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><a class="ae le" href="https://github.com/typekit/webfontloader" rel="noopener ugc nofollow" target="_blank"> webfontloader </a></li><li id="7907" class="lt lu hu jy b jz mc kd md kh me kl mf kp mg kt ly lz ma mb dt translated"><a class="ae le" href="https://github.com/zachleat/fontfaceonload" rel="noopener ugc nofollow" target="_blank"> fontfaceonload </a></li></ul><p id="b957" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">我尝试了<em class="mq">font aface observer</em>by<em class="mq"/><a class="nq nr gr" href="https://medium.com/u/fe478cb14d5a?source=post_page-----e89b11dfc43--------------------------------" rel="noopener" target="_blank">Bram Stein</a>。</p><p id="bb10" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">所以，结果是:</p><p id="4277" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><a class="ae le" href="https://chromedevtools.github.io/timeline-viewer/?loadTimelineFromURL=drive://0B0c67TI7mLzEWVlFQjloeXRDeEE" rel="noopener ugc nofollow" target="_blank">时间轴轨迹</a></p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff nw"><img src="../Images/2dfae4dc90486850da514d75d03a9245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mwGkqWbzUfKaNRwn7ruSaw.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">pwmetrcis results using <em class="nx">fontafaceobserver for </em>vue.js docs</figcaption></figure><p id="e9d5" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> FMP </strong>，<strong class="jy hv"> FCP </strong>下‘2秒’，还是一样</p><p id="1691" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated"><strong class="jy hv"> TTCI </strong>，<strong class="jy hv"> TTFI </strong>，<strong class="jy hv"> PSI </strong>在“5.2秒”下，而不是“4.8秒”</p><p id="b088" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">在支持所有浏览器的情况下，~<em class="mq">400毫秒</em>看起来是个不错的选择。</p><p id="3d54" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">酪</p></div><div class="ab cl mz na hc nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hn ho hp hq hr"><h2 id="cb2d" class="lf iz hu bd ja lg lh li je lj lk ll ji kh lm ln jm kl lo lp jq kp lq lr ju ls dt translated"><a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">字体-显示</strong> </a></h2><blockquote class="mr ms mt"><p id="08a6" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">Chrome支持，Firefox也即将支持</p><p id="b52f" class="jw jx mq jy b jz kz kb kc kd la kf kg mu lb kj kk mv lc kn ko mw ld kr ks kt hn dt translated">在这种情况下，使用了`<em class="hu">字体显示:交换`</em></p></blockquote><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff ny"><img src="../Images/9023cd1b94409ecdce7caaa56fd9edec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43SLFOIyXYUwAVAnkj31Eg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek"><em class="nx">pwmetrics results using font-display: swap for </em>vue.js docs</figcaption></figure><p id="02d6" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">FOIC 演示</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div class="fe ff nz"><img src="../Images/b247266beeb0c78b6e0f161cccbf6919.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/1*dbXq8uF_a8W7KmXXxiXtmQ.gif"/></div></figure><p id="dbcc" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">比较结果:</p><pre class="kv kw kx ky fq oa ob oc od aw oe dt"><span id="f680" class="lf iz hu ob b fv of og l oh oi">|      |     before     | fonfaceobserver |    font-display    |<br/>|:----:|:--------------:|:---------------:|:------------------:|<br/>| FCP  |       3,5      |        <strong class="ob hv">2</strong>        |         2,2        |<br/>| FMP  |       4,6      |        <strong class="ob hv">2</strong>        |         2,2        |<br/>| PSI  |       6,1      |       4,5       |         4,9        |<br/>| TTFI |       6,1      |       5,3       |         <strong class="ob hv">4,8</strong>        |<br/>| TTCI |       6,1      |       5,3       |         <strong class="ob hv">4,8</strong>        |<!-- --> </span></pre><p id="ae61" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">对于<strong class="jy hv"> FCP，FMP</strong><em class="mq">【200 ms】</em>也有一些取舍但是对于交互时间更好。</p></div><div class="ab cl mz na hc nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hn ho hp hq hr"><blockquote class="oj"><p id="0956" class="ok ol hu bd om on oo op oq or os kt ek translated">无论是开发新项目还是解决问题，都是一种权衡。我们不可能一直都有完美的场景。有时候我们应该做出牺牲。</p></blockquote><p id="162d" class="pw-post-body-paragraph jw jx hu jy b jz ot kb kc kd ou kf kg kh ov kj kk kl ow kn ko kp ox kr ks kt hn dt translated">那么如何管理这种情况呢？哪个选择会更好？</p><p id="8e3c" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">我使用<em class="mq"> fontfaceobserver </em>将<a class="ae le" href="https://github.com/vuejs/vuejs.org/pull/1057" rel="noopener ugc nofollow" target="_blank"> PR </a>提交给Vue.js org，因为我认为他们想要支持所有浏览器，所以使用<em class="mq">字体显示</em>的情况不会起作用。</p><p id="92ba" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">结果:</p><figure class="kv kw kx ky fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="fe ff oy"><img src="../Images/79fb7e6ee48a0517bb3de40ac5c1fdce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpp5PVQ_z3Ji10BjtiEvtg.png"/></div></div></figure><p id="ecc9" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">如果你正在使用evergreen浏览器，不要犹豫——使用本地支持的功能，使用<em class="mq">字体显示。</em></p><p id="8b1f" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">谢谢你的阅读。</p><p id="354f" class="pw-post-body-paragraph jw jx hu jy b jz kz kb kc kd la kf kg kh lb kj kk kl lc kn ko kp ld kr ks kt hn dt translated">附注:我写这篇文章是为了展示如何通过几个步骤来提高移动设备和慢速网络上的应用程序的速度。</p><figure class="kv kw kx ky fq iv"><div class="bz el l di"><div class="oz pa l"/></div></figure></div></div>    
</body>
</html>