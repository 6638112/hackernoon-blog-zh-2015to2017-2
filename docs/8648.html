<html>
<head>
<title>Simple Stylesheets in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的简单样式表</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/simple-stylesheets-in-swift-6dda57b5b00d?source=collection_archive---------7-----------------------#2017-12-09">https://medium.com/hackernoon/simple-stylesheets-in-swift-6dda57b5b00d?source=collection_archive---------7-----------------------#2017-12-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="b758" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您的视图代码看起来像这样吗？</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ju jv l"/></div></figure><p id="5757" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果答案是肯定的，那么你就像我一样，直到最近，当一个想法闪过我的脑海。我觉得这个想法很美，所以我想和大家分享一下。</p><p id="ccb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">闭包中的代码代表了各自子视图的风格。仅此而已，但是它混淆了视图类的接口和实现。此外，相同或相似的代码经常在整个app <a class="ae jw" href="https://hackernoon.com/tagged/codebase" rel="noopener ugc nofollow" target="_blank">代码库</a>中重复。我们如何让它变得更好？通过做唯一合乎逻辑的事情——将这样的代码移出视图类。</p><p id="7d5a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">做这件事的方法很简单。我们将坚持使用上面代码片段中的闭包，但是有一个小的变化——我们不会在闭包中实例化视图，而是给闭包一个视图实例来样式化。我们还将把闭包封装在一个结构中，这样我们可以更容易地使用它。该结构应被称为<code class="eh jx jy jz ka b">Style&lt;View&gt;</code>。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ju jv l"/></div></figure><p id="eddf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它只是一个包装单参数闭包的结构。有一个限制，参数类型必须是<code class="eh jx jy jz ka b">UIView</code>或它的子类。</p><p id="4a2b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在可以通过将视图传递给apply方法来设置视图的样式。然而，让我们通过定义几个扩展来使它变得更简单。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ju jv l"/></div></figure><p id="a0eb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以反过来做，也是使用方便的初始化器。不幸的是，<a class="ae jw" href="https://hackernoon.com/tagged/swift" rel="noopener ugc nofollow" target="_blank"> Swift </a>泛型有一些限制，因为协方差通常不被支持，我们希望能够用<code class="eh jx jy jz ka b">Style&lt;UIView&gt;</code>的实例来设计<code class="eh jx jy jz ka b">UILabel</code>的实例。出于这个原因，我们必须投。小小的代价。</p><p id="cfcc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在拥有了改进视图类所需的一切——将表示样式的代码移入样式表类型。它只是一个为我们提供名称空间的枚举。我们可以将相关的样式分组到另一个嵌套的枚举中。它可能是这样的:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ju jv l"/></div></figure><p id="ce53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如何定义样式表完全取决于你自己。它可以是整个应用程序的一个样式表，也可以是每个模块的单独样式表。您可以使用扩展添加样式或样式组，并且可以定义可重用或私有的样式。这是一种非常灵活、简单的方法，最重要的是，它使视图类变得非常干净:</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="ju jv l"/></div></figure><p id="14dd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">提出的解决方案非常类似于web上的样式设计——一种经受住了时间考验的方法。通过在<code class="eh jx jy jz ka b">Style</code>类型上定义一些扩展，你可以很容易地将所有这些带到下一个层次，这些扩展提供了继承和其他组合方式，这将使你能够很容易地定义全局或共享样式。</p><p id="8d9e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我很想听到你的反馈，所以如果你喜欢或者有任何疑问，请随时留下你的评论。</p><p id="8376" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本解决方案是<a class="ae jw" href="https://github.com/AbsurdAbstractions/Layoutless" rel="noopener ugc nofollow" target="_blank">无布局</a>库的一部分。除了声明式样式，它还提供了一种简单的声明式布局。</p><figure class="jp jq jr js fq jt"><div class="bz el l di"><div class="kb jv l"/></div></figure></div></div>    
</body>
</html>