<html>
<head>
<title>[React][Redux] Isomorphic boilerplate: Adding new page</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[React][Redux]同构样板:添加新页面</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/node-javascript-react-redux-isomorphic-boilerplate-tutorial-example-adding-new-page-component-router-match-f0347ad42c67?source=collection_archive---------4-----------------------#2017-05-20">https://medium.com/hackernoon/node-javascript-react-redux-isomorphic-boilerplate-tutorial-example-adding-new-page-component-router-match-f0347ad42c67?source=collection_archive---------4-----------------------#2017-05-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/4733fd4ca383778dcb02a481bd0d885d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7icbLIqdLMH8paYs9I-vYQ.jpeg"/></div></div></figure><p id="baaa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是一个基于<a class="ae ka" href="https://hackernoon.com/isomorphic-universal-boilerplate-react-redux-server-rendering-tutorial-example-webpack-compenent-6e22106ae285" rel="noopener ugc nofollow" target="_blank"> react-redux同构样板</a>添加静态新页面(无动作分派)的示例，在连接服务器渲染、客户端渲染和路由器的配置后，只需修改(或添加)3个文件即可创建一个非常简单的静态页面。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/3bf7a88d781888c94139d4040f592474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KhOIVHkTZM1PXJA_JnAZCQ.jpeg"/></div></div></figure><h1 id="8fa2" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">1.创建一个演示组件</h1><p id="4ea5" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated"><strong class="je hv">表示组件</strong>是只关注事物外观的组件，与应用程序的其余部分没有任何依赖关系</p><p id="47c5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh lk ll lm ln b">./src/components/NewPage.js</code></p><pre class="kc kd ke kf fq lo ln lp lq aw lr dt"><span id="b38b" class="ls kh hu ln b fv lt lu l lv lw">import React, { PropTypes } from 'react'<br/><br/>const NewPage = ({ onClick, message }) =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;NewPage: { message }&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}<br/><br/>NewPage.propTypes = {<br/>  message: PropTypes.string.isRequired<br/>}<br/><br/>export default NewPage</span></pre><h1 id="4e6a" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">2.创建一个容器作为路由器的入口</h1><p id="9629" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated"><code class="eh lk ll lm ln b">./src/containers/NewPage.js</code></p><pre class="kc kd ke kf fq lo ln lp lq aw lr dt"><span id="983e" class="ls kh hu ln b fv lt lu l lv lw">import { connect } from 'react-redux'<br/>import NewPage from '../components/NewPage'<br/><br/>const mapStateToProps = (state, ownProps) =&gt; {<br/>  return {<br/>    message: 'well behave !!!'<br/>  }<br/>}<br/><br/>const mapDispatchToProps = (dispatch, ownProps) =&gt; {<br/>  return {<br/>  }<br/>}<br/><br/>const newPage = connect(<br/>  mapStateToProps,<br/>  mapDispatchToProps<br/>)(NewPage)<br/><br/>// initState is a function which is run before server, and keep consistency as a thunk middleware, and return a promise <br/>newPage.initState = (store,req,res) =&gt; {<br/>    return (dispatch, getState) =&gt; {<br/>      return new Promise( (resolve, reject)=&gt; {<br/>        resolve ()<br/>      })<br/>    }<br/>}<br/><br/>export default newPage</span></pre><h1 id="15cd" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">3.在<code class="eh lk ll lm ln b">matchConfig.js</code>中添加正确的配置</h1><p id="bba5" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">使用新URL <code class="eh lk ll lm ln b">/preload', as the first field</code>路径:'/preload ' `创建新页面</p><pre class="kc kd ke kf fq lo ln lp lq aw lr dt"><span id="da2c" class="ls kh hu ln b fv lt lu l lv lw">...<br/>  {<br/>    path: '/preload',<br/>    component: PreloadHelloWorld,<br/>    initState: PreloadHelloWorld.initState<br/>  },<br/>...</span></pre><p id="c9a9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">打开带有网址<code class="eh lk ll lm ln b">localhost:3000/newpage</code>的浏览器</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lx"><img src="../Images/c64e68d7aacfe150328be6fc23f6b9bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XQk5qbWlxgrNCdg1Z_oH3w.png"/></div></div></figure><h2 id="b9f2" class="ls kh hu bd ki ly lz ma km mb mc md kq jn me mf ku jr mg mh ky jv mi mj lc mk dt translated">克隆</h2><p id="1f62" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">Git储存库</p><pre class="kc kd ke kf fq lo ln lp lq aw lr dt"><span id="da01" class="ls kh hu ln b fv lt lu l lv lw">$ git clone <a class="ae ka" href="https://github.com/wahengchang/react-redux-boilerplate/tree/addNewPage" rel="noopener ugc nofollow" target="_blank">https://github.com/wahengchang/react-redux-boilerplate/tree/addNewPage</a></span></pre><h2 id="8d79" class="ls kh hu bd ki ly lz ma km mb mc md kq jn me mf ku jr mg mh ky jv mi mj lc mk dt translated">参考:</h2><p id="d055" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated"><a class="ae ka" href="https://hackernoon.com/isomorphic-universal-boilerplate-react-redux-server-rendering-tutorial-example-webpack-compenent-6e22106ae285" rel="noopener ugc nofollow" target="_blank">阅读更多内容</a></p><p id="4d89" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://hackernoon.com/isomorphic-universal-boilerplate-react-redux-server-rendering-tutorial-example-webpack-compenent-6e22106ae285" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/同构-universal-boilerplate-react-redux-server-rendering-tutorial-example-web pack-component-6e 22106 AE 285</a></p><p id="df1a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://github.com/wahengchang/react-redux-boilerplate/tree/addNewPage" rel="noopener ugc nofollow" target="_blank">https://github . com/wahengchang/react-redux-boilerplate/tree/add new page</a></p><div class="kc kd ke kf fq ab cb"><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ml iv mm mn mo mp mq paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mr ms mt"><p id="f922" class="jc jd lj je b jf jg jh ji jj jk jl jm mu jo jp jq mv js jt ju mw jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是这个大家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">正在接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd lj je b jf jg jh ji jj jk jl jm mu jo jp jq mv js jt ju mw jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mx"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>