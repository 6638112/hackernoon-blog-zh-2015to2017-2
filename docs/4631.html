<html>
<head>
<title>Running tests for .NET and Node.js on Travis CI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正在为运行测试。Travis CI上的NET和Node.js</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/running-tests-for-net-and-node-js-on-travis-ci-8704ea3a5512?source=collection_archive---------11-----------------------#2017-06-11">https://medium.com/hackernoon/running-tests-for-net-and-node-js-on-travis-ci-8704ea3a5512?source=collection_archive---------11-----------------------#2017-06-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><h1 id="fc0f" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">介绍</h1><p id="63dc" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我和一个同事一起开始制作第一部分。像许多项目一样，这由一个做一些事情的web api和一个前端组成。</p><p id="e69a" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">为了使事情变得简单，我们决定从为我们的api服务的同一个服务器上为我们的前端服务，并将它们保存在同一个git存储库中。我们选择在后端使用ASP.NET核心，在前端使用<a class="ae kn" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">反应</a>。</p><p id="bb6e" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">我们设置了项目并配置了Travis CI来运行我们的测试并发布到Heroku。</p><p id="0196" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">最初我们只有。网络测试和特拉维斯运行他们没有问题。但是后来我们为前端引入了Jest测试。Travis CI默认在上安装了<a class="ae kn" href="https://hackernoon.com/tagged/node-js" rel="noopener ugc nofollow" target="_blank"> Node.js </a>。NET环境所以事情应该进展顺利。</p><p id="13bd" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">但是事情并不顺利。显然Node.js的默认版本是4，我们的项目是用Node.js 8编写的。</p><p id="f2dc" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">是时候想办法解决这个问题了。</p><h1 id="1bd2" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">解决办法</h1><p id="008e" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我用一个. NET核心测试项目和一个npm项目创建了一个<a class="ae kn" href="https://github.com/bartw/dotnetcore_node_travis" rel="noopener ugc nofollow" target="_blank"> repo </a>，两个项目都有一个简单的测试。</p><div class="kt ku fm fo kv kw"><a href="https://github.com/bartw/dotnetcore_node_travis" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab ej"><div class="ky ab kz cl cj la"><h2 class="bd hv fv z el lb eo ep lc er et ht dt translated">bartw/dotnetcore_node_travis</h2><div class="ld l"><h3 class="bd b fv z el lb eo ep lc er et ek translated">dotnetcore _ node _ travis——在一个Travis构建中同时运行dotnet和node的特定版本的测试</h3></div><div class="le l"><p class="bd b gc z el lb eo ep lc er et ek translated">github.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk ll kw"/></div></div></a></div><p id="fd9d" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">在Travis CI上，节点版本管理器(<a class="ae kn" href="https://github.com/creationix/nvm" rel="noopener ugc nofollow" target="_blank"> nvm </a>)可用。在我的. travis.yml文件中，我使用nvm安装Node.js 8并使用这个版本运行我们的测试。</p><p id="ac33" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">现在双方。NET测试和Node.js测试一起运行。</p><figure class="lm ln lo lp fq lq"><div class="bz el l di"><div class="lr ls l"/></div></figure><blockquote class="lt lu lv"><p id="76a1" class="jp jq lw jr b js ko ju jv jw kp jy jz lx kq kc kd ly kr kg kh lz ks kk kl km hn dt translated"><a class="ae kn" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae kn" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kn" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="jp jq lw jr b js ko ju jv jw kp jy jz lx kq kc kd ly kr kg kh lz ks kk kl km hn dt translated">要了解更多信息，请阅读我们的“关于”页面、<a class="ae kn" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书</a>上给我们点赞/发消息，或者简单地发送<a class="ae kn" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="jp jq lw jr b js ko ju jv jw kp jy jz lx kq kc kd ly kr kg kh lz ks kk kl km hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kn" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kn" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lm ln lo lp fq lq"><div class="bz el l di"><div class="ma ls l"/></div></figure></div></div>    
</body>
</html>