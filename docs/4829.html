<html>
<head>
<title>Understanding map, filter and reduce in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解Javascript中的映射、过滤和归约</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/understanding-map-filter-and-reduce-in-javascript-5df1c7eee464?source=collection_archive---------1-----------------------#2017-06-25">https://medium.com/hackernoon/understanding-map-filter-and-reduce-in-javascript-5df1c7eee464?source=collection_archive---------1-----------------------#2017-06-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/9ef542a32144137bb9c87d916996c36e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VX8zR_no7QbCf1DAHLTCRg.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="http://unsplash.com/photos/9idqIGrLuTE?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Joshua Earle</a> on <a class="ae jg" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="705a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在从事<a class="ae jg" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>项目时，您不可避免地会遇到必须进行一些数据操作的情况。你总是可以使用一个<code class="eh kf kg kh ki b">for-loop</code>来得到想要的结果，但是<code class="eh kf kg kh ki b">for-loops</code>很快会变得有点混乱和庞大。大多数情况下，使用<code class="eh kf kg kh ki b">map</code>、<code class="eh kf kg kh ki b">filter</code>或<code class="eh kf kg kh ki b">reduce</code>操作符会容易得多。您的代码保持更整洁，更易于阅读。至少，如果你明白它们是如何工作的，以及何时应该使用它们。</p><p id="3aeb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我用来确定应该使用哪个运算符的经验法则如下:</p><ul class=""><li id="f9e6" class="kj kk hu jj b jk jl jo jp js kl jw km ka kn ke ko kp kq kr dt translated">如果我已经有了一个数组，我想对数组中的每个元素进行完全相同的操作，并返回数组中相同数量的元素，使用<code class="eh kf kg kh ki b">map</code>。</li><li id="7f53" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">如果我已经有了一个数组，但是我只想让数组中的项目符合某些标准，那么使用<code class="eh kf kg kh ki b">filter</code>。</li><li id="2a7d" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">如果我已经有了一个数组，但是我想使用数组中的值来创建一个全新的东西，那么使用<code class="eh kf kg kh ki b">reduce</code>。</li></ul><p id="8e09" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些规则可能看起来有点模糊，所以让我们深入一些例子。对于我们的示例，我们使用一个小动物数组，如下所示:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><h1 id="3681" class="ld le hu bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">地图操作员</h1><p id="8e73" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">假设我们想要一个只包含所有动物名字的数组。使用一个<code class="eh kf kg kh ki b">for-loop</code>我们可以写这样的东西:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="5c28" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用<code class="eh kf kg kh ki b">map-operator</code>我们可以这样写:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="d7a6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://hackernoon.com/tagged/map" rel="noopener ugc nofollow" target="_blank">映射</a>操作符接受回调函数中的三个值，即:</p><ul class=""><li id="ddd9" class="kj kk hu jj b jk jl jo jp js kl jw km ka kn ke ko kp kq kr dt translated">数组的当前项</li><li id="37a9" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">当前项目的当前索引</li><li id="78bf" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">整个阵列</li></ul><p id="900a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">虽然这是一个非常简单的例子，但是当我们使用<code class="eh kf kg kh ki b">map</code>时，我们的代码可读性有一些关键的改进:</p><ol class=""><li id="928a" class="kj kk hu jj b jk jl jo jp js kl jw km ka kn ke mg kp kq kr dt translated">使用<code class="eh kf kg kh ki b">map</code>，我们不必管理for循环的状态。</li><li id="fbe1" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke mg kp kq kr dt translated">我们不必使用for循环的索引来访问数组中的正确项。</li><li id="3f67" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke mg kp kq kr dt translated">我们不必创建一个新的数组并将我们的值放入其中。<code class="eh kf kg kh ki b">Map</code>一次性返回完成的数组，所以我们可以简单地将它赋给一个变量。</li></ol><p id="7376" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用地图时，有一件非常重要的事情你可能永远不会忘记。使用一个<code class="eh kf kg kh ki b">return</code>语句，否则你的数组将以所有条目作为<code class="eh kf kg kh ki b">undefined</code>结束。</p><h1 id="22b0" class="ld le hu bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">过滤器操作符</h1><p id="560a" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">假设我们只想要一组小动物。使用for循环，我们将编写如下内容:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="6ec8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用<code class="eh kf kg kh ki b">filter-operator</code>我们可以这样写:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="9a98" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">filter操作符在回调函数中接受相同的参数(当前项、索引和整个数组)。但是因为我们不使用索引和整个数组，所以我把它们省略了。<code class="eh kf kg kh ki b">filter-operator</code>还有和<code class="eh kf kg kh ki b">map</code>一样的其他好处。我们还必须再次使用<code class="eh kf kg kh ki b">return</code>来使<code class="eh kf kg kh ki b">filter</code>正常工作。但是这次我们必须确保<code class="eh kf kg kh ki b">return</code>返回一个布尔值。如果你不这样做，过滤器将总是返回假。</p><h1 id="bd30" class="ld le hu bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">归约运算符</h1><p id="0d29" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">假设我们想计算数组中所有动物的总重量。使用一个<code class="eh kf kg kh ki b">for-loop</code>我们可以写这样的东西:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="b9f5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用<code class="eh kf kg kh ki b">reduce-operator</code>我们可以这样写:</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="lb lc l"/></div></figure><p id="3e38" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">回调函数中的参数工作方式与<code class="eh kf kg kh ki b">map</code>和<code class="eh kf kg kh ki b">filter</code>稍有不同。它的工作原理如下:</p><ul class=""><li id="f5a0" class="kj kk hu jj b jk jl jo jp js kl jw km ka kn ke ko kp kq kr dt translated">第一个参数是结束值的当前值。我们必须在函数结束时设置初始值。在这种情况下，我们将其设置为<code class="eh kf kg kh ki b">o</code>。但是这可以是任何值。</li><li id="8226" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">第二个参数是数组中的当前项。</li><li id="9502" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">第三个又是指数。</li><li id="a999" class="kj kk hu jj b jk ks jo kt js ku jw kv ka kw ke ko kp kq kr dt translated">最后是全数组。</li></ul><p id="d816" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们再次改进了<code class="eh kf kg kh ki b">map</code>和<code class="eh kf kg kh ki b">filter</code>的可读性。我们还需要再次使用<code class="eh kf kg kh ki b">return</code>。这一次重要的是我们在每个<code class="eh kf kg kh ki b">reduce</code>函数的末尾返回最终值，即第一个参数。</p><h1 id="1ef8" class="ld le hu bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">结论</h1><p id="79ef" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">通过这些简单的例子，你应该对<code class="eh kf kg kh ki b">map</code>、<code class="eh kf kg kh ki b">filter</code>和<code class="eh kf kg kh ki b">reduce</code>的工作原理有了更好的理解。当您的代码或数据变得更加复杂时，这些操作符会更加出色。如果你还没有经常使用它们，我会建议你使用它们。它真的可以让你的代码变得更容易。</p></div><div class="ab cl mh mi hc mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hn ho hp hq hr"><h1 id="e752" class="ld le hu bd lf lg mo li lj lk mp lm ln lo mq lq lr ls mr lu lv lw ms ly lz ma dt translated">在阿姆斯特丹找工作？</h1><p id="0dd6" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">我在Sytac工作，是一名高级前端开发人员，我们正在寻找精通Angular、React、Java或Scala的中级/高级开发人员。Sytac是荷兰一家雄心勃勃的咨询公司，为银行、航空、政府和零售部门的许多知名公司工作。你可以想到荷兰国际集团、荷兰皇家航空公司、德勤公司、阿霍尔德·德尔海兹公司、ABN·AMRO公司、弗洛拉·荷兰公司等等。</p><p id="d569" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从个人的观点来看，Sytac确实与他们的客户组合不同，但也与他们如何照顾他们的员工不同。他们真的很关心员工的福利。除了丰厚的薪水(50K-75k)，你会在与咨询经理的定期会议中注意到这一点，还会从他们组织的活动数量以及他们为让所有员工满意而提供的所有其他津贴中注意到这一点。</p><p id="81e3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你认为自己具备与最优秀的人共事的条件，请发邮件给我，邮箱是<a class="ae jg" href="mailto:luuk.gruijs@sytac.io" rel="noopener ugc nofollow" target="_blank"> luuk.gruijs@sytac.io </a>，我很乐意告诉你更多。</p><figure class="kx ky kz la fq iv"><div class="bz el l di"><div class="mt lc l"/></div></figure></div></div>    
</body>
</html>