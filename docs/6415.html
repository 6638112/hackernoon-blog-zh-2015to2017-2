<html>
<head>
<title>Conditional module imports in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度中的条件模块导入</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/conditional-module-imports-in-angular-518294aa4cc?source=collection_archive---------2-----------------------#2017-09-17">https://medium.com/hackernoon/conditional-module-imports-in-angular-518294aa4cc?source=collection_archive---------2-----------------------#2017-09-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d3a3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每当您向您的<a class="ae jp" href="https://hackernoon.com/tagged/angular" rel="noopener ugc nofollow" target="_blank"> Angular </a>应用程序引入第三方服务时，总会有这样的情况，您只需要那些服务用于开发、测试或生产。为了使您的构建尽可能的快速和小，您希望有条件地导入那些服务。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/f8390be3e9aeb77635bd3844433a2b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wADCEEw91SzXqwbePBLVZQ.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Photo by <a class="ae jp" href="https://unsplash.com/photos/KDYcgCEoFcY?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">WEB AGENCY</a> on <a class="ae jp" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f43b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最好的例子是:</p><ul class=""><li id="7726" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated">您正在使用ngrx/store和ngrx/store-devtools <a class="ae jp" href="https://hackernoon.com/tagged/module" rel="noopener ugc nofollow" target="_blank">模块</a>。您希望只在开发中使用ngrx/store-devtools，并防止它被导入到生产中。</li><li id="2a5d" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">您正在使用logrocket之类的生产日志服务，并且希望仅在生产时启动该服务，而不是在开发时。</li></ul><p id="1708" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于启动日志服务是特定于您正在使用的服务的，所以我不会深入讨论。然而，您可以遵循与仅在开发中导入ngrx/store-devtools相同的模式。仅在开发中导入ngrx/store-devtools可以这样完成:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ku kv l"/></div></figure><h1 id="4cdb" class="kw kx hu bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt dt translated">诀窍是</h1><p id="3015" class="pw-post-body-paragraph ir is hu it b iu lu iw ix iy lv ja jb jc lw je jf jg lx ji jj jk ly jm jn jo hn dt translated">我们定义一个名为<code class="eh lz ma mb mc b">dev</code>的数组，并在该数组中导入/配置我们的<code class="eh lz ma mb mc b">storeDevtoolsModule</code>。然后我们使用<code class="eh lz ma mb mc b">NODE_ENV</code>变量检查我们是否在生产中。如果我们在生产中，我们再次清除<code class="eh lz ma mb mc b">dev</code>数组。使用spread操作符将这个<code class="eh lz ma mb mc b">dev</code>数组导入到模块声明中。在数组中使用spread运算符时，它允许您轻松地将一个数组的扩展版本放入另一个数组中。下面的示例演示了这一点:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ku kv l"/></div></figure><p id="e466" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望这个小技巧对你做条件模块导入有帮助。</p></div><div class="ab cl md me hc mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hn ho hp hq hr"><p id="9bce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢阅读。如果你喜欢这篇文章，请点击拍手按钮。有反馈吗？让我知道。也查看我的其他文章:</p><ul class=""><li id="4ddc" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/manage-your-observable-subscriptions-in-angular-with-help-of-rx-js-f574b590a5cb" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/manage-your-observable-subscriptions-in-angular-help-of-rx-js-f 574 b 590 a5cb</a></li><li id="924c" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/understanding-creating-and-subscribing-to-observables-in-angular-426dbf0b04a3" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/understanding-creating-and-subscribe-observables-in-angular-426 DBF 0 b 04 a 3</a></li><li id="f2b6" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/managing-large-s-css-projects-using-the-inverted-triangle-architecture-3c03e4b1e6df" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/managing-large-s-CSS-projects-using-the-inverted-triangle-architecture-3c 03 e 4 B1 e 6 df</a></li><li id="a198" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/understanding-map-filter-and-reduce-in-javascript-5df1c7eee464" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/understanding-map-filter-and-reduce-in-JavaScript-5 df 1c 7 eee 464</a></li><li id="10b1" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/an-angular-2-webpack-setup-for-development-and-production-3ea8bcc35e24" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/an-angular-2-web pack-setup-for-development-and-production-3 ea 8 bcc 35 e 24</a></li></ul><p id="dd2c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mk">关注我上</em> <a class="ae jp" rel="noopener" href="/@luukgruijs"> <em class="mk">中</em> </a> <em class="mk">或</em> <a class="ae jp" href="https://twitter.com/luukgruijs" rel="noopener ugc nofollow" target="_blank"> <em class="mk">推特</em> </a> <em class="mk">让我们连线上</em><a class="ae jp" href="https://www.linkedin.com/in/luukgruijs/" rel="noopener ugc nofollow" target="_blank"><em class="mk">LinkedIn</em></a></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ml kv l"/></div></figure></div></div>    
</body>
</html>