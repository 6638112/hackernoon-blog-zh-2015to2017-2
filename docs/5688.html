<html>
<head>
<title>How I optimized cost of AWS Elastic Beanstalk by suspending machines during the off work period</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何在下班期间通过暂停机器来优化AWS弹性豆茎的成本</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-save-on-aws-elastic-beanstalk-ec2-machines-by-putting-them-to-sleep-d8533aeb610a?source=collection_archive---------10-----------------------#2017-08-10">https://medium.com/hackernoon/how-to-save-on-aws-elastic-beanstalk-ec2-machines-by-putting-them-to-sleep-d8533aeb610a?source=collection_archive---------10-----------------------#2017-08-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/7f3b14b85b80b0009c7c59fd8eebab94.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*Q4-a9vpZEnYrNruEnDE6aw.png"/></div></figure><p id="712c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果您在AWS Elastic Beanstalk上运行一些非生产环境，您可能想知道如何在下班时间让它的服务器休眠，以便节省一些资源💰💰💰？</p><p id="388c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">有一个简单的窍门<a class="ae jw" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>提供，但不要因为一个原因而推广它。因此，没有多少人知道它。；)</p><p id="0b0d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">你所需要做的就是在你的<a class="ae jw" href="https://hackernoon.com/tagged/environment" rel="noopener ugc nofollow" target="_blank">环境</a> <em class="jx">配置- &gt;缩放- &gt; </em> <strong class="ja hv"> <em class="jx">基于时间的缩放</em> </strong> <em class="jx">部分定义两个时间段。</em></p><figure class="jz ka kb kc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="fe ff jy"><img src="../Images/6fe63e014d6cee26d0b60dff163aa905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KlB0ZzhaW4OoihmK5J0ALQ.png"/></div></div></figure><p id="87a7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">一个周期使用基于cron的时间设置来停止EC2环境机器，另一个周期启动它们。</p><p id="88ad" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这里是cron定义，在每个工作日的17:00 UTC将EC2机器的数量减少到零— <em class="jx"> 0 17 * * 0，1，2，3，4 </em></p><figure class="jz ka kb kc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="fe ff kh"><img src="../Images/d7219bb3435b6cd21b784288dcc23f11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-lCFhTldteYTZyPGaN9gNQ.png"/></div></div></figure><p id="0ada" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">cron定义在每个工作日的05:00 UTC将EC2机器的数量增加到一台— <em class="jx"> 0 5 * * 0，1，2，3，4 </em></p><figure class="jz ka kb kc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="fe ff ki"><img src="../Images/21232653240db40e9185a57007e53a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OpOwEJ-3Bu09VoYRucjIA.png"/></div></div></figure><p id="fae7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">它实际做的是终止并重新创建机器，因为AWS不允许挂起/暂停EC2机器。</p><p id="b6ab" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你可以在没有弹性负载平衡器的情况下运行，这将为你节省更多，因为这个技巧不会终止LB。🤑</p><figure class="jz ka kb kc fq iv"><div class="bz el l di"><div class="kj kk l"/></div></figure></div></div>    
</body>
</html>