<html>
<head>
<title>Migrating to WhitestormJS v2 beta. Module system</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迁移到WhitestormJS v2 beta。模块系统</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/migrating-to-whitestormjs-v2-beta-module-system-2eeaeda08a80?source=collection_archive---------19-----------------------#2017-02-07">https://medium.com/hackernoon/migrating-to-whitestormjs-v2-beta-module-system-2eeaeda08a80?source=collection_archive---------19-----------------------#2017-02-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="b34d" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">新模块系统🐫</h2></div><p id="4594" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">在我们开始</strong>之前，我会提供一些<strong class="jl hv">有用的链接</strong>如果你是第一次看到WhitestormJS:</p><p id="c451" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Github 回购:<a class="ae kf" href="https://github.com/WhitestormJS/whitestorm.js" rel="noopener ugc nofollow" target="_blank">https://github.com/WhitestormJS/whitestorm.js</a></p><p id="035c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">NPM</strong>:<a class="ae kf" href="https://www.npmjs.com/package/whs" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/whs</a></p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kg"><img src="../Images/58c2b450f5105b2aa4d3969144701e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfytA2qzmZPpxVSV-oqg7A.png"/></div></div></figure><h1 id="0dfd" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">模块</h1><p id="6e8a" class="pw-post-body-paragraph jj jk hu jl b jm lk iv jo jp ll iy jr js lm ju jv jw ln jy jz ka lo kc kd ke hn dt translated">模块太棒了。模块可以做任何你可以用普通的三个模块做的事情。啮合，但更为<strong class="jl hv">清洁</strong>和<strong class="jl hv">灵活</strong>的方式。</p><h2 id="f0b6" class="lq kt hu bd ku lr ls lt ky lu lv lw lc js lx ly le jw lz ma lg ka mb mc li md dt translated">第一步。经理</h2><p id="a942" class="pw-post-body-paragraph jj jk hu jl b jm lk iv jo jp ll iy jr js lm ju jv jw ln jy jz ka lo kc kd ke hn dt translated">管理器用于添加和获取依赖关系。假设我的模块<strong class="jl hv"> A </strong>知道有模块<strong class="jl hv"> B </strong>会使用它的API。然后模块<strong class="jl hv"> A </strong>在<em class="lp">管理器</em>对象中为模块<strong class="jl hv"> B </strong>留下一个依赖关系。</p><p id="71a7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">模块<strong class="jl hv"> B </strong>也可以用<em class="lp"> manager.update() </em>方法提供一个行为“如果组件<strong class="jl hv"> C </strong>会覆盖组件的<strong class="jl hv"> A </strong>依赖怎么办”。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff me"><img src="../Images/134aa033097192333a8547dc1119e626.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H1LHK4yTWSrC6Zbb8tkMnw.png"/></div></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">manager() in RenderingModule</figcaption></figure><h2 id="7238" class="lq kt hu bd ku lr ls lt ky lu lv lw lc js lx ly le jw lz ma lg ka mb mc li md dt translated">第二步。合并</h2><p id="f935" class="pw-post-body-paragraph jj jk hu jl b jm lk iv jo jp ll iy jr js lm ju jv jw ln jy jz ka lo kc kd ke hn dt translated">模块可以有<em class="lp"> integrate() </em>方法。当模块应用于组件或应用程序时，它会自动执行。通常用于向已定义的组件添加一些功能。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff mj"><img src="../Images/9bffee4fb809b4adcc2cf8c397ae1bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P7atuIrkfMYIo1LD_RLdug.png"/></div></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">Example of integrate function in SceneModule</figcaption></figure><h2 id="e649" class="lq kt hu bd ku lr ls lt ky lu lv lw lc js lx ly le jw lz ma lg ka mb mc li md dt translated">第三步。布里奇斯</h2><p id="4523" class="pw-post-body-paragraph jj jk hu jl b jm lk iv jo jp ll iy jr js lm ju jv jw ln jy jz ka lo kc kd ke hn dt translated">桥允许开发人员制作特定于组件的API。每个组件都可以通过提供将用“桥”处理的部分代码来扩展其灵活性。</p><p id="07a0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">假设我有一个<em class="lp">材质</em>对象。我可以将这种材料传递给模块——他们可以改变它的颜色，使它半透明或创建并用新的覆盖；</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff mk"><img src="../Images/080394d4e8fcc27c3e8d874eff3a5df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Re7BBcT9WXlLMLOMjHiKQ.png"/></div></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">A part of WHS.Box code</figcaption></figure><p id="ab8e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">功能<em class="lp">。applyBridge() </em>定义当前对象应该经过下面的桥。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff ml"><img src="../Images/a744571985df36b86174ecbc186d139e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyCFJiQkYMtDkM_rBiakZQ.png"/></div></div><figcaption class="mf mg fg fe ff mh mi bd b be z ek">A part of TextureModule code</figcaption></figure><p id="70c0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">桥函数接受两个参数:<em class="lp">输入对象</em>和<em class="lp">模块的范围</em>。</p><p id="620b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">桥函数的范围是组件，如<em class="lp"> integrate() </em>所示</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff mm"><img src="../Images/44e03d5d46a97d0bbd1e8d5cb89fb0dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PMnZ6ATF4FAQdrp0KCrGFQ.png"/></div></div></figure><h1 id="b4cf" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">结论</h1><p id="3ce8" class="pw-post-body-paragraph jj jk hu jl b jm lk iv jo jp ll iy jr js lm ju jv jw ln jy jz ka lo kc kd ke hn dt translated">你可以在Github上的<a class="ae kf" href="https://github.com/WhitestormJS/whitestorm.js" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hv"> WhitestormJS中开始探索其他模块</strong> </a> <strong class="jl hv">，</strong>我们会继续添加模块(大概会添加到自述文件中)。目前你可以使用两个有助于你发展的模块，物理模块+内置模块。</p><div class="kh ki kj kk fq ab cb"><figure class="mn kl mo mp mq mr ms paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mn kl mo mp mq mr ms paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mn kl mo mp mq mr ms paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mt mu mv"><p id="f922" class="jj jk lp jl b jm jn iv jo jp jq iy jr mw jt ju jv mx jx jy jz my kb kc kd ke hn dt translated"><a class="ae kf" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kf" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kf" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae kf" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jj jk lp jl b jm jn iv jo jp jq iy jr mw jt ju jv mx jx jy jz my kb kc kd ke hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kf" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kf" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff mz"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>