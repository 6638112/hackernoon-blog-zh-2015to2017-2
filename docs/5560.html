<html>
<head>
<title>Using CSS Grid where appropriate</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在适当的地方使用CSS网格</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-css-grid-where-appropriate-8722feae9a32?source=collection_archive---------11-----------------------#2017-08-02">https://medium.com/hackernoon/using-css-grid-where-appropriate-8722feae9a32?source=collection_archive---------11-----------------------#2017-08-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/908721de913754f223dc3befbcac3c50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M_y7ogvvbOZKnAKHn8Ojhg.png"/></div></div></figure><div class=""/><p id="4d6c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近，我重新设计了我的博客，你们可能已经注意到了。在这个过程中，我决定是时候学习更多关于CSS Grid<a class="ae ka" href="https://css-tricks.com/snippets/css/complete-guide-grid/" rel="noopener ugc nofollow" target="_blank">和实际使用它了。以下是我学到的。</a></p><h1 id="e030" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用CSS网格</h1><p id="f786" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">每次我做一个新的(重新)设计，我通常从页眉开始。标题的第一个组成部分是导航。我的网站架构并不复杂，只是几个页面，博客类别和帖子。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="f3d5" class="ln kc if lj b fv lo lp l lq lr">&lt;header class="header"&gt;<br/>  &lt;ul class="nav"&gt;<br/>    &lt;li class="nav__item"&gt;<br/>      &lt;a class="nav__link" href="/link/to/nav/item"&gt;Item 1&lt;/a&gt;<br/>    &lt;/li&gt; <br/>    &lt;li class="nav__item"&gt;<br/>      &lt;a class="nav__link" href="/link/to/nav/item"&gt;Item 2&lt;/a&gt;<br/>    &lt;/li&gt;<br/>    &lt;li class="nav__item"&gt;<br/>      &lt;a class="nav__link" href="/link/to/nav/item"&gt;Item 3&lt;/a&gt;<br/>    &lt;/li&gt;<br/>    &lt;li class="nav__item"&gt;<br/>      &lt;a class="nav__link" href="/link/to/nav/item"&gt;Item 4&lt;/a&gt;<br/>    &lt;/li&gt;<br/>  &lt;/ul&gt;<br/>&lt;/header&gt;</span></pre><p id="d44c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我想在这里尝试CSS Grid，所以我从在我的<code class="eh ls lt lu lj b">ul</code>元素上添加<code class="eh ls lt lu lj b">display: grid</code>开始。起初，我不确定菜单中会有多少个元素，4个还是5个。但是我必须知道这些信息来定义我的<code class="eh ls lt lu lj b">grid-template-columns</code>。还是我？</p><p id="483e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我发现在这种特定的情况下有一种属性可以帮助我。而且叫<code class="eh ls lt lu lj b"><a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow" rel="noopener ugc nofollow" target="_blank">grid-auto-flow</a></code>。</p><blockquote class="lv lw lx"><p id="702e" class="jc jd ly je b jf jg jh ji jj jk jl jm lz jo jp jq ma js jt ju mb jw jx jy jz hn dt translated">grid-auto-flow CSS属性控制自动放置算法的工作方式，指定自动放置的项目如何流入网格。</p></blockquote><p id="a4e6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我将这个属性设置为<code class="eh ls lt lu lj b">column</code>，grid将会足够智能地根据需要添加新列。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="1b02" class="ln kc if lj b fv lo lp l lq lr">.nav {<br/>  display: grid;<br/>  grid-auto-flow: row;<br/>}</span><span id="5b69" class="ln kc if lj b fv mc lp l lq lr">@media screen and (min-width: $mq-mobile) {<br/>  .nav {<br/>    grid-auto-flow: column;<br/>  }<br/>}</span></pre><p id="0f7a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了创建一个响应菜单，我添加了一个较小屏幕的媒体查询，并使用<code class="eh ls lt lu lj b">grid-auto-flow: row</code>将项目一个接一个地堆叠起来。现在我可以在导航中使用4或5个元素。一切正常。</p><figure class="le lf lg lh fq hw"><div class="bz el l di"><div class="md me l"/></div></figure><h1 id="3370" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用CSS网格项目</h1><p id="3ad9" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">然后新的问题来了。我想创建<a class="ae ka" href="https://hexo.io/docs/themes.html" rel="noopener ugc nofollow" target="_blank">一个Hexo主题</a>并<a class="ae ka" href="https://hexo.io/themes/" rel="noopener ugc nofollow" target="_blank">与社区</a>分享，就像我对<a class="ae ka" href="https://www.npmjs.com/package/hexo-codepen" rel="noopener ugc nofollow" target="_blank"> hexo-codepen </a>和<a class="ae ka" href="https://www.npmjs.com/package/hexo-caniuse" rel="noopener ugc nofollow" target="_blank"> hexo-caniuse </a>插件所做的那样。</p><p id="64e9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了做到这一点，我想为开发人员提供一个选项，根据需要添加尽可能多的菜单元素。然后事情开始变得复杂。</p><p id="9a72" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我认为在标题导航中每行最多允许4个元素是个好主意。如果有4个以上的元素，将它们放在新行中。</p><p id="4cb5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我尝试了各种CSS网格属性来实现想要的行为，但是没有一个能和<code class="eh ls lt lu lj b">grid-auto-flow</code>一起工作。</p><p id="e19d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后我尝试了一种不同的方法:我将尝试单独定位网格项目，而不是尝试定义一个网格。我将把第一个网格项放在第一行的第一列，然后把第二个网格项放在第一行的第二列，依此类推。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="97fd" class="ln kc if lj b fv lo lp l lq lr">@media screen and (min-width: 320px) {<br/>  .nav__item:nth-child(1) {<br/>    grid-area: 1 / 1 / 2 / 2;<br/>  }</span><span id="0c17" class="ln kc if lj b fv mc lp l lq lr">  .nav__item:nth-child(2) {<br/>    grid-area: 1 / 2 / 2 / 3;<br/>  }</span><span id="1e46" class="ln kc if lj b fv mc lp l lq lr">  .<br/>  ..<br/>  ...<br/>}</span></pre><p id="a85f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">CSS Grid足够智能，可以根据提供的<code class="eh ls lt lu lj b">grid-area</code>属性创建网格。这不是最好的解决方案，当然也不是最优雅的，但它确实有效。</p><figure class="le lf lg lh fq hw"><div class="bz el l di"><div class="md me l"/></div></figure><h1 id="396b" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">正确使用CSS网格</h1><p id="7e25" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我对那种解决方案不满意。通过查看编译的CSS，我意识到文件太大是因为所有那些<code class="eh ls lt lu lj b">nth-child</code>伪类。我不得不深入挖掘。</p><p id="9586" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在研究了每个网格属性之后，我终于找到了答案。我应该创建所需的网格，但使用<code class="eh ls lt lu lj b">auto</code>的大小。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="4743" class="ln kc if lj b fv lo lp l lq lr">.nav {<br/>  display: grid;<br/>  grid-auto-flow: row;<br/>}</span><span id="94f1" class="ln kc if lj b fv mc lp l lq lr">@media screen and (min-width: 320px) {<br/>  .nav {<br/>    grid-template-columns: repeat(4, auto);<br/>    grid-template-rows: repeat(2, auto);<br/>  }<br/>}</span></pre><p id="7c42" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我定义了4列2行，结果看起来是一样的。</p><figure class="le lf lg lh fq hw"><div class="bz el l di"><div class="md me l"/></div></figure><h1 id="cf87" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用flexbox作为后备</h1><p id="e967" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">CSS网格还不被完全支持。</p><div class="ht hu fm fo hv mf"><a href="http://caniuse.com/#feat=css-grid" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab ej"><div class="mh ab mi cl cj mj"><h2 class="bd ig fv z el mk eo ep ml er et ie dt translated">我能用吗...HTML5、CSS3等的支持表</h2><div class="mm l"><h3 class="bd b fv z el mk eo ep ml er et ek translated">网站更新:HTTPS &amp;支持犬舍的新方式</h3></div><div class="mn l"><p class="bd b gc z el mk eo ep ml er et ek translated">caniuse.com</p></div></div></div></a></div><p id="500d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我需要一个像样的CSS网格后备。因为我是Flexbox的超级粉丝，也因为对Flexbox的支持非常好，所以创建一个到Flexbox的后备是很自然的。</p><div class="ht hu fm fo hv mf"><a href="http://caniuse.com/#feat=flexbox" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab ej"><div class="mh ab mi cl cj mj"><h2 class="bd ig fv z el mk eo ep ml er et ie dt translated">我能用吗...HTML5、CSS3等的支持表</h2><div class="mm l"><h3 class="bd b fv z el mk eo ep ml er et ek translated">网站更新:HTTPS &amp;支持犬舍的新方式</h3></div><div class="mn l"><p class="bd b gc z el mk eo ep ml er et ek translated">caniuse.com</p></div></div></div></a></div><p id="68ae" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我第一次听说这个方法是在今年早些时候，来自《粉碎》杂志的维塔利·弗里德曼在奥西耶克开了一个工作室。原则是我们应该首先定义Flexbox，然后使用<code class="eh ls lt lu lj b">@supports</code>规则添加CSS网格。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="c8c7" class="ln kc if lj b fv lo lp l lq lr">.nav {<br/>  display: flex;<br/>  flex-wrap: wrap;<br/>}</span><span id="aeb2" class="ln kc if lj b fv mc lp l lq lr">.nav__item {<br/>  flex: 0 0 auto;<br/>  width: 100%;<br/>}</span><span id="1e93" class="ln kc if lj b fv mc lp l lq lr">@media screen and (min-width: $mq-mobile) {<br/>  .nav__item {<br/>    width: calc(100% / 4);<br/>  }<br/>}</span><span id="f966" class="ln kc if lj b fv mc lp l lq lr">// use grid if supported<br/>@supports (display:grid) and (grid-auto-flow: row) {<br/>  .nav {<br/>    display: grid;<br/>    grid-auto-flow: row;<br/>  }</span><span id="aa93" class="ln kc if lj b fv mc lp l lq lr">  @media screen and (min-width: 320px) {<br/>    .nav {<br/>      grid-template-columns: repeat(4, auto);<br/>      grid-template-rows: repeat(2, auto);<br/>    }<br/>  }<br/>}</span></pre><p id="e6eb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了防止Edge使用CSS网格，我添加了<code class="eh ls lt lu lj b">grid-auto-flow: row</code>规则。该属性在Edge中没有<a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-auto-flow#Browser_compatibility" rel="noopener ugc nofollow" target="_blank">支持</a>。</p><p id="66b0" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">除了跨浏览器支持之外，结果还是一样的。</p><figure class="le lf lg lh fq hw"><div class="bz el l di"><div class="md me l"/></div></figure><h1 id="c9d5" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">吸取的教训</h1><p id="cdc1" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">通过使用CSS网格构建导航，我学到了很多东西。这里最大的教训是在适当的地方使用CSS网格。在我看来，使用CSS Grid构建导航当然是不合适的。</p><h1 id="a32a" class="kb kc if bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">最后的想法</h1><p id="2f80" class="pw-post-body-paragraph jc jd if je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我非常喜欢使用许多不同的技术来构建导航组件。构建组件的方法有很多种，只要可行，就没有正确或错误的解决方案。这就是我热爱CSS的原因。</p><p id="ed41" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你在用CSS网格吗？在什么情况下？请在下面留言或在Twitter上给我发消息。</p><p id="773e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">更多文章，请关注我的推特或我的个人网站。</p><p id="5c19" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ly">本帖最初发布在我的个人网站上，</em> <a class="ae ka" href="https://www.silvestarbistrovic.from.hr/articles/using-css-grid-where-appropriate/" rel="noopener ugc nofollow" target="_blank"> <em class="ly">查看一下</em> </a> <em class="ly">。</em></p></div></div>    
</body>
</html>