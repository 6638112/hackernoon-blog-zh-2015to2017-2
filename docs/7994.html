<html>
<head>
<title>Publishing our Asciidoc Developer Guide as a Book on Amazon</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在亚马逊上出版我们的Asciidoc开发者指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/publishing-our-asciidoc-developer-guide-as-a-book-on-amazon-9823c54ebf37?source=collection_archive---------10-----------------------#2017-11-15">https://medium.com/hackernoon/publishing-our-asciidoc-developer-guide-as-a-book-on-amazon-9823c54ebf37?source=collection_archive---------10-----------------------#2017-11-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/0009603e538962e401d401a8dcf5de73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5UIpgUFqmqZv_eUMKofR3Q.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Previous Revision of our Developer guide from Amazon</figcaption></figure><p id="1fbf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我认为桌面出版是一个“已解决的问题”,但似乎远非如此。当我为Sun Microsystems工作时，我们的技术写作人员会从我们的工作中“神奇地”合成最终文档。当我在其他公司工作时，我们主要写内部文档和使用Word。然而，随着<a class="ae ke" href="https://www.codenameone.com/" rel="noopener ugc nofollow" target="_blank">代号一</a>我不得不捡起所有这些，我知道了现实世界中的事情有多糟糕。</p><p id="3f1f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这篇文章中，我想描述我们的工具链，学到的经验教训，以及我们如何将我们的文档作为一个大型的大量记录的开源项目。有很多asciidoc教程和资源，这不是其中之一。如果你对asciidoc感兴趣，O'Reilly做了一个关于那个的<a class="ae ke" href="http://docs.atlas.oreilly.com/writing_in_asciidoc.html" rel="noopener ugc nofollow" target="_blank">很棒的教程。最后，我将根据我使用asciidoc的经验给出一些提示，但我写这篇文章主要是为了帮助其他项目决定他们是应该使用asciidoc还是坚持他们现有的文档工具链。</a></p><h1 id="a920" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">为什么是Asciidoc？</h1><p id="4d79" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">最初我用Open Office和Word工作。作为文本编辑，他们都还可以，我也习惯了和他们一起工作，但当需要做代码高亮或协作工作时，他们就成了一种痛苦。我还发现，你需要知道你在做什么，才能从其中任何一个产生一个好看的文档。没有样式，很容易写得“糟糕”,这使得创建一个合适的统一文档非常困难。</p><p id="6bbd" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我喜欢编辑的视觉特性，但我并不真的需要它。我最喜欢的功能可能是Word中备受诟病的语法检查功能……是的，我知道“这很糟糕”，但我的语法也是如此。</p><p id="e282" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最终的结果看起来很糟糕，而且很难维持。我还想要更多:</p><ul class=""><li id="7252" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated">我想要一个好看的PDF</li><li id="68c8" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">我想把指南整合到我们的网站上</li></ul><p id="f216" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们也曾经尝试过使用谷歌文档，但是我们在扩展和协作方面遇到了问题。当社区可以编辑文档时，他们可以打破格式，这使得后续工作非常困难。谷歌文档的输出看起来比Word还要糟糕，所以这也不是一个好的选择。</p><h1 id="a72c" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">输入JBake</h1><p id="8d4b" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">在尝试了多种其他静态站点生成器之后，我们开始为我们的站点使用<a class="ae ke" href="http://jbake.org/" rel="noopener ugc nofollow" target="_blank"> JBake </a>。它工作得非常好，我们喜欢为公共元素生成静态站点的想法。JBake的一个很棒的特性是支持Asciidoc，在我们回顾了所有其他选项后，这似乎是唯一“合理”的方式来生成一个既可以作为PDF又可以作为HTML的指南。</p><p id="76d1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">除此之外，与文字处理器相比，Asciidoc还有几个明显的优点:</p><ul class=""><li id="e4f2" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated">内置源代码突出显示</li><li id="404e" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">基于文本，因此我们可以自动化工具链的某些部分</li><li id="a447" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">默认情况下看起来不错</li><li id="0d78" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">可以在github wiki页面中使用，并且通常可以被github理解</li><li id="e140" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">由主要出版商使用，如奥赖利</li></ul><p id="0f8d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们也考虑过markdown，但最终选择了asciidoc，它似乎更面向桌面出版，而markdown更面向网络输出。</p><p id="a612" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">asciidoc最酷的一点是，它实际上是在考虑编码人员的情况下构建的。像“标注”这样的东西，允许你在代码中放置数字，然后在代码完成后详细说明它们，在asciidoc中是微不足道的，但在我使用过的几乎所有其他工具中却是痛苦的。</p><h1 id="46a9" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">我们的流程</h1><p id="2376" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">因为我们希望一切都可以分解和管理，所以我们将每个片段放在一个单独的asciidoc文件中，并将它们托管在我们的<a class="ae ke" href="https://github.com/codenameone/CodenameOne/wiki/" rel="noopener ugc nofollow" target="_blank"> github wiki </a>中。这使得几乎任何人都可以编辑文件，也给我们提供了文件更改的历史记录。</p><p id="9744" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">然后，我们需要为网站生成JBake文件，其中应该包括自定义标题。我创建了一个简单的shell脚本，它将文件从wiki复制到我们的JBake web平台。它有点长，但通常看起来像这样(对每个文件重复):</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="904e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果您不熟悉bash，那么顶部的整个部分只是在将文件转换为静态HTML时使用的JBake头。</p><p id="2813" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">然后，我将输出通过sed，sed将URI的相对图像转换为URI的绝对图像。这里的主要逻辑是，网站中的手册目录不在根目录中，我想将所有的图片存储在一个地方。有了一个绝对的URL，我可以很容易地将手册移动到不同的位置。然而，wiki和PDF需要相对URL，因为图像的位置不同。</p><p id="632f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我还将asciidoc提示设置为在显示注释和其他类似元素时使用图标字体，而不是图像。</p><h1 id="deaa" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">一个文件</h1><p id="e653" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">当我们开始使用asciidoc时，我犯的一个大问题/错误是决定使用一个大文件。脚本的一部分将所有文件连接在一起。更“现代”的方法是使用主文件中的include指令，但这在早期会导致一些问题。主要的挑战是以一种既适用于JBake web版本又适用于PDF打印输出的方式保存链接。这种方法很有效，所以尽管我对它不太满意，我们还是决定暂时坚持使用它。</p><p id="e22f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们必须使用我们的连接脚本处理的特殊宏，以便在PDF和常规网站输出中进行不同的链接:</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="9d91" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">注意，我在gist中使用了java扩展，因为如果我使用asciidoc，gist将试图呈现输出而不是内容。</p><p id="b2dc" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们的串联脚本只是一个简单的小Java应用程序，主要是因为对我来说，用Java编写代码比其他任何东西都容易。我还需要一些更复杂的东西，而不仅仅是将文件连接在一起，因为我希望在HTML输出中有一个目录索引。为此，我需要一些很容易用Java实现的逻辑(由于文本文件格式):</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="99b2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">请注意，这相对简单，我们只需根据约定找到每个顶层和第二层的头，然后生成TOC文件。我们还做了所有的基本工作，如设置开发者指南的日期，这样一切都是100%自动化的(是的，我知道我可以用Word中的一个字段做到这一点等等。).</p><p id="025b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">PDF的宏是通过切换PDF only“magic comment”来实现的，以便代码/描述在PDF模式下正确运行。</p><p id="31c2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最初我们在做链接的时候用了很多，但是最近我们变懒了，因为特殊的语法有点痛苦。</p><h1 id="170b" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">外部链接和浮动图像</h1><p id="6560" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">当你写一个网站时，你需要尽可能多的链接。由于我们有大量的JavaDoc，我认为将一个类的每一次提及都超链接到它的JavaDoc页面是有意义的。除了SEO的好处之外，这对开发者也很有用，他们可以立即找到这个类。</p><p id="c4b4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在预处理器中这样做是不可取的。它需要一个更复杂的解析器，我对此不感兴趣。但我做了一个快速的脚本，做了超链接，然后我手动修复了不好的链接。这似乎在最初是有效的，但是有一个有问题的副作用…</p><p id="bef8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">当我们生成PDF时，每个链接都会生成一个脚注，这在理论上很有意义。然而，在一个关于<a class="ae ke" href="https://www.codenameone.com/javadoc/com/codename1/ui/Button.html" rel="noopener ugc nofollow" target="_blank">按钮</a>的页面中，我可能会提到它20次，这将触发20个具有相同URL的脚注！</p><p id="cc9f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">不幸的是，我<a class="ae ke" href="https://stackoverflow.com/questions/34992879/how-do-i-merge-or-even-disable-footnote-links-in-asciidoc-fop" rel="noopener ugc nofollow" target="_blank">找不到那个</a>的解决方案，所以我不得不检查我们的链接，试图减少数量。这就像</p><p id="1962" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">另一个讨厌的是形象行为。你可以很容易地<a class="ae ke" href="https://stackoverflow.com/questions/34975971/is-it-possible-to-wrap-text-around-an-image-using-asciidoc-fopub" rel="noopener ugc nofollow" target="_blank">在HTML输出中向右浮动图像，但在PDF输出中却不行</a>。这可能是我遇到的最烦人的格式问题。在某些情况下，我可能会用一些有创意的表结构来解决它，但这似乎是一件微不足道的事情…</p><h1 id="2bd1" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">工具链问题</h1><p id="f1ac" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">asciidoc最大的问题之一是它无处不在。有一些工具链和一些工作，而其他产生“奇怪”的输出或失败没有真正的原因。我们最近尝试直接从我们的手动asciidoc生成一个epub文件。似乎这在内部将文档翻译成了格式错误的docbook，然后验证失败。我猜这与我们的asciidoc代码有关，但不可能知道为什么，因为这种格式没有经过验证。</p><p id="a49f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我只能用asciidoctor来处理HTML和fo-pub工具链。当翻阅文档时，其他所有东西都会产生伪像。也许在这个过程中会打印出警告，但是当查看数百页的输出时，很难注意到警告。我不确定像“lint”这样的工具是否适用于像asciidoc这样的东西，因为它的格式太松散了。</p><p id="d435" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这没什么大不了的，asciidoctor的docbook输出看起来工作得很好，我能够在事后使用像<a class="ae ke" href="http://pandoc.org" rel="noopener ugc nofollow" target="_blank"> pandoc </a>这样的工具生成epub文档之类的东西。这非常好，因为如果您需要发送输出，您可以相对容易地将输出转换为word之类的东西，并且输出看起来很好。</p><p id="4bb9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">偶尔我不得不在fo-pub中修改各种东西，让文档看起来更好看。例如，我想为我用<a class="ae ke" href="https://spark.adobe.com/" rel="noopener ugc nofollow" target="_blank"> Spark </a>生成的书做一个好看的封面图片。因此，为了让这个图像“覆盖”PDF，我必须更改asciidor-fopub/build/fopub/DocBook/fo/division . xsl，并为封面图像添加条目:</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="08a4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我做了很多类似的编辑来定制字体大小、边距等。</p><p id="4ee1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">对于印刷版本，我必须删除这段代码，因为亚马逊有自己的封面，不接受“出血”的图像(出血是指图像故意离开印刷空间)。</p><h1 id="2420" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">编辑</h1><p id="63ac" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">我通常使用NetBeans，它有一些初始的asciidoc支持，但现在还没有。</p><p id="4695" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">所以我用Atom做文档。它的可用性令人惊讶，尽管它需要频繁重启，因为像这样的大型项目会超过CPU。我遇到的一个问题是像<a class="ae ke" href="https://github.com/atom/language-java/issues/88" rel="noopener ugc nofollow" target="_blank">这个</a>这样的奇怪问题。因此，如果你有一个基于Java的“尝试使用资源”,你需要在末尾添加一个分号，否则语法高亮块永远不会结束，使编辑变得“奇怪”。它确实有一些很好的扩展，比如“写得好”,这对我过于冗长的写作风格很有帮助。</p><h1 id="85f7" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">出版</h1><p id="02cd" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">PDF通常适合出版，但当我们进入kindle print阶段时，我们遇到了默认拉伸小图像的问题。这意味着图像的DPI对于印刷来说太低，亚马逊不会接受这一点。不幸的是，他们并不总是列出所有有问题的图像，所以我不得不上传一个PDF等待处理，打开预览，修复然后冲洗/重复。</p><p id="4d48" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">解决方案是在所有图像上添加“scaledwidth=30%”或类似的东西，这样它们在文档的打印版本中就不会放大。</p><p id="1dc8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最初，当我们发布kindle reader版本的文档时，我犯了一个错误，使用了Kindle Text book Publisher，而没有生成epub文件。这意味着我不能回去出版epub而不出版这本书！</p><p id="4075" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这是一个遗憾，因为这意味着这本书不能在亚马逊的标准电子墨水设备上观看，只能在kindle fire风格的设备上观看。回想起来，我在上传第一本书的时候应该更加小心。</p><p id="5b59" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">作为开发人员，我们倾向于做的一件常见的事情是使用A4或letter尺寸。这就产生了一本有点“大”的书。回想起来，我可能会选择一个更小的输出形式，并可能会在下一本书中这样做。电流输出有点大。我担心这会增加已经很大的页面大小…</p><p id="0c40" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在这本书有600多页，但是当我开始的时候，它接近1000页。似乎亚马逊的页面限制在890页左右。因为我不得不缩小图片，缩小字体大小，页面数量明显减少。</p><p id="038e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我考虑过彩色印刷，但那会使书的成本达到50美元或更高，我认为这对开源书来说是不公平的。在这种情况下，大多数图像并不真正需要颜色。我拿到的这本书没有颜色，这没什么，但我认为与其他书相比，文字有点褪色。我不认为这是一个交易破坏者，我不确定其他人会像我一样注意到它。</p><p id="5870" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我用亚马逊向导来生成看起来不错的封面。我使用现成的封面图像，并将其与生成的封面混合。第一本书的一个警告是，背面看起来很大。因为这本书是A4大小，所以印刷的文字看起来很大。我建议在发布之前，在您的本地打印机上打印此内容，以获得尺寸感。</p><p id="6ad1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">当我从亚马逊拿回实体书时，我注意到的第一件事是，它“突然”结束了。我已经习惯了以索引结尾的书，而我们的书却没有索引。我们只是没有在asciidoc代码中包含条目的索引标记。目录在asciidoc中做起来确实很简单，但是索引需要一些工作，我仍然不明白为什么或者是否有一个更好的替代方法来处理那些带有索引条目的文档。对于一本书来说，它的PDF版本是免费的(人们可以在那里使用搜索而不是索引),但这并不理想。</p><p id="00ce" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">总的来说，亚马逊上的自助出版是相当琐碎的。这些工具将引导您完成大部分步骤，您只需要在早期做出正确的决策，因为有些事情在事后是无法改变的(很容易或根本无法改变):</p><ul class=""><li id="53f8" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated">为kindle版本使用epub或其他动态格式</li><li id="fadc" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">为印刷书籍选择合适的外形。我不会用A4纸或信纸，因为它们太大了</li><li id="101f" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">为一些痛苦做好准备，有很多发布工具的来回，因为它们在亚马逊服务器上失败了</li></ul><h1 id="0093" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">最后的想法</h1><p id="0a27" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">我会在下一个项目中使用asciidoc。它有缺点，但对于编码人员来说，它几乎是一个文档编写工具。所以即使有这些问题，我也会在下一本书里继续写下去。</p><p id="b287" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我认为这是一个强大的工具，允许编码人员自动化，并与git和CI等熟悉的工具协作。我认为我们的流程可能还可以改进很多，但目前它是有效的。</p><p id="5ca9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果你想看看我们的asciidoc代码和我在这里写的所有东西的最终结果，请查看这些链接:</p><ul class=""><li id="5995" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated">我们的asciidoc文件在维基中，注意你可以点击编辑并修改我们的手册(请注意)——<a class="ae ke" href="https://github.com/codenameone/CodenameOne/wiki" rel="noopener ugc nofollow" target="_blank">https://github.com/codenameone/CodenameOne/wiki</a></li><li id="85c8" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">这里可以看到JBake+Asciidoc生成的HTML版开发者指南:【https://www.codenameone.com/manual/<a class="ae ke" href="https://www.codenameone.com/manual/" rel="noopener ugc nofollow" target="_blank">T3】</a></li><li id="b3ea" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">你可以在这里看到PDF输出:【https://www.codenameone.com/files/developer-guide.pdf<a class="ae ke" href="https://www.codenameone.com/files/developer-guide.pdf" rel="noopener ugc nofollow" target="_blank"/></li><li id="7336" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">kindle和纸质书在这里:<a class="ae ke" href="https://www.amazon.com/dp/1549910035" rel="noopener ugc nofollow" target="_blank">https://www.amazon.com/dp/1549910035</a></li><li id="dd76" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">我写的博客文章鼓励docs上的社区协作<a class="ae ke" href="https://www.codenameone.com/blog/tip-edit-docs-fun-profit.html" rel="noopener ugc nofollow" target="_blank">https://www . codename one . com/blog/tip-edit-docs-fun-profit . html</a></li></ul></div></div>    
</body>
</html>