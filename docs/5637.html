<html>
<head>
<title>Javascript: Performance measurement of functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript:函数的性能测量</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/javascript-nodejs-react-performance-measurement-test-check-injection-overwrite-class-object-67a236f3e102?source=collection_archive---------14-----------------------#2017-08-07">https://medium.com/hackernoon/javascript-nodejs-react-performance-measurement-test-check-injection-overwrite-class-object-67a236f3e102?source=collection_archive---------14-----------------------#2017-08-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/2fb6a3f3a19cbd497129252b5373b94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OYW7HcyJ7K7-tZwqNmWBZQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">measurement</figcaption></figure><p id="ac0b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在web开发中，加载速度和交互速度是良好用户体验的关键。众所周知，当处理的数据量很大时，功能性能测量甚至更为重要，一个糟糕的功能设计确实会带来糟糕的用户体验，而且可能会导致浏览器崩溃。</p><h2 id="e868" class="ke kf hu bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">函数的集合</h2><p id="2cef" class="pw-post-body-paragraph jg jh hu ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hn dt translated">我们将测量名为<code class="eh le lf lg lh b"><em class="li">obj1</em></code>的对象中的每一个函数</p><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="173e" class="ke kf hu lh b fv lr ls l lt lu">const obj1 = {<br/>    <strong class="lh hv">fun</strong>: (max = 1000) =&gt; {<br/>            let count = 0<br/>            for( let i =0; i&lt;max; i++){count +=1}<br/>            return count<br/>        }<br/>}</span></pre><h2 id="0532" class="ke kf hu bd kg kh ki kj kk kl km kn ko jr kp kq kr jv ks kt ku jz kv kw kx ky dt translated">性能注入</h2><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="de45" class="ke kf hu lh b fv lr ls l lt lu">var temp = obj1['fun']<br/>obj1['fun'] = function(){</span><span id="6e7e" class="ke kf hu lh b fv lv ls l lt lu">    /*_*_*_*_ Init _*_*_*/<br/>    var old_time = new Date();</span><span id="1ce3" class="ke kf hu lh b fv lv ls l lt lu">   var returnResult = temp.apply(this,arguments);</span><span id="912f" class="ke kf hu lh b fv lv ls l lt lu">    /*_*_*_*_ Finished _*_*_*/<br/>    var new_time = new Date();</span><span id="9e80" class="ke kf hu lh b fv lv ls l lt lu">    console.log(`*_*_*_ function ${fun} _*_*_*`)<br/>    console.log('Spend time: ', (new_time - old_time), 'ms')<br/>    return returnResult<br/>}</span></pre><h1 id="4c2a" class="lw kf hu bd kg lx ly lz kk ma mb mc ko md me mf kr mg mh mi ku mj mk ml kx mm dt translated">结果</h1><p id="1284" class="pw-post-body-paragraph jg jh hu ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hn dt translated">当我们运行该函数时，性能记录如下:</p><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="831e" class="ke kf hu lh b fv lr ls l lt lu">obj1.fun(1000)</span></pre><p id="1a02" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">末端的</p><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="e748" class="ke kf hu lh b fv lr ls l lt lu">*_*_*_ function funCallback _*_*_*<br/>           RAM         :  0.28125 mb<br/>           HeapTotal   :  0.5 mb<br/>           HeapUsed    :  0.29491424560546875 mb<br/>           External    :  0 mb<br/>           CPU         :  0.00137 s<br/>           Spend time  :  2 ms</span></pre><h1 id="c5c2" class="lw kf hu bd kg lx ly lz kk ma mb mc ko md me mf kr mg mh mi ku mj mk ml kx mm dt translated">git上的例子<a class="ae mn" href="https://github.com/wahengchang/javascript-function-performance-measurement" rel="noopener ugc nofollow" target="_blank"/></h1><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="8954" class="ke kf hu lh b fv lr ls l lt lu">$ git clone <a class="ae mn" href="https://github.com/wahengchang/javascript-function-performance-measurement" rel="noopener ugc nofollow" target="_blank">https://github.com/wahengchang/javascript-function-performance-measurement</a></span><span id="75df" class="ke kf hu lh b fv lv ls l lt lu">$ npm run install<br/>$ node example</span></pre><h1 id="2d8b" class="lw kf hu bd kg lx ly lz kk ma mb mc ko md me mf kr mg mh mi ku mj mk ml kx mm dt translated">参考</h1><p id="b4a7" class="pw-post-body-paragraph jg jh hu ji b jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ld kb kc kd hn dt translated"><a class="ae mn" href="https://github.com/wahengchang/javascript-function-performance-measurement/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">https://github . com/wahengchang/JavaScript-function-performance-measurement/blob/master/readme . MD</a></p></div></div>    
</body>
</html>