<html>
<head>
<title>Jekyll on github pages and service workers. Progressive web apps and offline mode for your blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">github页面和服务人员上的Jekyll。渐进式网络应用程序和博客的离线模式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/jekyll-on-github-pages-and-service-workers-progressive-web-apps-and-offline-mode-for-your-blog-b1cf9e87a6d1?source=collection_archive---------6-----------------------#2016-11-14">https://medium.com/hackernoon/jekyll-on-github-pages-and-service-workers-progressive-web-apps-and-offline-mode-for-your-blog-b1cf9e87a6d1?source=collection_archive---------6-----------------------#2016-11-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3239" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我上周参加了2016年chrome dev峰会，谷歌一直在非常努力地推动进步的网络应用。它们基本上是一种新的方式，通过使网站更加可靠、快速和吸引人，向网络用户提供令人惊奇的体验；通过添加<a class="ae jp" href="https://developers.google.com/web/fundamentals/instant-and-offline/offline-cookbook/" rel="noopener ugc nofollow" target="_blank">离线体验</a>，定期后台同步和推送通知。</p><p id="c0f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其中一个关键的方面是<strong class="it hv">服务人员</strong>。服务工作者是一个独立于页面运行的脚本，它可以拦截网络请求，写入缓存，它不能操纵DOM，但可以使用post消息来获取和发送数据，并且它们大量使用承诺。很多东西都超级酷，你绝对应该去看看，但我不会去太多，因为已经有比我能制作的更好的内容了。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/cc5e46fed5367b15889309acb6d59b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fdqJBudDivDeEf_ERQXeQ.png"/></div></div></figure><h1 id="b0a6" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">入门指南</h1><p id="e42e" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">在峰会期间，我把我的一个网站变成了一个进步的网络应用，<a class="ae jp" href="https://techqueria.org/" rel="noopener ugc nofollow" target="_blank">https://techqueria.org/</a>。(在safari或iOs中不起作用)。在你的网络选项卡上看看它换页的速度，以及即使你打开了飞行模式它是如何工作的。</p><p id="d357" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">服务人员有一些重要的必备条件:</p><ol class=""><li id="2a91" class="lf lg hu it b iu iv iy iz jc lh jg li jk lj jo lk ll lm ln dt translated">你必须用HTTPS。</li><li id="7a7c" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo lk ll lm ln dt translated">该文件必须位于应用程序的根目录下。</li></ol><p id="2e49" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">幸运的是，使用github页面很容易完成这两件事！</p><p id="d4c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> HTTPS </strong></p><p id="94f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您没有使用自定义域，您的页面已经使用HTTPS服务。如果你想使用自定义域，试试<a class="ae jp" href="https://www.cloudflare.com/" rel="noopener ugc nofollow" target="_blank"> Cloudflare </a>，他们提供免费https附带的DNS服务。您将您的NS指向Cloudflare，它们将自动加载您当前的DNS设置。要激活简单SSL，您只需切换选项<a class="ae jp" href="https://www.cloudflare.com/ssl/" rel="noopener ugc nofollow" target="_blank">https://www.cloudflare.com/ssl/</a></p><p id="0116" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你使用的不是github页面，而是数字海洋之类的东西，那么使用<a class="ae jp" href="https://letsencrypt.org/" rel="noopener ugc nofollow" target="_blank"> LetsEncrypt </a>，他们提供免费的SSL证书。</p><p id="d236" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> SW.js </strong></p><p id="98b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我在创建应用程序时遇到的最大问题是我没有找到文件的位置。服务工作者将有一个范围，它不能是在其位置之上的目录，它必须在根目录中。我花了一段时间来调试，直到Mozilla的一些友好的人发现了我的错误。您可以简单地将sw文件放在jekyll项目的根目录下，访问者就可以使用它了。<br/>这个错误很难发现，因为我们看到服务工作者是活跃的，但没有请求被拦截，离线模式不工作。</p><p id="0e01" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以看看github的所有代码，你基本上可以复制我的sw.js，只需替换你的文件的路径，它应该可以工作。</p><div class="lt lu fm fo lv lw"><a href="http://github.com/techqueria/site" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab ej"><div class="ly ab lz cl cj ma"><h2 class="bd hv fv z el mb eo ep mc er et ht dt translated">技术查询/网站</h2><div class="md l"><h3 class="bd b fv z el mb eo ep mc er et ek translated">技术社区中拉丁人的网站</h3></div><div class="me l"><p class="bd b gc z el mb eo ep mc er et ek translated">github.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk ka lw"/></div></div></a></div><p id="6f2d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们还包含了一个manifest.json，因此在Android中，它将向用户显示一个在主页中显示的选项，这增加了一个漂亮的图标和类似应用程序的体验。</p><p id="e078" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除此之外，我遵循的步骤与任何教程中的步骤都是一样的。<br/>如果你想了解更多信息，我推荐以下几款:</p><ul class=""><li id="5be8" class="lf lg hu it b iu iv iy iz jc lh jg li jk lj jo ml ll lm ln dt translated"><a class="ae jp" href="https://www.youtube.com/watch?v=X8EQSy-ajo4" rel="noopener ugc nofollow" target="_blank">现场编写一个渐进式网络应用</a>:在这个简短的视频中，你可以看到苏尔马和保罗在休息时间演示如何向网站添加一名服务人员。</li><li id="c4cd" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo ml ll lm ln dt translated">您的第一个渐进式web应用程序:是一个使用示例应用程序来介绍概念的介绍。</li><li id="ccf8" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo ml ll lm ln dt translated"><a class="ae jp" href="https://www.udacity.com/course/offline-web-applications--ud899" rel="noopener ugc nofollow" target="_blank">离线we应用课程</a>:是一个Udacity类，它更深入地探讨了离线web应用的可能性，比如在IndexedDB中缓存用户数据。</li><li id="46c0" class="lf lg hu it b iu lo iy lp jc lq jg lr jk ls jo ml ll lm ln dt translated"><a class="ae jp" href="https://www.youtube.com/watch?v=J2dOTKBoTL4&amp;t=600s" rel="noopener ugc nofollow" target="_blank">未来的渐进式web应用</a> : Jake(服务工作者的发起人之一)分享了Web应用模型的未来，包括Foreign Fetch、Streams等等。</li></ul></div></div>    
</body>
</html>