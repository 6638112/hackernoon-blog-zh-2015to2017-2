<html>
<head>
<title>How I rediscovered my love for JavaScript after throwing 90% of it in the trash.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在把90%的JavaScript扔进垃圾桶后，我如何重新发现我对它的热爱。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-rediscovered-my-love-for-javascript-after-throwing-90-of-it-in-the-trash-f1baed075d1b?source=collection_archive---------1-----------------------#2017-07-27">https://medium.com/hackernoon/how-i-rediscovered-my-love-for-javascript-after-throwing-90-of-it-in-the-trash-f1baed075d1b?source=collection_archive---------1-----------------------#2017-07-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/8d22b44e30e64a81133c1a7942bc73f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IbrtdEkWTmug3y4aQ9ZQVw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://pixabay.com/en/garbage-can-garbage-bucket-green-1111449/" rel="noopener ugc nofollow" target="_blank">Photo by Alexas_Fotos</a></figcaption></figure><h1 id="af31" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">我与JavaScript的关系</h1><p id="d9ce" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">我的JavaScript之旅始于1997年的Netscape Navigator 3。那时候你不能用它做很多事情。JavaScript最酷的用途是创建鼠标悬停。在当时，这是一些高科技💩。能够通过悬停来改变页面上的内容。震惊了。这都是DHTML之前的东西，所以你甚至不能隐藏/显示DOM元素。它仍然是如此神奇。</p><p id="374f" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">此时，JavsScript的发展非常缓慢，主要用于表单验证。JavaScript没有太大的进步或兴趣，完全不像今天。这是一个额外的、附加的、不错的东西，但它绝对不是主要的吸引力，你仍然必须确保你的应用程序可以在禁用JavaScript的情况下运行。</p><p id="4e6e" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">然后框架大举进入市场。jQuery，Knockout，Angular，React，Vue等。起初他们进展缓慢。现在我们每天都有新的框架。</p><p id="e867" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我们也看到<strong class="kh hv">JavaScript本身的进化正在加速</strong>。我们花了很长时间才得到ES6。人们已经不再谈论ES7，转而关注ES8！</p><p id="abca" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我们还有无限多的选择，如TypeScript、CoffeeScript、ClojureScript、ELM等。</p><p id="b491" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">这可能会让人不知所措，而且不可能跟上所有的事情。</p><h1 id="24eb" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">错误的道路</h1><p id="987f" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">当JavaScript刚开始成熟时，面向对象编程(OOP)开始悄悄进入这种语言……<em class="li">我喜欢它</em>。</p><p id="c0cd" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我开始使用JavaScript和所有不同的方法来创建一个类。我终于可以继承遗产了。我开始思考，JavaScript开始成为真正的语言。</p><blockquote class="lj"><p id="856f" class="lk ll hu bd lm ln lo lp lq lr ls lc ek translated">直到多年以后，我才发现JavaScript中的OOP是一个可怕的错误。</p></blockquote><p id="ce73" class="pw-post-body-paragraph kf kg hu kh b ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky lx la lb lc hn dt translated">我试着把我从C#中学到的东西强加到JavaScript中，起初事情看起来很有希望，但是它的复杂性令人困惑。</p><p id="fdc0" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">因为JavaScript的原型继承不像C#那样工作，我会发现自己每天都在编写<code class="eh ly lz ma mb b">console.log(this)</code>。<em class="li">我现在是谁？如果你没有把每件事都做对，那就是一场噩梦。私有方法和值必须以下划线为前缀，甚至更糟的是用闭包包装。</em></p><p id="ba48" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">面向对象的JavaScript不仅带来了面向对象的所有问题，还增加了许多新问题。</p><h1 id="c4a5" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">然后我发现了函数式编程</h1><p id="719f" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated"><strong class="kh hv">刚开始没得到</strong>。我会看到代码并理解代码，但我不明白<em class="li">为什么</em>。最终，<strong class="kh hv">我强迫自己去学</strong>。我在EDX为<strong class="kh hv">免费上了<a class="ae jg" href="https://www.edx.org/course/introduction-functional-programming-delftx-fp101x-0" rel="noopener ugc nofollow" target="_blank">函数式编程入门课程</a>，目的是将这些技术应用到JavaScript中。</strong></p><blockquote class="lj"><p id="2740" class="lk ll hu bd lm ln lo lp lq lr ls lc ek translated">函数式编程给了我一个新的视角，它让我以一种完全不同的方式看待编程。</p></blockquote><p id="28ad" class="pw-post-body-paragraph kf kg hu kh b ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky lx la lb lc hn dt translated">一开始很奇怪，我花了一段时间才习惯。一切都是倒退的。不可改变。外国的。</p><p id="065f" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">慢慢地，我会尝试用函数的方式来解决代码。因为我不熟悉，所以花了更长的时间，而且更像是一次学术练习，但是我开始掌握它，并且越来越好。然后我得了<em class="li">为什么</em>。</p><p id="7564" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我的代码变得简单且可重用。慢慢地，通用语言特性开始从我的代码中消失。我的代码看起来像一种完全不同的语言。这还是我写的JavaScript吗？</p><h1 id="9d57" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">不再有“var”</h1><p id="f7e9" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">我所有的<code class="eh ly lz ma mb b">var</code>都换成了<code class="eh ly lz ma mb b">const</code>。当我的代码变成<strong class="kh hv">不可变</strong>，我的函数变成<strong class="kh hv">纯</strong>，<code class="eh ly lz ma mb b">var</code>完全消失了。</p><p id="ea36" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我记得看着我的代码，惊叹于没有看到一个<code class="eh ly lz ma mb b">var</code>甚至<code class="eh ly lz ma mb b">let</code>，一切都变成了<code class="eh ly lz ma mb b">const</code>。我的兴趣水平开始上升。</p><h1 id="3c38" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">“for”循环</h1><p id="6a14" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">循环是最先消失的东西之一。我开始用<code class="eh ly lz ma mb b">filter</code>、<code class="eh ly lz ma mb b">map </code>和<code class="eh ly lz ma mb b">reduce</code>替换我的大部分<code class="eh ly lz ma mb b">for</code>循环。需要额外东西的循环被递归或者像<a class="ae jg" href="http://danieltao.com/lazy.js/" rel="noopener ugc nofollow" target="_blank"> lazy.js </a>这样的库所取代。在你开始嘀咕<code class="eh ly lz ma mb b">break</code>、<a class="ae jg" href="https://hackernoon.com/rethinking-javascript-break-is-the-goto-of-loops-51b27b1c85f8" rel="noopener ugc nofollow" target="_blank">这个词之前，先看看这个</a>。</p><div class="md me fm fo mf mg"><a href="https://hackernoon.com/rethinking-javascript-death-of-the-for-loop-c431564c84a8" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">重新思考JavaScript:For循环的死亡</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">JavaScript的for循环为我们提供了很好的服务，但是它现在已经过时了，应该被更新的函数所取代…</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">hackernoon.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ja mg"/></div></div></a></div><p id="3d49" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated"><code class="eh ly lz ma mb b">for</code>循环现在在我的代码库中已经完全灭绝了。如果你碰巧发现了一个，把它指出来，这样我就可以杀了它。</p><h1 id="bb7f" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">“如果”语句</h1><p id="bde6" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">声明很快就成了下一个被抛弃的东西。我不再编写嵌套在if-else中的大块代码。(这也是使用OOP的良好实践)。逻辑被提取成函数。在这之后，将<code class="eh ly lz ma mb b">if</code>转换成简单的<code class="eh ly lz ma mb b">ternary</code>操作符就变得显而易见了。</p><div class="md me fm fo mf mg"><a href="https://hackernoon.com/rethinking-javascript-the-if-statement-b158a61cd6cb" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">重新思考JavaScript:if语句</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">功能性思维打开了我对编程的思维。它让我对代码有了更深的理解…</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">hackernoon.com</p></div></div><div class="mp l"><div class="mv l mr ms mt mp mu ja mg"/></div></div></a></div><p id="a26c" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">现在几乎不可能在我的代码中找到一个<code class="eh ly lz ma mb b">if</code>语句。为了其他程序员的可读性，我很少使用。</p><h1 id="5b6c" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">RIP '开关'</h1><p id="dd39" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">随着<code class="eh ly lz ma mb b">if</code>和<code class="eh ly lz ma mb b">for</code>的消失，我消除的下一个特征是<code class="eh ly lz ma mb b">switch</code>。这些不经常使用，但我想要一个功能的替代品。</p><div class="md me fm fo mf mg"><a href="https://hackernoon.com/rethinking-javascript-eliminate-the-switch-statement-for-better-code-5c81c044716d" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">重新思考JavaScript:删除switch语句以获得更好的代码</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">在我的前3篇文章中，我说服你删除if语句，取消for循环，并且不要使用break。现在我要走了…</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">hackernoon.com</p></div></div><div class="mp l"><div class="mw l mr ms mt mp mu ja mg"/></div></div></a></div><p id="2ce7" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我也很喜欢Ramda的<a class="ae jg" href="http://ramdajs.com/docs/#cond" rel="noopener ugc nofollow" target="_blank"> cond operator </a>作为switch的替代品。</p><h1 id="c9c6" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">不再有“这个”</h1><p id="7f7f" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">没错，你没听错！<code class="eh ly lz ma mb b">this</code>已经<em class="li">完全</em>消失了。如果你到现在还没有和我在一起，你现在应该和我在一起了。</p><blockquote class="lj"><p id="5e3a" class="lk ll hu bd lm ln lo lp lq lr ls lc ek translated">函数式JavaScript将允许你不用'<code class="eh ly lz ma mb b">this’</code>'编写整个应用程序。</p></blockquote><p id="02d4" class="pw-post-body-paragraph kf kg hu kh b ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky lx la lb lc hn dt translated">现在，只有数据和函数，我们完全不需要<code class="eh ly lz ma mb b">this</code>。我开始把一个对象看作可变的状态+函数。我不需要可变状态或函数附加到对象上，所以我把它们断开了。</p><p id="c34f" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我甚至写了一篇文章，讨论将方法从它们的对象中分离出来的一些好处。</p><div class="md me fm fo mf mg"><a href="https://hackernoon.com/functional-javascript-decoupling-methods-from-their-objects-aa3ca13d7ae8" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">函数式JavaScript:从对象中分离方法</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">在我的项目中，我最后总是做的一件事是将方法从它们的对象中分离出来。映射、过滤和减少不是…</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">hackernoon.com</p></div></div><div class="mp l"><div class="mx l mr ms mt mp mu ja mg"/></div></div></a></div><h1 id="4459" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">面向对象的设计是不必要的</h1><p id="155f" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">回顾过去，我现在意识到OOP增加了不必要的复杂性。我发现我可以在没有可变状态的情况下执行相同的任务。</p><p id="1133" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">代码变轻了，因为我不再传递这些沉重的东西。只有数据和函数。这些函数现在变得更加可重用，因为它们不再与一个对象相关联。</p><p id="05d0" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我不再需要担心传统继承带来的所有问题，而JavaScript在这方面做得很差。</p><p id="0c45" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">JavaScript缺少私有、公共、内部或受保护的访问修饰符不再是问题。创建访问修饰符是为了解决OOP带来的问题。函数式JavaScript中不再存在的问题。</p><h1 id="18aa" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">摘要</h1><p id="899a" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">我的代码现在看起来完全不同了。它由许多<strong class="kh hv">纯函数</strong>的集合组成，组织成<strong class="kh hv"> ES6模块</strong>。我用这些函数组成更复杂的函数。大多数函数都是单行的<strong class="kh hv"> lambda表达式，可以立即返回值</strong>。</p><p id="c4d5" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我现在将软件输入视为数据流，并对这些数据流进行反应式编程。</p><p id="0814" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我对函数式编程的理解给了我更多的选择来解决常见的问题。</p><p id="28db" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我还了解到<strong class="kh hv">函数式编程是包容性的</strong>，可以根据你的需要在现有项目<em class="li">中使用</em>。C#的LINQ是面向对象语言中功能设计的一个很好的例子。</p><p id="1485" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">函数式编程可以很美。</p><div class="md me fm fo mf mg"><a href="https://hackernoon.com/the-beauty-in-partial-application-currying-and-function-composition-d885bdf0d574" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">局部应用美、曲线美和功能组合美。</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">故事时间</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">hackernoon.com</p></div></div><div class="mp l"><div class="my l mr ms mt mp mu ja mg"/></div></div></a></div><p id="277f" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我会回应每一个问题和评论，所以不要害羞！</p><p id="60d8" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">我知道这是一件小事，但当我在媒体和Twitter上收到这些后续通知时，我感到非常高兴。或者你觉得我满嘴屁话，在下面的评论里告诉我。</p><p id="56ae" class="pw-post-body-paragraph kf kg hu kh b ki ld kk kl km le ko kp kq lf ks kt ku lg kw kx ky lh la lb lc hn dt translated">干杯！</p><div class="md me fm fo mf mg"><a href="https://medium.com/@joelthoms/latest" rel="noopener follow" target="_blank"><div class="mh ab ej"><div class="mi ab mj cl cj mk"><h2 class="bd hv fv z el ml eo ep mm er et ht dt translated">乔尔·托马斯写的最新故事</h2><div class="mn l"><h3 class="bd b fv z el ml eo ep mm er et ek translated">阅读乔尔·托马斯在Medium上写的最新故事。计算机科学家和技术传播者，拥有20多年的…</h3></div><div class="mo l"><p class="bd b gc z el ml eo ep mm er et ek translated">medium.com</p></div></div><div class="mp l"><div class="mz l mr ms mt mp mu ja mg"/></div></div></a></div></div></div>    
</body>
</html>