<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/hackernoon/working-with-grunt-browserify-task-5796ead57444?source=collection_archive---------1-----------------------#2016-03-02">https://medium.com/hackernoon/working-with-grunt-browserify-task-5796ead57444?source=collection_archive---------1-----------------------#2016-03-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="hs ht fm fo hu hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/7004486131b5a5518bffc7913b6d9fd5.png" data-original-src="https://miro.medium.com/v2/0*_pYLM_5b7v5o11bO."/></div></figure><ul class=""><li id="0ca5" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated"><strong class="ic is"> grunt-browserify </strong>是一个NPM模块，与<strong class="ic is"> Browserify </strong>一起工作。它可以生成可供浏览器使用的浏览器验证代码。</li></ul><blockquote class="it iu iv"><p id="6f6b" class="iw ix iy ic b id ie iz ja if ig jb jc jd je jf jg jh ji jj jk jl jm jn jo in hn dt translated">在这个演示中，<strong class="ic is">我们将学习使用grunt-browserify创建grunt任务。</strong></p></blockquote><ul class=""><li id="2575" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">为了演示grunt-browserify模块的用法，我们创建了一个名为GruntBrowserifyDemo的项目。项目结构如下图所示:-</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/f359905e6e46d39a0b4be393bb5281cf.png" data-original-src="https://miro.medium.com/v2/0*MJ7d1IJqgGwyvQKa."/></div></figure><ul class=""><li id="3edf" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">我们需要安装<strong class="ic is"> grunt </strong>、<strong class="ic is"> grunt-browserify </strong>和<strong class="ic is">Grunt-contrib-concat</strong>NPM模块来创建一个<a class="ae jt" href="https://hackernoon.com/tagged/grunt" rel="noopener ugc nofollow" target="_blank"> Grunt </a>任务以使用browserify。</li><li id="3f70" class="hz ia ib ic b id ju if jv ih jw ij jx il jy in io ip iq ir dt translated"><strong class="ic is"> package.json </strong>的代码内容如下</li></ul><pre class="jp jq jr js fq jz ka kb kc aw kd dt"><span id="acfe" class="ke kf ib ka b fv kg kh l ki kj">{<br/>  "name": "grunt-browserify-demo",<br/>  "version": "1.0.0",<br/>  "author": "Sandeep",<br/>  "license": "ISC",<br/>  "devDependencies": {<br/>    "grunt": "^0.4.5",<br/>    "grunt-browserify": "^4.0.1",<br/>    "grunt-contrib-concat": "^1.0.0"<br/>  },<br/>  "dependencies": {<br/>    "arithmetics": "^1.0.4"<br/>  }<br/>}</span></pre><ul class=""><li id="da97" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">使用终端中的<strong class="ic is">NPM install grunt-browser ify–save-dev</strong>命令可以安装<strong class="ic is"> grunt-browserify </strong>模块。下面的截图显示了<strong class="ic is"> grunt-browserify </strong>安装。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/44350daa669d05bd0ce44b9eec2fcbfe.png" data-original-src="https://miro.medium.com/v2/0*XmKS7hda-2gxvsG4."/></div></figure><ul class=""><li id="5a21" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">使用终端中的<strong class="ic is">NPM install</strong>l<strong class="ic is">grunt-contrib-conca—save-dev</strong>命令可以安装<strong class="ic is"> grunt-contrib-concat </strong>模块。下面的截图显示了<strong class="ic is"> grunt-contrib-concat </strong>的安装。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/d388210870d55beacaa3633ad66379c3.png" data-original-src="https://miro.medium.com/v2/0*36FOALWYVbc7GR_w."/></div></figure><ul class=""><li id="c39d" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">在这个例子中我们将使用<strong class="ic is">算法</strong> <a class="ae jt" href="https://hackernoon.com/tagged/npm" rel="noopener ugc nofollow" target="_blank"> NPM </a>模块。本模块提供了一系列的数学方法<strong class="ic is">加法()</strong>，<strong class="ic is">减法()，</strong>，<strong class="ic is">除法()</strong>等。该模块基本为<strong class="ic is"> Node.js </strong>编程语言。你可以在以下网址找到更多信息:-<a class="ae jt" href="https://www.npmjs.com/package/arithmetics" rel="noopener ugc nofollow" target="_blank"><strong class="ic is">https://www.npmjs.com/package/arithmetics</strong></a></li><li id="5345" class="hz ia ib ic b id ju if jv ih jw ij jx il jy in io ip iq ir dt translated">我们将使用<strong class="ic is">算法</strong>模块，并在浏览器环境中浏览<strong class="ic is"> my-script.js </strong>文件。让我们使用以下命令安装算法NPM模块<strong class="ic is"> npm安装算法-保存</strong>在终端。下面的截图显示了<strong class="ic is">算法</strong>的安装。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/15d532fcf7ccfedc3cc557f8bd76c42c.png" data-original-src="https://miro.medium.com/v2/0*nHiwrNIcy35SfN7s."/></div></figure><ul class=""><li id="5d80" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated"><strong class="ic is"> my-script.js </strong>文件包含一个方法名<strong class="ic is"> doAddition() </strong>，该方法使用<strong class="ic is"> require </strong>语句导入算术模块。</li></ul><pre class="jp jq jr js fq jz ka kb kc aw kd dt"><span id="5ed1" class="ke kf ib ka b fv kg kh l ki kj">var arithmetics = require('arithmetics');<br/>var doAddition = function(){<br/>   var value1 = document.getElementById("number1").value,<br/>       value2 = document.getElementById("number2").value,<br/>       result = document.getElementById("result"),<br/>       number1 = parseInt(value1, 10),<br/>       number2 = parseInt(value2, 10);<br/>    console.log(arithmetics.addition(number1, number2));<br/>    result.value= arithmetics.addition(number1, number2)<br/>};</span></pre><ul class=""><li id="fd87" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">我们已经创建了<strong class="ic is"> 2 </strong> grunt <strong class="ic is">任务</strong>名称<strong class="ic is">用于算法</strong>和<strong class="ic is"> concat </strong>。<strong class="ic is">for algorithm</strong>任务取算术模块在<strong class="ic is">dist/algorithm . browserified . js</strong>中生成browserified代码。<strong class="ic is"> concat </strong>任务然后组合<strong class="ic is">dist/algorithm . browserified . js</strong>和<strong class="ic is"> dev/my-script.js </strong>生成一个组合文件ad <strong class="ic is"> dist/bundle.js </strong>。</li></ul><pre class="jp jq jr js fq jz ka kb kc aw kd dt"><span id="f417" class="ke kf ib ka b fv kg kh l ki kj">module.exports = function (grunt) {<br/>    grunt.initConfig({<br/>        //Task 1<br/>        browserify: {<br/>            forArithmetic: {<br/>                src: [],<br/>                dest: 'dist/arithmetic.browserified.js',<br/>                options: {<br/>                    require: ['arithmetics']<br/>                }<br/>            }<br/>        },<br/>        //Task 2<br/>        concat: {<br/>            'dist/bundle.js': <br/>            ['dist/arithmetic.browserified.js',<br/>             'dev/my-script.js']<br/>        }<br/>    });<br/>    grunt.registerTask('default', ['browserify','concat']);<br/>    grunt.loadNpmTasks('grunt-contrib-concat');<br/>    grunt.loadNpmTasks('grunt-browserify');<br/>};</span></pre><ul class=""><li id="71a1" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated"><strong class="ic is">demo.html</strong>文件包含带有3个输入元素<strong class="ic is">数字1 </strong>、<strong class="ic is">数字2 </strong>和<strong class="ic is">结果</strong>的HTML标记代码。用户可以在数字1和数字2中输入2个数字，然后按下<strong class="ic is">计算</strong>按钮。计算按钮调用<strong class="ic is"> doAddition() </strong>方法得到<strong class="ic is">数字1 </strong>和<strong class="ic is">数字2 </strong>的<strong class="ic is">总和</strong>。然后，总和显示在第三个输入框中。demo.html文件的内容如下</li></ul><pre class="jp jq jr js fq jz ka kb kc aw kd dt"><span id="1c56" class="ke kf ib ka b fv kg kh l ki kj">&lt;html&gt;<br/>    &lt;head&gt;<br/>        &lt;title&gt;Grunt browserify demo&lt;/title&gt;<br/>        &lt;script src="dist/bundle.js"&gt;&lt;/script&gt;<br/>    &lt;/head&gt;<br/>    &lt;body&gt;<br/>     &lt;input type="number" <br/>             id="number1" <br/>             placeholder="Enter a Number1"&gt;<br/>     &lt;br&gt;&lt;br&gt;<br/>     &lt;input type="number" <br/>            id="number2" <br/>             placeholder="Enter a Number2"&gt;<br/>     &lt;br&gt;&lt;br&gt;<br/>     &lt;input type="number" <br/>            id="result" <br/>            placeholder="Number1 + Number2" readonly&gt;<br/>     &lt;br&gt;&lt;br&gt;<br/>     &lt;button onclick="doAddition()"&gt;Calculate&lt;/button&gt;<br/>    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><ul class=""><li id="89c9" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">我们可以在终端中使用<strong class="ic is"> grunt </strong>命令运行grunt任务，这将生成<strong class="ic is"> dist/bundle.js </strong>文件。下面的屏幕截图显示了正在执行的grunt命令。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/dd350e81bf6a45c795e3fa4baf943923.png" data-original-src="https://miro.medium.com/v2/0*qUY5fHmdNjcg8O5z."/></div></figure><ul class=""><li id="e986" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">成功执行<strong class="ic is"> grunt </strong>命令后，<strong class="ic is"> GruntBrowserifyDemo </strong>修改后的结构如下图所示。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/4c2ebf1f2e4b78ad23a1844b073a4c6b.png" data-original-src="https://miro.medium.com/v2/0*E1TFkItk-PDe-LOq."/></div></figure><ul class=""><li id="877f" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">下面的截图显示了浏览器中<strong class="ic is">demo.html</strong>文件的<strong class="ic is">初始</strong>输出。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/3c9545e7df6045ec59612e238be07118.png" data-original-src="https://miro.medium.com/v2/0*yReFt3M62VXHE31S."/></div></figure><ul class=""><li id="df99" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated">现在我们可以<strong class="ic is">为<strong class="ic is">数字1 </strong>和<strong class="ic is">数字2 </strong>输入框输入</strong>两个数字<strong class="ic is"> 2 </strong>和<strong class="ic is"> 3 </strong>并按下<strong class="ic is">计算</strong>按钮。我们可以看到结果<strong class="ic is"> 5 </strong>将显示在<strong class="ic is">结果</strong>输入框中。</li></ul><figure class="jp jq jr js fq hv fe ff paragraph-image"><div class="ab fr cl hw"><img src="../Images/e0acefc8add30abce9500f25912b4b60.png" data-original-src="https://miro.medium.com/v2/0*RfSze_q4gWGpVM4R."/></div></figure><ul class=""><li id="d8f9" class="hz ia ib ic b id ie if ig ih ii ij ik il im in io ip iq ir dt translated"><strong class="ic is">演示</strong>代码可以从以下网址<strong class="ic is">下载</strong>:-<a class="ae jt" href="https://github.com/saan1984/GruntBrowserifyDemo" rel="noopener ugc nofollow" target="_blank">https://github.com/saan1984/GruntBrowserifyDemo</a><a class="ae jt" href="http://ift.tt/218tW9K" rel="noopener ugc nofollow" target="_blank"><em class="iy">ss</em></a></li></ul><figure class="jp jq jr js fq hv"><div class="bz el l di"><div class="kk kl l"/></div></figure></div></div>    
</body>
</html>