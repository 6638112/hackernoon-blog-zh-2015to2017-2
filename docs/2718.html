<html>
<head>
<title>Take Action with Butter Knife</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用黄油刀采取行动</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/take-action-with-butter-knife-7381d2a1da9a?source=collection_archive---------4-----------------------#2017-02-14">https://medium.com/hackernoon/take-action-with-butter-knife-7381d2a1da9a?source=collection_archive---------4-----------------------#2017-02-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/879d676d3c398cbf4c33fe8fc08ef38e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9OIZApr277Bzi9ftlzyEQ.png"/></div></div></figure><p id="8112" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如何在你的Android应用程序中使用黄油刀动作</p><p id="d991" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你是安卓开发者，你可能听说过<a class="ae ka" href="https://github.com/JakeWharton/butterknife" rel="noopener ugc nofollow" target="_blank">黄油刀</a>。</p><p id="56ae" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Butter Knife让在代码中绑定视图变得非常容易——不再有烦人的<em class="kb"> findViewById </em>调用！</p><p id="3ac9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它也有更多的方法绑定，如<em class="kb"> OnClickListener </em>和<em class="kb"> OnTouchListener </em>等。</p><p id="c781" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是有一个你可能没听说过的鲜为人知的功能:</p><h1 id="2926" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">黄油刀动作</h1><p id="794e" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">黄油刀动作与将多个视图绑定到一个视图列表结合使用:</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="25b9" class="lo kd hu lk b fv lp lq l lr ls">@BindViews({ R.id.product_name, R.id.product_description, R.id.product_price })<br/>List&lt;TextView&gt; productViews;</span></pre><p id="c54b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用操作，您可以一次将操作应用于所有视图。酷吧？</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="23b4" class="lo kd hu lk b fv lp lq l lr ls">ButterKnife.apply(productViews, View.ALPHA, 0.0f);</span></pre><p id="ebf6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Android上的操作<a class="ae ka" href="https://developer.android.com/reference/android/util/Property.html" rel="noopener ugc nofollow" target="_blank">视图属性</a>如下:</p><ul class=""><li id="bf7c" class="lt lu hu je b jf jg jj jk jn lv jr lw jv lx jz ly lz ma mb dt translated">希腊字母的第一个字母</li><li id="229a" class="lt lu hu je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb dt translated">翻译</li><li id="a7f3" class="lt lu hu je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb dt translated">规模</li><li id="be84" class="lt lu hu je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb dt translated">等等</li></ul><p id="b054" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是如果您想要自定义操作呢？</p><h1 id="7c7c" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">自定义操作</h1><p id="0487" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">切换视图可见性可能是您经常做的事情，而且经常是在多个视图上同时进行。</p><p id="c22c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然动作不支持开箱即用，但我们可以编写一个自定义动作来使这变得非常简单。</p><p id="d554" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这里我们有两个选项:一个定制的<strong class="je hv">动作</strong>，或者一个定制的<strong class="je hv">设置器</strong>。</p><p id="da47" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一个<strong class="je hv">动作</strong>将简单地在一个视图上执行一个动作。例如，将可见性设置为消失，或将文本设置为空。</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="4ea9" class="lo kd hu lk b fv lp lq l lr ls">//custom action<br/>public static final ButterKnife.Action&lt;View&gt; <em class="kb">GONE </em>= new ButterKnife.Action&lt;View&gt;() {<br/><br/>    @Override<br/>    public void apply(View view, int index) {<br/>        view.setVisibility(View.<em class="kb">GONE</em>);<br/>    }<br/>};</span><span id="a654" class="lo kd hu lk b fv mh lq l lr ls">//usage<br/>ButterKnife.apply(productViews, <em class="kb">GONE</em>);</span></pre><p id="6fd3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">设置器</strong>更加灵活，支持参数。<br/>设置一个视图的可见性更适合于一个<strong class="je hv">设置器</strong>——我们可以创建一个设置器，而不是3个单独的动作:</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="3c92" class="lo kd hu lk b fv lp lq l lr ls">//custom setter<br/>public static final ButterKnife.Setter&lt;View, Integer&gt; <em class="kb">VISIBILITY </em>= new ButterKnife.Setter&lt;View, Integer&gt;() {<br/>    @Override<br/>    public void set(@NonNull View view, Integer value, int index) {<br/>        view.setVisibility(value);<br/>    }<br/>};</span><span id="cc5a" class="lo kd hu lk b fv mh lq l lr ls">//usage:<br/>//with a setter we can pass an extra visibility parameter<br/>ButterKnife.apply(productViews, VISIBILITY, View.<em class="kb">VISIBLE</em>);</span></pre><h1 id="f9da" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">你还在等什么？</h1><p id="3f9b" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">不要这样做:</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="ab84" class="lo kd hu lk b fv lp lq l lr ls">productName.setVisibility(View.GONE);<br/>productPrice.setVisibility(View.GONE);<br/>productDescription.setVisibility(View.GONE);</span></pre><p id="2181" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">执行以下操作:</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="e8a2" class="lo kd hu lk b fv lp lq l lr ls">ButterKnife.apply(productViews, VISIBILITY, View.<em class="kb">GONE</em>);</span></pre><p id="dc84" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你的代码会喜欢你的，❤️</p></div><div class="ab cl mi mj hc mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hn ho hp hq hr"><p id="785c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你喜欢这篇文章，一定要给它一些👏在推特上关注我<a class="ae ka" href="http://twitter.com/athornz" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="lf lg lh li fq iv"><div class="bz el l di"><div class="mp mq l"/></div></figure></div></div>    
</body>
</html>