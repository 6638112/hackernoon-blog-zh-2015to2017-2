<html>
<head>
<title>Why I gave up my almost done project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我放弃了我几乎完成的项目</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-i-give-up-my-almost-done-project-a94114eb7b15?source=collection_archive---------27-----------------------#2017-11-08">https://medium.com/hackernoon/why-i-give-up-my-almost-done-project-a94114eb7b15?source=collection_archive---------27-----------------------#2017-11-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d1c7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作者:<a class="jp jq gr" href="https://medium.com/u/85a8e65ba563?source=post_page-----a94114eb7b15--------------------------------" rel="noopener" target="_blank">西尔弗-约翰·伊姆霍夫</a>，<a class="jp jq gr" href="https://medium.com/u/9af9bace60e5?source=post_page-----a94114eb7b15--------------------------------" rel="noopener" target="_blank">马修·莫兰维尔</a></p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/af80a09637aff858f78fb567484c2855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UmSmWeJx5W7uXmADuer6hg.jpeg"/></div></div></figure><p id="45a8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt kd translated"><span class="l ke kf kg bm kh ki kj kk kl di"> W </span>当我们完成最后一个使用<a class="ae km" href="https://www.graph.cool/" rel="noopener ugc nofollow" target="_blank"> Graphcool </a>作为后端的项目<a class="ae km" href="https://freatle.com/" rel="noopener ugc nofollow" target="_blank"> Freatle </a>时，我们意识到没有MySQL可以替代这个真正酷的<a class="ae km" href="https://de.wikipedia.org/wiki/Backend_as_a_Service" rel="noopener ugc nofollow" target="_blank"> BaaS </a>。所以我们想知道我们是否可以做一些类似的事情，但是我们不依赖于GraphQL，而是创建一些REST端点和一个MySQL数据库。无贫的想法由此诞生。</p></div><div class="ab cl kn ko hc kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="hn ho hp hq hr"><h2 id="cd0e" class="ku kv hu bd kw kx ky kz la lb lc ld le jc lf lg lh jg li lj lk jk ll lm ln lo dt translated"><strong class="ak">为什么这看起来是个好主意</strong></h2><p id="43dc" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">当你从零开始一个项目，你需要一个数据库，你必须在本地安装一个服务器，比如在Windows上安装带有Xampp的MariaDB。当你在构建一个附带项目时，这是浪费时间。使用无服务器解决方案，您只需调用API来管理您的数据。</p><h2 id="33b1" class="ku kv hu bd kw kx ky kz la lb lc ld le jc lf lg lh jg li lj lk jk ll lm ln lo dt translated"><strong class="ak">我如何打造pooless</strong></h2><p id="8a68" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">作为Poorless应该是一个API，只有一个好的选择:Go。使用小而好的框架<a class="ae km" href="https://echo.labstack.com/" rel="noopener ugc nofollow" target="_blank"> Echo </a>，你可以在不到1天的时间内构建一个小的API。这个计划非常简单:</p><ul class=""><li id="b9d1" class="lu lv hu it b iu iv iy iz jc lw jg lx jk ly jo lz ma mb mc dt translated">一个用户需要管理一些数据，所以他去了穷人网站，</li><li id="253b" class="lu lv hu it b iu md iy me jc mf jg mg jk mh jo lz ma mb mc dt translated">他填写表单，通过输入他想要创建的实体及其属性来创建他的数据库和表，</li><li id="0808" class="lu lv hu it b iu md iy me jc mf jg mg jk mh jo lz ma mb mc dt translated">API接收来自用户的请求，使用UUID创建数据库和表，</li><li id="9c3d" class="lu lv hu it b iu md iy me jc mf jg mg jk mh jo lz ma mb mc dt translated">API将UUID返回给用户，然后用户可以访问他的私有数据库。</li></ul><pre class="js jt ju jv fq mi mj mk ml aw mm dt"><span id="4680" class="ku kv hu mj b fv mn mo l mp mq">  e.GET("/:key/table/:table", handler.GetTable)<br/>  e.GET("/:key/table/:table/:id", handler.GetRowById)    <br/>  e.GET("/:key/table/:table/:filter/:id", handler.GetFilteredRow) <br/>  e.POST("/:key/table/:table", handler.AddRow)<br/>  e.PUT("/:key/table/:table/:id", handler.AddRow)  <br/>  e.DELETE("/:key/table/:table", handler.DeleteTable)<br/>  e.DELETE("/:key/table/:table/:id", handler.DeleteTable)<br/>  e.DELETE("/:key/table/:table/:filter/:id", handler.DeleteTable)</span></pre><p id="7e70" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在API端，我们有一个MySQL服务器在运行，我们在那里存储用户的数据。用Go访问和管理MySQL服务器真的很简单。</p><pre class="js jt ju jv fq mi mj mk ml aw mm dt"><span id="4f4f" class="ku kv hu mj b fv mn mo l mp mq"><em class="mr">/*</em><br/><em class="mr">  Here we create the user's database</em><br/><em class="mr">*/</em><br/><strong class="mj hv">func</strong> CreateDatabase(db <strong class="mj hv">*</strong>sql.DB, uid <strong class="mj hv">string</strong>) {<br/>  log.Println("Create Database " <strong class="mj hv">+</strong> uid)<br/>  _, err <strong class="mj hv">:=</strong> db.Query("Create Database " <strong class="mj hv">+</strong> uid)<br/>  <strong class="mj hv">if</strong> err <strong class="mj hv">!=</strong> <strong class="mj hv">nil</strong> {<br/>    log.Fatal(err)<br/>  }<br/>}</span></pre><h2 id="c0eb" class="ku kv hu bd kw kx ky kz la lb lc ld le jc lf lg lh jg li lj lk jk ll lm ln lo dt translated"><strong class="ak">穷人的极限</strong></h2><p id="f1e2" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">正如您在上面看到的，我们创建了用户可以调用来管理其数据的路由。因为这是一个REST API，所以一个路由=一个实体。所以这条路线</p><pre class="js jt ju jv fq mi mj mk ml aw mm dt"><span id="f5bd" class="ku kv hu mj b fv mn mo l mp mq">e.GET("/:key/table/:table", handler.GetTable)</span></pre><p id="ba4b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">经办人</p><pre class="js jt ju jv fq mi mj mk ml aw mm dt"><span id="a94f" class="ku kv hu mj b fv mn mo l mp mq"><strong class="mj hv">func</strong> GetTable(c echo.Context) <strong class="mj hv">error</strong> {  <br/>  userId <strong class="mj hv">:=</strong> c.Param("key")<br/>  table <strong class="mj hv">:=</strong> c.Param("table")<br/>  <br/>  config, configErr <strong class="mj hv">:=</strong> util.GetConfig("./config.json")<br/>	<strong class="mj hv">if</strong> configErr <strong class="mj hv">!=</strong> <strong class="mj hv">nil</strong> {<br/>		log.Fatal(configErr)<br/>	}<br/><br/>  db <strong class="mj hv">:=</strong> service.GetDatabaseConnexion(config, userId)<br/>  data <strong class="mj hv">:=</strong> service.FindAll(db, table)<br/><br/>  <strong class="mj hv">return</strong> c.JSON(http.StatusOK, data)<br/>}</span></pre><p id="d318" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">与...匹配</p><pre class="js jt ju jv fq mi mj mk ml aw mm dt"><span id="daac" class="ku kv hu mj b fv mn mo l mp mq"><em class="mr">/*</em><br/><em class="mr">  Here we find all row in the table</em><br/><em class="mr">*/</em><br/><strong class="mj hv">func</strong> FindAll(db <strong class="mj hv">*</strong>sql.DB, tableName <strong class="mj hv">string</strong>) <strong class="mj hv">*</strong>sql.Rows{<br/>  query <strong class="mj hv">:=</strong> "Select * From " <strong class="mj hv">+</strong> tableName<br/>  log.Print(query)<br/>  rows, err <strong class="mj hv">:=</strong> db.Query(query)<br/>  <strong class="mj hv">if</strong> err <strong class="mj hv">!=</strong> <strong class="mj hv">nil</strong> {<br/>    log.Fatal(err)<br/>  }<br/>  <strong class="mj hv">return</strong> rows<br/>}</span></pre><p id="beed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你看出问题了吗？你被限制了。</p><p id="c7ac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果只需要选择一些字段，添加一个count，一个groupby等。你不能。如果你使用Poorless，你会被限制在我们创建的路线上。所以我问自己:</p><blockquote class="ms mt mu"><p id="87a9" class="ir is mr it b iu iv iw ix iy iz ja jb mv jd je jf mw jh ji jj mx jl jm jn jo hn dt translated">如何让用户自定义请求，而不必编写更多的路由？</p></blockquote><p id="1ced" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">解决方案已经存在，我很喜欢它:GraphQL。</p><p id="e805" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用GraphQL，作为一个客户端，您告诉API您需要什么。只需一个请求，您就可以检索许多实体，添加任意多过滤器，等等。</p><h2 id="6a4c" class="ku kv hu bd kw kx ky kz la lb lc ld le jc lf lg lh jg li lj lk jk ll lm ln lo dt translated"><strong class="ak">该不该用GraphQL？</strong></h2><p id="18b1" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">是的。</p><blockquote class="ms mt mu"><p id="06e6" class="ir is mr it b iu iv iw ix iy iz ja jb mv jd je jf mw jh ji jj mx jl jm jn jo hn dt translated">我不相信。</p></blockquote><p id="99e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好好读读<a class="ae km" href="https://codeburst.io/test-is-graphql-right-for-you-21a7a4858769" rel="noopener" target="_blank">这个</a>和<a class="ae km" href="https://hackernoon.com/how-to-build-a-good-side-project-5ae8ecf3a6d8" rel="noopener ugc nofollow" target="_blank">这个</a>。:)</p><h2 id="73f7" class="ku kv hu bd kw kx ky kz la lb lc ld le jc lf lg lh jg li lj lk jk ll lm ln lo dt translated">害怕放弃</h2><p id="2c12" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">假设你想开发一个应用程序，你雇佣了一些移动开发者，他们每月花费你10，000美元。五个月已经过去了，你还需要两个月来结束这个项目。但是你的想法在项目开始的时候就泄露了，而你并不知道。有人偷了它并发布了应用程序。你应该投资20，000美元来结束你的项目以发布一个已经存在的应用吗？这叫做<a class="ae km" href="https://en.wikipedia.org/wiki/Sunk_cost" rel="noopener ugc nofollow" target="_blank">沉没成本</a>。在这种情况下，你应该停止应用程序的生产。你的钱已经花完了，两个月后发布应用只会让你浪费更多的钱。</p><blockquote class="ms mt mu"><p id="4524" class="ir is mr it b iu iv iw ix iy iz ja jb mv jd je jf mw jh ji jj mx jl jm jn jo hn dt translated">那么我是不是白干了？</p></blockquote><p id="3b59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你当然没有。即使你没有达到你的目标，即使你没有意识到它，你已经学到了一些东西。放弃你的项目不会从你的大脑中移除这些知识和经验。</p></div></div>    
</body>
</html>