<html>
<head>
<title>Experimenting with React Native &amp; Expo’s Audio API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">试用React Native &amp; Expo的音频API</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/experimenting-with-react-native-expos-audio-api-6f13eeb729be?source=collection_archive---------12-----------------------#2017-09-06">https://medium.com/hackernoon/experimenting-with-react-native-expos-audio-api-6f13eeb729be?source=collection_archive---------12-----------------------#2017-09-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/4518d9a892f1268eebdb6a08ea5c3e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MvZA9lbe9TbxmBr9rxM0Ew.png"/></div></div></figure><p id="fefc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这里的<a class="ae ka" href="https://getstream.io/" rel="noopener ugc nofollow" target="_blank"> Stream </a>，我们都在探索流行技术的最新趋势。这样做可以让我们的团队更好地了解开源社区正在发生的事情，这个社区是我们公司DNA的主要组成部分。</p><p id="1eeb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">去年，Stream发布了开源项目<a class="ae ka" href="https://winds.getstream.io/" rel="noopener ugc nofollow" target="_blank"> Winds </a>，这是一个由Stream支持的聚合和个性化RSS阅读器。今年，我们正在进行全面更新(Winds 2.0)，将引入播客支持、增强的社交功能、原生iOS和Android应用程序等等。因此，我们决定使用<a class="ae ka" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> React Native </a>来支持我们的iOS和Android版本——这一框架将允许我们的开发团队用纯JavaScript编写针对多个操作系统的应用程序。为了帮助我们进行React本机开发，我们求助于<a class="ae ka" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank"> Expo </a>，这是一个包装React本机API的工具，允许更快、更简化的开发过程。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/30f788e5865eb026773da78010a43b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1m9GV3xyir_QUmabFSNUQ.png"/></div></div></figure><p id="1ad9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了尝试一下，我们通过构建一个简单的概念证明来挑战自己。我们决定用Expo强大的<a class="ae ka" href="https://docs.expo.io/versions/latest/sdk/audio.html" rel="noopener ugc nofollow" target="_blank">音频API </a>为iOS和Android构建一个音频播放器，当然，React Native。概念验证有一些要求(大多数在许多流行/常见的音频播放器中都有):</p><ul class=""><li id="0917" class="kg kh hu je b jf jg jj jk jn ki jr kj jv kk jz kl km kn ko dt translated">外部URL支持(针对音频文件)</li><li id="27b6" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">播放/暂停</li><li id="99e7" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">跳过/查找</li><li id="7227" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">当前位置</li><li id="f4c8" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">速度控制(慢速和快速)</li><li id="58c4" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">肖像支架</li><li id="31e0" class="kg kh hu je b jf kp jj kq jn kr jr ks jv kt jz kl km kn ko dt translated">音频背景</li></ul><p id="eca2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">从技术角度来看，所有这些都是可行的；但是，最新的Expo SDK(目前为v20.0.0)尚不支持背景音频。我们在Twitter上联系了世博会团队，他们回复说他们正在积极为我们提供急需的音频背景支持——这被证明是一项相当困难的工作——并且他们将在继续取得进展的同时让我们保持联系。</p><p id="0f14" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">即使没有这个功能，我们也对我们的概念验证的结果非常满意。如果没有React Native和Expo的帮助，我们将无法在我们分配的时间范围内针对多个操作系统，我们将不得不使用两个独立的代码库。通过实验和建立一个全功能的概念验证，我们现在离Winds 2.0更近了一步，并且非常高兴地宣布代码在 <a class="ae ka" href="https://github.com/getstream/react-native-audio-player" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> GitHub </strong> </a>上<strong class="je hv"> 100%开源。</strong></p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/f12faf76cafe803fdaf79bde336b3e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QMYqVn5va3kQ8ORyNzPXwQ.png"/></div></div></figure><p id="f365" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您有任何建议、评论或补充，请在下面发帖或在GitHub上提交PR(我们支持开源，绝对喜欢看到来自社区的贡献)。如果你是新的流媒体用户，并且对我们的托管、可扩展的feed技术感兴趣，请查看我们在流媒体网站上的<a class="ae ka" href="https://getstream.io/get_started" rel="noopener ugc nofollow" target="_blank"> 5分钟教程，了解事情是如何工作的！</a></p></div></div>    
</body>
</html>