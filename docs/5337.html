<html>
<head>
<title>TensorFlow Tutorial For Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的TensorFlow教程</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/tensorflow-tutorial-for-beginners-69358e73dee7?source=collection_archive---------3-----------------------#2017-07-21">https://medium.com/hackernoon/tensorflow-tutorial-for-beginners-69358e73dee7?source=collection_archive---------3-----------------------#2017-07-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7d3b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">原载于</em><a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank"><em class="jp">https://www . data camp . com/community/tutorials/tensor flow-tutorial</em></a></p><p id="c8bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jq" href="https://hackernoon.com/tagged/deep-learning" rel="noopener ugc nofollow" target="_blank">深度学习</a>是<a class="ae jq" href="https://hackernoon.com/tagged/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>的一个子领域，机器学习是一套受大脑结构和功能启发的算法。</p><p id="dab1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TensorFlow是谷歌创建的第二个机器学习框架，用于设计、构建和训练深度学习模型。您可以使用TensorFlow库进行数值计算，这本身看起来并不特别，但是这些计算是用数据流图完成的。在这些图中，节点表示数学运算，而边表示在这些边之间传递的数据，通常是多维数据数组或张量。</p><p id="4b20" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你看到了吗？“TensorFlow”这个名字来源于神经网络对多维数据数组或张量执行的操作！它实际上是一个张量流。现在，这就是你需要知道的关于张量的全部内容，但是你将在下一节中更深入地了解它！</p><p id="a100" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">今天的TensorFlow初学者教程将向您介绍以互动的方式执行深度学习:</p><ul class=""><li id="2868" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">你将首先了解更多关于<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#tensors" rel="noopener ugc nofollow" target="_blank">张量</a>；</li><li id="a566" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">然后，本教程将简要介绍在您的系统上安装TensorFlow的一些方法，这样您就可以开始在您的工作空间中加载数据；</li><li id="ca66" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">在这之后，你将复习一些<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#basics" rel="noopener ugc nofollow" target="_blank">张量流的基础知识</a>:你将看到如何轻松地开始简单的计算。</li><li id="b8ec" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">在这之后，你开始真正的工作:你将载入比利时交通标志的数据，并通过简单的统计和绘图来探索这些数据。</li><li id="f54d" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">在您的探索中，您将会看到有必要<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#manipulate" rel="noopener ugc nofollow" target="_blank">操纵您的数据</a>，以便您可以将其输入到您的模型中。这就是为什么你会花时间重新缩放你的图像，并将其转换为灰度。</li><li id="c3b5" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">接下来，你终于可以开始<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#model" rel="noopener ugc nofollow" target="_blank">你的神经网络模型</a>了！您将逐层构建您的模型层；</li><li id="4375" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">一旦架构建立起来，你就可以用它来<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#train" rel="noopener ugc nofollow" target="_blank">交互式地训练你的模型</a>，最终<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#evaluate" rel="noopener ugc nofollow" target="_blank">也可以通过输入一些测试数据来评估</a>。</li><li id="9763" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">最后，您将获得一些关于<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial#further" rel="noopener ugc nofollow" target="_blank">进一步</a>改进您刚刚构建的模型以及如何使用TensorFlow继续学习的指导。</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff kf"><img src="../Images/9f36cf7bfa700319381da9fcf27a61b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-MCGHECzkxZVgTe5k3HGg.png"/></div></div></figure><p id="cb32" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这里下载本教程<a class="ae jq" href="https://github.com/Kacawi/datacamp-community/blob/master/TensorFlow%20Tutorial%20For%20Beginners/TensorFlow%20Tutorial%20For%20Beginners.ipynb" rel="noopener ugc nofollow" target="_blank">的笔记本。</a></p><p id="9c53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，你可能会对关于Python深度学习的课程感兴趣，比如DataCamp的Keras教程。</p><h1 id="3d29" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">张量介绍</h1><p id="6f1d" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">为了更好地理解张量，有一些线性代数和向量微积分的工作知识是很好的。你已经在介绍中读到张量在TensorFlow中是作为多维数据数组实现的，但是为了完全掌握张量及其在机器学习中的用途，可能还需要更多的介绍。</p><p id="8e9e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在你学习平面向量之前，最好先修改一下“向量”的概念；向量是特殊类型的矩阵，是数字的矩形阵列。因为向量是有序的数字集合，所以它们通常被视为列矩阵:它们只有一列和一定数量的行。换句话说，你也可以把向量看作是有方向的标量。</p><p id="067c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">记住</strong>:标量的一个例子是“5米”或“60米/秒”，而矢量是，例如，“北5米”或“东60米/秒”。这两者的区别很明显，向量是有方向的。然而，到目前为止，你所看到的这些例子可能与你在处理机器学习问题时可能遇到的向量相去甚远。这很正常；数学向量的长度是一个纯数字:它是绝对的。另一方面，方向是相对的:它是相对于某个参考方向测量的，单位是弧度或度。通常假设方向为正，从参考方向逆时针旋转。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/315f62d1f04a6d133ecdc0a0de6f4314.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/0*h1KlGM2CYPeyVwUp.png"/></div></figure><p id="aca1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，从视觉上来说，你用箭头表示矢量，就像你在上图中看到的那样。这意味着你也可以把向量看作有方向和长度的箭头。方向用箭头的头部表示，长度用箭头的长度表示。</p><p id="4215" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么平面向量呢？</p><p id="3ff7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">平面向量是最简单的张量设置。正如你在上面看到的，它们很像常规向量，唯一的区别是它们在向量空间中。为了更好地理解这一点，让我们从一个例子开始:你有一个向量是<em class="jp"> 2 X 1 </em>。这意味着向量属于一组一次成对出现的实数。换句话说，它们是二维空间的一部分。在这种情况下，您可以用箭头或射线来表示坐标<em class="jp"> (x，y) </em>平面上的向量。</p><p id="a131" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从这个坐标平面开始，在标准位置，向量的端点在原点<em class="jp"> (0，0) </em>，通过查看向量的第一行，您可以导出<em class="jp"> x </em>坐标，而您将在第二行找到<em class="jp"> y </em>坐标。当然，这个标准位置并不总是需要保持:向量可以在平面内平行于自身移动，而不会经历变化。</p><p id="2ed2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>类似地，对于大小为<em class="jp"> 3 X 1 </em>的向量，你说的是三个空间。您可以将矢量表示为一个三维图形，箭头指向矢量空间中的位置:它们绘制在标准的<em class="jp"> x </em>、<em class="jp"> y </em>和<em class="jp"> z </em>轴上。</p><p id="8e28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有这些向量，并把它们表示在坐标平面上是很好的，但本质上，你有这些向量，所以你可以对它们进行运算，有一件事可以帮助你做到这一点，就是把你的向量表示为基向量或单位向量。</p><p id="1cfc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">单位向量是大小为1的向量。你经常会通过一个带扬抑符的小写字母，或者“帽子”来识别单位向量。如果您想将二维或三维矢量表示为两个或三个正交分量之和，例如x轴和y轴或z轴，单位矢量会很方便。</p><p id="d514" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当你谈论表达一个向量时，例如，作为分量的和，你会看到你谈论的是分量向量，是两个或更多的向量，它们的和是给定的向量。</p><p id="a7ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>:观看<a class="ae jq" href="https://www.youtube.com/watch?v=f5liqUk0ZTw" rel="noopener ugc nofollow" target="_blank">这段视频</a>，借助简单的家居物件解释了张量是什么！</p><p id="3e75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除了平面向量，还有向量和线性算子，这三种情况有一个共同点:它们是张量的特殊情况。您还记得在前面的章节中，向量是如何被描述为标量大小的，并给出了一个方向。因此，张量是一个物理实体的数学表示，可以用大小和多个方向来表征。</p><p id="6322" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就像你在三维空间中用一个数字表示一个标量，用三个数字的序列表示一个矢量一样，例如，一个张量可以用三维空间中的3R个数字的数组来表示。</p><p id="0ee9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个符号中的“R”代表张量的秩:这意味着在三维空间中，一个二阶张量可以用3的2次方或9次方来表示。在n维空间中，标量仍然只需要一个数，而向量需要n个数，张量需要N^R数。这解释了为什么你经常听到标量是秩为0的张量:由于它们没有方向，你可以用一个数来表示它们。</p><p id="e85e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">记住这一点，识别标量、向量和张量并把它们区分开来就相当容易了:标量可以用一个数字来表示，向量可以用一组有序的数字来表示，张量可以用一组数字来表示。</p><p id="7e35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">张量之所以如此特殊，是因为分量和基向量的组合:基向量在参考系之间单向变换，而分量变换的方式恰好使分量和基向量之间的组合保持不变。</p><h1 id="a1bf" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">安装TensorFlow</h1><p id="09af" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">现在您对TensorFlow有了更多的了解，是时候开始安装这个库了。在这里，很高兴知道TensorFlow提供了Python、C++、Haskell、Java、Go、Rust的API，还有一个R的第三方包叫做<code class="eh lv lw lx ly b">tensorflow</code>。</p><p id="c920" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>:如果你想了解更多R中的深度学习包，可以考虑查看DataCamp的<a class="ae jq" href="https://www.datacamp.com/community/tutorials/keras-r-deep-learning" rel="noopener ugc nofollow" target="_blank">keras:R中的深度学习教程</a>。</p><p id="c6e2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本教程中，您将下载TensorFlow的一个版本，该版本将使您能够用Python编写深度学习项目的代码。在<a class="ae jq" href="https://www.tensorflow.org/install/" rel="noopener ugc nofollow" target="_blank"> TensorFlow安装网页</a>上，您将看到使用<code class="eh lv lw lx ly b">virtualenv</code>、<code class="eh lv lw lx ly b">pip</code>、Docker安装TensorFlow的一些最常用的方法和最新说明，最后，还有一些在您的个人电脑上安装TensorFlow的其他方法。</p><p id="5a43" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>如果你在Windows上工作，你也可以用Conda安装TensorFlow。不过，由于TensorFlow的安装是社区支持的，所以最好查看一下<a class="ae jq" href="https://www.tensorflow.org/install/install_windows" rel="noopener ugc nofollow" target="_blank">官方安装说明</a>。</p><p id="bbf6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您已经完成了安装过程，是时候通过将TensorFlow导入到您的工作区，并使用别名<code class="eh lv lw lx ly b">tf</code>来仔细检查您是否已经正确安装了tensor flow:</p><pre class="kg kh ki kj fq lz ly ma mb aw mc dt"><span id="4ce7" class="md ks hu ly b fv me mf l mg mh">import tensorflow as tf</span></pre><p id="880d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">请注意</strong>您在上面的代码行中使用的别名是一种约定——它用于确保您一方面与在数据科学项目中使用TensorFlow的其他开发人员保持一致，另一方面与开源TensorFlow项目保持一致。</p><h1 id="3d5b" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">TensorFlow入门:基础知识</h1><p id="fa94" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">你通常会编写TensorFlow程序，这些程序是作为一个块来运行的；当你使用Python时，乍一看这是矛盾的。但是，如果您愿意，您也可以使用TensorFlow的交互式会话，您可以使用该会话与库进行更多的交互。当您习惯使用IPython时，这尤其方便。</p><p id="e210" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于本教程，您将专注于第二个选项:这将帮助您在TensorFlow中快速启动深度学习。但是，在您进一步深入之前，让我们先尝试一些小东西，然后再开始繁重的工作。</p><p id="066b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，导入别名为<code class="eh lv lw lx ly b">tf</code>的<code class="eh lv lw lx ly b">tensorflow</code>库，正如您在上一节中看到的。然后初始化两个实际上是常量的变量。将四个数字的数组传递给<code class="eh lv lw lx ly b">constant()</code>函数。</p><p id="98d7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>你也可以传入一个整数，但是更多的时候，你会发现自己在处理数组。正如你在介绍中看到的，张量都是关于数组的！所以一定要传入一个数组:)接下来，你可以用<code class="eh lv lw lx ly b">multiply()</code>把你的两个变量相乘。将结果存储在<code class="eh lv lw lx ly b">result</code>变量中。最后，借助<code class="eh lv lw lx ly b">print()</code>功能打印出<code class="eh lv lw lx ly b">result</code>。在这里找到练习<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="8ba1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>您已经在上面的DataCamp Light代码块中定义了常量。然而，还有另外两种类型的值可以使用，即<a class="ae jq" href="https://www.tensorflow.org/api_docs/python/tf/placeholder" rel="noopener ugc nofollow" target="_blank">占位符</a>，它们是未赋值的值，将在运行会话时由会话初始化。就像已经给出的名字一样，它只是一个张量的占位符，当会话运行时，这个张量将总是被填充；还有<a class="ae jq" href="https://www.tensorflow.org/api_docs/python/tf/Variable" rel="noopener ugc nofollow" target="_blank">变量</a>，是可以变化的值。正如你可能已经收集到的，常量是不会改变的值。</p><p id="1f6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">代码行的结果是计算图中的抽象张量。然而，与你所期望的相反，<code class="eh lv lw lx ly b">result</code>实际上并没有被计算出来；它只是定义了模型，但没有运行任何流程来计算结果。您可以在打印结果中看到这一点:实际上没有您想要看到的结果(即30)。这意味着TensorFlow有懒评！</p><p id="ead0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，如果您想看到结果，您必须在交互式会话中运行这段代码。你可以用几种方法做到这一点，如下面的DataCamp Light代码块<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">所示。</a></p><p id="f59c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>您也可以使用以下代码行启动一个交互式会话，运行<code class="eh lv lw lx ly b">result</code>并在打印<code class="eh lv lw lx ly b">output.</code>后再次自动关闭会话</p><p id="ae99" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上面的代码块<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">中，您刚刚定义了一个默认会话，但是知道您也可以传入选项也很好。例如，您可以指定<code class="eh lv lw lx ly b">config</code>参数，然后使用<code class="eh lv lw lx ly b">ConfigProto</code>协议缓冲区为您的会话添加配置选项。</a></p><p id="8e53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，如果您将<code class="eh lv lw lx ly b">config=tf.ConfigProto(log_device_placement=True)</code>添加到您的会话中，您需要确保记录分配给某个操作的GPU或CPU设备。然后，您将获得在每个操作的会话中使用了哪些设备的信息。您也可以使用以下配置会话，例如，当您对设备放置使用软约束时:<code class="eh lv lw lx ly b">config=tf.ConfigProto(allow_soft_placement=True)</code>。</p><p id="779f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您已经安装了TensorFlow并将其导入到您的工作空间中，并且已经了解了使用该包的基本知识，现在是时候将它放在一边，将注意力转移到您的数据上了。就像往常一样，在开始对神经网络建模之前，您将首先花时间探索和更好地理解您的数据。</p><h1 id="1738" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">比利时交通标志:背景</h1><p id="90e2" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">尽管交通是一个大家都知道的话题，但在开始之前，简单浏览一下这个数据集中包含的观察结果，看看自己是否理解了所有内容，并无大碍。实质上，在这一节中，您将快速掌握本教程中需要进一步掌握的领域知识。</p><p id="e7bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，因为我是比利时人，我保证你也会得到一些趣闻:)</p><ul class=""><li id="9ba5" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">比利时的交通标志通常用荷兰语和法语。知道这一点很好，但是对于您将要使用的数据集来说，这并不太重要！</li><li id="8609" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">比利时有六种交通标志:警告标志、优先标志、禁止标志、强制标志、与停车和停在路上有关的标志，最后是指示标志。</li><li id="eefe" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">2017年1月1日，比利时道路上移除了3万多个交通标志。这些都是与速度有关的禁止标志。</li><li id="8571" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">谈到拆除，交通标志的大量存在一直是比利时(以及整个欧盟)正在讨论的问题。</li></ul><h1 id="696c" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">加载和浏览数据</h1><p id="b785" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">现在你已经收集了更多的背景信息，是时候下载数据集<a class="ae jq" href="http://btsd.ethz.ch/shareddata/" rel="noopener ugc nofollow" target="_blank">了。您应该会在“BelgiumTS for class ification(cropped images)”旁边看到两个zip文件，分别名为“BelgiumTSC_Training”和“BelgiumTSC_Testing”。</a></p><p id="4daf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>:如果你已经下载了文件，或者在完成本教程后将要这样做，看看你已经下载的数据的文件夹结构！您将看到测试文件夹和训练数据文件夹包含61个子文件夹，它们是您将在本教程中用于分类的62种类型的交通标志。此外，您会发现这些文件具有文件扩展名<code class="eh lv lw lx ly b">.ppm</code>或便携位图格式。您已经下载了交通标志的图像！</p><p id="4b69" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们开始将数据导入您的工作区。让我们从用户定义的函数(UDF) <code class="eh lv lw lx ly b">load_data()</code>下面的代码行开始:</p><ul class=""><li id="4edf" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">首先，设定你的<code class="eh lv lw lx ly b">ROOT_PATH</code>。这个路径是您用培训和测试数据创建目录的路径。</li><li id="a6a7" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">接下来，您可以借助<code class="eh lv lw lx ly b">join()</code>功能将特定路径添加到您的<code class="eh lv lw lx ly b">ROOT_PATH</code>中。你把这两条具体路径存储在<code class="eh lv lw lx ly b">train_data_directory</code>和<code class="eh lv lw lx ly b">test_data_directory</code>里。</li><li id="a934" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">你看到之后，你可以调用<code class="eh lv lw lx ly b">load_data()</code>函数，并传递<code class="eh lv lw lx ly b">train_data_directory</code>给它。</li><li id="35fb" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">现在，<code class="eh lv lw lx ly b">load_data()</code>函数本身通过收集出现在<code class="eh lv lw lx ly b">train_data_directory</code>中的所有子目录开始；它是在列表理解的帮助下做到这一点的，这是构造列表的一种非常自然的方式——它基本上是说，如果您在<code class="eh lv lw lx ly b">train_data_directory</code>中找到了什么，您将仔细检查这是否是一个目录，如果是，您将把它添加到您的列表中。<strong class="it hv">记住</strong>每个子目录代表一个标签。</li><li id="987f" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">接下来，您必须遍历子目录。首先初始化两个列表，<code class="eh lv lw lx ly b">labels</code>和<code class="eh lv lw lx ly b">images</code>。接下来，收集子目录的路径和存储在这些子目录中的图像的文件名。之后，您可以借助<code class="eh lv lw lx ly b">append()</code>功能收集两个列表中的数据。</li></ul><p id="adf8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，在上述代码块的<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">中，训练和测试数据位于名为“training”和“Testing”的文件夹中，这两个文件夹都是另一个目录“TrafficSigns”的子目录。在本地机器上，这可能看起来像“/Users/your name/Downloads/traffic signs”，然后有两个子文件夹叫做“Training”和“Testing”。</a></p><p id="cbc0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">随着数据的加载，是时候进行一些数据检查了！借助于<code class="eh lv lw lx ly b">images</code>数组的<code class="eh lv lw lx ly b">ndim</code>和<code class="eh lv lw lx ly b">size</code>属性，您可以从一个非常简单的分析开始:</p><p id="147a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意，<code class="eh lv lw lx ly b">images</code>和<code class="eh lv lw lx ly b">labels</code>变量是列表，所以您可能需要使用<code class="eh lv lw lx ly b">np.array()</code>将变量转换成您自己工作空间中的数组。这里已经为您完成了<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank"/>！</p><p id="9fc7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>您打印出来的<code class="eh lv lw lx ly b">images[0]</code>实际上是一个由数组中的数组表示的单一图像！这起初似乎违反直觉，但随着你在机器学习或深度学习应用程序中进一步处理图像，你会习惯这一点。</p><p id="fcf6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来你也可以小看看<code class="eh lv lw lx ly b">labels</code>，不过在这一点上应该看不到太多惊喜<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="a304" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些数字已经让您对导入的成功程度和数据的确切大小有了一些了解。乍一看，一切都按照您预期的方式执行了，如果您考虑到要处理数组中的数组，您会发现数组的大小相当大。</p><p id="dcf4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>尝试将以下属性添加到您的数组中，以获得更多关于内存布局、一个数组元素的长度(以字节为单位)以及具有<code class="eh lv lw lx ly b">flags</code>、<code class="eh lv lw lx ly b">itemsize</code>和<code class="eh lv lw lx ly b">nbytes</code>属性的数组元素所消耗的总字节数的信息。您可以在上面的DataCamp Light chunk中的IPython控制台中对此进行测试！</p><p id="3d14" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，你还可以看一看交通标志的分布。</p><p id="014f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">干得好！现在让我们仔细看看你做的直方图！</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mi"><img src="../Images/cd14054e128563c45182361a9d3821fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/0*AMfBZUA_kihrX8vU.png"/></div></figure><p id="eb81" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以清楚地看到，并非所有类型的交通标志都在数据集中得到了同等的表示。这是你在开始建模你的神经网络之前，处理数据时要处理的事情。</p><p id="cf7b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">乍一看，您会发现数据集中出现了比其他标签更多的标签:标签22、32、38和61肯定会跳出来。在这一点上，记住这一点是很好的，但是在下一节中，您肯定会更深入地了解这一点！</p><p id="9bcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之前的小规模分析或检查已经让您对正在处理的数据有了一些了解，但是当您的数据主要由影像组成时，您应该采取的探索数据的步骤是将其可视化。</p><p id="9697" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们来看看一些随机的交通标志:</p><ul class=""><li id="389c" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">首先，确保您在通用别名<code class="eh lv lw lx ly b">plt</code>下导入了<code class="eh lv lw lx ly b">matplotlib</code>包的<code class="eh lv lw lx ly b">pyplot</code>模块。</li><li id="3982" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">然后，你要用4个随机数做一个列表。这些将用于从您刚刚在上一节中检查过的<code class="eh lv lw lx ly b">images</code>阵列中选择交通标志。在这种情况下，你选择<code class="eh lv lw lx ly b">300</code>、<code class="eh lv lw lx ly b">2250</code>、<code class="eh lv lw lx ly b">3650</code>和<code class="eh lv lw lx ly b">4000</code>。</li><li id="559f" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">接下来，你会说，对于列表长度中的每个元素，从0到4，你将创建没有轴的支线剧情(这样它们就不会吸引所有的注意力，你的注意力只集中在图像上！).在这些支线剧情中，你将展示一个来自<code class="eh lv lw lx ly b">images</code>数组的特定图像，它与索引<code class="eh lv lw lx ly b">i</code>中的数字一致。在第一个循环中，您将通过<code class="eh lv lw lx ly b">300</code>到<code class="eh lv lw lx ly b">images[]</code>，在第二个循环中通过<code class="eh lv lw lx ly b">2250</code>，以此类推。最后，你将调整支线剧情，使它们之间有足够的宽度。</li><li id="21dc" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">最后剩下的就是借助<code class="eh lv lw lx ly b">show()</code>功能展示你的剧情了！</li></ul><p id="921a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就对了。</p><p id="1dbb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如你从这个数据集中包含的62个标签中所猜测的那样，这些符号是互不相同的。</p><p id="d5dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是你还注意到了什么？仔细看看下面的图片:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/2cde5c07c7faaf324b9ba6848aa91a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/0*7BsNWKDf3EGijUnU.png"/></div></figure><p id="ffa7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这四张图片大小不一样！</p><p id="b4ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很明显，您可以摆弄一下<code class="eh lv lw lx ly b">traffic_signs</code>列表中包含的数字，并更彻底地跟踪这一观察结果，但尽管如此，这是一个重要的观察结果，当您开始更多地处理您的数据以便将它输入神经网络时，您需要将它考虑在内。</p><p id="0f5a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们通过打印形状、你已经包含到支线剧情中的特定图像的最小值和最大值来确认不同尺寸的假设。</p><p id="1838" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">下面的代码</a>与您用来创建上面的绘图的代码非常相似，但不同之处在于，在这里，您将替换大小和图像，而不是只绘制相邻的图像。</p><p id="aeeb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>你如何在字符串<code class="eh lv lw lx ly b">"shape: {0}, min: {1}, max: {2}"</code>上使用<code class="eh lv lw lx ly b">format()</code>方法来填充你定义的参数<code class="eh lv lw lx ly b">{0}</code>、<code class="eh lv lw lx ly b">{1}</code>和<code class="eh lv lw lx ly b">{2}</code>。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/9a25f843bf32b993f8efcce817de6f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/0*o2uLNdtEX8e64VNc.png"/></div></figure><p id="fee2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">既然您已经看到了松散的图像，您可能还想<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">重新查看您在数据探索的第一步中打印出的直方图</a>；通过绘制所有62个类的概览和属于每个类的一个图像，可以很容易地做到这一点。</p><p id="0da2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>即使你定义了64个支线剧情，也不是所有的都会显示图像(因为只有62个标签！).还要注意，你没有包括任何轴，以确保读者的注意力不会远离主题:交通标志！</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff ml"><img src="../Images/bababbe1a5bcfa689a78d375d227e943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3pSojtAI8HS0xfQf.png"/></div></div></figure><p id="8c72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如你在上面的直方图中所猜测的，有相当多的交通标志标有22、32、38和61。这个假设现在在这个图中得到了证实:您看到标签为22的有375个实例，标签为32的有316个实例，标签为38的有285个实例，最后标签为61的有282个实例。</p><p id="6f59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你现在可以问自己的一个最有趣的问题是，所有这些例子之间是否有联系——也许它们都是指示符号？</p><p id="f938" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们仔细看看:你看到标签22和32是禁止标志，但标签38和61分别是指示标志和优先标志。这意味着这四个符号之间没有直接的联系，除了在数据集中有大量出现的符号中有一半是禁止性的。</p><h1 id="b3b0" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">特征抽出</h1><p id="592e" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">既然您已经彻底研究了您的数据，现在是时候动手了！让我们简要回顾一下您的发现，以确保您不会忘记操作中的任何步骤:</p><ul class=""><li id="d0ce" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">图像的大小是不平等的；</li><li id="1cac" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">有62个标签或目标值(因为你的标签从0开始，到61结束)；</li><li id="1d00" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">交通标志值的分布很不均匀；数据集中大量出现的符号之间并没有真正的联系。</li></ul><p id="7657" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在你已经清楚地知道你需要改进什么了，你可以开始处理你的数据，这样它就可以输入到神经网络或者你想输入的任何模型中。让我们首先从提取一些特征开始——您将重新缩放图像，并将保存在<code class="eh lv lw lx ly b">images</code>数组中的图像转换为灰度。您将进行这种颜色转换，主要是因为颜色在分类问题中不太重要，就像您现在正在尝试回答的问题一样。然而，对于检测来说，颜色确实起了很大的作用！因此，在这些情况下，不需要进行转换！</p><p id="657a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了解决不同的图像尺寸，你要重新缩放图像；在<code class="eh lv lw lx ly b">skimage</code>或Scikit-Image库的帮助下，你可以很容易地做到这一点，sci kit-Image库是图像处理算法的集合。</p><p id="c756" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这种情况下，<code class="eh lv lw lx ly b">transform</code>模块将派上用场，因为它为您提供了一个<code class="eh lv lw lx ly b">resize()</code>功能；你会看到你利用了列表理解(再次！)将每个图像的大小调整为28×28像素。再一次，您看到了您实际上形成列表的方式:对于您在<code class="eh lv lw lx ly b">images</code>数组中找到的每个图像，您将执行从<code class="eh lv lw lx ly b">skimage</code>库中借用的转换操作。最后，将结果存储在<code class="eh lv lw lx ly b">images28</code>变量中:</p><pre class="kg kh ki kj fq lz ly ma mb aw mc dt"><span id="1193" class="md ks hu ly b fv me mf l mg mh"># Import the `transform` module from `skimage` <br/>from skimage import transform </span><span id="536b" class="md ks hu ly b fv mm mf l mg mh"># Rescale the images in the `images` array <br/>images28 = [transform.resize(image, (28, 28)) for image in images]</span></pre><p id="bcd8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这相当容易，不是吗？</p><p id="bcbe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>图像现在是四维的:如果您将<code class="eh lv lw lx ly b">images28</code>转换为一个数组，并且将属性<code class="eh lv lw lx ly b">shape</code>连接到它，您会看到打印输出告诉您<code class="eh lv lw lx ly b">images28</code>的维度是<code class="eh lv lw lx ly b">(4575, 28, 28, 3)</code>。这些图像是784维的(因为你的图像是28×28像素)。</p><p id="c420" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以通过在<code class="eh lv lw lx ly b">traffic_signs</code>变量的帮助下，重新使用上述用于绘制4幅随机图像的代码来检查重新缩放操作的结果；只是不要忘记将所有对<code class="eh lv lw lx ly b">images</code>的引用都改为<code class="eh lv lw lx ly b">images28</code>。</p><p id="d478" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">点击这里查看结果:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/14dcd553153e754b3ee81c1145183d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/0*UvN5S2tb5JmGSuNL.png"/></div></figure><p id="ff8c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>因为你重新缩放，你的<code class="eh lv lw lx ly b">min</code>和<code class="eh lv lw lx ly b">max</code>值也发生了变化；它们现在似乎都在相同的范围内，这真的很好，因为这样你就不需要标准化你的数据了！</p><p id="5ccb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如在本节教程的介绍中所说，当你试图回答一个分类问题时，图片的颜色并不重要。这就是为什么你也要经历将图像转换成灰度的麻烦。</p><p id="9fbe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>，然而，你也可以自己测试一下，如果你不按照这个特定的步骤去做，你的模型的最终结果会怎么样。</p><p id="9a00" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就像重新缩放一样，您可以再次依靠Scikit-Image库来帮助您；在这种情况下，您需要使用带有<code class="eh lv lw lx ly b">rgb2gray()</code>函数的<code class="eh lv lw lx ly b">color</code>模块来到达您需要的地方。</p><p id="e3d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那会很好很容易！</p><p id="8855" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，不要忘记将<code class="eh lv lw lx ly b">images28</code>变量转换回一个数组，因为<code class="eh lv lw lx ly b">rgb2gray()</code>函数确实需要一个数组作为参数。</p><pre class="kg kh ki kj fq lz ly ma mb aw mc dt"><span id="ac81" class="md ks hu ly b fv me mf l mg mh"># Import `rgb2gray` from `skimage.color` <br/>from skimage.color import rgb2gray </span><span id="a6bc" class="md ks hu ly b fv mm mf l mg mh"># Convert `images28` to an array <br/>images28 = np.array(images28) </span><span id="3869" class="md ks hu ly b fv mm mf l mg mh"># Convert `images28` to grayscale <br/>images28 = rgb2gray(images28)</span></pre><p id="4b18" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过绘制一些图像来仔细检查灰度转换的结果；<a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank">在这里</a>，您可以再次重用并稍微修改一些代码来显示调整后的图像。</p><p id="618a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>您确实需要指定彩色地图或<code class="eh lv lw lx ly b">cmap</code>并将其设置为<code class="eh lv lw lx ly b">"gray"</code>来绘制灰度图像。这是因为<code class="eh lv lw lx ly b">imshow()</code>默认使用类似热图的颜色图。点击阅读更多<a class="ae jq" href="https://stackoverflow.com/questions/39805697/skimage-why-does-rgb2gray-from-skimage-color-result-in-a-colored-image" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/913169f1f62639be2644d171624bf7ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/0*0xSp4sD3zqtJVJBH.png"/></div></figure><p id="cc44" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>:由于你在本教程中反复使用了这个函数，你可能会考虑如何把它变成一个函数:)</p><p id="f335" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这两个步骤是非常基本的；您可以在数据上尝试的其他操作包括数据扩充(旋转、模糊、移动、改变亮度等)。如果你愿意，你也可以建立一个完整的数据操作管道来发送你的图像。</p><h1 id="63df" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">使用TensorFlow进行深度学习</h1><p id="dc4e" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">现在，您已经探索并操作了您的数据，是时候在TensorFlow包的帮助下构建您的神经网络架构了！</p></div><div class="ab cl mo mp hc mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="hn ho hp hq hr"><p id="277a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">这里继续阅读</em><a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank"><em class="jp"/></a><em class="jp">。</em></p></div><div class="ab cl mo mp hc mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="hn ho hp hq hr"><h1 id="30c5" class="kr ks hu bd kt ku mv kw kx ky mw la lb lc mx le lf lg my li lj lk mz lm ln lo dt translated">接下来去哪里？</h1><p id="fabd" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">如果您想继续使用此数据集和您在本教程中放在一起的模型，请尝试以下操作:</p><ul class=""><li id="e997" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">在将数据提供给模型之前，对数据应用正则化LDA。这是一个来自原始论文之一的建议，由收集和分析该数据集的研究人员撰写。</li><li id="7c43" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">如教程中所述，您还可以查看一些可以在交通标志图像上执行的其他数据增强操作。此外，你也可以尝试进一步调整这个网络；您现在创建的这个非常简单。</li><li id="2d43" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">早期停止:在训练神经网络时，跟踪训练和测试错误。当两个错误都下降，然后突然回升时，停止训练——这是神经网络开始过度拟合训练数据的迹象。</li><li id="944e" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">和优化者一起玩。</li></ul><p id="7282" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一定要看看Nishant Shukla写的《使用TensorFlow进行机器学习》一书。</p><p id="374a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">提示</strong>还可以去看看<a class="ae jq" href="http://playground.tensorflow.org/#activation=tanh&amp;batchSize=10&amp;dataset=circle&amp;regDataset=reg-plane&amp;learningRate=0.03&amp;regularizationRate=0&amp;noise=0&amp;networkShape=4,2&amp;seed=0.90110&amp;showTestData=false&amp;discretize=false&amp;percTrainData=50&amp;x=true&amp;y=true&amp;xTimesY=false&amp;xSquared=false&amp;ySquared=false&amp;cosX=false&amp;sinX=false&amp;cosY=false&amp;sinY=false&amp;collectStats=false&amp;problem=classification&amp;initZero=false&amp;hideText=false" rel="noopener ugc nofollow" target="_blank"> TensorFlow游乐场</a>和<a class="ae jq" href="https://www.tensorflow.org/get_started/summaries_and_tensorboard" rel="noopener ugc nofollow" target="_blank"> TensorBoard </a>。</p><p id="6ddd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想继续处理图像，一定要看看DataCamp的<a class="ae jq" href="https://www.datacamp.com/community/tutorials/machine-learning-python" rel="noopener ugc nofollow" target="_blank"> scikit-learn教程</a>，它在PCA、K-Means和支持向量机(SVM)的帮助下处理MNIST数据集。或者看看其他教程，比如使用比利时交通标志数据集的<a class="ae jq" href="https://github.com/waleedka/traffic-signs-tensorflow/blob/master/notebook1.ipynb" rel="noopener ugc nofollow" target="_blank">这一个</a>。</p></div><div class="ab cl mo mp hc mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="hn ho hp hq hr"><p id="f619" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">原载于</em><a class="ae jq" href="https://www.datacamp.com/community/tutorials/tensorflow-tutorial" rel="noopener ugc nofollow" target="_blank"><em class="jp">www.datacamp.com</em></a><em class="jp">。</em></p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="na nb l"/></div></figure></div></div>    
</body>
</html>