<html>
<head>
<title>Logging slow Ecto queries: adventures in metaprogramming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">记录慢速Ecto查询:元编程历险记</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/logging-slow-ecto-queries-adventures-in-metaprogramming-110f3472be33?source=collection_archive---------5-----------------------#2017-04-06">https://medium.com/hackernoon/logging-slow-ecto-queries-adventures-in-metaprogramming-110f3472be33?source=collection_archive---------5-----------------------#2017-04-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/852db88c18f39e1e6519aadcf73a8062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82P9XYb30A1lVc744JaInw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Travis Warren via <a class="ae jg" href="https://www.flickr.com/photos/travis_warren123/4229031035/in/photolist-7rGTAc-9rCpAB-9rFiHY-9rFhCm-9rCrc8-6nifBe-gVq68-3CZHAC-6nnYzL-9rCnMD-9rCpqe-6nnCyq-5Fasi3-6niERM-9rFneS-9rCoSK-9rCoqk-4ATf5R-9rCqhi-4jEvec-9rFjaC-9rCkJt-bPnq62-9ngRXP-bPnnkt-bAsH5o-BFYkr-bqCcAa-bPniWK-dtJDV4-5An3R-5YjXCa-apogJM-8u5H53-jAqs1-bPneFk-apqZQ1-bAsJS9-4wbPVG-bPn7dH-2pvH9P-bAsKhC-bPnkHH-apqZGh-bPnpG6-apogav-apogT8-apqZEU-bPn4Zi-yiuZN" rel="noopener ugc nofollow" target="_blank">Flickr</a></figcaption></figure><p id="c310" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">缓慢的数据库查询是我的一大烦恼。无论是缺少索引、昂贵的连接还是N+1，数据库性能灾难都会以多种方式出现。</p><p id="0f20" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这就是为什么追踪缓慢查询的来源如此重要。虽然Postgres可以很容易地记录缓慢的查询，但是没有办法追踪到发出查询的代码行。这是个问题。</p><p id="1e15" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们可以用Elixir开发者工具箱中最像James Halliday的工具来解决这个问题:元编程。到本文结束时，您将在一项有意义的工作中运用您的元编程能力:识别Phoenix应用程序中缓慢的Ecto查询的来源。</p><h1 id="e141" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">目标:记录慢速Ecto查询的来源</h1><p id="76dd" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">对于每个超过500毫秒的Ecto查询，我们希望记录查询执行时间、原始SQL和对源的回溯:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h1 id="6c88" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">从哪里开始？</h1><p id="8baa" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">添加<a class="ae jg" href="https://alexgaribay.com/2016/02/27/using-elixometer-with-phoenix/" rel="noopener ugc nofollow" target="_blank">一个额外的Ecto logger </a>似乎是一个清晰的起点，对吗？我们甚至不需要元编程！这使我们能够访问原始查询及其执行时间。这里我记录了所有耗时超过500毫秒的查询:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="310a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">示例输出:</p><pre class="li lj lk ll fq lo lp lq lr aw ls dt"><span id="35b6" class="lt kg hu lp b fv lu lv l lw lx">[info] Slow!!!!: SELECT g0."id", g0."install_id", g0."email", g0."raw_payload", g0."deleted_at", g0."inserted_at", g0."updated_at" FROM "github_integrations" AS g0</span></pre><p id="4f4c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在，我们只需要回溯就行了。</p><p id="14eb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">但是，有一个问题</strong>:在<code class="eh ly lz ma lp b">trace/1</code>中不能追溯到生成查询的应用程序代码。如果您试图通过<code class="eh ly lz ma lp b">Ecto.LogTrace.trace/1</code>内部的<code class="eh ly lz ma lp b">Process.info/2</code>获取回溯，它不会返回到您的定制应用程序代码。相反，您将看到这样的回溯— <em class="mb">注意，这里没有对控制器</em>的引用，例如:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><blockquote class="mc md me"><p id="1344" class="jh ji mb jj b jk jl jm jn jo jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd ke hn dt translated">PSA:不想搞这个？我们正在构建<strong class="jj hv"> Elixir应用程序监控</strong>在我的日常工作中，它会为你完成大部分工作。<a class="ae jg" href="https://apm.scoutapp.com/elixir" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv">提前预约</strong> </a>。</p></blockquote><h1 id="9c62" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">现在怎么办？</h1><p id="0bdd" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">让我们覆盖公共的Ecto查询函数。<em class="mb">这并不理想</em>:我们需要确保覆盖所有的函数。如果函数签名或名称在以后的版本中改变了，我们将无法捕获一些缓慢的查询和/或可能在编译时中断。</p><p id="edcf" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">元编程的危险就在于此。</p><p id="3d3a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">计划是:</p><ol class=""><li id="7540" class="mi mj hu jj b jk jl jo jp js mk jw ml ka mm ke mn mo mp mq dt translated">让我们的应用程序的<code class="eh ly lz ma lp b">repo.ex</code>扩展我们在将要创建的<code class="eh ly lz ma lp b">SlowLogger.Ecto</code>模块中定义的宏。</li><li id="8195" class="mi mj hu jj b jk mr jo ms js mt jw mu ka mv ke mn mo mp mq dt translated"><code class="eh ly lz ma lp b">SlowLogger.Ecto</code>将动态创建一个新的模块<code class="eh ly lz ma lp b">YourApp.Repo.SlowLogger</code>，它包装了Ecto查询函数。我们就能确定他们的执行时间并追踪他们的行踪。</li><li id="72e8" class="mi mj hu jj b jk mr jo ms js mt jw mu ka mv ke mn mo mp mq dt translated">别名<code class="eh ly lz ma lp b">YourApp.Repo.SlowLogger</code>为<code class="eh ly lz ma lp b">Repo</code>，这样我们的查询将被默认跟踪。</li></ol><h2 id="d5fb" class="lt kg hu bd kh mw mx my kl mz na nb kp js nc nd kt jw ne nf kx ka ng nh lb ni dt translated">回购. ex</h2><p id="557a" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">这是我们更新的回购模块:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h2 id="ddf3" class="lt kg hu bd kh mw mx my kl mz na nb kp js nc nd kt jw ne nf kx ka ng nh lb ni dt translated">斯洛格。埃克托</h2><p id="3cf0" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">当这个模块被<code class="eh ly lz ma lp b">repo.ex</code>使用时，一个新的模块<code class="eh ly lz ma lp b">YourApp.Repo.SlowLogger</code>被动态创建。多么meta！这个模块包装了像<code class="eh ly lz ma lp b">query</code>、<code class="eh ly lz ma lp b">all</code>和<code class="eh ly lz ma lp b">update</code>这样的Ecto查询函数。我们就能确定他们的执行时间并追踪他们的行踪。</p><p id="daf4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="mb">这是实现</em>的肉。<a class="ae jg" href="https://gist.github.com/itsderek23/f83a3f24d9a417c87da4993e8ce9db48" rel="noopener ugc nofollow" target="_blank">这里是模块源码</a>。让我们走一遍。</p><p id="ad4e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们如何覆盖Ecto函数？</p><p id="ce07" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">技术上来说，我们不能。只有通过<code class="eh ly lz ma lp b"><a class="ae jg" href="https://hexdocs.pm/elixir/Kernel.html#defoverridable/1" rel="noopener ugc nofollow" target="_blank">defoverridable</a></code>关键字引用的Elixir函数才能被直接覆盖。运行查询的Ecto函数——<code class="eh ly lz ma lp b">all</code>、<code class="eh ly lz ma lp b">query</code>、<code class="eh ly lz ma lp b">update</code>等——没有被列为可重写的。</p><p id="0555" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们可以解决这个问题。我们将动态创建一个新模块。这个模块包含在我们的<code class="eh ly lz ma lp b">Repo</code>模块中，我们将定义函数来包装对像<code class="eh ly lz ma lp b">unquote(__MODULE__).query(a)</code>一样需要它的模块的调用。</p><p id="a293" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh ly lz ma lp b"><strong class="jj hv">Module.__using__/1</strong></code></p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="51e1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当在<code class="eh ly lz ma lp b">repo.ex</code>内部调用<code class="eh ly lz ma lp b"><a class="ae jg" href="http://www.zohaib.me/use-in-elixir-explained/" rel="noopener ugc nofollow" target="_blank">use</a></code>宏时，调用该函数。通常这样做是为了在调用模块内部注入函数(<code class="eh ly lz ma lp b">YourApp.Repo</code>)，在这种情况下，代码会创建一个完整的子模块。</p><p id="06b4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"/><code class="eh ly lz ma lp b"><a class="ae jg" href="http://elixir-lang.org/getting-started/meta/quote-and-unquote.html" rel="noopener ugc nofollow" target="_blank"><strong class="jj hv">quote</strong></a></code><strong class="jj hv">宏</strong></p><p id="39d3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们已经定义了希望在双重嵌套的<code class="eh ly lz ma lp b">quote</code>块中跟踪慢速查询的Ecto函数。外部的<code class="eh ly lz ma lp b">quote</code>块通过<code class="eh ly lz ma lp b">use</code>放在调用模块中。内部引用块包含分配给一个<code class="eh ly lz ma lp b">content</code>变量的函数定义。<code class="eh ly lz ma lp b">quote</code>块生成一段独立的代码:它不会立即执行。</p><p id="a564" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh ly lz ma lp b"><strong class="jj hv">__trace/1</strong></code></p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="cabf" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将进行实际的跟踪:我们记录start_time，调用函数，并记录end_time。</p><p id="7e53" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh ly lz ma lp b"><strong class="jj hv">Module.create/3</strong></code></p><p id="847c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh ly lz ma lp b">Module.create(slow_logger_repo_module, contents, __ENV__)</code></p><p id="ccb5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将从内部的<code class="eh ly lz ma lp b">quote</code>块中获取内容，并创建我们的新模块来跟踪我们的回购查询。我们将使用这个模块来运行Ecto查询。</p><h2 id="a790" class="lt kg hu bd kh mw mx my kl mz na nb kp js nc nd kt jw ne nf kx ka ng nh lb ni dt translated">web.ex</h2><p id="d033" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">我们将在<code class="eh ly lz ma lp b">web.ex</code>中为动态创建的模块<code class="eh ly lz ma lp b">YourApp.Repo.SlowLogger</code>起别名，这样我们对<code class="eh ly lz ma lp b">Repo</code>的调用就通过我们的跟踪来路由:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h2 id="4180" class="lt kg hu bd kh mw mx my kl mz na nb kp js nc nd kt jw ne nf kx ka ng nh lb ni dt translated">嘣！痕迹！</h2><p id="1f4b" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">我们现在记录对缓慢的Ecto函数调用的跟踪。</p><h1 id="d295" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">我可以同时拥有原始SQL和回溯吗？</h1><p id="f88b" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">此时，我们知道如何:</p><ol class=""><li id="1dd5" class="mi mj hu jj b jk jl jo jp js mk jw ml ka mm ke mn mo mp mq dt translated">记录慢速查询的原始SQL</li><li id="c840" class="mi mj hu jj b jk mr jo ms js mt jw mu ka mv ke mn mo mp mq dt translated">记录对慢速Ecto函数调用的回溯</li></ol><p id="fe39" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们没有把它们结合在一起:既看到慢速查询的原始SQL，又看到其源代码位置的相关回溯给出了完整的画面。</p><h2 id="a1e9" class="lt kg hu bd kh mw mx my kl mz na nb kp js nc nd kt jw ne nf kx ka ng nh lb ni dt translated">处理/放置和处理/获取</h2><p id="c70b" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">我们的结婚戒指将成为长生不老药的过程字典。将日志条目存储在流程字典中，并从我们的跟踪逻辑中获取它。</p><p id="95fc" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在我们的Ecto logger中，我们将把日志条目放在进程字典中:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="8a52" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">…并获取<code class="eh ly lz ma lp b">__trace/1</code>中的日志条目:</p><p id="ab16" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh ly lz ma lp b">log_entry = Process.get(:ecto_log_entry)</code></p><p id="7a3d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">嘣！我们什么都有了:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h1 id="e0ef" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="219b" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">以下是记录慢速Ecto查询的说明:</p><ol class=""><li id="edd5" class="mi mj hu jj b jk jl jo jp js mk jw ml ka mm ke mn mo mp mq dt translated">将<code class="eh ly lz ma lp b">web.ex</code>中的回购别名更改为<code class="eh ly lz ma lp b">YourApp.Repo.SlowLogger</code>。</li><li id="67f1" class="mi mj hu jj b jk mr jo ms js mt jw mu ka mv ke mn mo mp mq dt translated">将<code class="eh ly lz ma lp b">Ecto</code>记录器添加到<code class="eh ly lz ma lp b">config.exs</code>:</li></ol><pre class="li lj lk ll fq lo lp lq lr aw ls dt"><span id="2b84" class="lt kg hu lp b fv lu lv l lw lx">config :yourapp, YourApp.Repo,  <br/>  loggers: [{Ecto.LogEntry, :log, []}, {Ecto.LogTrace, :trace, []}]</span></pre><p id="b6bb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">3.将<code class="eh ly lz ma lp b"><a class="ae jg" href="https://gist.github.com/itsderek23/f83a3f24d9a417c87da4993e8ce9db48" rel="noopener ugc nofollow" target="_blank">SlowLogger.Ecto</a></code>放到你的<code class="eh ly lz ma lp b">lib/</code>文件夹中。</p><p id="a1ac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">4.将<code class="eh ly lz ma lp b"><a class="ae jg" href="https://gist.github.com/itsderek23/03c29bd3077b6e17a43f5233221eb8b3" rel="noopener ugc nofollow" target="_blank">Ecto.LogTrace</a></code>放到你的<code class="eh ly lz ma lp b">lib/</code>文件夹中。</p><p id="112a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">5.将下面一行添加到您的<code class="eh ly lz ma lp b">repo.ex</code>文件中:<code class="eh ly lz ma lp b">use SlowLogger.Ecto.</code></p><blockquote class="mc md me"><p id="7283" class="jh ji mb jj b jk jl jm jn jo jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd ke hn dt translated">PSA:咻…太多的步骤？我们正在构建<strong class="jj hv"> Elixir应用程序监控</strong>，它将在我的日常工作中为你完成大部分工作。<a class="ae jg" href="https://apm.scoutapp.com/elixir" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv">报名提前接入</strong> </a>。</p></blockquote><div class="li lj lk ll fq ab cb"><figure class="nj iv nk nl nm nn no paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nj iv nk nl nm nn no paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nj iv nk nl nm nn no paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mc md me"><p id="f922" class="jh ji mb jj b jk jl jm jn jo jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd ke hn dt translated"><a class="ae jg" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jg" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jg" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jg" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jh ji mb jj b jk jl jm jn jo jp jq jr mf jt ju jv mg jx jy jz mh kb kc kd ke hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jg" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jg" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff np"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>