<html>
<head>
<title>Host a web app on Twitter in a single Tweet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Twitter上的一条推文中托管一个web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/host-a-web-app-on-twitter-in-a-single-tweet-9aed28bdb350?source=collection_archive---------8-----------------------#2017-01-08">https://medium.com/hackernoon/host-a-web-app-on-twitter-in-a-single-tweet-9aed28bdb350?source=collection_archive---------8-----------------------#2017-01-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ca97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我喜欢Twitter，也喜欢编程的约束。</p><p id="0880" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我理解Twitter坚持140个字符限制的所有原因，但我不得不离开Twitter去参与任何我可能感兴趣的内容，这真的让我很恼火。在大多数情况下，外部链接要么充斥着广告，要么网站的表现糟糕透顶。对于我自己的内容，我真的不想拥有自己的网站或使用独立于我在Twitter上的连接的外部服务。</p><p id="1716" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以在假期里，我尝试了一种技术，可以将我的网络应用嵌入Twitter。看看我的视频，看看它是如何工作的:</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="jv jw l"/></div></figure><p id="ff09" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本上，这是通过将应用程序的HTML/CSS/JAVASCRIPT嵌入到一个PNG图像中来实现的，然后这个PNG图像被托管在Twitter上。就Twitter而言，它只是一个普通的旧图像，并以此对待它。有关在图像中嵌入文本的更多信息，请查看以下内容:</p><div class="jx jy fm fo jz ka"><a href="https://en.wikipedia.org/wiki/Steganography" rel="noopener  ugc nofollow" target="_blank"><div class="kb ab ej"><div class="kc ab kd cl cj ke"><h2 class="bd hv fv z el kf eo ep kg er et ht dt translated">隐写术-维基百科</h2><div class="kh l"><h3 class="bd b fv z el kf eo ep kg er et ek translated">这个术语的第一次使用记录是在1499年由约翰尼斯·特里特米乌斯在他的《隐写术》中，一篇关于…</h3></div><div class="ki l"><p class="bd b gc z el kf eo ep kg er et ek translated">en.wikipedia.org</p></div></div><div class="kj l"><div class="kk l kl km kn kj ko kp ka"/></div></div></a></div><p id="5a8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">图像的编码和解码由两个简单的浏览器书签完成。书签小程序以及如何创建书签小程序的描述如下:</p><div class="jx jy fm fo jz ka"><a href="https://en.wikipedia.org/wiki/Bookmarklet" rel="noopener  ugc nofollow" target="_blank"><div class="kb ab ej"><div class="kc ab kd cl cj ke"><h2 class="bd hv fv z el kf eo ep kg er et ht dt translated">书签-维基百科</h2><div class="kh l"><h3 class="bd b fv z el kf eo ep kg er et ek translated">bookmarklet是存储在web浏览器中的一个书签，它包含JavaScript命令，这些命令将新功能添加到…</h3></div><div class="ki l"><p class="bd b gc z el kf eo ep kg er et ek translated">en.wikipedia.org</p></div></div></div></a></div><p id="2062" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面的bookmarklet将<a class="ae jp" href="https://hackernoon.com/tagged/html" rel="noopener ugc nofollow" target="_blank"> HTML </a>编码成一个PNG图像:</p><pre class="jq jr js jt fq kq kr ks kt aw ku dt"><span id="d741" class="kv kw hu kr b fv kx ky l kz la">javascript: (function() {<br/>    function encode(a) {<br/>        if (a.length) {<br/>            var c = a.length,<br/>                e = Math.ceil(Math.sqrt(c / 3)),<br/>                f = e,<br/>                g = document.createElement("canvas"),<br/>                h = g.getContext("2d");<br/>            g.width = e, g.height = f;<br/>            var j = h.getImageData(0, 0, e, f),<br/>                k = j.data,<br/>                l = 0;<br/>            for (var m = 0; m &lt; f; m++)<br/>                for (var n = 0; n &lt; e; n++) {<br/>                    var o = 4 * (m * e) + 4 * n,<br/>                        p = a[l++],<br/>                        q = a[l++],<br/>                        r = a[l++];<br/>                    (p || q || r) &amp;&amp; (p &amp;&amp; (k[o] = ord(p)), q &amp;&amp; (k[o + 1] = ord(q)), r &amp;&amp; (k[o + 2] = ord(r)), k[o + 3] = 255)<br/>                }<br/>            return h.putImageData(j, 0, 0), h.canvas.toDataURL()<br/>        }<br/>    }<br/>    var ord = function ord(a) {<br/>            var c = a + "",<br/>                e = c.charCodeAt(0);<br/>            if (55296 &lt;= e &amp;&amp; 56319 &gt;= e) {<br/>                if (1 === c.length) return e;<br/>                var f = c.charCodeAt(1);<br/>                return 1024 * (e - 55296) + (f - 56320) + 65536<br/>            }<br/>            return 56320 &lt;= e &amp;&amp; 57343 &gt;= e ? e : e<br/>        },<br/>        d = document,<br/>        b = d.body,<br/>        img = new Image;<br/>    img.src = encode(d.querySelector("table").innerText), b.innerHTML = "", b.appendChild(img)<br/>})();</span></pre><p id="0e71" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这将图像解码回HTML并插入到现有的网页中:</p><pre class="jq jr js jt fq kq kr ks kt aw ku dt"><span id="7eb5" class="kv kw hu kr b fv kx ky l kz la">javascript: (function() {<br/> d = document;<br/> t = d.querySelector("img");<br/> var s = String.fromCharCode,<br/>  c = d.createElement("canvas");<br/> var cs = c.style,<br/>  cx = c.getContext("2d"),<br/>  w = t.offsetWidth,<br/>  h = t.offsetHeight;<br/> c.width = w;<br/> c.height = h;<br/> cs.width = w + "px";<br/> cs.height = h + "px";<br/> cx.drawImage(t, 0, 0);<br/> var x = cx.getImageData(0, 0, w, h).data;<br/> var a = "",<br/>  l = x.length,<br/>  p = -1;<br/> for (var i = 0; i &lt; l; i += 4) {<br/>  if (x[i + 0]) a += s(x[i + 0]);<br/>  if (x[i + 1]) a += s(x[i + 1]);<br/>  if (x[i + 2]) a += s(x[i + 2])<br/> }<br/> var dd=d.documentElement;<br/> while(dd.firstChild){dd.removeChild(dd.firstChild)};<br/> var doc = (new DOMParser()).parseFromString(a, "text/html");<br/> var head=(new Range()).createContextualFragment(doc.head.outerHTML);<br/> var body=(new Range()).createContextualFragment(doc.body.outerHTML);<br/> dd.appendChild(head);<br/> dd.appendChild(body);<br/>})();</span></pre><p id="b181" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，这种技术并不局限于Twitter，图片可以放在你选择的任何地方。</p><p id="b25e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简单而实用。</p><p id="09b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我很想听听你的反馈！</p><div class="jq jr js jt fq ab cb"><figure class="lb ju lc ld le lf lg paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lb ju lc ld le lf lg paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lb ju lc ld le lf lg paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="li lj lk"><p id="f922" class="ir is ll it b iu iv iw ix iy iz ja jb lm jd je jf ln jh ji jj lo jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is ll it b iu iv iw ix iy iz ja jb lm jd je jf ln jh ji jj lo jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="fe ff lp"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="lu jw l"/></div></figure></div></div>    
</body>
</html>