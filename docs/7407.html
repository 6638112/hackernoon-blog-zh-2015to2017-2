<html>
<head>
<title>Simplified JavaScript: How do I use var, let, and const?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简化的JavaScript:如何使用var、let和const？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/simplified-javascript-how-do-i-use-var-let-and-const-a504be4fb86f?source=collection_archive---------21-----------------------#2017-10-26">https://medium.com/hackernoon/simplified-javascript-how-do-i-use-var-let-and-const-a504be4fb86f?source=collection_archive---------21-----------------------#2017-10-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/ca98641569d2856abaf48fbfccea7a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FWwlVgL1-uhVfdgfOhERfQ.jpeg"/></div></div></figure><p id="27d3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ka">在阅读这篇帖子之前，先考虑阅读一下我早先关于</em> <a class="ae kb" href="https://hackernoon.com/simplified-javascript-hoisting-9128b74bb397" rel="noopener ugc nofollow" target="_blank"> <em class="ka">吊装</em></a>T22<a class="ae kb" href="https://code.likeagirl.io/simplified-javascript-getting-started-with-closures-f40f65317d00" rel="noopener ugc nofollow" target="_blank"><em class="ka">闭包</em> </a> <em class="ka">的帖子。他们可能会给你一些理解这篇文章所需的背景信息。</em></p><p id="3761" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我开始学习JavaScript的几个月后，我第一次偶然发现了ES6。当我意识到语法已经改变时，我感到很沮丧。(这是在我涉足JavaScript框架生态系统之前)。我不明白为什么JavaScript的语法需要更新。使用<code class="eh kc kd ke kf b">var</code>我几乎没掌握，突然要学<code class="eh kc kd ke kf b">let</code>和<code class="eh kc kd ke kf b">const</code>？</p><p id="aab9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我没抓住重点。<code class="eh kc kd ke kf b">let</code>和<code class="eh kc kd ke kf b">const</code>的行为与<code class="eh kc kd ke kf b">var</code>不同。将它们添加到JavaScript中，可以让我们编写更富表现力、更优雅、更简洁的代码。</p><p id="48d6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我希望有人能给我一个简单的解释，说明这三种声明局部变量的方式之间的区别。所以我为你写了一首！</p><h1 id="be3c" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">定义变量</h1><p id="4bee" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">在ES5中，开发者使用<code class="eh kc kd ke kf b">var</code>声明局部变量。<code class="eh kc kd ke kf b">var</code>作用于最近的功能块。这意味着下面的代码不会出错。相反，它将返回5。</p><pre class="lj lk ll lm fq ln kf lo lp aw lq dt"><span id="dd64" class="lr kh hu kf b fv ls lt l lu lv">const arr = [1, 2, 3, 4, 5];</span><span id="a9b6" class="lr kh hu kf b fv lw lt l lu lv">for (var i = 0; i &lt; arr.length; i++) { <br/>  <br/>};</span><span id="6cc9" class="lr kh hu kf b fv lw lt l lu lv">console.log(i) // 5</span></pre><p id="14ce" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是因为<code class="eh kc kd ke kf b">i</code>的作用域是最近的函数块，而不是最近的封闭块，所以<code class="eh kc kd ke kf b">console.log(i)</code>可以访问它。</p><p id="e04f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">更重要的是，<code class="eh kc kd ke kf b">var</code> <strong class="je hv">可以在它的初始定义后被重新分配。这意味着我可以像分配<code class="eh kc kd ke kf b">var language = "JavaScript"</code>一样分配一个<a class="ae kb" href="https://hackernoon.com/tagged/variable" rel="noopener ugc nofollow" target="_blank">变量</a>，然后在我的程序中，我可以将<code class="eh kc kd ke kf b">var language</code>改为<code class="eh kc kd ke kf b">var language = "Ruby"</code>。</strong></p><h1 id="275f" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">让</h1><p id="d2f9" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated"><code class="eh kc kd ke kf b">let</code>在ES6中推出。它类似于<code class="eh kc kd ke kf b">var</code>，因为它可以被重新分配，但是它的作用域是最近的封闭块，而不是最近的函数块。</p><p id="8ddc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那和<code class="eh kc kd ke kf b">var</code>不一样。如果我们使用上面的同一个例子，但是用<code class="eh kc kd ke kf b">let</code>代替<code class="eh kc kd ke kf b">var</code>，我们会看到一个错误。</p><pre class="lj lk ll lm fq ln kf lo lp aw lq dt"><span id="8195" class="lr kh hu kf b fv ls lt l lu lv">const arr = [1, 2, 3, 4, 5];</span><span id="99a3" class="lr kh hu kf b fv lw lt l lu lv">for (let i = 0; i &lt; arr.length; i++) {<br/>};</span><span id="bbe6" class="lr kh hu kf b fv lw lt l lu lv">console.log(arr[i]); // ReferenceError: i is not defined</span></pre><p id="8119" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">发生这种情况是因为<code class="eh kc kd ke kf b">i</code>的作用域是<code class="eh kc kd ke kf b">for</code>循环，而不是功能块。</p><p id="c8e3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当我定义一个我知道要重新赋值的变量时，用Let很好。</p><h1 id="2848" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">常数</h1><p id="f115" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">当我不打算给一个变量重新赋值时，我使用<code class="eh kc kd ke kf b">const</code>。让我们再看一次我们的例子:</p><pre class="lj lk ll lm fq ln kf lo lp aw lq dt"><span id="46e7" class="lr kh hu kf b fv ls lt l lu lv">const arr = [1, 2, 3, 4, 5];</span><span id="1ef6" class="lr kh hu kf b fv lw lt l lu lv">for (let i = 0; i &lt; arr.length; i++) { <br/>  console.log(i) <br/>};</span><span id="2e88" class="lr kh hu kf b fv lw lt l lu lv">// 1 2 3 4 5</span></pre><p id="614d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在上面的例子中，<code class="eh kc kd ke kf b">i</code>每次通过<code class="eh kc kd ke kf b">for</code>循环时都会被重新分配。而<code class="eh kc kd ke kf b">arr</code>是从来不重新分配的，所以我用了<code class="eh kc kd ke kf b">const</code>。</p><h1 id="98b5" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">经验法则</h1><p id="9aac" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">既然<code class="eh kc kd ke kf b">let</code>和<code class="eh kc kd ke kf b">const</code>已经存在，我会完全避免使用<code class="eh kc kd ke kf b">var</code>。使用<code class="eh kc kd ke kf b">let</code>和<code class="eh kc kd ke kf b">const</code>可以让你清楚地表达你的意图。表现力将导致更干净、更优雅的代码。</p><h1 id="c1b3" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">更多阅读</h1><ul class=""><li id="f22f" class="lx ly hu je b jf le jj lf jn lz jr ma jv mb jz mc md me mf dt translated"><a class="ae kb" rel="noopener" href="/javascript-scene/javascript-es6-var-let-or-const-ba58b8dcde75"> JavaScript ES6+: var，let，还是const？</a></li><li id="ce2b" class="lx ly hu je b jf mg jj mh jn mi jr mj jv mk jz mc md me mf dt translated"><a class="ae kb" href="https://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var-to-declare-a-variable" rel="noopener ugc nofollow" target="_blank">堆栈溢出发布</a></li><li id="ebc0" class="lx ly hu je b jf mg jj mh jn mi jr mj jv mk jz mc md me mf dt translated"><a class="ae kb" href="https://hackernoon.com/simplified-javascript-hoisting-9128b74bb397" rel="noopener ugc nofollow" target="_blank">简化JavaScript:提升</a></li></ul><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="ml mm l"/></div></figure></div></div>    
</body>
</html>