<html>
<head>
<title>Exploring Swarm &amp; Container Overview Dashboard in Grafana</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Grafana中的Swarm &amp; Container概览仪表板</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/exploring-swarm-container-overview-dashboard-in-grafana-ba9621c876c9?source=collection_archive---------6-----------------------#2017-11-11">https://medium.com/hackernoon/exploring-swarm-container-overview-dashboard-in-grafana-ba9621c876c9?source=collection_archive---------6-----------------------#2017-11-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/2f3dd903dbf50e1c06cee2cf4fb3c413.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*fsY_hp7tl4PboxIb796Utw.png"/></div></figure><p id="3d43" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在我之前的帖子中，你学习了如何用<a class="ae jw" href="https://hackernoon.com/monitor-swarm-cluster-with-tick-stack-slack-3aaa6483d44a?source=user_profile---------8----------------" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">标记栈</strong> </a>来监控你的<strong class="ja hv">蜂群</strong>。在这一部分中，我将向您展示如何使用相同的堆栈，但我们将使用<strong class="ja hv"> Grafana </strong>而不是使用<strong class="ja hv"> Chronograf </strong>作为我们的可视化和探索工具。</p><p id="c2a5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">通过<strong class="ja hv"> SSH </strong>连接到您的<strong class="ja hv">管理器</strong>节点，并克隆以下<a class="ae jw" href="https://github.com/mlabouardy/swarm-tig" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">Github</strong></a><strong class="ja hv"/>仓库:</p><blockquote class="jx jy jz"><p id="6c4f" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">https://github.com/mlabouardy/swarm-tig.git</p></blockquote><p id="eec0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">使用下面的<em class="ka"> docker-compose.yml </em>设置监控堆栈:</p><figure class="ke kf kg kh fq iv"><div class="bz el l di"><div class="ki kj l"/></div></figure><p id="0e3e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然后，发出以下命令来部署堆栈:</p><blockquote class="jx jy jz"><p id="2e7a" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">docker stack deploy-compose-file docker-compose . yml TIG</p></blockquote><p id="b1c5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">部署后，您应该会看到集群上运行的服务列表:</p><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff kk"><img src="../Images/107f9bb12cf577f114c064139fd66d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nbjaZuFFuHFa6tHL."/></div></div></figure><p id="6027" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将你的浏览器指向<a class="ae jw" href="http://IP:3000," rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv"> http://IP:3000 </strong>，</a>你应该可以到达<strong class="ja hv"> Grafana仪表盘:</strong></p><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff kp"><img src="../Images/381bede7b3788ebae9a8304e2f4d8e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d5ieea6oM7_hdQuI."/></div></div></figure><p id="2e3f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">默认用户名和密码是<em class="ka"> admin。继续并登录。</em></p><p id="368f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">转到<strong class="ja hv">数据源</strong>并创建2个<strong class="ja hv"> InfluxDB </strong>数据源:</p><ul class=""><li id="dca7" class="kq kr hu ja b jb jc jf jg jj ks jn kt jr ku jv kv kw kx ky dt translated"><strong class="ja hv">虚拟机</strong>:指向您的<strong class="ja hv">集群节点</strong>度量数据库。</li><li id="96cb" class="kq kr hu ja b jb kz jf la jj lb jn lc jr ld jv kv kw kx ky dt translated"><strong class="ja hv"> Docker </strong>:指向你的<strong class="ja hv"> Docker服务</strong>度量数据库。</li></ul><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff le"><img src="../Images/96b65cd0cb7df829fe39458b727d91ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pxN4p6Xi6VjCZc1V."/></div></div></figure><p id="6639" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">最后，点击“<strong class="ja hv">导入</strong>”按钮导入仪表板:</p><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div class="fe ff lf"><img src="../Images/0ec3a3b692b2cfc6b395f8daaf41a7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/0*KXQv_Sx_Ppwh_zjw."/></div></figure><p id="52f2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">从这里，您可以上传<em class="ka"> dashboard.json </em>，然后选择您之前创建的数据源:</p><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff lg"><img src="../Images/037c671ce9b774285c654c656fcd20b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ZYQ7CVydUOx7nXZ."/></div></div></figure><p id="0a0f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您最终将获得一个交互式动态仪表盘:</p><figure class="ke kf kg kh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="fe ff lh"><img src="../Images/5d6a377c007c337f3e3cd1f271f40d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtLI_jcjFeMNnlXPlBgVjw.png"/></div></div></figure></div></div>    
</body>
</html>