<html>
<head>
<title>Managing scalable, consistent colors in your css-in-js app with Reshader</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Reshader在css-in-js应用程序中管理可缩放的一致颜色</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/managing-scalable-consistent-colors-in-your-css-in-js-app-with-reshader-ab29f03f1a35?source=collection_archive---------16-----------------------#2017-12-11">https://medium.com/hackernoon/managing-scalable-consistent-colors-in-your-css-in-js-app-with-reshader-ab29f03f1a35?source=collection_archive---------16-----------------------#2017-12-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7a06" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://hackernoon.com/tagged/imagine" rel="noopener ugc nofollow" target="_blank">想象</a>以下场景:你有一个app这个应用程序使用<a class="ae jp" href="https://styled-components.com" rel="noopener ugc nofollow" target="_blank">风格化组件</a>、<a class="ae jp" href="https://glamorous.rocks/" rel="noopener ugc nofollow" target="_blank">魅力</a>、<a class="ae jp" href="https://emotion.sh" rel="noopener ugc nofollow" target="_blank">情感</a>或任何其他css-in-js库。</p><p id="f55a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的问题是:<strong class="it hv">在这种语境下你是如何处理色彩的？</strong></p><p id="c4bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我打赌答案会是这样的:</p><blockquote class="jq"><p id="88f3" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated">我有一些。存储CSS变量的js文件，其中一个是<strong class="ak"> colors.js </strong>，它导出一个js对象，带有我的应用程序需要显示的颜色。</p></blockquote><p id="1048" class="pw-post-body-paragraph ir is hu it b iu ka iw ix iy kb ja jb jc kc je jf jg kd ji jj jk ke jm jn jo hn dt translated">万一我是对的，或者几乎是对的，那就太棒了，尽管你可以更进一步，我会告诉你怎么做。否则，万一我错了，请允许我给你出个主意。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="636e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们开始将这一场景带入现实世界，想象您的应用程序具有以下颜色:</p><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div class="fe ff km"><img src="../Images/ed4b436dce2156b4be38d5f23fc2ba1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*Nxb38VHxkpMaNtJ9CgNdpA.png"/></div></figure><p id="26c6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，假设我们有一个包含所有共享CSS(-in-JS)变量的文件夹<code class="eh ku kv kw kx b">UI</code>，我们将它们存储在单独的文件中。其中一个文件叫做<code class="eh ku kv kw kx b">colors.js</code>,对于我们的颜色，它看起来像这样:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="dabd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这很好也很简单。您只需通过调用<code class="eh ku kv kw kx b">colors.brand.yellow</code>等来访问您的颜色。不幸的是，这还不够，原因稍微显而易见。如果我们继续举例，你会更容易明白。我创建了这个登录页面来帮助我们:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek"><strong class="ak">Pro tip:</strong> don't forget to inspect the code behind this page by seeing the source on CodeSandbox. You must do the same process for further previews in order to understand what's going on.</figcaption></figure><p id="220c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很酷，对吧？</p><p id="a869" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是突然，我们有了一个绝妙的主意，添加一些边框，让它看起来更酷。浅黄色会很好。</p><p id="03f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，什么淡黄色呢？</p><p id="1906" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如你可能猜到的，我们必须先找到它，因为它不存在。问题是:我们应该使用哪种语气？嗯。在一个非常琐碎的上下文中，我们只需打开Sketch或Photoshop，在颜色选择器中输入我们品牌的黄色，然后稍微调整一下，得到更亮的颜色。假设我们想出了<code class="eh ku kv kw kx b">#FEE579</code>。那么让我们改编一下我们的<code class="eh ku kv kw kx b">colors.js</code>:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="a3c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我改变了一些事情。<code class="eh ku kv kw kx b">yellow</code>不再是字符串，而是两个元素的数组。第一个(零指数)是我们的新色调，该品牌的黄色带有较浅的变化，第二个是主要颜色，我们以前使用的颜色。</p><p id="439b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，在这里，我实现了我自己的方法来处理颜色，使用一个数组，其中索引越低，颜色的色调越浅，但是你可以<a class="ae jp" href="https://hackernoon.com/tagged/design" rel="noopener ugc nofollow" target="_blank">设计</a>任何你想要的。我们将进一步探讨这个问题。</p><p id="1402" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好了，现在我们有了浅黄色的背景，让我们添加一些边框，并应用新的色调:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="6f4b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">哦，是的，现在我们的登录页面看起来更真实。真好。但是，没有一个吸引人的短语和一个行动号召按钮，着陆就不是着陆:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="4f4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几乎可以部署了，对吧？不对。这个按钮不适合主流启动登陆页面。我们必须把它定制得很酷。</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek"><strong class="ak">Note:</strong> the white color on the text within the button was set in colors.js.</figcaption></figure><p id="b5d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虽然它看起来更好，但我们仍然没有做到，因为我们的<code class="eh ku kv kw kx b">Button</code>风格上没有<code class="eh ku kv kw kx b">hover</code>、<code class="eh ku kv kw kx b">focus</code>和<code class="eh ku kv kw kx b">active</code>状态。问题是:我们必须再一次考虑其他颜色。就像以前一样，打开一个设计工具，使用颜色选择器，输入我们品牌的红色，调整它达到我们想要的色调。之后，有了颜色，我们必须将它粘贴到我们的代码中，并进行一些视觉测试和迭代，以检查它是否与登录页面的其余部分协调一致，以及它是否适合我们按钮的状态。</p><p id="ceae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于这个例子，我将选择一个较浅和较深的色调。我们的<code class="eh ku kv kw kx b">colors.js</code>会是这样的:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="fdf2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，较浅的色调位于索引0，较深的色调位于<code class="eh ku kv kw kx b">red</code>属性的索引2，以遵循从浅到深的逻辑。</p><p id="a377" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，让我们回来在<code class="eh ku kv kw kx b">Button</code>组件上应用剩余的样式:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="8709" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">哇！我们的纽扣不是变得更漂亮了吗？但是如果你点击它，你会发现我承诺实现的<code class="eh ku kv kw kx b">:active</code>状态仍然不见了。那是因为我还没有选择一个更暗的色调来设置它的<code class="eh ku kv kw kx b">background-color</code>。为了解决我们的问题，我选择了<code class="eh ku kv kw kx b">#E21020</code>，这是<code class="eh ku kv kw kx b">colors.js</code>现在的样子:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="1406" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是我们的<code class="eh ku kv kw kx b">Button</code>组件:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="4d19" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">找到了。<a class="ae jp" href="https://twitter.com/iamdevloper/status/932731981737185285" rel="noopener ugc nofollow" target="_blank">现在，我们有了一个可部署的登录页面，可以将机会转化为实际客户，或者向风投开放。</a></p><p id="3095" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在一个平行世界里，假设它被发射了。我们已经添加了谷歌分析，并急切地等待访问者。一天过去了，两天，三天……mhmm，至今零转化。奇怪——怎么了？我们的着陆太棒了！</p><p id="2873" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当盯着屏幕思考我们失败的原因时，屏幕右上方的通知窗口突然出现。</p><blockquote class="lg lh li"><p id="c419" class="ir is lf it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated">潜在客户的真实反馈</p><p id="d17e" class="ir is lf it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated">来自:randomUXmaster @ hipster design . io</p></blockquote><p id="616f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">邮件内容如下:</p><blockquote class="jq"><p id="f469" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated">你好，</p><p id="034d" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated">我只想通知您，您的登录页面无法工作。你的行动号召按钮上的红色太消极了。你得加点更开心的东西；鼓励用户走得更远，而不是让他止步于此。</p><p id="4860" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated">作为一名UX专家，我的建议是让它变得绿色或者不那么消极。在这里发挥创意，但请改变这种颜色。</p><p id="cb54" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated">真诚地</p><p id="a034" class="jr js hu bd jt ju jv jw jx jy jz jo ek translated"><random name="">、UX主脑工程师Visual at HipsterDesign.io</random></p></blockquote><p id="2daf" class="pw-post-body-paragraph ir is hu it b iu ka iw ix iy kb ja jb jc kc je jf jg kd ji jj jk ke jm jn jo hn dt translated"><em class="lf">精彩！</em>——“点击时刻”突然发生在我们身上，我们必须将红色变成绿色！</p><p id="1d3f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们深入我们的代码，再次从修改我们的<code class="eh ku kv kw kx b">colors.js</code>开始:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Introducing the green property at line 11</figcaption></figure><p id="ba94" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在剩下的就是在<code class="eh ku kv kw kx b">Button</code>组件上把<code class="eh ku kv kw kx b">red</code>改成<code class="eh ku kv kw kx b">green</code>了……嗯……等等……还有其他音调不见了——更亮更暗的那些。将再次打开草图，调用颜色选择器，并调整位，以获得良好的色调。让我们试试这些:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="f3c6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">而<code class="eh ku kv kw kx b">Button</code>现在看起来是这样的:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="4fcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">嗯……我不知道……它看起来太亮了，而且与环境不协调，尽管如此，我们喜欢这种绿色调，并想坚持下去。让我们稍微颠倒一下:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="9f0f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">哦，好多了，虽然还没到那一步。我将寻找另一种黄色调，一种更亮的，用它作为背景，但保持边界完全一样。</p><p id="b8b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh ku kv kw kx b">#F7F4E5</code>看起来很完美！让我们将它添加到<code class="eh ku kv kw kx b">colors.js</code>处的<code class="eh ku kv kw kx b">yellow</code>属性中:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="0752" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在结果会是:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="d801" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不完美，但更好，更真实。但是有一点我不喜欢:这个吸引人的短语的颜色。和我们伟大的<code class="eh ku kv kw kx b">Hello World</code>文案重量一样，不应该。</p><p id="f052" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我将只是减轻我的品牌的<code class="eh ku kv kw kx b">tuna</code>颜色一点点，然后更新我的<code class="eh ku kv kw kx b">colors.js</code>到<code class="eh ku kv kw kx b">Button</code>组件旁边。结果是:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Tuna is now an array with a lighter tone out of the main's one</figcaption></figure><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="e707" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">唷！我们装船吧！</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="52fe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后我们的应用从此过上了幸福的生活。UX大师是对的:改变一点颜色已经改善了我们的游戏。从第一天开始的大量转换(！).</p><p id="163e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里的问题是，玩我们的幻想应用程序的颜色是详尽的。虽然这是一个非常小的细节，但不时重复这个过程是压倒性的。我面对过几次，即使有像<a class="ae jp" href="http://coolors.co" rel="noopener ugc nofollow" target="_blank">coolors.co</a>这样的应用，这个过程还是很烦人。我发现我需要一个简单的、自动化的解决方案，通过编程来简化这个过程。</p><figure class="kn ko kp kq fq kr fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lm"><img src="../Images/cc01921f34d5ab47a65e06f5107f0505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NwYwQr8wDbpIE0Nzg3Dm7A.png"/></div></div></figure><h1 id="568f" class="lr ls hu bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo dt translated"><strong class="ak">介绍</strong> <a class="ae jp" href="https://reshader.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">重装机</strong> </a></h1><p id="de03" class="pw-post-body-paragraph ir is hu it b iu mp iw ix iy mq ja jb jc mr je jf jg ms ji jj jk mt jm jn jo hn dt translated">抱歉，上面的教程很长，一步一步来。我不得不这样做，以证明处理颜色的简单事情可以是详尽的，特别是当我们没有设计师为我们提供色调的时候。</p><p id="da66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了开始这个话题，从现在开始，我们将把“色调”称为“阴影”，好吗？从语义上来说，他们就是这样。色调是一种颜色的分叉，不一定是更深或更浅，而阴影应该是这种颜色的渐进变化，必然有更轻或更重的重量。</p><p id="dc87" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几乎每个网站、应用程序或系统都实现了颜色的深浅，即使开发者并没有意识到这一点。这些应用程序可以有一个主要的灰色，标题使用较深的阴影，而段落使用较浅的阴影。按钮、模式、英雄和几乎所有组件都是如此。</p><p id="36f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">谢天谢地，介绍Reshader是本文最简单的部分。简而言之，这是一个非常新的库——在我写这篇文章的时候，我刚刚在几天前公开发布了它——来获得颜色的深浅。它的API是最小的，直观的，并且<a class="ae jp" href="https://reshader.com/#usage" rel="noopener ugc nofollow" target="_blank">有很好的文档记录</a>。</p><p id="1150" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">直接进入实际操作，我将使用我们之前构建的相同应用程序/登录页面来演示Reshader如何优化我们之前使用的流程。</p><p id="e08e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，让我们安装Reshader:</p><p id="0247" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh ku kv kw kx b">yarn add reshader</code>或者<code class="eh ku kv kw kx b">npm install reshader</code>就够了。唯一的依赖项是<a class="ae jp" href="https://github.com/Qix-/color" rel="noopener ugc nofollow" target="_blank">Qix-s Color</a>，它捆绑在安装中。如果你想用RequireJS或者在你的<code class="eh ku kv kw kx b">window</code>中实现，我会邀请你手动下载<a class="ae jp" href="https://github.com/chiefGui/reshader/blob/master/dist/reshader.js" rel="noopener ugc nofollow" target="_blank">分发文件</a>。</p><p id="e664" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之后，我们再跳转到我们app的<code class="eh ku kv kw kx b">colors.js</code>。有了这些相同的主色，我们所要做的就是导入Reshader并使用它获得阴影:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Note that I implemented Reshader for all the colors but white (no need for that)</figcaption></figure><p id="c0b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过应用这些新的颜色和调色板，这就是我们的新外观和感觉:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="7da2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可能已经注意到事情有点乱，你没有错。本质上，事情是这样的:</p><ol class=""><li id="db4e" class="mu mv hu it b iu iv iy iz jc mw jg mx jk my jo mz na nb nc dt translated">Reshader会根据给定的颜色逐步一致地自动生成阴影。我们处理的不再是色调——一种颜色的随机分叉——而是真正的色调。<a class="ae jp" href="http://localhost:3001/#faq" rel="noopener ugc nofollow" target="_blank">了解更多。</a></li><li id="ceb3" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">由于<a class="ae jp" href="https://www.reshader.com/#API" rel="noopener ugc nofollow" target="_blank"> Reshader的默认选项</a>，按钮几乎不可见，边框不再加粗，背景看起来也不再是黄色。</li></ol><p id="fc42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们解决这个问题。</p><p id="8b62" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">稍微放大一下API的文档，我们会发现它有一个名为 <code class="eh ku kv kw kx b"><a class="ae jp" href="https://www.reshader.com/#API-options-numberOfVariations" rel="noopener ugc nofollow" target="_blank">numberOfVariations</a></code>的<a class="ae jp" href="https://www.reshader.com/#API-options-numberOfVariations" rel="noopener ugc nofollow" target="_blank">选项，上面写着:</a></p><blockquote class="lg lh li"><p id="b208" class="ir is lf it b iu iv iw ix iy iz ja jb lj jd je jf lk jh ji jj ll jl jm jn jo hn dt translated">[numberOfVariations是]您要从输入的颜色中提取的变化数。这个选项将得到相同数量的较亮和较暗的阴影，这意味着如果你设置它为<code class="eh ku kv kw kx b">10</code>，它将得到10个较亮的阴影和10个较暗的阴影。</p></blockquote><p id="240b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了让您提前有所了解，之前,<code class="eh ku kv kw kx b">yellow</code>属性返回了一个包含三个元素的数组。第一个是最浅的色调，第二个是主色调，第三个是最深的色调。正如我所说的，我们的目标是让这个形状有一个合理的，有凝聚力的黄色调色板。</p><p id="b828" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本上，Reshader的设计和输出都是基于同样的逻辑。正如你在上面的要点中看到的，我们选择了<code class="eh ku kv kw kx b">reshader</code>函数的<code class="eh ku kv kw kx b">.palette</code>属性，并将其设置为我们的颜色。这个<code class="eh ku kv kw kx b">.palette</code>返回一个数组，其中阴影<em class="lf">和</em>是您在<code class="eh ku kv kw kx b">reshader</code>函数的第一个参数中传递的颜色。正如你可能猜到的，它是从最浅的阴影到最深的阴影排序，而不是跳过给定的颜色。这意味着<code class="eh ku kv kw kx b">yellow[0]</code>是最亮的阴影而<code class="eh ku kv kw kx b">yellow[yellow.length — 1]</code>是最暗的。</p><p id="15e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">回到<code class="eh ku kv kw kx b">numberOfVariations</code> …默认情况下，它的值是<code class="eh ku kv kw kx b">5</code>。根据文档，这意味着它将得到给定颜色的5个较浅的阴影和5个较深的阴影。<em class="lf">(大声读出来，我觉得有机会让这个选项名更好。)</em></p><p id="dc85" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">也就是说，多亏了<code class="eh ku kv kw kx b">numberOfVariations</code>选项，我们不再有3种不同的黄色了。其他颜色的变化量也发生了变化，这意味着现在它们都是由11个元素组成的数组:5个较浅的颜色，主色和5个较深的颜色。</p><p id="c3dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过根据Reshader输出(改变索引)稍微改变我们的<code class="eh ku kv kw kx b">Button.js</code>文件上的连线，这是我们的新视图:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="df92" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和上次的结果很相似，对吧？为了更好地突出使用Reshader管理颜色是多么简单，让我们从我们品牌的调色板中删除一些颜色。现在它将只包括<code class="eh ku kv kw kx b">tuna</code>和<code class="eh ku kv kw kx b">blue</code>:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="fd66" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在用这些新的颜色和色调重新设计了登录页面后，它看起来是这样的:</p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure><p id="8059" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很简单，不是吗？</p><p id="5e39" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Reshader的方法与手动方法的主要区别在于:</p><ol class=""><li id="68f3" class="mu mv hu it b iu iv iy iz jc mw jg mx jk my jo mz na nb nc dt translated">你再也不用担心窗帘了。他们只是工作。</li><li id="98ab" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">易于扩展和维护。</li><li id="2917" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">获得不同的结果只取决于改变Reshader的API的选项。</li><li id="fa7c" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">正如我之前提到的，色调总是一致的。这意味着它们总是给定颜色的更深或更浅的版本。<em class="lf">这听起来令人困惑，对吗？但我的意思是，当你用眼睛选择一种颜色时，它不是一个被投射来使颜色变亮或变暗的机器人。这是非常武断的，经常有更多的设计人员会轻易地发现这些颜色的不一致。</em></li><li id="b44e" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">主题化很容易实现。</li><li id="e74f" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">易访问的颜色也很容易实现。<a class="ae jp" href="https://www.reshader.com/#API-options-contrastRatio" rel="noopener ugc nofollow" target="_blank">有一个名为contrast ration</a>的选项，你可以使用它来获得可访问的调色板。</li></ol><p id="f5d3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是和往常一样，生活并不是一帆风顺的。我必须保持透明，并强调在当前状态下使用Reshader的主要缺点:</p><ol class=""><li id="ffd5" class="mu mv hu it b iu iv iy iz jc mw jg mx jk my jo mz na nb nc dt translated">如果你和一个设计师配对，为了使用Reshader，你真的必须和他配对，我是认真的。这个过程对他来说变得更加困难:基本上，他必须把主色传给你，而你必须把Reshader生成的主色的阴影传给他。不幸的是，在撰写本文时，还没有现成的快捷方式。</li><li id="abad" class="mu mv hu it b iu nd iy ne jc nf jg ng jk nh jo mz na nb nc dt translated">尽管您可以使用一些神奇的技巧让它与您的CSS/SASS/LESS环境一起工作，但Reshader最初是以css-in-js为设计理念的。这意味着你要付出额外的努力，把它的输出转换成不同风格系统的变量。</li></ol><p id="9285" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于这两种情况，我保证我都在思考解决方案。<a class="ae jp" href="https://github.com/chiefGui/reshader/issues" rel="noopener ugc nofollow" target="_blank">你可以在GitHub上随意向Reshader的repo提交你的想法。</a></p><h1 id="80d7" class="lr ls hu bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo dt translated">表演</h1><p id="f32f" class="pw-post-body-paragraph ir is hu it b iu mp iw ix iy mq ja jb jc mr je jf jg ms ji jj jk mt jm jn jo hn dt translated">请不要在你的<code class="eh ku kv kw kx b">render</code>方法中多次运行<code class="eh ku kv kw kx b">reshader</code>，你会没事的。<a class="ae jp" href="https://www.reshader.com/#faq" rel="noopener ugc nofollow" target="_blank">阅读更多。</a></p><h1 id="5f2e" class="lr ls hu bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo dt translated">Reshader的未来</h1><p id="908b" class="pw-post-body-paragraph ir is hu it b iu mp iw ix iy mq ja jb jc mr je jf jg ms ji jj jk mt jm jn jo hn dt translated">Reshader很新鲜。虽然它的API已经很稳定了，但是在我的脑海中有几个想法可以进一步优化处理颜色的过程。如我之前所说，目前我正致力于为图书馆目前最常见的问题找到解决方案。</p><p id="59aa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除了这些解决方案之外，我还在收集反馈，以确定开发人员最需要的功能。<em class="lf">再次，</em> <a class="ae jp" href="https://github.com/chiefGui/reshader/issues/new" rel="noopener ugc nofollow" target="_blank"> <em class="lf">随时提交你的想法</em> </a> <em class="lf">。</em></p><h1 id="7f1c" class="lr ls hu bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo dt translated">最后</h1><p id="e9e0" class="pw-post-body-paragraph ir is hu it b iu mp iw ix iy mq ja jb jc mr je jf jg ms ji jj jk mt jm jn jo hn dt translated">理想情况下，Reshader对于那些关注颜色并使用css-in-js方法的项目来说会非常有用——特别是那些没有设计团队的项目。此外，如果你想用程序生成颜色的阴影，这将是一条路要走。</p><p id="d14a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有问题就写评论，我一看到就回复。</p><p id="b11c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="lf">想要给Reshader一颗星或阅读其完整文档？使</em><a class="ae jp" href="https://reshader..com" rel="noopener ugc nofollow" target="_blank"><em class="lf"/></a><em class="lf">和</em> <a class="ae jp" href="https://github.com/chiefGui/reshader" rel="noopener ugc nofollow" target="_blank"> <em class="lf">成为你的资源库</em> </a> <em class="lf">。</em></p><figure class="kn ko kp kq fq kr"><div class="bz el l di"><div class="la kz l"/></div></figure></div></div>    
</body>
</html>