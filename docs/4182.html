<html>
<head>
<title>VMWare vSphere, Kubernetes… And GPUs of course</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VMWare vSphere、Kubernetes……当然还有GPU</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/vmware-vsphere-kubernetes-and-gpus-of-course-a7a06c87c51d?source=collection_archive---------8-----------------------#2017-05-17">https://medium.com/hackernoon/vmware-vsphere-kubernetes-and-gpus-of-course-a7a06c87c51d?source=collection_archive---------8-----------------------#2017-05-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="e124" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我接下来要说的可能看起来显而易见，但很多人都在使用VMWare vSphere来虚拟化各种工作负载。当然，这意味着我会收到很多关于库伯内特公司(Kubernetes)的T4典范分布(standard Distribution)与vSphere整合的T2问题。</p><p id="eb16" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">直到最近，公平地说，这并不容易。你可以这样做，但你必须花时间做一些手动调整，在这里或那里，调整每个虚拟机的主机名…大部分的障碍是由于一个简单的事情:VMWare不支持cloud-init，事实上的标准，以引导虚拟机在几乎所有其他多云的解决方案。</p><p id="0ae9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">团队已经花了相当多的时间来改善vs球的UX，我很高兴地说，它现在工作得相当好，包括激活GPU(还有什么？)!！！</p><p id="fb70" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们看看UX现在是什么样子！</p><h1 id="4efd" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">要求</h1><p id="e2bd" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">要复制此帖子，您需要:</p><ul class=""><li id="eb21" class="kt ku hu it b iu iv iy iz jc kv jg kw jk kx jo ky kz la lb dt translated">基本了解规范工具箱:Ubuntu和Juju</li><li id="eb14" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">基本了解库柏内斯；</li><li id="c8c6" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">可以访问互联网(至少被代理)并且至少具有一个用于虚拟机的公共(可路由)网络的VMWare vSphere群集，其中创建了一个用于所有节点的DNS(或者您需要对/etc/hosts进行一些编辑)；</li><li id="44db" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">留在边缘的意愿:juju 2.2rc1</li></ul><p id="0bd5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于文件，克隆回购:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="1d3e" class="lq jr hu lm b fv lr ls l lt lu">git clone <a class="ae jp" href="https://github.com/madeden/blogposts" rel="noopener ugc nofollow" target="_blank">https://github.com/madeden/blogposts</a><br/>cd blogposts/k8s-vsphere</span></pre><h1 id="65bc" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">vSphere安装程序</h1><p id="fbfc" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我不是VMWare专家，因此我没有更改默认设置:</p><ul class=""><li id="ceb9" class="kt ku hu it b iu iv iy iz jc kv jg kw jk kx jo ky kz la lb dt translated">已在3台Dell T630上安装最新ISO版本的ESXi 6.5，每台都具有12c/32GB RAM；</li><li id="8b48" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">已在第一台主机上安装vCenter应用装置；</li><li id="6851" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">对于每台主机，我都使用<a class="ae jp" href="http://www.dell.com/support/article/us/en/4/SLN288103/how-to-enable-a-vmware-virtual-machine-for-gpu-pass-through?lang=EN" rel="noopener ugc nofollow" target="_blank">本指南</a>激活了GPU直通；</li><li id="3925" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">然后我在vCenter中创建了一个数据中心，我将其称为“regional 1”</li></ul><p id="bf6f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就这样，这确实是所有其他事情的默认设置:我没有接触网络或存储。如果你有一个具体的设置，我很乐意谈论和审查生产系统，以验证集成。</p><h1 id="4c31" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Juju经验</h1><h2 id="8b08" class="lq jr hu bd js lv lw lx jw ly lz ma ka jc mb mc ke jg md me ki jk mf mg km mh dt translated">正在连接到vSphere</h2><p id="bc79" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">一旦你安装了vs球，你需要让Juju知道这件事:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="68da" class="lq jr hu lm b fv lr ls l lt lu">juju add-cloud vsphere<br/>Cloud Types<br/> maas<br/> manual<br/> openstack<br/> oracle<br/> vsphere</span><span id="508b" class="lq jr hu lm b fv mi ls l lt lu">Select cloud type: vsphere</span><span id="4a42" class="lq jr hu lm b fv mi ls l lt lu">Enter the vCenter address or URL: 192.168.1.164</span><span id="4e32" class="lq jr hu lm b fv mi ls l lt lu">Enter datacenter name: Region1</span><span id="c2ae" class="lq jr hu lm b fv mi ls l lt lu">Enter another datacenter? (Y/n): n</span><span id="eebf" class="lq jr hu lm b fv mi ls l lt lu">Cloud “vSphere-test” successfully added<br/>You may bootstrap with ‘juju bootstrap vsphere’</span></pre><p id="11fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您需要为此云配置凭据:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="5bf2" class="lq jr hu lm b fv lr ls l lt lu">juju add-credential vsphere<br/>Enter credential name: canonical</span><span id="bc20" class="lq jr hu lm b fv mi ls l lt lu">Using auth-type “userpass”.</span><span id="b345" class="lq jr hu lm b fv mi ls l lt lu">Enter user: administrator@vsphere.local</span><span id="eaf9" class="lq jr hu lm b fv mi ls l lt lu">Enter password:</span><span id="bd49" class="lq jr hu lm b fv mi ls l lt lu">Credentials added for cloud vsphere.</span></pre><h2 id="3bad" class="lq jr hu bd js lv lw lx jw ly lz ma ka jc mb mc ke jg md me ki jk mf mg km mh dt translated">拔靴带</h2><p id="b2b5" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这是一个经典的Juju引导代码:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="cfbd" class="lq jr hu lm b fv lr ls l lt lu">juju bootstrap vsphere/Region1 --bootstrap-constraints "cores=2 mem=4G root-disk=32G"<br/>Creating Juju controller "vsphere-Region1" on vsphere/Region1<br/>Looking for packaged Juju agent version 2.2-rc1 for amd64<br/>No packaged binary found, preparing local Juju agent binary<br/>Launching controller instance(s) on vsphere/Region1...<br/> - juju-9c9d0a-0 (arch=amd64 mem=4G cores=2)dk: 97.76% (26.2MiB/s)ases/xenial/release-20170330/ubuntu-16.04-server-cloudimg-amd64.ova<br/>Fetching Juju GUI 2.6.0<br/>Waiting for address<br/>Attempting to connect to 192.168.1.165:22<br/>Attempting to connect to fe80::250:56ff:fe87:d44c:22<br/>Bootstrap agent now started<br/>Contacting Juju controller at 192.168.1.165 to verify accessibility...<br/>Bootstrap complete, "vsphere-Region1" controller now available.<br/>Controller machines are in the "controller" model.<br/>Initial model "default" added.</span></pre><p id="4f5f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我在src文件夹中准备了一个小捆绑包，您可以使用以下内容进行安装:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="1b37" class="lq jr hu lm b fv lr ls l lt lu">juju deploy src/k8s-vsphere.yaml</span></pre><p id="d513" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后可以等待模型收敛到稳定状态:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="cbd0" class="lq jr hu lm b fv lr ls l lt lu">watch -c juju status --color</span></pre><figure class="lh li lj lk fq mk fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff mj"><img src="../Images/b1ffffb39b7647df42e10e1bfd9e4aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*coiJ_Ey24vID5zm7ZDGQ4Q.png"/></div></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">juju status fully converged</figcaption></figure><p id="47cb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在vSphere中，这将转换为类似以下内容:</p><figure class="lh li lj lk fq mk fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff mv"><img src="../Images/d3608e32ea55027081405da244e4ce81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*giHw2kUVt_33Es_S7eHb3A.png"/></div></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">vSphere UI after bootstrap and deployment</figcaption></figure><p id="4318" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后你就可以下载凭据正在查询集群:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="31c0" class="lq jr hu lm b fv lr ls l lt lu">juju scp kubernetes-master/0:config ~/.kube/config</span><span id="9dbe" class="lq jr hu lm b fv mi ls l lt lu">kubectl get nodes --show-labels<br/>NAME            STATUS    AGE       VERSION   LABELS<br/>juju-428e55-1   Ready     1h        v1.6.2    beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=juju-428e55-1<br/>juju-428e55-2   Ready     1h        v1.6.2    beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=juju-428e55-2</span></pre><p id="cff5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很好！！现在，您已经在VMWare vSphere上启动并运行了一个Kubernetes集群。不是很复杂吗？我们应该说它很无聊吗？</p><figure class="lh li lj lk fq mk fe ff paragraph-image"><div class="fe ff mw"><img src="../Images/864a0c7cc3fb7b14bccde530a638e81c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*ghtSyzC65Bu2ED8q9lvd2g.gif"/></div></figure><h1 id="7a30" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">正在添加GPU</h1><h2 id="eeff" class="lq jr hu bd js lv lw lx jw ly lz ma ka jc mb mc ke jg md me ki jk mf mg km mh dt translated">关于v scale</h2><p id="a854" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">好了，现在是最酷的部分了。使用与之前相同的指南，将GPU添加到运行Kubernetes工作进程的虚拟机中。</p><p id="0e1f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您首先需要停止它们，然后添加PCI设备，并重新启动它们。</p><h2 id="d09e" class="lq jr hu bd js lv lw lx jw ly lz ma ka jc mb mc ke jg md me ki jk mf mg km mh dt translated">在库伯内特斯</h2><p id="48be" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在这一点上，Juju应该拿起并发现nVidia板并安装CUDA驱动程序。出于某种原因，它没有，我们正在调查。</p><p id="3113" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是我们不会因为一个小故障就停下来。让我们手动安装它，这也将让我有机会回答我得到的关于管理CDK的问题，因为控制平面已经完全快照。</p><p id="6a9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Google有这个简单的脚本来安装驱动程序:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="244a" class="lq jr hu lm b fv lr ls l lt lu">#!/bin/bash<br/>echo “Checking for CUDA and installing.”<br/># Check for CUDA and try to install.<br/>if ! dpkg-query -W cuda; then<br/> curl -O <a class="ae jp" href="http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64/cuda-repo-ubuntu1604_8.0.61-1_amd64.deb" rel="noopener ugc nofollow" target="_blank">http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64/cuda-repo-ubuntu1604_8.0.61-1_amd64.deb</a><br/> dpkg -i ./cuda-repo-ubuntu1604_8.0.61–1_amd64.deb<br/> apt-get update<br/> apt-get install cuda -y<br/>fi</span></pre><p id="bf23" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">只需在两个工人身上运行它(最终使用“juju scp”和“juju ssh”)</p><p id="5412" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，在每个worker上，您需要激活几个标志。有一个新的程序来做到这一点，因为GPU现在是K8s中的“加速器”:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="5c52" class="lq jr hu lm b fv lr ls l lt lu">sudo snap set kubelet experimental-nvidia-gpus=1<br/>sudo snap set kubelet feature-gates=”Accelerators=true”<br/>sudo systemctl restart snap.kubelet.daemon.service</span></pre><p id="4e28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注</strong>:如果你读过我以前的帖子，也许你会记得我们用sed、awk和其他不错的文本版foo编辑文件。现在是一个<em class="mx">为快照设置</em>命令。T4和T5有关系吗？突然，作为管理员，您不再负责管理代码的幂等性，而是将它委托给snapd。它改变了游戏规则，让事情变得比以前琐碎多了。这还没有提到新的升级路径变得如此简单。</p><p id="b032" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在在主屏幕上，</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="5549" class="lq jr hu lm b fv lr ls l lt lu">sudo snap set kube-controller-manager feature-gates=”Accelerators=true”<br/>sudo snap set kube-scheduler feature-gates=”Accelerators=true”<br/>sudo snap set kube-apiserver feature-gates=”Accelerators=true”<br/>sudo systemctl restart snap.kube-apiserver.daemon.service <br/>sudo systemctl restart snap.kube-scheduler.daemon.service <br/>sudo systemctl restart snap.kube-controller-manager.daemon.service </span></pre><p id="ad05" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好了，你可以走了，你现在已经在K8s中激活了GPU</p><h2 id="8366" class="lq jr hu bd js lv lw lx jw ly lz ma ka jc mb mc ke jg md me ki jk mf mg km mh dt translated">测试结果</h2><p id="b55f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">一个经典的开始:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="04fa" class="lq jr hu lm b fv lr ls l lt lu">kubectl install -f src/nvidia-smi.yaml</span></pre><p id="9bd8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你去那里，它只是工作:)</p><figure class="lh li lj lk fq mk fe ff paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="fe ff my"><img src="../Images/0911086bb74bf245e3e4428a2ef03db0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jdPEu8liSD4ietauJDICDQ.png"/></div></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">nVidia P5000, passthrough in vSphere</figcaption></figure><h1 id="6c6e" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">更多加密货币？</h1><p id="979f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我注意到你们<strong class="it hv">喜欢</strong>加密货币，所以我为<a class="ae jp" href="https://minergate.com" rel="noopener ugc nofollow" target="_blank"> Minergate </a>写了一张新图表，你可以在<a class="ae jp" href="https://github.com/madeden/charts" rel="noopener ugc nofollow" target="_blank">https://github.com/madeden/charts</a>找到</p><p id="cab7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它不是有史以来最快的采矿机，但还可以，它可以开箱进行CUDA采矿，这使得它非常适合测试。</p><p id="d010" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看一下配置文件，在<a class="ae jp" href="https://minergate.com" rel="noopener ugc nofollow" target="_blank">https://minergate.com</a>上创建一个账户，然后开始玩游戏:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="f8a2" class="lq jr hu lm b fv lr ls l lt lu">helm init<br/>helm install path/to/charts/minergate — name minergate</span></pre><p id="fccd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以配置以下值:</p><ul class=""><li id="e751" class="kt ku hu it b iu iv iy iz jc kv jg kw jk kx jo ky kz la lb dt translated"><strong class="it hv"> clusterName </strong>:</li><li id="dff2" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated"><strong class="it hv">池</strong> : (minergate)也有区别</li><li id="b438" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated"><strong class="it hv">币</strong> : (-qcn)你要挖掘的加密货币，前面加一个“-”。</li><li id="da02" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated"><strong class="it hv">节点</strong> : (2):集群中有多少节点欢迎矿工</li><li id="302b" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated"><strong class="it hv"> workersPerNode </strong> : (1)您希望每个节点部署多少工作人员</li><li id="7cd7" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">cpusPerWorker  : (1):您希望为每个矿工分配多少个CPU内核</li><li id="10f2" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated"><strong class="it hv"> gpuComplexity </strong> : (4):如果使用GPU，给GPU施加多大的压力？如果只想进行CPU挖掘，请使用0</li><li id="f62e" class="kt ku hu it b iu lc iy ld jc le jg lf jk lg jo ky kz la lb dt translated">用户名:(<a class="ae jp" href="mailto:samnco@gmail.com" rel="noopener ugc nofollow" target="_blank">samnco@gmail.com</a>)你的Minergate ID</li></ul><p id="acd0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">日志应该看起来像这样:</p><pre class="lh li lj lk fq ll lm ln lo aw lp dt"><span id="19b6" class="lq jr hu lm b fv lr ls l lt lu">$ kubectl logs worker-ob-1-0-2045746350-h2dd7<br/>Starting mining -qcn with 2 CPUs and 1 GPUs<br/>[2017-05-17 15:43:38.333] [ info]  Pool parameters query...<br/>[2017-05-17 15:43:46.592] [ info]  Loading miners...<br/>[2017-05-17 15:43:46.593] [ info]  Miners loaded successfully<br/>[2017-05-17 15:43:46.594] [ info]  CUDA: Initializing CUDA miner...<br/>[2017-05-17 15:43:53.212] [ info]  CUDA: Device name: Quadro P5000<br/>[2017-05-17 15:43:53.212] [ info]  CUDA: Total memory: 17063477248<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Free memory: 16942891008<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: MP count: 20<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: MP threads count: 2048<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: CUDA version: 6.1<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: CUDA cores: 0<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Threads per block: 1024<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Dim size: 1024 | 1024 | 64<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Grid size: 2147483647 | 65535 | 65535<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Calculated threads per block: 8<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Calculated blocks: 0<br/>[2017-05-17 15:43:53.213] [ info]  CUDA: Total threads: 0<br/>[2017-05-17 15:43:53.214] [ info]  CUDA: CUDA miner successfully initialized<br/>[2017-05-17 15:43:53.215] [error]  PoolClient: ERROR: Trying to connect while connection is in progress<br/>[2017-05-17 15:43:53.215] [ info]  Stratum client stopped<br/>[2017-05-17 15:43:53.216] [ info]  Stratum client stopped<br/>[2017-05-17 15:43:53.325] [ info]  Successfully connected to pool: stratum+tcp://qcn.pool.minergate.com:45570. session_id="02ec69f8-1f5f-440f-9e9f-3b85a6febf84"<br/>[2017-05-17 15:43:53.325] [ info]  New Job: job_id="25f7c926-e632-4ab3-b822-9d7abc0ed9c8" blob="0100aedff1c8057c6ea6d76a9920d1bf61c14b410a50d1ef216a293b0ea5e107b6c9d615d8abc3000000007cc70a356438f7d1cc3133d226a8b2b7c4adaf21286b3cf3ade0cee62acbf1cc01" target="e4a63d00"<br/>[2017-05-17 15:43:53.325] [ info]  New difficulty: 1063<br/>[2017-05-17 15:43:56.570] [ info]  QCN hashrate: 67.8947 H/s</span></pre><p id="4b8c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽情享受吧！当然，这是Helm，因此您只受到Kubernetes的限制，而不会受到VMWare或任何其他平台的限制。</p><p id="7ad6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更严重的是，你的任何GPU工作负载:深度学习、物理计算、破解密码、视频转码……所有这些都将通过这样的设置得到大幅改善。</p><figure class="lh li lj lk fq mk fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/1853730cbc7720c4547480a2bc65ae4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/1*m4mDJW_lXJHAA0JyJ1hpGw.gif"/></div><figcaption class="mr ms fg fe ff mt mu bd b be z ek">That’s right, we have Kubernetes AND GPUs</figcaption></figure><h1 id="483c" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">结论</h1><p id="afcb" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">过去几周，VMWare的体验有了显著改善。现在，在vSphere上运行大型软件变得特别容易。</p><p id="009d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Kubernetes 的<a class="ae jp" href="https://jujucharms.com/kubernetes" rel="noopener ugc nofollow" target="_blank"> Canonical发行版就是一个例子，但是Canonical的长期合作伙伴</a><a class="ae jp" href="http://spicule.co.uk/" rel="noopener ugc nofollow" target="_blank"> Spicule </a>与Pentaho一起进行大数据咨询和集成，现在也可以利用VMWare作为目标。</p><p id="de00" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还有一点值得一提的是，<a class="ae jp" href="https://maas.io" rel="noopener ugc nofollow" target="_blank"> MAAS </a>可以将VMWare集成为一个“裸机层”,因此您可以在MAAS中记录来自VMWare的虚拟机，并使用它来启动或停止它们。</p><p id="6d6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们即将完成在所有云、裸机等设备上激活nVidia GPUs的旅程。下一站:微软Azure，循环就要结束了。</p><p id="e42d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">任何问题，我在Twitter上是@SaMnCo_23，在Freenode和GitHub上是#SaMnCo。随时ping我！</p><p id="30a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，如果你喜欢这个，觉得它有用，或者只是想帮忙，点击小心脏！感谢阅读！</p></div></div>    
</body>
</html>