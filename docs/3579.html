<html>
<head>
<title>Native Mobile Apps with Weex and VueJS 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Weex和VueJS 2.0的原生移动应用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-create-a-weex-vue2-project-6b94981bee4e?source=collection_archive---------4-----------------------#2017-04-10">https://medium.com/hackernoon/how-to-create-a-weex-vue2-project-6b94981bee4e?source=collection_archive---------4-----------------------#2017-04-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0db4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如何为Web、Android和iOS构建Weex应用程序！</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/207209154fa3ba6dadd2de7ae482bb9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOj6fHhJUWowFGgp9dsQXg.jpeg"/></div></div></figure><p id="31d3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你读过<a class="ae kb" rel="noopener" href="/@tiagoreisalves/the-state-of-weex-an-inaccurate-and-outdated-report-fae2c6e5fc2e">Weex的现状:一份不准确且过时的报告</a>，你会了解到没有明确的途径来开发一款适用于web、<a class="ae kb" href="https://hackernoon.com/tagged/android" rel="noopener ugc nofollow" target="_blank"> Android </a>和iOS的Weex VueJS应用。</p><p id="323b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">嗯…现在有了！我们开始吧！</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff kc"><img src="../Images/05bdc6ee3658354bb7c897c128eacf01.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/1*LWNONuXCJ0ONKdh0MOAQWQ.gif"/></div></figure><p id="0e57" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好吧…也许我们应该在这里设定适当的期望值。Weex仍然有很多粗糙的边缘。本教程不会结束可部署的生产应用程序。不过，你会看到一个简单的Weex Vue2.0应用程序在浏览器和手机上运行。这是一个很好的里程碑。</p><h1 id="2ee4" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">安装工具</h1><p id="c311" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">我们将需要<a class="ae kb" href="https://github.com/vuejs/vue-cli" rel="noopener ugc nofollow" target="_blank"> vue-cli </a>来安装模板和<a class="ae kb" href="https://github.com/weexteam/weex-toolkit" rel="noopener ugc nofollow" target="_blank"> weex-toolkit </a>来构建本地应用程序。</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="2736" class="ll ke hu lh b fv lm ln l lo lp">&gt; npm install -g vue-cli<br/>&gt; npm install -g weex-toolkit</span></pre><h1 id="817f" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">创建应用程序</h1><p id="0326" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">从这个<a class="ae kb" href="https://github.com/tralves/weex-vue" rel="noopener ugc nofollow" target="_blank"> weex-vue模板</a>创建应用程序。</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="6f5c" class="ll ke hu lh b fv lm ln l lo lp">&gt; vue init tralves/weex-vue &lt;project_name&gt;<br/>&gt; cd &lt;project_name&gt;<br/>&gt; npm install</span></pre><p id="3f40" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该模板使用文件夹结构创建项目:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lq"><img src="../Images/2428ce440c72dc4e71e5b15179cb87d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/1*xAyBQVu5TWiV_aqjyN8scQ.jpeg"/></div><figcaption class="lr ls fg fe ff lt lu bd b be z ek">Folder structure</figcaption></figure><p id="931a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">重要的文件夹有:</p><ul class=""><li id="24a5" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated"><code class="eh me mf mg lh b">dist</code> —编译后的js将去向何方。</li><li id="5203" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><code class="eh me mf mg lh b">platforms</code> — Android/iOS原生项目。</li><li id="85a2" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><code class="eh me mf mg lh b">src</code>—app代码。</li></ul><p id="b37f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其他重要文件:</p><ul class=""><li id="dd21" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated"><code class="eh me mf mg lh b">config.xml</code> —用于生成本地项目的cordova配置文件。这还不能正常工作。</li><li id="c874" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><code class="eh me mf mg lh b">weex.html</code> —网页版的入口文件。</li><li id="f0f9" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><code class="eh me mf mg lh b">app.js</code>—<a class="ae kb" href="https://hackernoon.com/tagged/vuejs" rel="noopener ugc nofollow" target="_blank">vue js</a>用于<code class="eh me mf mg lh b">weex.html</code>的引导文件。</li><li id="ec32" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><code class="eh me mf mg lh b">index.html</code>—在类似手机的框架中呈现应用程序。显示一个二维码，您可以用它将您的应用程序加载到<a class="ae kb" href="https://weex.apache.org/playground.html" rel="noopener ugc nofollow" target="_blank"> Weex游乐场应用程序</a>中。</li></ul><p id="7331" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您的应用程序将在<code class="eh me mf mg lh b">src</code>中。如果您打开<code class="eh me mf mg lh b">App.vue</code>文件，您会发现一个只有两个Weex组件的简单布局:<code class="eh me mf mg lh b">&lt;image&gt;</code>和<code class="eh me mf mg lh b">&lt;text&gt;</code>。你可以在官方文档中找到更多关于所有Weex组件<a class="ae kb" href="https://weex.apache.org/references/components/index.html" rel="noopener ugc nofollow" target="_blank">的信息。Weex将这些组件编译成网页版的html(例如，<code class="eh me mf mg lh b">&lt;image&gt;</code>变成了<code class="eh me mf mg lh b">&lt;img&gt;</code>)和iOS/Android应用的原生组件。</a></p><p id="9ab5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个例子非常简单，但是您可以构建更复杂的应用程序。查看<a class="ae kb" href="https://github.com/weexteam/weex-hackernews" rel="noopener ugc nofollow" target="_blank"> weex-hackernews </a>和<a class="ae kb" href="https://github.com/tralves/weex-todo-list" rel="noopener ugc nofollow" target="_blank"> weex-todo-list </a>。这些应用程序展示了如何使用vue路由器、vuex、本地持久数据等。</p><h1 id="7c08" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">Web构建</h1><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="48d5" class="ll ke hu lh b fv lm ln l lo lp">&gt; npm run build<br/>&gt; npm run serve</span></pre><p id="1232" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">命令<code class="eh me mf mg lh b">npm run build</code>将应用的web和本地版本编译成<code class="eh me mf mg lh b">build/</code>。<code class="eh me mf mg lh b">npm run serve</code>启动一个本地网络服务器。</p><p id="7356" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您可以将浏览器指向<code class="eh me mf mg lh b"><a class="ae kb" href="http://localhost:8080to" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></code>以在浏览器中预览移动应用，并指向<code class="eh me mf mg lh b">http://localhost:8080/weex.html</code>以访问网页版本。</p><h1 id="5eca" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">Android版本</h1><p id="f61b" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">首先，我们需要:</p><ul class=""><li id="1676" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated">下载安装<a class="ae kb" href="https://www.google.com.br/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiO97vWqZjTAhWGEJAKHWL4AwEQFggiMAA&amp;url=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Findex.html&amp;usg=AFQjCNFxiiJ5jw3OprFf7ya-IJj9GFv2Eg&amp;sig2=69T1Hl64JW95-mSaCQIF7w" rel="noopener ugc nofollow" target="_blank">安卓工作室</a>。</li><li id="daa3" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">添加<code class="eh me mf mg lh b">$ANDROID_HOME</code>环境变量，并将SDK工具添加到<code class="eh me mf mg lh b">$PATH</code>中。在我的例子中，我添加了<code class="eh me mf mg lh b">.bash_profile</code>:</li></ul><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="4250" class="ll ke hu lh b fv lm ln l lo lp">export ANDROID_HOME=~/Library/Android/sdk<br/>export PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$ANDROID_HOME/build-tools</span></pre><p id="e01a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后我们添加android平台:</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="b427" class="ll ke hu lh b fv lm ln l lo lp">&gt; weex platform add android</span></pre><p id="d47b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，连接Android设备(<a class="ae kb" href="https://www.howtogeek.com/129728/how-to-access-the-developer-options-menu-and-enable-usb-debugging-on-android-4.2/" rel="noopener ugc nofollow" target="_blank">并激活USB调试</a>)并运行:</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="4cb5" class="ll ke hu lh b fv lm ln l lo lp">&gt; weex run android</span></pre><blockquote class="mm mn mo"><p id="ea1e" class="ir is mp it b iu iv iw ix iy iz ja jb mq jd je jf mr jh ji jj ms jl jm jn jo hn dt translated">注意:如果你没有Android设备，它会使用一个非常慢的模拟器。</p></blockquote><p id="a553" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样！应用程序应该在设备中运行！</p><h1 id="f77f" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">iOS版本</h1><p id="e453" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">先决条件:</p><ul class=""><li id="caed" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated">Xcode</li><li id="48f1" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated"><a class="ae kb" href="https://cocoapods.org/" rel="noopener ugc nofollow" target="_blank">椰子</a></li></ul><p id="9fc2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后:</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="23b0" class="ll ke hu lh b fv lm ln l lo lp">&gt; weex platform add ios</span></pre><p id="e4a5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装cocoapods依赖项:</p><pre class="jq jr js jt fq lg lh li lj aw lk dt"><span id="415d" class="ll ke hu lh b fv lm ln l lo lp">&gt; cd platforms/ios<br/>&gt; pod install</span></pre><p id="b0ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">打开<code class="eh me mf mg lh b">platforms/ios</code>下的Xcode工作区<code class="eh me mf mg lh b">WeexDemo.xcworkspace</code>。</p><p id="d9c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从窗格中添加依赖关系:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mt"><img src="../Images/fcabd368f9fd80a884de18f492a285a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JpbJpw3j7s9V66nwFxM9w.jpeg"/></div></div></figure><ul class=""><li id="268a" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated">打开通用设置。</li><li id="f2ea" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">(1)按下<strong class="it hv">下的“+”链接框架和库</strong></li><li id="31e1" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">(2)选择<code class="eh me mf mg lh b">libSDWebImage.a</code>、<code class="eh me mf mg lh b">libSocketRocket.a</code>和<code class="eh me mf mg lh b">libWeexplugin.a</code>库。</li><li id="8cf6" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">(3)按“添加”</li></ul><p id="8890" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">跑项目！</p><blockquote class="mm mn mo"><p id="64b3" class="ir is mp it b iu iv iw ix iy iz ja jb mq jd je jf mr jh ji jj ms jl jm jn jo hn dt translated">我对过时的椰子有些问题。如果你遇到编译问题，试试<code class="eh me mf mg lh b">pod update</code>。</p></blockquote><h1 id="6678" class="kd ke hu bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la dt translated">weex-vue的下一步？</h1><p id="e1c2" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">待办事项列表很大:</p><ul class=""><li id="334e" class="lv lw hu it b iu iv iy iz jc lx jg ly jk lz jo ma mb mc md dt translated">请修复config.xml设置。</li><li id="775e" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">让config.xml生成一个正确配置的Android/iOS项目。目前，这个模板生成的项目有错误的名称、图标、应用id等。</li><li id="5907" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">修复调试工具。Weex有非常棒的使用Chrome开发工具的调试工具。到目前为止，我还不能使它正常工作。</li><li id="d9b3" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">改进构建工具:图标/闪屏生成器、可分发的Web构建等。</li><li id="268d" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">关于Weex插件的工具和教程，这些插件是与本机功能交互的组件。</li><li id="6398" class="lv lw hu it b iu mh iy mi jc mj jg mk jk ml jo ma mb mc md dt translated">更多的演示应用，更复杂的场景，将显示更多的Weex组件和插件。</li></ul><div class="jq jr js jt fq ab cb"><figure class="mu ju mv mw mx my mz paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mu ju mv mw mx my mz paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mu ju mv mw mx my mz paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mm mn mo"><p id="f922" class="ir is mp it b iu iv iw ix iy iz ja jb mq jd je jf mr jh ji jj ms jl jm jn jo hn dt translated"><a class="ae kb" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kb" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kb" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kb" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mp it b iu iv iw ix iy iz ja jb mq jd je jf mr jh ji jj ms jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kb" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kb" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff na"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="nb nc l"/></div></figure></div></div>    
</body>
</html>