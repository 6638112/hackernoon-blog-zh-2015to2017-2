<html>
<head>
<title>How Ethereum lost $300 Million Dollars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊如何损失了3亿美元</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-ethereum-lost-300-million-dollars-bfedf7ba0c19?source=collection_archive---------11-----------------------#2017-11-09">https://medium.com/hackernoon/how-ethereum-lost-300-million-dollars-bfedf7ba0c19?source=collection_archive---------11-----------------------#2017-11-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/1910f6bbfa003c5ee3502e0a8e67b0c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1yvcORTDCmJbzRDz."/></div></div></figure><div class=""/><div class=""><h2 id="b468" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">加密货币3分钟攻略</h2></div><p id="e47e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">2016年5月，一个名为DAO或“去中心化自治组织”的以太坊项目能够筹集到1.1亿美元，这不仅是ICOs中最大的众筹活动，也是人类历史上最大的众包。</p><p id="5343" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">仅在推出两个月后，其软件中的一系列漏洞被发现，黑客能够窃取超过5000万美元的以太(以太坊的货币)，导致以太的价格从每枚硬币20美元降至13美元。</p><p id="b390" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">这次黑客攻击意义重大，几乎分裂了以太坊社区。一些人希望黑客保留这些钱，另一些人则不希望。所以决定通过一个叫做硬分叉的事件把以太坊分成两个代币。那些在黑客成为“以太坊经典”或ETC之前不想恢复交易的人和那些恢复黑客影响的人是“以太坊”或ETH的一部分。</p><figure class="kr ks kt ku fq hw fe ff paragraph-image"><div class="fe ff kq"><img src="../Images/b59bd4fcd5d59785d96efd8ec4473714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*7RgvRWwLtJsrL5Xj."/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Image from: <a class="ae kz" href="https://steemit.com/ethereum/@self-steem/ethereum-eth-vs-ethereum-classic-tc" rel="noopener ugc nofollow" target="_blank">https://steemit.com/ethereum/@self-steem/ethereum-eth-vs-ethereum-classic-tc</a></figcaption></figure><p id="8cdf" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">一年后的2017年7月，一个名为奇偶校验的以太坊客户端(由<a class="ae kz" href="http://parity.io" rel="noopener ugc nofollow" target="_blank">奇偶校验技术</a>生产)因一个允许奇偶校验多重签名钱包中的以太被引流到其他账户的错误而损失了大约3000万美元。然而，由于这个漏洞是被好心人发现的，钱被退回来了，奇偶校验被鼓励对他们的代码进行安全审计。然而，他们似乎没有这样做，11月7日发现了另一个(非常相似的)漏洞，冻结了平价多签名钱包中价值超过3亿美元的ETH。</p><h1 id="a956" class="la lb if bd lc ld le lf lg lh li lj lk jl ll jm lm jo ln jp lo jr lp js lq lr dt translated">3亿美元平价黑客</h1><p id="93a7" class="pw-post-body-paragraph ju jv if jw b jx ls jg jz ka lt jj kc kd lu kf kg kh lv kj kk kl lw kn ko kp hn dt translated">以太坊的计算能力很昂贵。因此，奇偶校验的创建者决定通过一个称为存根的简化版本的合同来处理钱包交易，该合同将所有合同调用转发给主合同。然而，在实现中有一个错误，它可能会改变主合同的所有权。开发商在合同中也有自毁条款。</p><p id="e6c8" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">一个化名为“devops199”的未知用户发现了这个漏洞，并更改了主合同的所有权，然后触发了自毁。由于他销毁了主合同，所有存根合同代码也被销毁。导致所有资金被锁定。</p><p id="c41f" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><strong class="jw ig">需要说明的是，这个漏洞是奇偶校验错误，而不是以太坊协议本身的漏洞。</strong></p><h2 id="b677" class="lx lb if bd lc ly lz ma lg mb mc md lk kd me mf lm kh mg mh lo kl mi mj lq mk dt translated">用专业术语来说:</h2><p id="6f0c" class="pw-post-body-paragraph ju jv if jw b jx ls jg jz ka lt jj kc kd lu kf kg kh lv kj kk kl lw kn ko kp hn dt translated">平价钱包有普通的多签名钱包，每个新用户使用一个新的合同和完整的密码副本。为了降低交易费用，parity随后将新的钱包部署更改为存根合同，该合同使用<em class="ml"> delegatecall </em>函数将任何合同代码调用转发给主合同，而不是拥有完整的代码副本。这让主契约在存根契约的上下文中执行所需的代码。</p><p id="4cbf" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">然而，奇偶校验并没有删除主合同中的<em class="ml">自毁</em>功能(如果该功能只是为一个不想再使用它的特定用户创建的合同，则该功能有意义，但当该合同代码在所有用户之间共享时，则没有意义)。此外，对等并没有设定主合同的合同所有权。这允许某人将自己设置为所有者，然后调用<em class="ml">自毁</em>功能。</p><p id="ab1e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">该操作销毁了自7月20日以来部署的所有存根契约所使用的代码。因此，这些存根无法访问让他们收回所包含的以太坊的功能，从而无限期地锁定他们。因此，作为奇偶校验之前multisig hack的根本原因的主存根设计更改也导致了这个非常昂贵的错误。</p><h1 id="d37b" class="la lb if bd lc ld le lf lg lh li lj lk jl ll jm lm jo ln jp lo jr lp js lq lr dt translated">结论:那么接下来呢？</h1><p id="0f8d" class="pw-post-body-paragraph ju jv if jw b jx ls jg jz ka lt jj kc kd lu kf kg kh lv kj kk kl lw kn ko kp hn dt translated">即使我们再次分叉以太坊，变成某种新形式的新以太坊，也没有保证能收回资金的方法。不幸的是，看起来必须有一种新的叉子，否则钱将永远被锁定。这既是智能合约的好处，也是问题，也是区块链的不灵活。</p><p id="9daa" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">有趣的是，自从黑客入侵以来，乙醚的价格并没有太大的变化。这可能表明对网络比以往任何时候都更有信心。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="f392" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">想帮忙吗？<br/>在奖金上支持我们！<a class="ae kz" href="https://www.bountey.com/bestoficos" rel="noopener ugc nofollow" target="_blank">https://www.bountey.com/bestoficos</a></p><p id="397a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">想在ICOs中保持最新？<br/> <strong class="jw ig">访问我们在</strong><a class="ae kz" href="http://thebestoficos.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jw ig">https://thebestoficos.com</strong></a></p><p id="d2a9" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">有一个有趣的故事？<br/> <strong class="jw ig">写我们在info@bestoficos.com</strong></p></div></div>    
</body>
</html>