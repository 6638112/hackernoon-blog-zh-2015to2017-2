<html>
<head>
<title>Ethereum Zero to Hero: Setting a Development Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以太坊零到英雄:设置开发环境</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/ethereum-zero-to-hero-setting-a-development-environment-d45e11532105?source=collection_archive---------12-----------------------#2017-12-25">https://medium.com/hackernoon/ethereum-zero-to-hero-setting-a-development-environment-d45e11532105?source=collection_archive---------12-----------------------#2017-12-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/638543efc67f17f1621e088f7d0d5cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kC1AVEyqZzBx4Zebz9afTw.png"/></div></div></figure><p id="6b91" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是我们以太坊零到英雄指南的第二部分。如果你还没有阅读第一部分，我强烈推荐你在开始阅读之前阅读。</p><p id="f9cd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这篇文章中，我们将为以太坊的开发和实验建立一个基本的私有测试网络环境。</p><h1 id="7564" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">步骤0:需求</h1><ul class=""><li id="ca16" class="ky kz hu je b jf la jj lb jn lc jr ld jv le jz lf lg lh li dt translated">你用的是<strong class="je hv"> MacOS </strong></li><li id="83ce" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">你对软件开发有一个基本的了解</li><li id="45c8" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">你知道以太坊是什么，理解它的基本用法。</li><li id="2864" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">你对<strong class="je hv"> MacOS终端使用</strong>有了基本的了解。</li><li id="ccf8" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">你已经安装了<strong class="je hv">自制软件</strong></li></ul><h1 id="dd4b" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">步骤1:设置测试网络</h1><p id="b279" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">当我们学习以太坊开发的细节时，我们可能不想用真实的以太网来测试真实的生产网络。</p><p id="e801" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有几个以太坊测试网在野外用于这个目的，例如Rinkeby 和Morden；然而，与这个网络互动仍然需要我们通过采矿或从其他用户那里获得以太。</p><p id="4bc0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然我们最终将与公共测试网络合作，但对于像我们这样刚刚起步的初学者来说，这远远不是理想的，而且很难获得大量的乙醚。</p><p id="89c5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一个更好的选择是建立我们的<strong class="je hv">私有测试网</strong>，我们可以弯曲和扭曲；同时，它将让我们对以太坊网络的内部运作有更深入的了解。</p><h2 id="9b29" class="lr kb hu bd kc ls lt lu kg lv lw lx kk jn ly lz ko jr ma mb ks jv mc md kw me dt translated">我们走吧</h2><p id="50cd" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">我们需要安装geth，这是一个go CLI客户端，允许我们在本地运行一个完整的以太坊节点。</p><p id="9814" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">brew tap ethereum/ethereum brew install ethereum</code></p><p id="e907" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们可以通过键入以下命令来验证所有安装是否正确:</p><p id="3bb4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">geth version</code></p><p id="0125" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这应该会产生类似如下的输出:</p><figure class="mj mk ml mm fq iv"><div class="bz el l di"><div class="mn mo l"/></div></figure><h1 id="fa89" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">第二步:创世纪街区</h1><figure class="mj mk ml mm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mp"><img src="../Images/fdc923e7a91719b7d1a8a38575602062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ecSNovQOiq2yzQ6ovWbuA.jpeg"/></div></div></figure><p id="c706" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了启动我们的私有测试网，我们需要一个Genesis块。每个区块链都需要一个genesis块，它本质上是我们的区块链的配置文件。</p><blockquote class="mq mr ms"><p id="5676" class="jc jd mt je b jf jg jh ji jj jk jl jm mu jo jp jq mv js jt ju mw jw jx jy jz hn dt translated">genesis块是区块链的起点，即第一个块，即块0，也是唯一不指向前一个块的块。该协议确保没有其他节点会同意你的区块链版本，除非他们有相同的起源块，所以你可以做尽可能多的私有测试网区块链！</p></blockquote><ol class=""><li id="d761" class="ky kz hu je b jf jg jj jk jn mx jr my jv mz jz na lg lh li dt translated">创建一个项目目录，例如<code class="eh mf mg mh mi b">ethereum_0hero</code></li><li id="fb99" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">打开您喜欢的编辑器，创建一个名为<code class="eh mf mg mh mi b">HeroGenesis.json</code>的文件</li><li id="5b16" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">复制以下内容并保存文件:</li></ol><figure class="mj mk ml mm fq iv"><div class="bz el l di"><div class="mn mo l"/></div></figure><p id="e7b1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">正如您所看到的，文件内容是json格式的，大部分内容都是不言自明的，但是让我们快速浏览一下每个参数，以阐明它们的用途。</p><ul class=""><li id="18f6" class="ky kz hu je b jf jg jj jk jn mx jr my jv mz jz lf lg lh li dt translated"><strong class="je hv">coin base</strong>:160位地址，成功开采该区块所获得的所有奖励(以太)已被转移至该地址。这可以是Genesis块中的任何值，因为该值是在创建新块时由miner设置的。</li><li id="c757" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated"><strong class="je hv">时间戳</strong>:一个标量值，等于Unix time()函数在这个块开始时的合理输出。最后两个块之间的更小的周期导致难度级别的增加，从而需要额外的计算来找到下一个有效块。</li><li id="2538" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated"><strong class="je hv">难度</strong>:定义了挖掘目标，可以根据前一个方块的难度和时间戳计算出来。难度越高，矿工为了发现一个有效区块，统计上必须执行的计算就越多。该值用于控制区块链的区块生成时间，将区块生成频率保持在目标范围内。在测试网络上，我们将该值保持较低，以避免在测试期间等待，因为在区块链上执行交易需要发现有效的区块。</li><li id="5c5f" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated"><strong class="je hv"> gasLimit </strong>:一个标量值，等于每个区块天然气消耗的当前全链限制。高，以避免在测试过程中受到这个阈值的限制。</li></ul><p id="ea9a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，配置参数确保某些<strong class="je hv">协议升级</strong>从一开始就是可用的。</p><p id="9e0f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如需完整解释，请查看<a class="ae nb" href="https://ethereum.stackexchange.com/questions/2376/what-does-each-genesis-json-parameter-mean" rel="noopener ugc nofollow" target="_blank">堆栈交换</a>中的答案</p><p id="8021" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来，我们需要通过运行以下命令来初始化我们的链:</p><p id="a3dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">geth --datadir ./TestNetData init HeroGenesis.json</code></p><p id="b562" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">设置数据目录很重要，因为否则我们将覆盖<strong class="je hv">真实以太网</strong>的默认数据目录。</p><p id="3711" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">输出应返回类似于以下内容的内容:</p><figure class="mj mk ml mm fq iv"><div class="bz el l di"><div class="mn mo l"/></div></figure><h1 id="cb3c" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">步骤3:运行本地节点</h1><p id="56b7" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">既然我们已经创建了初始链，我们可以通过执行以下命令来运行它:</p><p id="4b0f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">geth --datadir ./TestNetData --identity "HeroNode1" --rpc --rpcport "8080" --rpccorsdomain "*" --port "30303" --nodiscover --rpcapi "db,eth,net,web3" --maxpeers 0 --networkid 24 console</code></p><p id="b1f8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">该命令执行几项操作:</p><ol class=""><li id="6438" class="ky kz hu je b jf jg jj jk jn mx jr my jv mz jz na lg lh li dt translated">利用我们之前创建的<strong class="je hv">创世纪模块</strong></li><li id="120d" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">它使用自定义数据目录，而不是默认目录</li><li id="6908" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">将网络id设置为24，以防止我们从主网络中的节点进行通话</li><li id="115a" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">禁用<strong class="je hv">对等发现</strong></li><li id="b21f" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">通过将maxpeers设置为0来禁用网络</li><li id="4b48" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz na lg lh li dt translated">启动geth控制台，以便我们可以与区块链/节点进行交互</li></ol><p id="cef0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">输出应该类似于以下内容:</p><figure class="mj mk ml mm fq iv"><div class="bz el l di"><div class="mn mo l"/></div></figure><p id="1021" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此时，您应该已经启动并运行了，并且在geth控制台中准备做一些事情，但是什么呢？</p><p id="bace" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">好吧，让我们把注意力转移到下面的警告上:</p><blockquote class="mq mr ms"><p id="80f6" class="jc jd mt je b jf jg jh ji jj jk jl jm mu jo jp jq mv js jt ju mw jw jx jy jz hn dt translated">警告没有以太基础集，也没有找到默认帐户</p></blockquote><p id="6bac" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们已经启动并运行了node，但是如果没有任何帐户，它将没有多大用处。</p><h1 id="f14a" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">第4步:创建帐户</h1><p id="4f13" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">由于我们已经在Geth控制台中，因此更容易直接从那里创建帐户，请在终端中键入以下内容:</p><p id="e09e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">personal.newAccount()</code></p><p id="e39a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">控制台将要求输入密码<strong class="je hv">不要丢失！</strong>，而return a已经像下面这样了:</p><p id="daae" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">0xe857331e4e3354bb72b3751cce419c8444e89e17</code></p><p id="bb14" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们通过运行以下命令来验证该帐户是否存在:</p><p id="1526" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">&gt; eth.getBalance("0xe857331e4e3354bb72b3751cce419c8444e89e17") 0</code></p><p id="0a43" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，让我们往账户里放些乙醚。</p><h1 id="26e0" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">第五步:让我们开始采矿</h1><p id="58e6" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">快速回顾:</p><ul class=""><li id="b26a" class="ky kz hu je b jf jg jj jk jn mx jr my jv mz jz lf lg lh li dt translated">我们有一个工作专用网络，其中有一个节点在本地运行</li><li id="2bda" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">我们在上述专用网络上创建一个测试帐户</li><li id="f8c1" class="ky kz hu je b jf lj jj lk jn ll jr lm jv ln jz lf lg lh li dt translated">我们的账户里没有乙醚，我们需要解决这个问题</li></ul><p id="07ca" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，虽然我们可以使用<strong class="je hv"> Genesis block </strong>轻松地向我们的帐户发送以太，但还是让我们找点乐子，在我们的专用网络上开采以太吧。</p><p id="029e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">打开新的终端选项卡并运行以下命令:</p><p id="ea7a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">get attach ./&lt;DirectoryName&gt;/geth.ipc</code></p><p id="65f3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将把我们的第二个终端连接到现有的geth实例，并打开<strong class="je hv"> Javascript </strong>控制台。在控制台内运行以下程序:</p><p id="367f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">miner.setEtherbase("0xe857331e4e3354bb72b3751cce419c8444e89e17") miner.start()</code></p><p id="628a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果我们回到我们的第一个终端，我们应该看到以下情况:</p><figure class="mj mk ml mm fq iv"><div class="bz el l di"><div class="mn mo l"/></div></figure><p id="5760" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们回到第二个终端，停止采矿机并检查我们的平衡:</p><p id="63c4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mf mg mh mi b">miner.stop() eth.getBalance('0xe857331e4e3354bb72b3751cce419c8444e89e17') 75000000000000000000</code></p><p id="dc6f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">恭喜你！我们现在已经创建了我们的私有网络并开采了我们的少量以太网，我们有一个有效的网络可以用来开发我们的<strong class="je hv">智能合同</strong>和<strong class="je hv">dapp</strong>。</p><p id="dce2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本系列的下一篇文章中，我们将开始开发可靠性和智能合同。</p><p id="0cd7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mt">本文原帖</em> <a class="ae nb" href="https://coderoncode.com/blockchain/2017/12/24/ethereum-zero-to-hero-setting-a-development-environment.html" rel="noopener ugc nofollow" target="_blank"> <em class="mt">在我自己的网站</em> </a> <em class="mt">。</em></p></div></div>    
</body>
</html>