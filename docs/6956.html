<html>
<head>
<title>How 680 Developers Say We Can Increase Code Quality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">680开发者如何说我们可以提高代码质量</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-680-developers-say-we-can-increase-code-quality-339908809d19?source=collection_archive---------14-----------------------#2017-10-11">https://medium.com/hackernoon/how-680-developers-say-we-can-increase-code-quality-339908809d19?source=collection_archive---------14-----------------------#2017-10-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="5f5a" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated"><strong class="ak">TL；博士</strong>:我们最近调查了680多名开发人员，并在这里发布了第一套见解<a class="ae jj" href="https://goo.gl/qLuLud" rel="noopener ugc nofollow" target="_blank">。今天我们讨论一个特定的方面:对开发人员生产力的影响。我们发现代码评审在几个方面提高了代码质量和开发人员的生产率。</a></h2></div><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="fe ff jk"><img src="../Images/53a92295869009e356728285d2ecbc9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLIXa6jWWjxfB-6AYjm2Hg.jpeg"/></div></div></figure><blockquote class="jw jx jy"><p id="8a48" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">披露:<a class="ae jj" href="https://goo.gl/SvwMy7" rel="noopener ugc nofollow" target="_blank"> <strong class="kc hv"> Codacy </strong> </a>，自动化代码评审平台，之前赞助过黑客正午。对于《黑客正午》的读者来说，他们使用这个代码<a class="ae jj" href="https://goo.gl/SvwMy7" rel="noopener ugc nofollow" target="_blank"> <strong class="kc hv">提供15%的折扣:HACKERNOON </strong> </a> <strong class="kc hv">。</strong></p></blockquote><h1 id="be30" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">第一步。确定提高代码质量的最重要的实践</h1><p id="4d5e" class="pw-post-body-paragraph jz ka hu kc b kd lo iv kf kg lp iy ki lq lr kl km ls lt kp kq lu lv kt ku kv hn dt translated">人们普遍认为代码审查有许多好处。随便浏览一下涵盖代码审查主题的文献，就会发现它们有如下好处:</p><ul class=""><li id="3856" class="lw lx hu kc b kd ke kg kh lq ly ls lz lu ma kv mb mc md me dt translated">提高代码质量；</li><li id="f92d" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">促进团队协作；</li><li id="a1cf" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">统一代码标准和代码风格；</li><li id="c807" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">在开发过程的早期识别bugs</li><li id="5a28" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">吸收新的开发人员，并在组织内传播最佳实践和知识。</li></ul><p id="fa7e" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">然而，我们想将直觉与硬而冷的数字进行对比。</p><p id="0c71" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">第一步是问一个开放性的问题:他们开发过程的什么变化对代码质量有最大的影响？开发者可以自由地提供他们想要的答案。然后，答案被贴上标签并分类，如下图所示。</p><p id="c4d2" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">问题1:你开发过程中的什么变化对代码质量影响最大？</em>T19】</strong></p><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="fe ff mk"><img src="../Images/bde67a83727f861fdce7eb52182bef25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5rXiou4bevEFuNM3."/></div></div></figure><p id="4185" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">结果:五分之一的回答者认为代码评审是提高代码质量的最重要的活动。</em> </strong></p><p id="5f04" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">在开发人员提供的所有答案中，代码评审是最普遍的答案，近五分之一(特别是19%)的人认为代码评审是提高代码质量的最重要的活动。</p><h1 id="4c9c" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">第二步。衡量代码评审对开发人员生产力的影响</h1><p id="94b3" class="pw-post-body-paragraph jz ka hu kc b kd lo iv kf kg lp iy ki lq lr kl km ls lt kp kq lu lv kt ku kv hn dt translated">在审查代码所花费的时间和编写新特性所花费的时间之间有一个明显的平衡。所以我们问开发人员他们花在修复bug上的时间比例。</p><p id="0c4b" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">问题2:你花在修复bug上的时间占你时间的比例是多少？</em> </strong></p><p id="5cf9" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">结果:</em> </strong></p><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/b7571b9e53cb114d040a3ef6b1617302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*91EjCOHGc5NYu6cy9dEfZg.jpeg"/></div></figure><p id="850a" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">上表非常简单明了。如果你假设一周有40个小时，在部署前系统地审查代码的公司工作的开发人员每周花在修复bug上的时间会少4个小时。</p><p id="3c76" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">但事情会变得更好。</p><p id="be3a" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">因为硬币的另一面是修复bug节省的时间是否真正转化为更有趣、更有成效的东西——也就是说，构建新功能。所以我们问了以下问题:</p><p id="faee" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">问题3:你花在构建新功能上的时间比例是多少？</em>T3】</strong></p><p id="f52f" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">结果:</em> </strong></p><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="fe ff ml"><img src="../Images/7c2e10c57e57fd1b00e51ab0541e5a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*hXmtIFa5iQea1WHPFIpE4g.jpeg"/></div></div></figure><p id="57bf" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">事实证明，审查代码的人每周花4.4个小时来开发新功能(同样，假设每周40个小时)。</p><h1 id="4d7d" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">第三步。衡量代码评审对代码质量的影响</h1><p id="f534" class="pw-post-body-paragraph jz ka hu kc b kd lo iv kf kg lp iy ki lq lr kl km ls lt kp kq lu lv kt ku kv hn dt translated">已经确定的是，对代码进行审查的开发人员最终会在构建新功能上多花10%的时间，而在修复bug上少花10%的时间，下一组问题与代码质量有关:代码审查有助于多大程度的改进？</p><p id="b659" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">为了找到答案，我们问了两个问题，从…</p><p id="4a1e" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">问题4:你如何评价你项目中的代码质量？</em>T11】</strong></p><p id="e425" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">在这里，我们直截了当地询问开发人员，他们如何评价他们项目的质量，从1(非常差)到5(非常好)。平均分数显示在下表中。</p><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/bdb1155f8022d74d45e1df3b4c577fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*wo3ekyta6VjhZF_DrEmyNw.jpeg"/></div></figure><p id="b904" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">那些没有进行代码评审的人的平均分数低于中位数(即3)，而那些进行了代码评审的人的平均质量分数高于中位数3。这个代码质量分数显然是高度主观的，所以我们问了另一个问题:</p><p id="3fe4" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated"><strong class="kc hv"> <em class="kb">问题5:维护代码需要更多的时间吗？</em> </strong></p><p id="6315" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">这里的开发人员询问他们是否需要更多的时间来维护代码，并且只有可能的选项:是或否。结果如下:</p><figure class="jl jm jn jo fq jp fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/a67b4f00f9965704b08366ff003b8a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*WSIjiTqzOVjNTYLAsOilWw.jpeg"/></div></figure><p id="561f" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">无论代码是否被评审，一般来说，人们感觉需要更多的时间来评审代码(事实上，时间压力是开发人员报告的主要抱怨之一)。但同样，进行代码评审的人和不进行代码评审的人之间的差异是明显的:超过四分之三没有进行代码评审的开发人员认为他们需要更多的时间来维护代码，相比之下，进行了代码评审的开发人员中有59%的人这样认为。</p><h1 id="44f3" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">最后的想法</h1><p id="ca12" class="pw-post-body-paragraph jz ka hu kc b kd lo iv kf kg lp iy ki lq lr kl km ls lt kp kq lu lv kt ku kv hn dt translated">我们的研究证实了大多数开发者的直觉。它还补充了来自各种案例研究的见解，这些案例研究首先由麦康奈尔的“代码完成”书<a class="ae jj" href="https://hackernoon.com/tagged/book" rel="noopener ugc nofollow" target="_blank">报道。我们将从书中引用几段话来结束这篇博文:</a></p><blockquote class="jw jx jy"><p id="5691" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">“…软件测试本身的有效性有限——单元测试的平均缺陷检测率仅为25 %,功能测试为35 %,集成测试为45%。相比之下，设计和代码检查的平均效率分别是55%和60%。审查结果的案例研究令人印象深刻:</p><p id="c716" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">*在一个软件维护组织中，在引入代码评审之前，55%的单行维护变更是错误的。在引入评论后，只有2%的变化是错误的。当所有的改变都被考虑时，95%的人在引入评论后第一次是正确的。在引入评论之前，不到20%的人第一次是正确的。</p><p id="d154" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">*在同一组人开发的11个程序中，前5个程序是在没有评审的情况下开发的。剩下的6个是带评论的。在所有的程序发布到产品中后，前5个程序平均每100行代码有4.5个错误。被检查的6个平均每100个中只有0.82个错误。评论减少了80%以上的错误。</p><p id="52fc" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">Aetna保险公司通过检查发现了程序中82%的错误，并减少了20%的开发资源。</p><p id="c352" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">* IBM的500，000 line Orbit项目使用了11级检查。它很早就交付了，只有正常预期的1%的错误。</p><p id="fef9" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">*对美国电话电报公司一个拥有200多人的组织的研究报告称，在该组织引入评审后，生产率提高了14 %,缺陷减少了90%。</p><p id="cca9" class="jz ka kb kc b kd ke iv kf kg kh iy ki kj kk kl km kn ko kp kq kr ks kt ku kv hn dt translated">* Jet Propulsion Laboratories估计，通过在早期阶段发现并修复缺陷，每次检查可节省约25，000美元。"</p></blockquote><h1 id="7e1a" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">进一步阅读</h1><ul class=""><li id="50ad" class="lw lx hu kc b kd lo kg lp lq mm ls mn lu mo kv mb mc md me dt translated">关于同行评议的七个事实(卡尔·e·威格斯)。<a class="ae jj" href="http://www.processimpact.com/articles/seven_truths.html" rel="noopener ugc nofollow" target="_blank">链接</a>。</li><li id="335a" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">代码完成。史蒂夫·麦康奈尔。<a class="ae jj" href="https://www.amazon.co.uk/Code-Complete-Practical-Handbook-Construction/dp/0735619670" rel="noopener ugc nofollow" target="_blank">链接</a>。</li><li id="55b6" class="lw lx hu kc b kd mf kg mg lq mh ls mi lu mj kv mb mc md me dt translated">代码评审:只管去做。链接。编码恐怖。<a class="ae jj" href="https://blog.codinghorror.com/code-reviews-just-do-it/" rel="noopener ugc nofollow" target="_blank">链接</a>。</li></ul><h2 id="b74c" class="mp kx hu bd ky mq mr ms lc mt mu mv lg lq mw mx li ls my mz lk lu na nb lm nc dt translated">感谢阅读！如果你喜欢，点击下面的心形按钮:)</h2><h2 id="dba2" class="mp kx hu bd ky mq mr ms lc mt mu mv lg lq mw mx li ls my mz lk lu na nb lm nc dt translated">你也可以在我们关于代码评审的电子书中读到更多关于这一点和其他伟大的知识:</h2><figure class="jl jm jn jo fq jp fe ff paragraph-image"><a href="https://www.codacy.com/ebook"><div class="fe ff nd"><img src="../Images/55615533ee113ba03f18a3259b62be2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q6FnQEGjWNqY8ybtx4Q7zg.png"/></div></a><figcaption class="ne nf fg fe ff ng nh bd b be z ek">Click to get the ebook</figcaption></figure><p id="9d2b" class="pw-post-body-paragraph jz ka hu kc b kd ke iv kf kg kh iy ki lq kk kl km ls ko kp kq lu ks kt ku kv hn dt translated">这个故事最初发表在Codacy博客上:软件构建者的洞察力。</p><figure class="jl jm jn jo fq jp"><div class="bz el l di"><div class="ni nj l"/></div></figure></div></div>    
</body>
</html>