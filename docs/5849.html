<html>
<head>
<title>Javascript ES6 — Arrow Functions and Lexical `this`</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript ES6-Arrow函数和词法“this”</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/javascript-es6-arrow-functions-and-lexical-this-f2a3e2a5e8c4?source=collection_archive---------0-----------------------#2017-08-20">https://medium.com/hackernoon/javascript-es6-arrow-functions-and-lexical-this-f2a3e2a5e8c4?source=collection_archive---------0-----------------------#2017-08-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="60a8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt jp translated"><span class="l jq jr js bm jt ju jv jw jx di">O</span>ES6 Javascript标准中最令人期待的新特性之一是<a class="ae jy" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noopener ugc nofollow" target="_blank"> Arrow Function Expression </a>。它承诺一个比它的前身<a class="ae jy" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" rel="noopener ugc nofollow" target="_blank">函数表达式</a>更短的<a class="ae jy" href="https://www.sitepoint.com/es6-arrow-functions-new-fat-concise-syntax-javascript/" rel="noopener ugc nofollow" target="_blank">语法</a>。此外(IMHO更激动人心的是)，新的Arrow Function是如何绑定的，或者实际上<strong class="it hv">并不</strong>绑定自己的<code class="eh jz ka kb kc b">this</code> <em class="kd">。</em> Arrow Functions <strong class="it hv">在词汇上</strong>绑定了它们的上下文，因此<code class="eh jz ka kb kc b">this</code>实际上是指原始上下文。</p><p id="6b31" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们更深入地看看这两种实现。</p><p id="35da" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kd">请记住，以下所述的ES5通常是指ES6之前的状态。</em></p><p id="6eac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kd">很多人都在问这些教程中使用的编辑器主题。正是</em><a class="ae jy" href="https://github.com/dempfi/ayu" rel="noopener ugc nofollow" target="_blank"><em class="kd">AYU</em></a><em class="kd">崇高的主题加上了</em> <a class="ae jy" href="https://developer.apple.com/fonts/" rel="noopener ugc nofollow" target="_blank"> <em class="kd">苹果SF </em> </a> <em class="kd">的字体(细)。</em></p><p id="c34e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kd">如果你喜欢这个帖子，查看我最近关于组件共享的帖子，给我关注</em> <a class="ae jy" href="https://twitter.com/reasoncode" rel="noopener ugc nofollow" target="_blank"> <em class="kd">推特</em> </a> <em class="kd"> : </em></p><div class="ke kf fm fo kg kh"><a rel="noopener follow" target="_blank" href="/@_bengarrison/react-native-web-and-true-component-sharing-caa535b9dd7f"><div class="ki ab ej"><div class="kj ab kk cl cj kl"><h2 class="bd hv fv z el km eo ep kn er et ht dt translated">反应-本地-网络和真正的组件共享</h2><div class="ko l"><h3 class="bd b fv z el km eo ep kn er et ek translated">巫术。</h3></div><div class="kp l"><p class="bd b gc z el km eo ep kn er et ek translated">medium.com</p></div></div></div></a></div></div><div class="ab cl kq kr hc ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hn ho hp hq hr"><h1 id="971e" class="kx ky hu bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu dt translated">基本箭头函数语法</h1><p id="3e07" class="pw-post-body-paragraph ir is hu it b iu lv iw ix iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo hn dt translated">我们稍后将讨论一些更具体的例子，但让我们先把这个问题解决掉。</p><figure class="mb mc md me fq mf fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff ma"><img src="../Images/607c03840b0ec23f3bacfaf152b45547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ie6QvZqDGYvLvlQhj1H9Jw.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">basic arrow fn syntax</figcaption></figure><p id="2849" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以在第3行看到语句的基本语法，在第4行看到表达式。注意第4行等同于第5行。对于单参数函数，括号是可选的(第8-9行)。第12行没有param函数示例。</p><h1 id="029f" class="kx ky hu bd kz la mq lc ld le mr lg lh li ms lk ll lm mt lo lp lq mu ls lt lu dt translated">较短的函数</h1><h2 id="9fe9" class="mv ky hu bd kz mw mx my ld mz na nb lh jc nc nd ll jg ne nf lp jk ng nh lt ni dt translated">实施例1</h2><figure class="mb mc md me fq mf fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff nj"><img src="../Images/d0b696a0851c0a5446cd7be833f66300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uqvl7u9cIAjS3Ro4hneSBw.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">shorter functions ex 1</figcaption></figure><p id="aacf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意第5条<em class="kd">。地图()</em>功能在第12行。第17行是ES6实现，第22行是<strong class="it hv"> BETTER </strong> ES6实现。</p><h2 id="bafb" class="mv ky hu bd kz mw mx my ld mz na nb lh jc nc nd ll jg ne nf lp jk ng nh lt ni dt translated">示例2(表达式和语句)</h2><figure class="mb mc md me fq mf fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff nk"><img src="../Images/8a3a066d3fd37f070695bc8a14c021cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpF8Z5VRjzebBfOx6YWj2A.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">shorter functions ex 2</figcaption></figure><h1 id="bf87" class="kx ky hu bd kz la mq lc ld le mr lg lh li ms lk ll lm mt lo lp lq mu ls lt lu dt translated">词汇本</h1><p id="1a54" class="pw-post-body-paragraph ir is hu it b iu lv iw ix iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo hn dt translated">我们已经确定ES6 Arrow Functions的语法优于以前的标准，现在让我们看看执行上下文的含义。</p><p id="fb1c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在过去，你可能选择了一种常见的模式，即顶层的<code class="eh jz ka kb kc b">this</code>后面是嵌套的<code class="eh jz ka kb kc b">.bind(this)</code>和<code class="eh jz ka kb kc b">self=this</code>语句。请查看下面的图示。</p><figure class="mb mc md me fq mf fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff nl"><img src="../Images/566622ff948922d1da878c36e088241b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XYnhD1-TA5dpUx9moq_HAg.png"/></div></div><figcaption class="mm mn fg fe ff mo mp bd b be z ek">lexical this</figcaption></figure><p id="dfec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第4、11和17行都提供了管理现有执行上下文限制的ES5实现。你可以在第24行看到ES6箭头函数词法这个上下文。</p><p id="13ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么<strong class="it hv">到底是如何</strong>让‘词法this’允许我们传递执行上下文呢？通过使用“词法范围”。<a class="ae jy" href="http://whatis.techtarget.com/definition/lexical-scoping-static-scoping" rel="noopener ugc nofollow" target="_blank">词法范围</a>仅仅意味着它使用了包含Arrow函数的代码中的<code class="eh jz ka kb kc b">this</code>。</p></div><div class="ab cl kq kr hc ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hn ho hp hq hr"><p id="f498" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为结束这篇文章的一个好方法是总结ES6中函数的整体状态。随着ES6开始占据主导地位，你可能很难再看到老学校的功能:</p><ul class=""><li id="3d7a" class="nm nn hu it b iu iv iy iz jc no jg np jk nq jo nr ns nt nu dt translated">构造函数有望被类声明所取代</li><li id="4401" class="nm nn hu it b iu nv iy nw jc nx jg ny jk nz jo nr ns nt nu dt translated">作为子程序的函数将被箭头函数取代</li><li id="457a" class="nm nn hu it b iu nv iy nw jc nx jg ny jk nz jo nr ns nt nu dt translated">作为方法的函数将被方法定义所取代</li></ul></div><div class="ab cl kq kr hc ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hn ho hp hq hr"><p id="6747" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是ES6中的箭头函数。让我知道你的想法和问题，并在推特上给我一个关注。坚持下去。</p><h1 id="b32a" class="kx ky hu bd kz la mq lc ld le mr lg lh li ms lk ll lm mt lo lp lq mu ls lt lu dt translated">如果你喜欢这篇文章，请推荐分享，帮助别人找到！</h1></div></div>    
</body>
</html>