<html>
<head>
<title>Chrome Extension Dev-Hacks for Hipsters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为潮人开发的Chrome扩展</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/chrome-extension-dev-hacks-for-hipsters-5e137d6f2002?source=collection_archive---------8-----------------------#2017-06-01">https://medium.com/hackernoon/chrome-extension-dev-hacks-for-hipsters-5e137d6f2002?source=collection_archive---------8-----------------------#2017-06-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/d882b3cd2c7083a2ef77b817e0d2fbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cgl2hRJ0V-hwEMayHuCrQ.jpeg"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">No hipsters were harmed in the making of this article</figcaption></figure><div class=""/><p id="9b18" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">继<a class="ae ke" href="http://berzniz.com/post/68001735765/javascript-hacks-for-hipsters" rel="noopener ugc nofollow" target="_blank">为潮人准备的Javascript技巧</a>博客帖子成功之后，这里是另一个有用的提示。这次是为那些正在开发Chrome扩展的人准备的。</p><p id="a0bb" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">因此，按照绝对顺序，它们是:</p><p id="c5c4" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #1。弹出开发</strong>。使用弹出窗口是非常令人沮丧的——虽然使用开发工具检查弹出窗口应该会使其保持打开，但情况并非总是如此。此外，您不能在工作时浏览其他网站(stackoverflow任何人？).</p><p id="897e" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">诀窍是通过使用弹出窗口的URL在它自己的标签中打开<strong class="ji ik">弹出窗口。您可以通过检查弹出窗口并在控制台中使用以下命令来找到它<code class="eh kf kg kh ki b">location.href</code>——URL的形式为<code class="eh kf kg kh ki b">chrome-extension://&lt;your_extension_id&gt;/&lt;your_popup&gt;.html</code>。然后你就可以同时使用扩展和Chrome开发工具了。</strong></p><p id="f987" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #2。热重装</strong>。如果使用React，您可以使用热重装特性来使开发快速而连续。我使用下面的<a class="ae ke" href="https://github.com/samuelsimoes/chrome-extension-webpack-boilerplate/tree/react" rel="noopener ugc nofollow" target="_blank">样板文件</a>开始，它为React和HMR配置了webpack。</p><p id="72e1" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #3。分析</strong>。不要忘记发送包含您的分析事件的扩展版本。你可以用</p><p id="4cb0" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh kf kg kh ki b">const version = chrome.runtime.getManifest().version</code></p><p id="3e20" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #4。造型</strong>。对于内容脚本来说，使用<code class="eh kf kg kh ki b">CSS in JS</code>解决方案是非常棒的。内容脚本被注入到网页中，像<code class="eh kf kg kh ki b"><a class="ae ke" href="https://github.com/threepointone/glamor" rel="noopener ugc nofollow" target="_blank">glamor</a></code>这样的库消除了考虑CSS注入的需要。只需编写代码，其余的由<code class="eh kf kg kh ki b">glamor</code>完成。</p><p id="3eff" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #5。自动版本控制。每个新版本的扩展都需要一个新的版本号。虽然您可以手动修改扩展版本并提交到您的源代码控制中，但是让您的构建脚本来做要容易得多。你可以用npm模块<code class="eh kf kg kh ki b"><a class="ae ke" href="https://www.npmjs.com/package/chrome-web-store-item-property" rel="noopener ugc nofollow" target="_blank">chrome-web-store-item-property</a></code>查询你的扩展的Chrome网络商店版本，然后增加版本并发布到商店。</strong></p><p id="a065" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #6。承诺API </strong>。<code class="eh kf kg kh ki b">chrome</code>对象公开了一个基于回调的API，效果很好，但是<code class="eh kf kg kh ki b">Promise</code>更容易使用。虽然你可以自己包装每一个功能，<code class="eh kf kg kh ki b"><a class="ae ke" href="https://github.com/tfoxy/chrome-promise" rel="noopener ugc nofollow" target="_blank">chrome-promise</a></code>已经为你做了。这也将允许您利用<code class="eh kf kg kh ki b">async/await</code>语法。</p><p id="8e15" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #7。使用最新的浏览器功能</strong>。由于你运行在Chrome上，你可以使用所有最新的API(如<code class="eh kf kg kh ki b">fetch</code>、<code class="eh kf kg kh ki b">async/await</code>、<code class="eh kf kg kh ki b">position: sticky</code>)，编写更少的代码，也减少了编译时间。如果没有翻译步骤，调试也更容易(源地图也是一种解决方案，但是调试实际的源代码总是更好)。</p><p id="042e" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #8。多个目标。</strong>大多数项目至少有3个不同的目标，一个用于开发，一个用于试运行，一个用于生产。我保存了3个不同的<code class="eh kf kg kh ki b">manifest.json</code>文件，构建过程捆绑了正确的一个。然后所有3个扩展完美地并排运行。</p><p id="038e" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ik"> #9。内部分机共享。</strong>使用一个共享的Dropbox文件夹，将扩展复制到那里，这样整个公司都可以从那里加载它(他们需要将它作为一个未打包的扩展来加载)。更新比发送到Chrome网络商店要快得多。</p><p id="5f37" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">请在评论中分享你开发Chrome扩展的技巧和诀窍。</p><blockquote class="kj"><p id="7f89" class="kk kl ij bd km kn ko kp kq kr ks kd ek translated">如果你喜欢这篇文章，点击下面的❤按钮</p></blockquote><div class="kt ku kv kw kx ab cb"><figure class="ky hw kz la lb lc ld paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ky hw kz la lb lc ld paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ky hw kz la lb lc ld paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="le lf lg"><p id="f922" class="jg jh lh ji b jj jk jl jm jn jo jp jq li js jt ju lj jw jx jy lk ka kb kc kd hn dt translated"><a class="ae ke" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是AMI家庭的一员。我们现在<a class="ae ke" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ke" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jg jh lh ji b jj jk jl jm jn jo jp jq li js jt ju lj jw jx jy lk ka kb kc kd hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ke" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ke" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lm ln lo lp fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ll"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>