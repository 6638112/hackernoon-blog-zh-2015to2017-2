<html>
<head>
<title>Moving from redux-thunk to redux-saga</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从redux-thunk到redux-saga</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/moving-form-redux-thunk-to-redux-saga-5c19d0011ca0?source=collection_archive---------3-----------------------#2017-10-28">https://medium.com/hackernoon/moving-form-redux-thunk-to-redux-saga-5c19d0011ca0?source=collection_archive---------3-----------------------#2017-10-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="00a1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我当时正在做一个<strong class="it hv"> <em class="jp"> React，Redux </em> </strong>项目，这个项目涉及很多REST API调用，我决定使用<a class="ae jq" href="https://github.com/gaearon/redux-thunk" rel="noopener ugc nofollow" target="_blank"> redux-thunk </a>来处理这个项目。毫无疑问，这个库真的很棒，但是有很多多余的代码，所有这些调度和所有这些真的增加了项目的规模，并且随着复杂性的增加，它真的变得很难处理和管理</p><p id="60a2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的项目正在快速发展，我可以看到随着越来越多的使用<a class="ae jq" href="https://github.com/gaearon/redux-thunk" rel="noopener ugc nofollow" target="_blank"> redux-thunk </a>，代码变得越来越冗余。所以我决定在这个周末尝试redux-saga，我对结果感到非常惊讶。</p><p id="5768" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，要理解<a class="ae jq" href="https://github.com/redux-saga/redux-saga" rel="noopener ugc nofollow" target="_blank"> redux-saga </a>你需要理解<strong class="it hv"> <em class="jp">生成器</em> </strong>如何在Javascript中工作。我之前在python中使用过它们，所以我知道它们是如何工作的，但是如果你对生成器没有任何概念，从这里的<a class="ae jq" href="https://davidwalsh.name/es6-generators" rel="noopener ugc nofollow" target="_blank">开始做</a>然后继续。如果对发电机没有很好的理解，你就不会明白<a class="ae jq" href="https://github.com/redux-saga/redux-saga" rel="noopener ugc nofollow" target="_blank"> redux-saga </a>是如何工作的。</p><p id="ca47" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了比较redux-thunk和redux-saga，我决定创建一个小项目，该项目从远程API获取数据，更新本地存储，我的组件从该存储中读取数据并在页面上显示出来。作为《星球大战》的粉丝，我使用《星球大战》的开放API作为终点。</p><p id="ff17" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在来看这个项目，我们需要为redux-thunk和redux-saga创建动作、reducers和store。所以就配置而言，几乎所有代码都是一样的。redux-saga中的动作部分变得非常简单，因为生成器会让冗余的调度代码变得过时。</p><p id="8687" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是来自redux-thunk和redux-saga的操作:-</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="jw jx l"/></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="jw jx l"/></div></figure><p id="7ce7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，如果你看到我们能够将承诺传递给redux-saga中间件，它会自动处理它。这是我所期待的，因为它不涉及调度，代码冗余度大幅下降。</p><p id="ed9e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以通过以下链接查看redux-thunk和redux-saga的代码</p><ol class=""><li id="22d7" class="jy jz hu it b iu iv iy iz jc ka jg kb jk kc jo kd ke kf kg dt translated">redux-thunk—<a class="ae jq" href="https://github.com/jinxac/redux-thunk-saga/tree/ba7e60bdfe1a5e689de117ed095782ec22ff322d" rel="noopener ugc nofollow" target="_blank">https://github . com/Jin xac/redux-thunk-saga/tree/ba 7 e 60 bdfe 1 a5 e 689 de 117 ed 095782 EC 22 ff 322d</a></li><li id="afeb" class="jy jz hu it b iu kh iy ki jc kj jg kk jk kl jo kd ke kf kg dt translated">redux-saga—<a class="ae jq" href="https://github.com/jinxac/redux-thunk-saga/tree/6d85f28a41af2cef1c9af6da259b88962a082bb5" rel="noopener ugc nofollow" target="_blank">https://github . com/Jin xac/redux-thunk-saga/tree/6d 85 f 28 a 41 af F2 ce f1 c 9 af 6 da 259 b 88962 a 082 bb 5</a></li></ol><p id="4dcf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我真的相信，如果您的项目即将扩展或者已经达到那个水平，redux-saga是处理react项目中REST调用的更好方式。我计划将我的项目从redux-thunk转移到redux-saga。</p><p id="30d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢这篇文章，你可以在<a class="ae jq" href="https://github.com/jinxac" rel="noopener ugc nofollow" target="_blank"> github </a> / <a class="ae jq" href="https://twitter.com/salujaharkirat" rel="noopener ugc nofollow" target="_blank"> twitter </a>关注我。</p></div></div>    
</body>
</html>