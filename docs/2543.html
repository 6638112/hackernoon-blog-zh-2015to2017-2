<html>
<head>
<title>🛠AppVeyor -&gt; Microsoft Teams📣</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">🛠AppVeyor -&gt;微软团队📣</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/appveyor-microsoft-teams-a4f810d354ee?source=collection_archive---------11-----------------------#2017-02-02">https://medium.com/hackernoon/appveyor-microsoft-teams-a4f810d354ee?source=collection_archive---------11-----------------------#2017-02-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="2ddf" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">将您的AppVeyor构建状态通知发送到Microsoft Teams渠道</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff jj"><img src="../Images/8a9574bc0b40073d36b5278a3bd0cfc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*lWwl_e1mbsfFiqypOf1UDQ.png"/></div></figure><p id="c086" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">目前AppVeyor不支持通知微软团队，团队也没有准备好支持默认AppVeyor webhook有效负载的连接器。</p><p id="8946" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">但是AppVeyor确实支持通用的定制webhook，它允许您使用模板定制webhook主体有效负载，以基本上适合任何http服务，而不需要中间的代理/转换服务。</p><p id="f1fd" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在这篇文章中，将引导你完成设置自定义webhook的过程，以使AppVeyor能够与微软团队进行通信。</p><p id="b681" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">首先你需要在你想要获得通知的Teams频道上添加一个通用的传入webhook</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="fe ff kn"><img src="../Images/5edac06d1b9f51606b9be10ebfe45103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gOvD_XRcIhaX8clp1RAvoQ.gif"/></div></div><figcaption class="ks kt fg fe ff ku kv bd b be z ek">Team-&gt; Channel-&gt; Connectors -&gt; Incoming Webhook</figcaption></figure><p id="ad8b" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">您可以通过点击通道、连接器后的“…”，选择一个名称，可选一个自定义图标，然后点击“创建”。一旦创建，你将有一个独特的传入网络挂钩的选择渠道。</p><p id="0d8b" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">然后它关闭到AppVeyor，你在一个项目的设置通知部分选择“添加通知”</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="fe ff kw"><img src="../Images/2d500ffa5844d622ffdecb6d96763cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5lglS-eqg6jSMc1l_9L3Q.png"/></div></div></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="fe ff kx"><img src="../Images/3df2175cc989f3cec8d0702dbb035fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k6EHoxIGaAMDgTEBrgNH-A.png"/></div></div><figcaption class="ks kt fg fe ff ku kv bd b be z ek">Custom Webhook</figcaption></figure><ul class=""><li id="db27" class="ky kz hu jt b ju jv jx jy ka la ke lb ki lc km ld le lf lg dt translated">选择“网页挂钩”选项</li><li id="abb1" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">方法“发布”</li><li id="cc80" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">输入您团队的网页挂钩url</li><li id="4de4" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">选中“添加自定义请求正文”</li><li id="0d21" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">使用“应用程序/json”作为自定义请求正文内容类型标题</li><li id="43a2" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">输入一个<a class="ae lm" href="http://mustache.github.io/mustache.5.html" rel="noopener ugc nofollow" target="_blank">小胡子</a>模板，将<a class="ae lm" href="https://www.appveyor.com/docs/notifications/#webhook-payload-default" rel="noopener ugc nofollow" target="_blank">默认</a>有效载荷转换成一个团队消息卡</li><li id="1ae3" class="ky kz hu jt b ju lh jx li ka lj ke lk ki ll km ld le lf lg dt translated">检查您想要哪些状态的通知</li></ul><p id="f231" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">然后只需点击保存，就大功告成了。你可以随心所欲地使用消息模板，这是我使用的一个，你可以随意窃取它:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ln lo l"/></div></figure><p id="092c" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">这将生成一条大致如下的消息:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/05a72c56b31a8222133c0ac6b42eee1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*yTSADGCC_Ofdo1s7CmCrWA.png"/></div><figcaption class="ks kt fg fe ff ku kv bd b be z ek">Microsoft Teams AppVeyor build status notification</figcaption></figure><p id="20c9" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">如果你使用yml文件配置AppVeyor，当然可以在那里添加你的团队通知，这里有一个例子<em class="lq"> appveyor.yml </em>文件:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ln lo l"/></div></figure><p id="9cd0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">总而言之，启用状态通知只需几个步骤，只需一点点努力，您就可以定制它们的外观，以包含您需要的信息！</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/9c015f046966268e90cef1326b05a6f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*9OOLnwHnmuT4Ae16jp9Oew.png"/></div></figure><p id="4bc2" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><em class="lq"> PS。<br/>如果你有很多项目，你可以使用PowerShell之类的东西来自动化这个过程，我在以前的博文中已经提到过了</em></p><div class="ls lt fm fo lu lv"><a rel="noopener follow" target="_blank" href="/@devlead/reduce-the-pain-of-expiring-nuget-keys-794acd97127a"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">减少过期NuGet密钥的痛苦</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">所以在今年六月，NuGet团队写了一篇博文“NuGet API key expiration”，他们基本上写了所有…</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">medium.com</p></div></div></div></a></div><div class="ls lt fm fo lu lv"><a rel="noopener follow" target="_blank" href="/@devlead/switching-to-microsoft-teams-a647b9eab982"><div class="lw ab ej"><div class="lx ab ly cl cj lz"><h2 class="bd hv fv z el ma eo ep mb er et ht dt translated">切换到微软团队</h2><div class="mc l"><h3 class="bd b fv z el ma eo ep mb er et ek translated">通过REST APIs和PowerShell自动过渡到新服务，降低准入门槛</h3></div><div class="md l"><p class="bd b gc z el ma eo ep mb er et ek translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj jp lv"/></div></div></a></div><p id="ddbc" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><em class="lq">。DS </em></p><div class="jk jl jm jn fq ab cb"><figure class="mk jo ml mm mn mo mp paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mk jo ml mm mn mo mp paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mk jo ml mm mn mo mp paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mq mr ms"><p id="f922" class="jr js lq jt b ju jv iv jw jx jy iy jz mt kb kc kd mu kf kg kh mv kj kk kl km hn dt translated"><a class="ae lm" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lm" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lm" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae lm" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jr js lq jt b ju jv iv jw jx jy iy jz mt kb kc kd mu kf kg kh mv kj kk kl km hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lm" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lm" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="fe ff mw"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>