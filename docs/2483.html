<html>
<head>
<title>How I hacked Google Daydream controller (Part IV)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何黑了谷歌白日梦控制器(第四部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-hacked-google-daydream-controller-part-iv-453c7b8c4df4?source=collection_archive---------13-----------------------#2017-01-30">https://medium.com/hackernoon/how-i-hacked-google-daydream-controller-part-iv-453c7b8c4df4?source=collection_archive---------13-----------------------#2017-01-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="dd5b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">做事更加认真。</p><p id="ef5e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">“<strong class="it hv">我是如何黑掉谷歌Daydream控制器</strong>的前几章:<br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(上篇)</strong> <em class="jq">反转并使其兼容苹果iOS设备。</em> </a> <br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-ii-2d27e6c46aac" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(第二部分)</strong> <em class="jq">开发跨多个平台的兼容性。</em> </a> <br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-iii-12e75adc4829" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(第三部分)</strong> <em class="jq">同时使用两个控制器怎么样？</em></a><em class="jq"><br/></em><a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-v-a0ada411271e" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">(第五部分)</strong>贫民区位置追踪。</a></p><p id="f2e4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虚拟现实的未来是移动的。<a class="ae jp" href="https://www.google.it/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#safe=off&amp;q=gear+vr+users" rel="noopener ugc nofollow" target="_blank">多个消息来源</a>报道称，<strong class="it hv">三星</strong> <strong class="it hv"> Gear VR </strong> <strong class="it hv">耳机</strong>搭载<strong class="it hv"> Oculus </strong>是采用率最高的移动VR平台。然而，在这个平台上，移动虚拟现实体验仍然没有达到应有的沉浸感。这有几个原因，其中之一是缺乏跨平台的高性能控制器。</p><p id="b93e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从开发者的角度来看，这种情况让你很难实施可行的解决方案来获得引人注目的移动VR体验。</p><p id="3579" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一方面，当然还有<strong class="it hv">谷歌Daydream控制器</strong>。这是一个伟大的产品，流畅，反应灵敏，设计美观，电池续航时间长，但是……它生来就有一个装甲协议(直到<a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank">这个黑客</a>)，并且只与它自己的平台兼容，这个平台很难被广泛采用，因为它只与很少的设备兼容。</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/44ff9af3f123f27d686f0a53e45cda5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*djaq9eTMHK_r0LzSubdOGA.png"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">“To be <strong class="bd kh">open source</strong>, or not to be <strong class="bd kh">open source</strong>, that is the question” (sorry Shakespeare)</figcaption></figure><p id="96af" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个不能忽视的限制，尤其是对于开发者来说。你越开放，就越容易被采纳。这种思维方式激发了我去破解谷歌白日梦控制器的灵感。</p><p id="0d6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当<strong class="it hv">谷歌</strong>发布了它的控制器和它的带有<a class="ae jp" href="https://developers.google.com/vr/daydream/overview" rel="noopener ugc nofollow" target="_blank">优秀解释参考的平台</a>时，它无情地奠定了移动虚拟现实的指导方针，为它所有的后继者打开了道路。</p><p id="9f9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但现在我们试图解决上述所有限制:例如，考虑一个面向移动的<strong class="it hv"> Unity3D </strong>开发者，他想开发一个视频游戏或虚拟现实体验并发布它。如果他决定采用<strong class="it hv">谷歌Daydream控制器</strong>作为主要的<em class="jq">输入系统</em>，他会发现自己不得不在<strong class="it hv">安卓</strong> <strong class="it hv"> 7.x </strong>智能手机上使用它。只有少数设备可以使用它，这是一个遗憾，尤其是当你考虑到<strong class="it hv"> Unity3D </strong>是作为一个跨平台引擎而诞生的，它允许你创建一些可以跨多个平台移植的东西，如<strong class="it hv"> iOS </strong>和<strong class="it hv"> Android </strong>。</p><p id="684a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么，我有没有提到<strong class="it hv">谷歌Daydream控制器</strong>与<strong class="it hv">三星</strong> <strong class="it hv"> Gear VR耳机的兼容性问题？</strong></p><p id="26d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">惊喜，惊喜…</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="ki kj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Google Daydream Controller Hacked (Running on Samsung Gear VR compatible smartphone through Unity3D)</figcaption></figure><h2 id="aa71" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">这是怎么回事？</h2><p id="c44b" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">我在打破谷歌Daydream控制器链条方面的挑战，事实上也是我让它开源的宣传，必须继续。所以我决定让我的黑客技术更上一层楼:将它的兼容性扩展到<strong class="it hv"> Unity3D </strong>并使其普遍兼容。我想让它不仅能在<strong class="it hv"> iOS </strong>上运行，还能在<strong class="it hv">所有<strong class="it hv"> Android </strong>不支持的版本上运行(根据<strong class="it hv">蓝牙LE </strong>兼容性，<strong class="it hv"> ≥4.4 KitKat </strong>)。</strong></p><p id="3288" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好吧，但是…怎么做？</p><p id="fda4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我重构了我的第一次攻击的源代码，其中我在特别的<strong class="it hv"> JavaScript </strong> <em class="jq">类</em>中描述了<strong class="it hv">Google Daydream controller</strong>规范。后来，我在<strong class="it hv"> C# </strong>中移植了<strong class="it hv">解码器</strong>(通过它我解释了最初的<em class="jq"> BLE包</em>)和<strong class="it hv"> AHRS </strong>系统(它负责<em class="jq">三轴</em> <em class="jq">跟踪</em>的绝对方位)。</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/6b7fde39e8549e5da22b06f9d421fcf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTxuXgwxEUYZmCVOXZwhqA.png"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Nightmare driver architecture: making Google Daydream an universal controller.</figcaption></figure><p id="e201" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在<strong class="it hv"> Unity3D </strong> IDE里面导入了<strong class="it hv"> Google Daydream controller </strong>的一个<a class="ae jp" href="https://github.com/TechnoBuddhist/VR-Controller-Daydream" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> 3D模型</strong> </a> <strong class="it hv"> </strong>之后，我创建了一个“<strong class="it hv"><em class="jq">nightman . cs</em></strong>”脚本，我把它赋给了游戏对象。这个驱动通过原生插件抽象出<em class="jq">蓝牙</em>设备的底层通信接口(针对<strong class="it hv"> iOS </strong>和<strong class="it hv"> Android </strong>)。它负责扫描和配对过程，以及通过可用通道进行数据通信。</p><p id="864a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">握手程序完成后，司机需要几秒钟时间来找到<em class="jq">蓝牙</em>设备。最后，我能够以一种完全流畅且反应灵敏的方式与谷歌白日梦控制器互动。</p><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="ki kj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Google Daydream Controller Hacked (Running on iOS through Unity3D)</figcaption></figure><p id="6f08" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你觉得自己一路走来错过了什么吗？阅读《<strong class="it hv">我是如何黑掉谷歌Daydream控制器</strong>的》前几章可能会帮助你理解事情是如何开始的:<br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(第一部分)</strong> <em class="jq">反转并使其兼容苹果iOS设备。</em> </a> <br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-ii-2d27e6c46aac" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(第二部分)</strong> <em class="jq">开发跨多个平台的兼容性。</em> </a> <br/> <a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-iii-12e75adc4829" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">(第三部)</strong> <em class="jq">同时使用两个控制器怎么样？</em></a><em class="jq"><br/></em><a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-part-v-a0ada411271e" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">(第五部分)</strong>贫民区位置追踪。</a></p><div class="js jt ju jv fq ab cb"><figure class="lk jw ll lm ln lo lp paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lk jw ll lm ln lo lp paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lk jw ll lm ln lo lp paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lq lr ls"><p id="f922" class="ir is jq it b iu iv iw ix iy iz ja jb lt jd je jf lu jh ji jj lv jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客们如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jq it b iu iv iw ix iy iz ja jb lt jd je jf lu jh ji jj lv jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff lw"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>