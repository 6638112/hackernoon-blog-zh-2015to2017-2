<html>
<head>
<title>Using a private github repo as helm chart repo (https access)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用私有github repo作为helm chart repo (https访问)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-a-private-github-repo-as-helm-chart-repo-https-access-95629b2af27c?source=collection_archive---------1-----------------------#2017-09-29">https://medium.com/hackernoon/using-a-private-github-repo-as-helm-chart-repo-https-access-95629b2af27c?source=collection_archive---------1-----------------------#2017-09-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="489b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Helm是Kubernetes的一个很好的包管理器。如果你正在使用k8s，特别是在复杂的设置中，helm可以帮助你创建一个良好的发布过程。</p><p id="e3ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在复杂的设置中，有时你需要一个私有的helm库来存放你的包。</p><p id="a1a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是你如何使用github回购，公共或私人，作为掌舵回购。</p><h1 id="5f1c" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">在github中创建舵图报告</h1><p id="c726" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这很容易。创建一个repo，要添加包，请执行以下命令</p><pre class="kt ku kv kw fq kx ky kz la aw lb dt"><span id="f4c9" class="lc jr hu ky b fv ld le l lf lg">$ helm package $YOUR_CHART_PATH/ # to build the tgz file and copy it here<br/>$ helm repo index . # create or update the index.yaml for repo<br/>$ git add .<br/>$ git commit -m 'New chart version'<br/>$ git push</span></pre><h1 id="80b9" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">访问您的回购</h1><p id="3ef9" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">目前helm只理解用于存储库服务器的http(s)。以下技巧展示了如何在不使用gh-pages的情况下，在私有或公共github repo中实现这一点。</p><p id="ac8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可能知道github有一个原始视图。因此，只需使用以下代码:</p><pre class="kt ku kv kw fq kx ky kz la aw lb dt"><span id="fa08" class="lc jr hu ky b fv ld le l lf lg">$ helm repo add sample '<a class="ae jp" href="https://raw.githubusercontent.com/kmzfs/helm-repo-in-github/master/'" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/kmzfs/helm-repo-in-github/master/'</a><br/>$ helm repo update<br/>$ helm search aerospike<br/>NAME             VERSION DESCRIPTION<br/>sample/aerospike 0.1.2   A Helm chart for Aerospike in Kubernetes</span></pre><p id="3d1b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想保持回购的私密性，你可以创建一个“个人访问令牌”，并像这样使用它:</p><pre class="kt ku kv kw fq kx ky kz la aw lb dt"><span id="d1a1" class="lc jr hu ky b fv ld le l lf lg">$ helm repo add sample '<a class="ae jp" href="https://MY_PRIVATE_TOKEN@raw.githubusercontent.com/kmzfs/helm-repo-in-github/master/'" rel="noopener ugc nofollow" target="_blank">https://MY_PRIVATE_TOKEN@raw.githubusercontent.com/kmzfs/helm-repo-in-github/master/'</a></span></pre><p id="f616" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">只是要小心谁在创建令牌以及它的访问级别是什么。</p><div class="lh li fm fo lj lk"><a href="https://github.com/kmzfs/helm-repo-in-github" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab ej"><div class="lm ab ln cl cj lo"><h2 class="bd hv fv z el lp eo ep lq er et ht dt translated">kmzfs/helm-repo-in-github</h2><div class="lr l"><h3 class="bd b fv z el lp eo ep lq er et ek translated">这是一个如何在github中设置helm repo的例子</h3></div><div class="ls l"><p class="bd b gc z el lp eo ep lq er et ek translated">github.com</p></div></div></div></a></div></div></div>    
</body>
</html>