<html>
<head>
<title>Build an ‘SMS center’ with Python , Kannel and a GSM modem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python、Kannel和GSM调制解调器建立一个“短信中心”</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/build-an-sms-center-with-python-kannel-and-a-gsm-modem-9c0d29560d82?source=collection_archive---------0-----------------------#2015-12-31">https://medium.com/hackernoon/build-an-sms-center-with-python-kannel-and-a-gsm-modem-9c0d29560d82?source=collection_archive---------0-----------------------#2015-12-31</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="04a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我一直想知道，在一个只有6.50%的人口用上电的国家，电信公司是如何设法开展业务，并使移动电话渗透到T2 40%的人口中的！</p><p id="2cb1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你像我一样生活在撒哈拉以南的国家(布隆迪)，你知道我们是如何给手机供电的，对吗？</p><p id="ee77" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总之。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/f22b1dae2a71fb6143ffcf54879cf901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4HtwMlblMfPG3cht_F26hQ.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Dumb phones ( opposed to Smartphones)</figcaption></figure><p id="692a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这意味着我们大量使用“哑手机”，这种手机不会消耗我们所拥有的稀缺能源，这与现在全世界都知道的智能手机相反。</p><p id="897b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这也意味着，即使互联网覆盖很弱，在全国范围内使用手机短信也有很大的潜力。</p><p id="cd5e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是我自2013年以来在联合国儿童基金会一直在做的事情，为……青年参与(<a class="ae jp" href="https://github.com/unicefburundi/ureport-project/commits?author=srugano" rel="noopener ugc nofollow" target="_blank"> U-report </a>)或收集疾病数据(<a class="ae jp" href="http://goo.gl/jyzeA7" rel="noopener ugc nofollow" target="_blank">霍乱应用</a>)或卫生系统(<a class="ae jp" href="http://goo.gl/lN03BC" rel="noopener ugc nofollow" target="_blank">母亲和儿童健康周</a>)、<a class="ae jp" href="http://goo.gl/Td5gt4" rel="noopener ugc nofollow" target="_blank">急性营养不良、</a>……</p><p id="2993" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">许多年轻人不理解使用可用/负担得起的技术(例如在非洲的短信)的必要性，而是继续等待期待已久的光纤革命，届时互联网将随处可用。</p><p id="a9cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，…考虑到M-Pesa的成功(2 . 37亿人对人交易！伙计。)，我们最好重新考虑一下我们对这个问题的看法。</p><p id="4c95" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="kg">如果你和我一样是Python/Django开发人员</em> </strong>并且喜欢开源软件，让我向你展示如何构建一个“短信网关”来开始“涉足”Python中基于短信的应用程序，这样你就可以以一种方便的方式发送和接收短信，并且熟悉…*<em class="kg">ntumbase</em>*！</p><p id="d7d7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将要使用的技术非常“简单”,而且价格低廉，因为它们都是开源的。我在我的第一篇文章中提到了他们。</p><h2 id="a126" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">安装要求</h2><p id="33cc" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">让我们假设您有一台拥有root权限的计算机。首选基于Debian的发行版(…已经使用Ubuntu/Linux 7年了！).</p><p id="c285" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">安装virtualenvs </strong></p><p id="3790" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Virtualenvs帮助您在同一台机器上拥有同一Python包的多个版本，而不会出现不兼容问题。Virtualenv易于安装:</p><pre class="jr js jt ju fq lh li lj lk aw ll dt"><span id="3772" class="kh ki hu li b fv lm ln l lo lp">$ sudo apt-get install python-virtualenv</span></pre><p id="24f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">创建一个目录来保存你在<em class="kg"> mysmsapp </em>和<em class="kg"> cd </em>中的应用</p><pre class="jr js jt ju fq lh li lj lk aw ll dt"><span id="5796" class="kh ki hu li b fv lm ln l lo lp">$ mkdir mysmsapp &amp;&amp; cd mysmsapp</span></pre><h2 id="4848" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">构建RapidSMS应用程序</h2><p id="b451" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">接下来是构建您的web应用程序。让我们使用RapidSMS，它是一个用于与SMS交互的Django框架。你只需要做好这些<a class="ae jp" href="http://rapidsms.readthedocs.org/en/develop/tutorial/tutorial01.html#tutorial01" rel="noopener ugc nofollow" target="_blank">教程1 </a>、<a class="ae jp" href="http://rapidsms.readthedocs.org/en/develop/tutorial/tutorial02.html#tutorial02" rel="noopener ugc nofollow" target="_blank">教程2 </a>、<a class="ae jp" href="http://rapidsms.readthedocs.org/en/develop/tutorial/tutorial03.html#tutorial03" rel="noopener ugc nofollow" target="_blank">教程3 </a>里的内容。如果你懂Python或者Django，那就太简单了。</p><p id="991e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在教程3的最后，你需要选择一个后端，这样我们的应用程序就可以发送和接收真实世界的文本消息。我们将在我们的机器上使用一个Kannel后端。我喜欢它，因为我知道很多电信公司在他们的大型服务器上使用它。我们将在我们的小机器上使用，它实际上工作得很好…甚至在树莓派上！</p><h2 id="7fe2" class="kh ki hu bd kj kk kl km kn ko kp kq kr jc ks kt ku jg kv kw kx jk ky kz la lb dt translated">通道和调制解调器</h2><p id="8592" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">把一个装有sim卡的GSM调制解调器连接到你的机器上。建议不要将其连接到互联网，因为有些调制解调器被配置为不能同时发送短信和上网。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lq"><img src="../Images/a21175c1163426ac8a0365248f44de0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwdUpJzntbDCVsRcXoUJVA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Gear we’ll use!</figcaption></figure><p id="5227" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还建议使用使用“at”协议的调制解调器。有些是在这里找到的<a class="ae jp" href="http://wammu.eu/phones/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0bdb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Kannel帮助我们的应用程序分发收到或发出的短信。</p><p id="4d2d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你现在可以安装kannel并配置使用我们的应用程序，就像这里的<a class="ae jp" href="http://rapidsms.readthedocs.org/en/develop/topics/backends/kannel.html" rel="noopener ugc nofollow" target="_blank"/><strong class="it hv">中解释的那样，但是请记住，你必须修改kannel配置的某些部分，就像这里的</strong> <a class="ae jp" href="https://gist.github.com/srugano/90f5ec9f8a1a1634f624" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">要点</strong> </a>。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lr ls l"/></div></figure><p id="8843" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，您会看到一个发送短信的界面，如下所示:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lt"><img src="../Images/c91e7c589d34f3349d571ba07c79abee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JcRofZRNfN192-LGu05H4Q.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">RapidSMS interface</figcaption></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lu"><img src="../Images/f7c0f39afcb8b11684291c834272bd7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cWnulkPnvtsW-303CSEA1A.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Message logs</figcaption></figure><p id="3667" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Fini！</p><p id="8f45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们创建了短信中心来发送和接收一些消息。</p><p id="8dfe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为奖励，我在这里做了一个很酷的“基于树莓的”短信中心，它实际上模仿了我们在办公室用64GB/ram服务器做的事情！</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lv"><img src="../Images/51acdc93cc271c0ad52b12c52318cb92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5M-__y3e03cJJisWcd_hSg.jpeg"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Raspberry ($35) + ZTE Modem and sim-card ($25) = 518Mb sms-server-center</figcaption></figure><p id="3da6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">酷毙了。2016新年快乐。</p><div class="jr js jt ju fq ab cb"><figure class="lw jv lx ly lz ma mb paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lw jv lx ly lz ma mb paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lw jv lx ly lz ma mb paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mc md me"><p id="f922" class="ir is kg it b iu iv iw ix iy iz ja jb mf jd je jf mg jh ji jj mh jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is kg it b iu iv iw ix iy iz ja jb mf jd je jf mg jh ji jj mh jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><a href="https://goo.gl/Ahtev1"><div class="fe ff mi"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></a></figure></div></div>    
</body>
</html>