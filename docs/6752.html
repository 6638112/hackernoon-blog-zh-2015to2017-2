<html>
<head>
<title>Deploying any React app on Heroku</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Heroku上部署任何React应用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/deploying-any-react-app-to-heroku-1ee6db9b97d3?source=collection_archive---------3-----------------------#2017-10-03">https://medium.com/hackernoon/deploying-any-react-app-to-heroku-1ee6db9b97d3?source=collection_archive---------3-----------------------#2017-10-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="c083" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">毫无疑问，Heroku是受欢迎的基础设施平台。运行自己的专用服务器的时代还没有过去，但是对于开发和低容量的目的，使用像Heroku这样的服务确实很有意义。</p><p id="c4c8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最近我在酷玩游戏<a class="ae jp" href="https://hackernoon.com/tagged/startup" rel="noopener ugc nofollow" target="_blank">初创公司</a>的React前端工作，是的，他们用Heroku做服务器。探索Heroku很有趣，因为我的经验主要是关于Amazon AWS和专用服务器。</p><p id="498f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在那里部署静态应用应该很容易，对吗？<br/>至少他们是这么说的。</p><p id="e782" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是文章<a class="ae jp" href="https://blog.heroku.com/deploying-react-with-zero-configuration" rel="noopener ugc nofollow" target="_blank">https://blog . heroku . com/deploying-react-with-ZERO-CONFIGURATION</a><br/>我没有使用create-react-app，所以看起来我不能使用零配置部署选项:)</p><p id="dbee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，作为一名开发者，我在引擎盖下挖掘了一下，下面是我的发现。</p><h1 id="51d5" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">什么都有JSON</h1><p id="5fa5" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">首先，Heroku使用一种叫做<a class="ae jp" href="https://devcenter.heroku.com/articles/buildpacks" rel="noopener ugc nofollow" target="_blank"> Buildpacks </a>的东西在服务器上构建你的应用。</p><p id="0d67" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">创建react应用程序buildpack被配置为构建服务React应用程序的静态节点服务器。它是基于<a class="ae jp" href="https://github.com/heroku/heroku-buildpack-static#configuration" rel="noopener ugc nofollow" target="_blank">静态构建包</a>的，这给了我一个提示，我们可以如何配置我们自己的库来支持Create React App buildpack。</p><p id="9740" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">静态buildpack使用static.json JSON配置文件来指示服务器如何为您的应用程序提供服务。</p><p id="270d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以基本上，在Heroku服务器上运行React应用程序所要做的就是…</p><h2 id="7450" class="kt jr hu bd js ku kv kw jw kx ky kz ka jc la lb ke jg lc ld ki jk le lf km lg dt translated">1.配置Heroku以使用Create React App buildpack</h2><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lh"><img src="../Images/64e5cb28712e2147b7b0303e2e1f0c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GOb_ZVa-Ti-I1_qvbKzdSA.png"/></div></div></figure><h2 id="83e3" class="kt jr hu bd js ku kv kw jw kx ky kz ka jc la lb ke jg lc ld ki jk le lf km lg dt translated">2.将static.json文件添加到我的项目存储库的根目录</h2><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lt"><img src="../Images/3fb8828984787a42b5632478d48d2a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DFt7mS53i1_JT2aKPdJmkQ.png"/></div></div></figure><p id="806c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样。下次您推送连接到Heroku的repo时，app将使用Create React App buildpack进行构建，并且它将基于static.json文件启动。</p><p id="3fd1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这个基本示例中，我们设置了服务器的根目录，在我的例子中是dist/</p><p id="ee24" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有关更多配置选项，请参考<a class="ae jp" href="https://github.com/heroku/heroku-buildpack-static#configuration" rel="noopener ugc nofollow" target="_blank">静态构建包配置文件。</a></p><h1 id="9a50" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">如果它在构建时被破坏…</h1><p id="db7a" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在您的活动窗口中，您可以跟踪构建的进度。</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lu"><img src="../Images/bc19aad2534a2696b4d24c21ec642f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyYjalrAMxSdXaB9tB6w9w.png"/></div></div></figure><p id="c074" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">构建可能会中断…就像这样:(</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lv"><img src="../Images/0884faf76e18fcaf352827d1d43ab557.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tXnsUFDR6QG3GP-Fhgm72Q.png"/></div></div></figure><p id="27ce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以查看构建日志，看看它是什么。我只在安装了一些新的依赖项后遇到了问题，可能是因为你使用了Yarn，而我确实使用了Yarn。</p><p id="b884" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要解决此问题，请从您的回购中删除yarn.lock，然后再次推送。然后Heroku将从头开始构建一个项目，它将会成功。</p><p id="b36b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望对你有所帮助，请关注我<a class="lw lx gr" href="https://medium.com/u/bf179e2f37a0?source=post_page-----1ee6db9b97d3--------------------------------" rel="noopener" target="_blank"> Alex Gvozden </a>了解更多React和webdev的内容。</p><p id="3515" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我也可以按小时或全职工作。如果你想讨论，请随时打电话到alex.gvozden@gmail.com<a class="ae jp" href="mailto:alex.gvozden@gmail.com" rel="noopener ugc nofollow" target="_blank">和我联系。</a></p><figure class="li lj lk ll fq lm"><div class="bz el l di"><div class="ly lz l"/></div></figure></div></div>    
</body>
</html>