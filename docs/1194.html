<html>
<head>
<title>Separation of Concerns — Manipulating the DOM using JQuery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关注点分离——使用JQuery操作DOM</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/separation-of-concerns-manipulating-the-dom-using-jquery-3cc34ef05545?source=collection_archive---------12-----------------------#2016-09-21">https://medium.com/hackernoon/separation-of-concerns-manipulating-the-dom-using-jquery-3cc34ef05545?source=collection_archive---------12-----------------------#2016-09-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="1cd3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本周我正在做一个游戏项目，每当页面刷新或点击按钮时，用户都会看到乱码。用户还可以查看猜测单词的提示。然后，用户可以将他们的答案输入到表单中，并提交该表单。如果回答正确，用户会得到一个显示在屏幕上的分数，该分数会根据他们的答案加减分。今天我们写了两个函数——random name和Shuffle。在这些函数中，我们错误地应用了DOM事件。后来，我从一个职业玩家那里了解到，最好的做法是分离关注点，并编写处理咬入大小问题的函数。函数shuffle接收一个字符串输入，并必须将该字符串转换为一个数组，其中每个字符都拆分为单独的字母。现在是一个数组，字母必须被打乱，然后重新组合在一起，形成一个新的打乱的单词。</p><p id="9c6d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一步:给你的函数输入一些数据-</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="0185" class="jy jz hu ju b fv ka kb l kc kd">const dictionary = {<br/> “Mark Hamil”: “Luke Skywalker”,<br/> “Harrison Ford”: “Han Solo”,<br/> “Carrie Fisher”: “Princess Leia”,<br/> “Anthony Daniels”: “C-3PO”,<br/> “Daisy Ridley”: “Rey”,<br/> “Liam Neeson”: “Qui-Gon Jinn”,<br/> “Natalie Portman”: “Padme Amidala”,<br/> “Alec Guinness”: “Obi-Wan Kenobi”,<br/> “Felicity Jones”: “Jyn Erso”,<br/>}</span></pre><p id="27f7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，编写一个函数，它将从您的数据集生成一个随机名称。</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="3550" class="jy jz hu ju b fv ka kb l kc kd">const shuffle = function( randomName ) {<br/> let result = randomName.split(‘’)</span><span id="7499" class="jy jz hu ju b fv ke kb l kc kd">for( let i = 0; i &lt; result.length; i++ ) {<br/> const randomIndex = Math.floor( Math.random() * result.length )<br/> const item = result[ i ]</span><span id="3bfc" class="jy jz hu ju b fv ke kb l kc kd">result[ i ] = result[ randomIndex ];<br/> result[ randomIndex ] = item<br/> }<br/> <br/> return result.join(‘’)<br/>}</span></pre><p id="d8d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是怎么回事？好吧，我们来分析一下。函数表达式SHUFFLE取数据集的随机名。然后使用内置方法split将数据集拆分成一个数组。当您使用这个内置方法for <a class="ae kf" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> javascript </a>时，您需要确保给它输入一个空字符串，以便将字符串拆分成各个字母。。split还可以在想要拆分数组的地方接受一个参数。然后我们遍历数组。我们设置了一个randomIndex变量，该变量接受数组的长度，并将其相乘以获得一个基于数组长度的随机数。然后，我们将数组在该索引处的值赋给一个名为item的变量。然后，我们在该索引处获取结果，然后将其分配给一个随机索引号，最后将其设置为item。然后，我们将新的结果数组连接在一起，形成加扰的字。咻。</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="7a4b" class="jy jz hu ju b fv ka kb l kc kd">//DOM EVENTS<br/>$(document).ready( function() {<br/> $(‘#random-word-1’).text( shuffle( chooseRandomActor() ) )</span><span id="f97a" class="jy jz hu ju b fv ke kb l kc kd">$( ‘#rescramble’ ).click( function( event ) {<br/> $(‘#random-word-1’).text( shuffle( chooseRandomActor() ) ) <br/> })<br/>})</span></pre><p id="c555" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在是操纵DOM的时候了！首先，我们需要确保我们的<a class="ae kf" href="https://hackernoon.com/tagged/jquery" rel="noopener ugc nofollow" target="_blank"> jQuery </a>事件在DOM准备就绪时触发。这是通过这行代码完成的:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="112d" class="jy jz hu ju b fv ka kb l kc kd">$(document).ready( function() {})</span></pre><p id="85c8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，选择需要显示随机单词的html元素。在这个jQuery事件处理程序中，我们还需要触发单词上的shuffle函数。这一行代码很好地处理了所有这一切:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="6b62" class="jy jz hu ju b fv ka kb l kc kd">$(‘#random-word-1’).text( shuffle( chooseRandomActor() ) )</span></pre><p id="46d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，我们需要在用户单击scramble按钮时再次触发该事件:</p><pre class="jp jq jr js fq jt ju jv jw aw jx dt"><span id="44ce" class="jy jz hu ju b fv ka kb l kc kd">$( ‘#rescramble’ ).click( function( event ) {<br/> $(‘#random-word-1’).text( shuffle( chooseRandomActor() ) ) <br/> })</span></pre><figure class="jp jq jr js fq kg"><div class="bz el l di"><div class="kh ki l"/></div></figure></div></div>    
</body>
</html>