<html>
<head>
<title>So You Want to Build a P2P Twitter with E2E Encryption?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">所以你想建立一个E2E加密的P2P Twitter？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/so-you-want-to-build-a-p2p-twitter-with-e2e-encryption-f90505b2ff8?source=collection_archive---------20-----------------------#2017-12-20">https://medium.com/hackernoon/so-you-want-to-build-a-p2p-twitter-with-e2e-encryption-f90505b2ff8?source=collection_archive---------20-----------------------#2017-12-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/d007a6c1af061bc5ef5b175f69d06b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BHrMaH7kkMSP9XY0OBUDCA.png"/></div></div></figure><div class=""/><div class=""><h2 id="18f4" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">第一部分:理解和创建加密身份。</h2></div><p id="094f" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">所有这些都有麻省理工学院许可的开源代码，并且可以在浏览器中实时更新？</p><p id="cfed" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">那你来对地方了。首先，观看这段1分钟的讲解视频，了解加密技术的工作原理:</p><figure class="kr ks kt ku fq hw fe ff paragraph-image"><a href="http://gun.js.org/explainers/data/security.html"><div class="fe ff kq"><img src="../Images/b0c940f76b99d410545e53472d7859d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*lmzJZ7nRAh8mh9ll."/></div></a></figure><p id="329a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">第二，由于<a class="ae kv" href="https://github.com/mhelander" rel="noopener ugc nofollow" target="_blank"> @mhelander </a>在SEA框架(安全、加密、授权)上的工作，你的应用将使用最新的原生Web Crypto API来实现上述视频系列中解释的所有功能——像ECDSA、PBKDF2、AES等等。这是一个它实际工作的演示:</p><figure class="kr ks kt ku fq hw fe ff paragraph-image"><a href="https://youtu.be/52Z72bDCtMU"><div class="fe ff kq"><img src="../Images/d1b8774969d6888647ae80312255d9e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*LX1UdNeVe1hoPeAv."/></div></a></figure><p id="eac2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">要开始构建您的应用程序，只需在您的应用程序中包含SEA:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="d059" class="lb lc if kx b fv ld le l lf lg">&lt;script src="https://cdn.jsdelivr.net/npm/gun/gun.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.jsdelivr.net/npm/gun/lib/cryptomodules.js"&gt;&lt;/script&gt;<br/>&lt;script src="https://cdn.jsdelivr.net/npm/gun/sea.js"&gt;&lt;/script&gt;</span></pre><blockquote class="lh li lj"><p id="30f3" class="ju jv lk jw b jx jy jg jz ka kb jj kc ll ke kf kg lm ki kj kk ln km kn ko kp hn dt translated"><em class="if">注意:如果CDN遭到破坏，你的应用程序可能会被黑客攻击，考虑将你的应用程序电子化以移除任何主机。此外，</em> <code class="eh lo lp lq kx b"><em class="if">lib/cryptomodules</em></code> <em class="if">名称将来会更改，你需要及时更新你的应用。</em></p></blockquote><p id="51f3" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">现在，在您的javascript中，您实例化gun和并引用您的用户:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="d84f" class="lb lc if kx b fv ld le l lf lg">var gun = Gun();<br/>var user = gun.user();</span></pre><p id="bdfb" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">要创建一个由公钥/私钥对支持的加密身份(参见视频讲解)，只需:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="40b0" class="lb lc if kx b fv ld le l lf lg">// Browser Native Web Crypto API used to PBKDF2 extend password.<br/>user.create('alice', 'unsafepassword', function(ack){<br/>  // done creating user!<br/>});</span></pre><p id="b32a" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">创建用户后，您可以使用以下方式登录他们:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="049c" class="lb lc if kx b fv ld le l lf lg">// Browser Native Web Crypto API used to PBKDF2 extend password.<br/>user.auth('alice', 'unsafepassword', function(ack){<br/>  // logged in!<br/>});</span></pre><p id="7e30" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">最后，您可以将数据保存到其他人无法写入的帐户:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="347e" class="lb lc if kx b fv ld le l lf lg">var alice = {name: "Alice"};<br/>alice.boss = {name: "Fluffy", species: "Kitty", slave: alice};<br/>user.get('profile').put(alice);</span></pre><p id="3407" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">当它存储在磁盘上或通过网络发送时，它使用加密签名(见视频解释者)，来保护帐户和数据，而不依赖任何可信的服务器！</p><p id="8b62" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">然后当你使用<a class="ae kv" href="https://github.com/amark/gun" rel="noopener ugc nofollow" target="_blank">枪</a>读取数据时，它会自动为你验证和解密数据:</p><pre class="kr ks kt ku fq kw kx ky kz aw la dt"><span id="70b9" class="lb lc if kx b fv ld le l lf lg">user.get('profile').get('boss').get('slave').get('name').val(data =&gt;<br/>  console.log("The boss's slave's name is:", data); // Alice<br/>);</span></pre><p id="af23" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">尝试在<a class="ae kv" href="https://codepen.io/anon/pen/QajxOz?editors=1012" rel="noopener ugc nofollow" target="_blank"> Codepen </a>中自己运行它！</p><p id="27ff" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">现在您已经有了P2P身份，您可以将它与来自<a class="ae kv" href="http://gun.js.org/think.html" rel="noopener ugc nofollow" target="_blank">5分钟交互式待办事项应用教程</a>的逻辑相结合，来创建用户的推文列表。</p><p id="ff3f" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">我们将在第二部分讨论如何做到这一点。至于现在，认识并发挥令人兴奋的想法，您现在有安全的用户帐户，没有任何中央或联邦服务器来授权他们！</p><p id="2b5e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">在我们关闭Twitter的同时，在Twitter上关注我们，或者阅读关于未来社交网络如何工作的文章，或者制作一个PR来改进这篇文章，不要忘记分享！</p></div></div>    
</body>
</html>