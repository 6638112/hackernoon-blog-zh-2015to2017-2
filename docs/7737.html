<html>
<head>
<title>When Premature Optimization Makes Sense</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当过早优化有意义时</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/when-premature-optimization-make-sense-37d8212d3ca8?source=collection_archive---------21-----------------------#2017-11-06">https://medium.com/hackernoon/when-premature-optimization-make-sense-37d8212d3ca8?source=collection_archive---------21-----------------------#2017-11-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/08aee251a40dd855c2f7b44db194aa81.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*LgW7YzX8w36982jRcWXMtA.png"/></div></figure><p id="d5fe" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们都被告知不要过早地优化我们的代码。无论您是为企业构建还是试图获得您的第一个MVP，您都不应该花费太多时间来调整您的代码以获得边际效率收益。正如唐纳德·克努特(Donald Knuth)在他1974年的书《计算机编程作为一门艺术》(Computer <a class="ae jw" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank"> Programming </a>，<em class="jx">)中所描述的那样，“担心他们程序中非关键部分的速度，这些高效的尝试实际上有着强烈的负面影响……”。</em>但是，我们如何确定什么会对未来产生强烈的负面影响呢？在这篇文章中，我将详述我在最新的<a class="ae jw" href="https://hackernoon.com/tagged/saas" rel="noopener ugc nofollow" target="_blank"> SaaS </a>项目“新奇”<a class="ae jw" href="http://getnovelty.com/" rel="noopener ugc nofollow" target="_blank">中做出的一个小决定，这是一个面向Etsy卖家的社交媒体营销平台。</a>对抗过早优化的决策。当我谈到优化时，我指的是将产品推向市场的商业环境，而不是算法性能的提高。</p><blockquote class="jy jz ka"><p id="e9c7" class="iy iz jx ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">真正的问题是程序员在错误的地方和错误的时间花了太多的时间担心效率；过早的优化是编程中所有罪恶(或者至少是大部分罪恶)的根源。”</p></blockquote><p id="610b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">——作为艺术的计算机编程(1974)唐纳德·克努特</p><p id="c3f0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">前几天，Product Hunt的Twitter账户分享了这个迷因，让我忍俊不禁。</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div class="fe ff ke"><img src="../Images/e4cca006338122a75783ea9ee1b1cccc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*u2UX67huInXRbgz-.jpg"/></div></figure><p id="0c1b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我笑了，因为<strong class="ja hv">的斗争是真实的！</strong>很多时候，我们开始编码时并没有考虑我们将要构建什么。这通常是好的！在我们坐下来动手之前，我们希望花几个周期用线框、流程图之类的东西来记录和设计我们的产品。现在是实施的时候了。然而，开发人员经常需要考虑效率，并且经常为时已晚。</p><p id="d2f2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">开发人员需要优化某些事情，例如，如果您构建一个web应用程序，您应该尽早考虑优化服务器端缓存。</strong></p><p id="a833" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">假设你正在开发一个银行应用程序。当您向服务器请求帐户余额时，会进行数据库查询。然后，结果应该被序列化并存储在数据库缓存中，比如<a class="ae jw" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>。下次用户需要访问他们的帐户余额时，您可以快速“获取(id)”这些数据。只有发生存款或取款时，缓存才会无效。您甚至可以在存款或取款时预先填充这个缓存。他们称之为“加热”缓存。这里的想法是，这种类型的优化将极大地影响用户的体验，从而给人一种爽快的应用程序的外观。这才是用户需要的。这是你的应用程序需要的，所以尽快设置你的数据库缓存是有意义的。</p><p id="d260" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">第二个不那么令人兴奋的例子是优化全球资源。</strong></p><p id="5839" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">当我为新奇的事物设计MVP时，我不得不走捷径以便快速进入市场。在第一版中，我遗漏了一些明显的东西，也有意遗漏了一些其他的东西。由于这是我用ReactJS编写的第一个web应用程序，所以对React处理全局资源的方式有些困惑，但是我将把它留给另一篇文章来讨论。我在应用程序中使用了脸书的JavaScript API，客户端需要访问应用程序ID。我从一个脸书ID开始，在我部署到产品并需要另一个“测试”ID之后，这个ID很快变成了两个。脸书为你提供了一种创建<a class="ae jw" href="https://developers.facebook.com/docs/apps/test-apps/" rel="noopener ugc nofollow" target="_blank">测试应用</a>的方法，让这个过程变得更加简单。</p><p id="535a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我很快意识到，现在我必须记住在每次部署到生产服务器时用测试ID替换产品应用ID。记住这一点非常重要！我对自己说，<em class="jx">我怎样才能让自己过得轻松些？</em>我们可以根据服务器环境变量构建一个REST端点来提供正确的应用ID，这样我们就不必担心在部署之前更改应用ID。优化还是不优化，tiz这个问题…T11】</p><p id="5bbc" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我想了一会儿，决定不做了。我会继续在每次部署前切换app ID，即使没有太大意义。我会把这个优化添加到我不断增长的列表中，当我需要的时候我会去做。关键是有更重要的事情要担心，比如获得客户和开发他们关心的功能。另一方面，当我的产品变得更好时，我可能会受到影响。</p><p id="0d33" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">感谢阅读！我叫<a class="ae jw" href="http://alexdaro.com/" rel="noopener ugc nofollow" target="_blank">亚历克斯</a>，<a class="ae jw" href="http://getnovelty.com/" rel="noopener ugc nofollow" target="_blank">新鲜感的创始人/开发者，这是一个为Etsy卖家提供的社交媒体营销平台</a>。我写了我作为第一次创业者的旅程。随意伸手！</p><p id="9db4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">图片来源:【www.developers.facebook.com T4】</p></div><div class="ab cl kj kk hc kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hn ho hp hq hr"><p id="f151" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jx">原载于2017年11月6日</em><a class="ae jw" href="https://www.alexdaro.com/writing/creating-a-test-facebook-app" rel="noopener ugc nofollow" target="_blank"><em class="jx">www.alexdaro.com</em></a><em class="jx">。</em></p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="kq kr l"/></div></figure></div></div>    
</body>
</html>