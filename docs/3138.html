<html>
<head>
<title>How to create a Token Factory with Ethereum — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用以太坊创建令牌工厂—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-create-a-token-factory-with-ethereum-part-2-ce96a31a5f59?source=collection_archive---------10-----------------------#2017-03-15">https://medium.com/hackernoon/how-to-create-a-token-factory-with-ethereum-part-2-ce96a31a5f59?source=collection_archive---------10-----------------------#2017-03-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="2380" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">过时:新教程可以在</strong> <a class="ae jp" href="https://embark.status.im/tutorials/token_factory_2.html" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> embark网站</strong> </a>找到</p><p id="10b8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(免责声明:本教程仅用于教育目的)</p><p id="c0e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在第1部分中，我们部署了一个令牌并与之交互。在本文中，我们将继续修改之前的<a class="ae jp" href="https://hackernoon.com/tagged/dapp" rel="noopener ugc nofollow" target="_blank"> DApp </a>来创建一个真正的工厂，这样新的令牌就可以动态地部署在应用程序端。</p><p id="dfac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">令牌通常是用于表示某种服务或实用程序的交换媒介的单位。它们可以代表一张音乐会门票、会员资格、投票份额、声誉点数等…</p><p id="a7d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意:本教程适用于embark 2.5.2(不是2.6.0和更高版本)</p><h1 id="a7b2" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">入门指南</h1><p id="076d" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">对于教程的第二部分，需要使用<a class="ae jp" href="http://github.com/iurimatias/embark-framework" rel="noopener ugc nofollow" target="_blank"> Embark </a> 2.5.2。</p><p id="dd94" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您使用的是旧版本，您可以通过以下方式进行更新:</p><p id="c39f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh kt ku kv kw b">npm install -g embark@2.5.2</code></p><p id="a7ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之后确保<code class="eh kt ku kv kw b">embark version</code>返回<code class="eh kt ku kv kw b">2.5.2<br/></code>，然后用<code class="eh kt ku kv kw b">embark run</code>重启embark</p><h1 id="027e" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">一般化令牌交互</h1><p id="40a7" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我们将从概括前面的UI开始，这样我们就可以输入ERC20令牌的地址并与之交互。</p><p id="e73a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我们将向<em class="kx"> app/index.html </em>添加一个简单的表单，以获取我们希望与之交互的令牌的地址。</p><pre class="ky kz la lb fq lc kw ld le aw lf dt"><span id="d0be" class="lg jr hu kw b fv lh li l lj lk">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Embark&lt;/title&gt;<br/>    &lt;link rel="stylesheet" href="css/app.css"&gt;<br/>    &lt;script src="js/app.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;h3&gt;Welcome to Embark!&lt;/h3&gt;<br/>    &lt;p&gt;See the &lt;a href="<a class="ae jp" href="https://github.com/iurimatias/embark-framework/wiki" rel="noopener ugc nofollow" target="_blank">https://github.com/iurimatias/embark-framework/wiki</a>"&gt;Wiki&lt;/a&gt; to see what you can do with Embark!&lt;/p&gt;</span><span id="d271" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    &lt;div id="useToken"&gt;<br/>      &lt;h3&gt;Token Address&lt;/h3&gt;<br/>      &lt;input placeholder="enter token address" /&gt;<br/>      &lt;button&gt;Use this Token&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</strong></span><span id="ee5a" class="lg jr hu kw b fv ll li l lj lk">    &lt;div id="queryBalance"&gt;<br/>      &lt;h3&gt;Query Balance&lt;/h3&gt;<br/>      &lt;input placeholder="enter account address: e.g 0x123" /&gt;<br/>      &lt;button&gt;Query&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="7de4" class="lg jr hu kw b fv ll li l lj lk">    &lt;div id="transfer"&gt;<br/>      &lt;h3&gt;Transfer Tokens&lt;/h3&gt;<br/>      &lt;input class="address" placeholder="enter account address: e.g 0x123" /&gt;<br/>      &lt;input class="num" placeholder="enter amount to transfer" /&gt;<br/>      &lt;button&gt;Transfer&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="1f36" class="lg jr hu kw b fv ll li l lj lk">&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6fcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在<em class="kx"> app/js/token.js </em>中，我们将获得输入中给定的地址，为该地址和令牌<a class="ae jp" href="https://hackernoon.com/tagged/abi" rel="noopener ugc nofollow" target="_blank"> ABI </a>初始化一个新的契约对象，然后将它赋给一个变量。我们还将更新剩余的代码，使用<em class="kx"> currentToken </em>而不是<em class="kx"> Token。</em>这样，现有代码将与我们将要加载的令牌一起工作。</p><pre class="ky kz la lb fq lc kw ld le aw lf dt"><span id="395c" class="lg jr hu kw b fv lh li l lj lk">$(document).ready(function() {</span><span id="931a" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">var currentToken;</strong></span><span id="1f95" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">$("#useToken button").click(function() {<br/>    var address = $('#useToken input').val();</strong></span><span id="e3e9" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    currentToken = new EmbarkJS.Contract({<br/>      abi: Token.abi,<br/>      address: address<br/>    });<br/>});</strong></span><span id="6a22" class="lg jr hu kw b fv ll li l lj lk">web3.eth.getAccounts(function(err, accounts) {<br/>    $('#queryBalance input').val(accounts[0]);<br/>  });</span><span id="9d73" class="lg jr hu kw b fv ll li l lj lk">$('#queryBalance button').click(function() {<br/>    var address = $('#queryBalance input').val();</span><span id="4668" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    currentToken</strong>.balanceOf(address).then(function(balance) {<br/>      $('#queryBalance .result').html(balance.toString());<br/>    });<br/>  });</span><span id="324c" class="lg jr hu kw b fv ll li l lj lk">$('#transfer button').click(function() {<br/>    var address = $('#transfer .address').val();<br/>    var num = $('#transfer .num').val();</span><span id="55b0" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    currentToken</strong>.transfer(address, num).then(function() {<br/>      $('#transfer .result').html('Done!');<br/>    });;<br/>  });</span><span id="8c52" class="lg jr hu kw b fv ll li l lj lk">});</span></pre><p id="051d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您可以输入chain中现有令牌的地址，并与之进行交互。例如，查看embark仪表盘。</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lm"><img src="../Images/de297d0b09b6c0846981193b6d0bbf7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GiENP2DoCARkbd7oI6IQXQ.png"/></div></div></figure><p id="de6f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我可以看到在我的例子中部署的令牌的地址是<em class="kx">0x 0703 da 89 fc 6 C3 ff 20 b 8787 a 23d 3340 b 41258 DBA 7。将你的对等地址粘贴到UI中。</em></p><p id="a38f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kx">注意:有几种方法可以复制地址，在大多数系统中，按住ALT键同时用鼠标拖动会在控制台中启用文本选择，然后按CMD+C或右键- &gt;复制。或者你也可以到你的DApp</em><a class="ae jp" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank"><em class="kx">http://localhost:8000</em></a><em class="kx">在浏览器开发工具中输入Token.address。</em></p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lu"><img src="../Images/e2882bca35aacf28f95102c8b5f31db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ob1RnLxaDDW9FOFcF0g5Sw.png"/></div></div></figure><p id="5752" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">复制地址后，点击“使用此令牌”，让我们看看余额。</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lv"><img src="../Images/36fa0e3db12e7f6633037906d20b3c21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LFQ6DdadsCG4e_mDaLtRKQ.png"/></div></div></figure><p id="db8c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">果然是<em class="kx">980</em>(<em class="kx">1000</em>是<em class="kx"> config/contracts.json </em>中配置的初始供货，<em class="kx"> 20 </em>在part 1中转出)</p><h1 id="40e6" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated"><strong class="ak">动态部署新令牌</strong></h1><p id="a6a6" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">既然我们有了一个UI来与给定地址的现有令牌进行交互，我们将添加动态部署令牌的功能，每个令牌都有自己的初始供应。</p><p id="9dc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我们将在<em class="kx"> app/index.html </em>中添加一个简单的表单，以获取需要部署的新令牌。</p><pre class="ky kz la lb fq lc kw ld le aw lf dt"><span id="ade4" class="lg jr hu kw b fv lh li l lj lk">&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Embark&lt;/title&gt;<br/>    &lt;link rel="stylesheet" href="css/app.css"&gt;<br/>    &lt;script src="js/app.js"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;h3&gt;Welcome to Embark!&lt;/h3&gt;<br/>    &lt;p&gt;See the &lt;a href="<a class="ae jp" href="https://github.com/iurimatias/embark-framework/wiki" rel="noopener ugc nofollow" target="_blank">https://github.com/iurimatias/embark-framework/wiki</a>"&gt;Wiki&lt;/a&gt; to see what you can do with Embark!&lt;/p&gt;</span><span id="a495" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    &lt;div id="deployToken"&gt;<br/>      &lt;h3&gt;Deploy new Token&lt;/h3&gt;<br/>      &lt;input placeholder="enter token supply" /&gt;<br/>      &lt;button&gt;Deploy&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</strong></span><span id="461f" class="lg jr hu kw b fv ll li l lj lk">    &lt;div id="useToken"&gt;<br/>      &lt;h3&gt;Token Address&lt;/h3&gt;<br/>      &lt;input placeholder="enter token address" /&gt;<br/>      &lt;button&gt;Use this Token&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="3fa9" class="lg jr hu kw b fv ll li l lj lk">    &lt;div id="queryBalance"&gt;<br/>      &lt;h3&gt;Query Balance&lt;/h3&gt;<br/>      &lt;input placeholder="enter account address: e.g 0x123" /&gt;<br/>      &lt;button&gt;Query&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="b03c" class="lg jr hu kw b fv ll li l lj lk">    &lt;div id="transfer"&gt;<br/>      &lt;h3&gt;Transfer Tokens&lt;/h3&gt;<br/>      &lt;input class="address" placeholder="enter account address: e.g 0x123" /&gt;<br/>      &lt;input class="num" placeholder="enter amount to transfer" /&gt;<br/>      &lt;button&gt;Transfer&lt;/button&gt;<br/>      &lt;div class="result"&gt;&lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="83bd" class="lg jr hu kw b fv ll li l lj lk">&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="0d43" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Embark使契约对象在js端可用，每个契约对象将通过一个名为<em class="kx">的方法部署</em>来部署新的契约实例。该方法可以接受协定的参数，并将返回一个包含已部署协定的协定对象的承诺。<br/>在<em class="kx"> app/js/token.js </em>中，我们将添加代码以使用此功能在客户端部署新令牌:</p><pre class="ky kz la lb fq lc kw ld le aw lf dt"><span id="82e7" class="lg jr hu kw b fv lh li l lj lk">$(document).ready(function() {</span><span id="7ab2" class="lg jr hu kw b fv ll li l lj lk">var currentToken;</span><span id="a016" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">$("#deployToken button").click(function() {<br/>    var supply = $('#deployToken input').val();</strong></span><span id="d28f" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">    Token.deploy([supply]).then(function(deployedToken) {<br/>      currentToken = deployedToken;<br/>      $("#deployToken .result").append("&lt;br&gt;Token deployed with address: " + deployedToken.address);<br/>    });</strong></span><span id="3880" class="lg jr hu kw b fv ll li l lj lk"><strong class="kw hv">});</strong></span><span id="ae4f" class="lg jr hu kw b fv ll li l lj lk">$("#useToken button").click(function() {<br/>    var address = $('#useToken input').val();</span><span id="7853" class="lg jr hu kw b fv ll li l lj lk">    currentToken = new EmbarkJS.Contract({<br/>      abi: Token.abi,<br/>      address: address<br/>    });<br/>});</span><span id="72f0" class="lg jr hu kw b fv ll li l lj lk">web3.eth.getAccounts(function(err, accounts) {<br/>    $('#queryBalance input').val(accounts[0]);<br/>  });</span><span id="3edd" class="lg jr hu kw b fv ll li l lj lk">$('#queryBalance button').click(function() {<br/>    var address = $('#queryBalance input').val();</span><span id="96a4" class="lg jr hu kw b fv ll li l lj lk">    currentToken.balanceOf(address).then(function(balance) {<br/>      $('#queryBalance .result').html(balance.toString());<br/>    });<br/>  });</span><span id="f67e" class="lg jr hu kw b fv ll li l lj lk">$('#transfer button').click(function() {<br/>    var address = $('#transfer .address').val();<br/>    var num = $('#transfer .num').val();</span><span id="51a0" class="lg jr hu kw b fv ll li l lj lk">    currentToken.transfer(address, num).then(function() {<br/>      $('#transfer .result').html('Done!');<br/>    });;<br/>  });</span><span id="479d" class="lg jr hu kw b fv ll li l lj lk">});</span></pre><p id="9c01" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当单击Deploy按钮时，我们将输入供应并使用<code class="eh kt ku kv kw b">Token.deploy([supply])</code>部署一个新令牌。<br/>得到的承诺<code class="eh kt ku kv kw b">.then(function(deployedToken) {})</code>将包含新部署合同的合同对象。我们将把这个新的令牌对象分配给当前的令牌对象<em class="kx"> currentToken </em>，并通知用户地址；</p><p id="91cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以让我们试试这个吧！将供应输入为<em class="kx"> 500 </em>并点击部署:</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lw"><img src="../Images/fa626925b0ef7600479fb48e6d64cc15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6N6pwVAsScIolOG3soBcpg.png"/></div></div></figure><p id="d8b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完美！现在，由于它将currentToken指定为新的令牌对象，查询平衡应该已经可以使用这个新令牌了。</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lx"><img src="../Images/674029a688d6890f8b8fb0aead127b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C3wtF3MuJA4hLPcvRXZfjA.png"/></div></div></figure><p id="2f69" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它果然返回500！让我们使用不同的供应部署另一个令牌，并再次检查查询平衡:</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff ly"><img src="../Images/ce5425599cc8868e0b515f80994b6eb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pX8_GI14X0_pcO-11U8L5A.png"/></div></div></figure><p id="9e19" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在使用<em class="kx"> 200处的供应部署新令牌之后，</em>点击查询也如预期地返回<em class="kx"> 200 </em>。</p><p id="dd33" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们切换回具有“使用此令牌”功能的第一个部署的令牌，看看是否一切都按预期工作。<br/>每次我们在客户端部署令牌时，DApp都会通知我们“令牌已部署，地址为:0x…”因此，让我们使用它将第一个已部署合同的地址复制粘贴到令牌地址字段中，然后单击“使用此令牌”切换回该令牌。</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff lz"><img src="../Images/c401f88fb19cf7f54fb007694e673b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UAP2aZvwWQOSrZN5an7h2A.png"/></div></div></figure><p id="063a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在再次检查平衡:</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff ma"><img src="../Images/55366c5220476c69d175d11f5f277181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tzu5uxCLrfOn19ceDYBS9Q.png"/></div></div></figure><p id="7b4b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如所料，这是<em class="kx"> 500 </em>，因为这是为部署的第一个令牌定义的初始供应。</p><h1 id="3391" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">从登船侧禁用令牌部署</h1><p id="7431" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">既然您的DApp可以动态部署令牌，那么Embark就没有必要像第1部分那样部署令牌契约，但是您仍然需要Embark使令牌契约在客户端可用。<br/>要实现这一点，请转到<em class="kx"> config/contracts.json </em>并为该合同设置<code class="eh kt ku kv kw b">"deploy": false</code></p><pre class="ky kz la lb fq lc kw ld le aw lf dt"><span id="1033" class="lg jr hu kw b fv lh li l lj lk">{<br/>  "default": {<br/>    "gas": "auto",<br/>    "contracts": {<br/>      "Token": {<br/>        <strong class="kw hv">"deploy": false,</strong><br/>        "args": [<br/>          1000<br/>        ]<br/>      }<br/>    }<br/>  }<br/>}</span></pre><p id="d1f3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Embark现在将不再部署该合同，在控制面板中，您应该会看到:</p><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff mb"><img src="../Images/bc61dcc79c9075c0e5b0b0a699739b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IV15biKU14FIpOZP9MhCKg.png"/></div></div></figure><p id="a682" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，<em class="kx">令牌</em>契约对象仍将在您的DApp中可用，客户端部署将像以前一样工作。</p><h1 id="2479" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">结论</h1><p id="abea" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在第1部分中，我们部署了单令牌并与之交互。在第2部分中，我们将修改DApp并创建一个真正的工厂，这样新的令牌就可以动态地部署在应用程序端。这种模式可以应用于DApps，它不使用固定合同，而是允许用户动态地使用自己的合同。</p><p id="b055" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些教程还会继续！下次我们将学习如何使用Embark来整合以太坊和IPFS的DApps，直到下次！</p><p id="fa0d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kx">捐款:如果你喜欢这篇文章请考虑捐款到0x 8811 fdf 0 f 988 f 0 CD 1 b 7 e 9 de 252 abfa 5 b 18 C1 CD 1(ETH)</em></p><div class="ky kz la lb fq ab cb"><figure class="mc ln md me mf mg mh paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mc ln md me mf mg mh paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mc ln md me mf mg mh paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mi mj mk"><p id="f922" class="ir is kx it b iu iv iw ix iy iz ja jb ml jd je jf mm jh ji jj mn jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is kx it b iu iv iw ix iy iz ja jb ml jd je jf mm jh ji jj mn jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ky kz la lb fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="fe ff mo"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="ky kz la lb fq ln"><div class="bz el l di"><div class="mp mq l"/></div></figure></div></div>    
</body>
</html>