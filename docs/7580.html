<html>
<head>
<title>Obscure PSA of the day: Use Conda to correctly install Python GDAL on your Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">今日晦涩的PSA:使用Conda在Mac上正确安装Python GDAL</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/install-python-gdal-using-conda-on-mac-8f320ca36d90?source=collection_archive---------5-----------------------#2017-11-01">https://medium.com/hackernoon/install-python-gdal-using-conda-on-mac-8f320ca36d90?source=collection_archive---------5-----------------------#2017-11-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="5f62" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">不要pip安装gdal，不要在虚拟环境中安装GDAL。而是用康达。</h2></div><p id="277b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt kf translated">这些是我关于如何在Mac上使用<a class="ae ko" href="https://conda.io/docs/" rel="noopener ugc nofollow" target="_blank"> Conda </a>安装<a class="ae ko" href="http://www.gdal.org" rel="noopener ugc nofollow" target="_blank"> GDAL </a>的说明。在我们开始之前，让我解释一下为什么我要写这个指南。GDAL代表“地理空间数据抽象库<strong class="jl hv"/>，由<a class="ae ko" href="http://www.osgeo.org" rel="noopener ugc nofollow" target="_blank">开源地理空间基金会</a>发布。对于Python来说，GDAL包也是和名为<code class="eh kp kq kr ks b"><strong class="jl hv">osgeo</strong></code>的包一起发布的。碰巧的是，我正在做的一个项目需要这两样东西。我希望它们被整齐地包装在虚拟环境中。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/aa983f8662a4795d2711269cfb184fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*m4cnTYJWM7Rmpsju8dSHmQ.jpeg"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">One Does Not Simply pip install gdal <a class="ae ko" href="https://twitter.com/ocefpaf/status/753992589938860032" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="ab2d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我开始尝试使用pip和virtual-env。这个晦涩难懂的操作方法(也是媒体上的第一篇帖子！)经过几个小时的谷歌搜索，并试图调试我一路上遇到的错误后，来到你面前。最后，我改变了主意，尝试了一些新的东西，换成了康达。这是我所有问题的解决办法。好吧，除了一些，但是我也修好了。</p><p id="afea" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Conda很棒，因为它是一个像pip一样的包管理器，但它也像virtual-env一样管理您的虚拟环境。除了这两种方式都做得更好，而且使用起来很愉快。善待自己，换康达。</p><p id="64ad" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我想让你免受我所经历的麻烦，所以我写下了以下说明。</p><h2 id="e919" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">环境:</h2><p id="3b37" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">关于我工作环境的简短说明:</p><blockquote class="mf mg mh"><p id="3330" class="jj jk mi jl b jm jn iv jo jp jq iy jr mj jt ju jv mk jx jy jz ml kb kc kd ke hn dt translated"><em class="hu">Mac OS 10 . 12 . 6 Sierra<br/>miniconda 2 for Python 2(Conda 4 . 3 . 30)</em><a class="ae ko" href="https://conda.io/miniconda.html" rel="noopener ugc nofollow" target="_blank"><em class="hu">info</em></a><em class="hu"><br/>Python 2 . 7 . 14</em></p><p id="5efa" class="jj jk mi jl b jm jn iv jo jp jq iy jr mj jt ju jv mk jx jy jz ml kb kc kd ke hn dt translated">可选python包:<em class="hu"><br/></em><a class="ae ko" href="http://jupyter.org/install.html" rel="noopener ugc nofollow" target="_blank"><em class="hu">Jupyter笔记本</em> </a> <em class="hu">，安装有</em><code class="eh kp kq kr ks b">$ conda install jupyter</code><br/><a class="ae ko" href="https://github.com/Anaconda-Platform/nb_conda" rel="noopener ugc nofollow" target="_blank"><em class="hu">nb _ conda</em></a><em class="hu">，使得Jupyter与Conda、</em> <code class="eh kp kq kr ks b">$ conda install nb_conda</code>玩得很愉快</p></blockquote><p id="97f2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您在不同的开发环境中工作，您的收获可能会有所不同。</p><p id="6d07" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在，我自己几小时前就需要的说明…</p><h1 id="7077" class="mm lg hu bd lh mn mo mp ll mq mr ms lp ja mt jb ls jd mu je lv jg mv jh ly mw dt translated">如何安装GDAL🌐使用Conda🐍在Mac上🍎</h1><p id="626e" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">本教程假设您已经安装了Conda，并且已经创建了Conda环境。分别指示<a class="ae ko" href="https://conda.io/docs/user-guide/install/macos.html" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae ko" href="https://conda.io/docs/user-guide/getting-started.html#managing-environments" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h2 id="0093" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">步骤1:激活您的Conda环境🚀</h2><p id="cbdb" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">打开<strong class="jl hv">终端</strong>，运行:</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="3e1e" class="lf lg hu ks b fv nb nc l nd ne">$ source activate [yourEnvironmentName]</span></pre><p id="8425" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对我来说，[您的环境名称] = <code class="eh kp kq kr ks b">geoenv</code>。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff nf"><img src="../Images/0f8ba239c2c638c2062ce598d663ea06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*3dt1a4jg7DzEti_D3VmGxQ.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. We’ve gone from the global shell to the Conda local environment that was just created.</figcaption></figure><p id="49b3" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">(我们可以用命令<code class="eh kp kq kr ks b">$ source deactivate</code>取消激活。)</p><h2 id="20c1" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">步骤2:好，现在我们开始安装GDAL。🔧</h2><p id="c8a9" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">仍然在终端中，运行以下命令:</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="1c7c" class="lf lg hu ks b fv nb nc l nd ne">$ conda install gdal</span></pre><p id="9c75" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是我得到的:</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff ng"><img src="../Images/08e42077ba78826028b40a7e16abb52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OpxJXlkjvcCuhkYYlPwTjA.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Output from “conda install gdal”</figcaption></figure><p id="03b0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">太好了。事实证明，为了让osgeo子包工作，我们实际上需要依赖项<code class="eh kp kq kr ks b"><strong class="jl hv">jpeg version 8</strong></code>，而不是<code class="eh kp kq kr ks b"><strong class="jl hv">9</strong></code>。在这篇文章的末尾，你可以在#诊断下读到更多关于我是如何得出这个结论的。</p><p id="2c80" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在，你需要做的就是运行这个:</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="2f22" class="lf lg hu ks b fv nb nc l nd ne">$ conda install -f jpeg=8</span></pre><p id="9ab8" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">“-f”标志强制安装(这实际上是jpeg模块的降级)。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff nl"><img src="../Images/faab988f759e1624ae1d3b77971138e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I765vVaynvCDsiPEKBuUfQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Install jpeg version 8 with Conda</figcaption></figure><p id="f7ed" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">好了，我们现在应该有一个GDAL的工作版本了！我们来测试一下以确保。</p><h2 id="e41a" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">步骤3:测试安装🔍</h2><p id="cfab" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">您可以在命令行或Jupyter笔记本中完成这项工作。由于我想确保gdal以后能在Jupyter工作，所以我打算在那里测试。</p><p id="959e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">打开新的Jupyter笔记本📙，返回终端，运行以下命令:</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="9b66" class="lf lg hu ks b fv nb nc l nd ne">$ jupyter notebook</span></pre><p id="e1cc" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">此命令将使用Jupyter笔记本文件查看器在您的internet浏览器中打开一个新选项卡。导航到要保存笔记本的目录。现在，我们想开始一个新的笔记本。转到右上角，单击“新建”。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff nm"><img src="../Images/63a235b72afd73cab3b08f5087cc3f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*qcumvBkuOKXFu83evbimKQ.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Jupyter Notebook, creating a new notebook, I select “Python [conda env:geoenv]”</figcaption></figure><p id="4b49" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">确保选择您一直使用的Conda环境作为Python内核。</p><p id="b614" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们继续测试吧！在笔记本中运行这些命令。</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="d7ae" class="lf lg hu ks b fv nb nc l nd ne">import gdal<br/>help(gdal)</span></pre><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff nn"><img src="../Images/4bb1eec353d3e8325908bc1036484e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B4pr9PAX7ik1s1y5lbdrxA.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Import gdal and get the help to make sure it works!</figcaption></figure><p id="7f4e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对gdal的帮助起作用了，所以我们出发去比赛。</p><pre class="ku kv kw kx fq mx ks my mz aw na dt"><span id="1256" class="lf lg hu ks b fv nb nc l nd ne">import osgeo<br/>help(osgeo)</span></pre><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff no"><img src="../Images/2db1864abbe2836a7a471264567fdd7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NM-d0y5B_plTUDv9E4RBvQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Import osgeo and run help(osgeo) to make sure it works!</figcaption></figure><p id="37b0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">成功！🤗</p><p id="96df" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们终于安装了GDAL和osgeo。一切正常(目前)。写这篇有点长的帖子是一种享受，因为这个问题让我纠结了无数个小时。我希望能让你免遭同样的命运。提前感谢你们的掌声👏🏽如果有什么需要编辑或澄清的地方，请告诉我。说完，我就要和<code class="eh kp kq kr ks b"><strong class="jl hv">networkx</strong></code>一起探索图表了！</p><p id="505e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">和❤︎一起，</p><p id="649e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">菲利普</p></div><div class="ab cl np nq hc nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="hn ho hp hq hr"><p id="e90a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">附言</p><h2 id="61c9" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">#撰写这篇文章的动机</h2><p id="7126" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">我通常喜欢在项目中使用虚拟环境来保持事情有条理。首先，我尝试在python <strong class="jl hv"> virtual-env </strong>中安装GDAL，这是一个巨大的失败。在Windows和Ubuntu上有如何做到这一点的说明，但我无法让它在Mac上工作。虚拟环境更像是虚拟敌人。StackOverflow上的一些人建议使用<a class="ae ko" href="https://conda.io/docs/" rel="noopener ugc nofollow" target="_blank"> Conda </a>来代替。不管怎样，我遇到了一些障碍，所以我决定发布这些如何在Mac上使用Python/Conda安装GDAL的说明。亲爱的读者，我希望这个指南能为你节省一些时间。</p><h2 id="60e4" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">#我用GDAL做什么</h2><p id="2910" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">我需要GDAL有一个非常特殊的原因。它是<a class="ae ko" href="http://networkx.github.io" rel="noopener ugc nofollow" target="_blank"> networkx </a> Python模块的<code class="eh kp kq kr ks b"><strong class="jl hv">read_shp()</strong></code>函数所必需的，也是其依赖项。该函数读入ESRI shapefile(地理空间数据)并将其转换为网络/图形对象。很明显，你可能需要GDAL做别的事情。</p><p id="3e7a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了安装，我首先尝试在Python虚拟环境(又名virtual-env)中使用<code class="eh kp kq kr ks b"><strong class="jl hv">pip install gdal</strong></code>。失败了。我想你可以说这只是一个小小的梦想，唉。或者可能与安装了QGIS via Kyngchaos有关。该发行版包含的GDAL不是Python包，而是一个框架。</p><p id="1bc0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不管怎样，底线是我仍然需要GDAL在Python虚拟环境中工作。</p><h2 id="8ffc" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">#诊断Conda安装问题:</h2><p id="e8f2" class="pw-post-body-paragraph jj jk hu jl b jm ma iv jo jp mb iy jr js mc ju jv jw md jy jz ka me kc kd ke hn dt translated">对我来说，使用pip将GDAL安装在虚拟环境中是不可能的。所以我才换了康达。</p><p id="a27a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在Conda中运行安装时，我遇到了一些问题。简单地从<code class="eh kp kq kr ks b"><strong class="jl hv">networkx</strong></code>运行<code class="eh kp kq kr ks b">read_shp</code>函数会给我一个一般性错误，就像在virtual-env中一样。</p><blockquote class="mf mg mh"><p id="595b" class="jj jk mi jl b jm jn iv jo jp jq iy jr mj jt ju jv mk jx jy jz ml kb kc kd ke hn dt translated">I <!-- --> mportError: read_shp需要OGR:</p></blockquote><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff nw"><img src="../Images/9c0d362ac669936e4edd8f442460cd76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j-qfAUL54oD27GS_quTRmg.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Screenshot. Jupyter notebook. What happens when I try to run the command: G = nx.read_shp(‘file.shp’)</figcaption></figure><p id="6b1b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在截图中你可以看到代码需要<code class="eh kp kq kr ks b"><strong class="jl hv">from osgeo import ogr </strong></code>，它实际上是GDAL模块的一部分。</p><p id="8297" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以当我们尝试<code class="eh kp kq kr ks b"><strong class="jl hv">import gdal</strong></code>时，我们可以看到实际发生了什么:</p><blockquote class="mf mg mh"><p id="001f" class="jj jk mi jl b jm jn iv jo jp jq iy jr mj jt ju jv mk jx jy jz ml kb kc kd ke hn dt translated">未加载库:@rpath/libjpeg.8.dylib</p></blockquote><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff nx"><img src="../Images/a2d735cab053baba5987321a8956f1cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPGCDr9_C5ici0NVI2QESw.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Error when I try to run import gdal. The library jpeg.8 is missing.</figcaption></figure><p id="feaf" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">jpeg8库没有加载。为了调查，我们可以检查康达安装了哪些包:<code class="eh kp kq kr ks b"><strong class="jl hv">$ conda list</strong></code></p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff ny"><img src="../Images/82029138ad5712e7c5bdc87835a41319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5Oy7phUlCfnfo2gnyi2Aw.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Result of the <strong class="bd nz">conda list</strong> command. Sure enough, we have jpeg=9, rather than 8.</figcaption></figure><p id="58e6" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">此外，当我只卸载并重新安装<code class="eh kp kq kr ks b"><strong class="jl hv">gdal</strong></code>时，事实上很明显gdal本身将jpeg更新到了版本9，只是后来中断了。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="fe ff oa"><img src="../Images/a6be229d945dbfa25d2d6c715b2ab9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*id-RP3Gj92mlkKkQgXKJGg.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">GDAL breaks itself. Or rather, GDAL breaks osgeo which it’s bundled with(!)</figcaption></figure><p id="3687" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">修复方法是在安装gdal后简单地将jpeg 9降级为jpeg 8。你可以在上述#说明的第3步中找到配方。谢谢！</p><h2 id="fc5e" class="lf lg hu bd lh li lj lk ll lm ln lo lp js lq lr ls jw lt lu lv ka lw lx ly lz dt translated">我使用的来源:</h2><ul class=""><li id="43a6" class="ob oc hu jl b jm ma jp mb js od jw oe ka of ke og oh oi oj dt translated">egayer在gdal GitHub的这个帖子中的评论</li><li id="5962" class="ob oc hu jl b jm ok jp ol js om jw on ka oo ke og oh oi oj dt translated"><a class="ae ko" href="https://stackoverflow.com/questions/34408699/having-trouble-installing-gdal-for-python" rel="noopener ugc nofollow" target="_blank">“安装python的GDAL有问题”</a></li><li id="e64e" class="ob oc hu jl b jm ok jp ol js om jw on ka oo ke og oh oi oj dt translated">我没有在这个列表中包括我对任何与“pip install GDAL”或“GDAL python install MAC virtual-env”相关的疯狂、详尽的搜索。如果你想走那条路，愿上帝保佑你。</li></ul></div></div>    
</body>
</html>