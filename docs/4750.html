<html>
<head>
<title>How to paginate records in MySQL using Sequelize and Nodejs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Sequelize和Nodejs对MySQL中的记录进行分页</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-paginate-records-in-mysql-using-sequelize-and-nodejs-a3465d12aad5?source=collection_archive---------1-----------------------#2017-06-20">https://medium.com/hackernoon/how-to-paginate-records-in-mysql-using-sequelize-and-nodejs-a3465d12aad5?source=collection_archive---------1-----------------------#2017-06-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/ba60c7ec1c1cd14189a433d27302467f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qtaw9MXAkwlHQlzAQYScFA.png"/></div></div></figure><p id="65dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有时，我发现自己在为我的问题寻找一个直接的答案而纠结。最近，我一直在做一个fullstack应用程序，其中有一个从后端(REST API)到前端分页结果的基本要求。我挣扎有两个原因。首先，来自NoSQL的背景很难掌握SQL数据库。第二个原因是，顺序化文档没有为这个非常基本的抽象提供一个清晰和直接的解决方案。很多人在SQL数据库的世界里做假设。</p><p id="fce5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因此，在这篇文章中，我们将讨论一个使用Sequelize、MySQL和Node.js的基本分页模块。要设置一个新的应用程序并建立数据库连接，请阅读我在<a class="ae ka" href="https://hackernoon.com/getting-started-with-sequelize-for-nodejs-applications-2854c58ffb8c" rel="noopener ugc nofollow" target="_blank"><strong class="je hv">Sequelize</strong></a><strong class="je hv">上的帖子。</strong></p><h1 id="94ab" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">定义模型</h1><p id="70af" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我直接跳到<code class="eh le lf lg lh b">user</code>模型定义:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="57e6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我使用的是一个包含数百条用户记录的表，我们希望在一个web应用程序上显示这些记录，比如在管理面板中，我们希望一次只显示50条记录。</p><p id="83bb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<code class="eh le lf lg lh b">api/user.js</code>中，我定义了一个端点<code class="eh le lf lg lh b">/:page</code>，它将从数据库中获取我们需要的一些结果。</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="4bd0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh le lf lg lh b">findAndCountAll</code>是在数据库中搜索多条记录的模型，它返回所需的数据和表中元素的计数。上面的查询将一次获取50条用户记录，直到调用下一个页面来获取下50条记录。在与分页相关的查询中需要<code class="eh le lf lg lh b">limit</code>和<code class="eh le lf lg lh b">offset</code>，其中<code class="eh le lf lg lh b">limit</code>根据查询获取行数，而<code class="eh le lf lg lh b">offset</code>用于跳过数据库表中的行数。</p></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><p id="36af" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="lv">感谢阅读。</em> </strong> <em class="lv">如果你觉得这个帖子有用，请点击</em> <strong class="je hv">💚<em class="lv">按钮</em> </strong> <em class="lv">这样这个故事就能接触到更多的</em>读者<em class="lv">。如果想多说一点，</em><strong class="je hv"><em class="lv">ping me on</em></strong><a class="ae ka" href="https://twitter.com/amanhimself" rel="noopener ugc nofollow" target="_blank"><strong class="je hv"><em class="lv">Twitter</em></strong></a><strong class="je hv"><em class="lv">。</em>T41】</strong></p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lw ln l"/></div></figure><div class="li lj lk ll fq ab cb"><figure class="lx iv ly lz ma mb mc paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lx iv ly lz ma mb mc paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lx iv ly lz ma mb mc paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="md me mf"><p id="f922" class="jc jd lv je b jf jg jh ji jj jk jl jm mg jo jp jq mh js jt ju mi jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd lv je b jf jg jh ji jj jk jl jm mg jo jp jq mh js jt ju mi jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mj"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>