<html>
<head>
<title>How to Build a Restaurant Menu App in Nuxt &amp; Vuex using Cosmic JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Cosmic JS在Nuxt &amp; Vuex中构建餐厅菜单App</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-restaurant-menu-app-in-nuxt-vuex-using-cosmic-js-a311fb877907?source=collection_archive---------13-----------------------#2017-11-03">https://medium.com/hackernoon/how-to-build-a-restaurant-menu-app-in-nuxt-vuex-using-cosmic-js-a311fb877907?source=collection_archive---------13-----------------------#2017-11-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d55d7ac9f17d0cdafba9ef18e074e9c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U1yUlClG9t1s0Pxl."/></div></div></figure><p id="150d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本教程中，我将向你展示如何使用<a class="ae ka" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue2 </a>、<a class="ae ka" href="https://vuex.vuejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Vuex </a>、<a class="ae ka" href="https://buefy.github.io/" rel="noopener ugc nofollow" target="_blank"> Buefy </a>和<a class="ae ka" href="http://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>创建一个<strong class="je hv">餐厅菜单App </strong>。它托管在Cosmic JS应用服务器上。我们将使用Cosmic JS npm包来实现我们对象的基本CRUD，并从Cosmic JS中检索数据和媒体。让我们开始吧。</p><p id="9799" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://github.com/cosmicjs/restaurant-menu-app" rel="noopener ugc nofollow" target="_blank">下载GitHub回购。！</a> <br/> <a class="ae ka" href="https://cosmicjs.com/apps/restaurant-menu-app/demo" rel="noopener ugc nofollow" target="_blank">查看演示</a></p><h1 id="0a33" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">先决条件</h1><p id="cf6d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">在启动之前，您需要安装节点JS和npm。确保你已经有了。</p><h1 id="ac09" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">入门指南</h1><figure class="le lf lg lh fq iv"><div class="bz el l di"><div class="li lj l"/></div></figure><h1 id="c7c1" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用现有的git repo做任何事情</h1><p id="59f1" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">首先，您必须确保安装了node &gt; 6.x，然后运行以下命令:</p><p id="a2f2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">成功完成最后一个命令后，浏览器窗口将自动打开</p><p id="2b09" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh lk ll lm ln b">package.json</code>会是这个样子。</p><figure class="le lf lg lh fq iv"><div class="bz el l di"><div class="li lj l"/></div></figure><h1 id="7cb9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">我们正在安装什么，为什么</h1><ol class=""><li id="3deb" class="lo lp hu je b jf kz jj la jn lq jr lr jv ls jz lt lu lv lw dt translated">我们将使用<strong class="je hv"> vue </strong>和<strong class="je hv"> vuex </strong>库来创建组件和管理状态。</li><li id="27b7" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz lt lu lv lw dt translated">我们使用<strong class="je hv">异步</strong>包向Cosmic JS发出异步请求，以循环删除媒体。</li><li id="636a" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz lt lu lv lw dt translated">我们正在使用<strong class="je hv"> buefy </strong>包来创建使用vue组件的布局。</li><li id="fc3e" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz lt lu lv lw dt translated">我们将使用<strong class="je hv">宇宙JS </strong>库来处理我们对宇宙JS桶的请求。</li><li id="0c68" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz lt lu lv lw dt translated"><strong class="je hv"> vee-validate </strong>用于表单验证。</li><li id="9f70" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz lt lu lv lw dt translated"><strong class="je hv"> nuxt </strong>用于服务器端渲染。</li></ol><h1 id="70d1" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">构建我们的应用</h1><p id="95f6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">现在，我们将在根目录中设置我们的nuxt.config.js，在那里我们将更改favicon并为应用程序链接构建属性和林挺等设置其他基本属性。此外，我们将包括应用程序所需的外部CDN。</p><p id="646c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是nuxt.config.js文件。</p><figure class="le lf lg lh fq iv"><div class="bz el l di"><div class="li lj l"/></div></figure><h1 id="46df" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">安装default.js</h1><figure class="le lf lg lh fq iv"><div class="bz el l di"><div class="li lj l"/></div></figure><p id="cdb3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">layouts目录下的default.js是所有app的起点。这里我们包括了像导航栏和页脚这样的主视图属性。这里重要的是nuxt标签将根据路由启动所有页面。</p><p id="c8f7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在beforeMount的脚本部分，我们已经调用了应用程序加载时需要调用的操作。这里的“getMenus”值得注意。当应用程序启动时，此操作获取当前日期的菜单。我们还向商店展示了vue组件。</p><h2 id="a9d7" class="mc kc hu bd kd md me mf kh mg mh mi kl jn mj mk kp jr ml mm kt jv mn mo kx mp dt translated">按指定路线发送</h2><p id="a67f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">当使用nuxt.js时，我们不需要担心创建路由。请为我们做这项工作。我们需要遵循nuxt描述的文件目录规则，它将为我们创建所有必要的路径。欲了解更多信息，请访问<a class="ae ka" href="https://nuxtjs.org/guide/routing" rel="noopener ugc nofollow" target="_blank"> Nuxt文档</a></p><h1 id="666b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">Setup index.vue</h1><p id="0ccf" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><code class="eh lk ll lm ln b">\pages\index.vue</code>是将呈现的第一页。我已经为UI使用了buefy组件。你可以在这里查看他们的文件<a class="ae ka" href="https://buefy.github.io/#/documentation/start" rel="noopener ugc nofollow" target="_blank"/>。此处最重要的代码块用于在模板中包含landingpage组件。这段代码将呈现LandingPage组件。</p><h1 id="866e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">Vuex</h1><p id="f12c" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">首先，我将讨论Vuex以及我们为什么应该使用它。显然，对于较小的应用程序，可以使用简单的状态和道具。但是对于大型应用程序，我们必须使用某种状态管理，比如React中的redux。Vuex由vue团队维护，使用广泛。今天我们将使用它。下面是我将要解释的Vuex流程图。</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mq"><img src="../Images/31ae2eaf042e92a021454ef3e2fa5e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x6CwEcKB51F6jJXg.png"/></div></div></figure><p id="c2cd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">vuex中有四个主要概念。</p><ul class=""><li id="ff06" class="lo lp hu je b jf jg jj jk jn mr jr ms jv mt jz mu lu lv lw dt translated">状态</li><li id="4c56" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz mu lu lv lw dt translated">行动</li><li id="76fe" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz mu lu lv lw dt translated">突变</li><li id="349b" class="lo lp hu je b jf lx jj ly jn lz jr ma jv mb jz mu lu lv lw dt translated">吸气剂</li></ul><p id="f7ac" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">状态</strong>是我们整个应用程序状态/数据将被存储的地方。那么它将如何工作呢？例如，您正在组件中使用这个存储，并希望更改一些状态值。你必须分派一个<strong class="je hv">动作</strong>。然后<strong class="je hv">动作</strong>将提交<strong class="je hv">突变</strong>并且它将改变状态。所以为什么需要行动，我们可以在突变中直接改变状态。行动很重要。当我们必须调用任何异步函数，然后在它成功时改变状态时，我们需要动作。在API的情况下，我们在动作中使用请求，并提交变化来改变状态。这非常简单，但遵循起来非常重要。</p><p id="6c08" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> Getters </strong>是简单的获取组件状态值的getter函数。如果在不同的组件中需要一个状态值，那么最好为它创建getter，并在组件中将该getter用作计算属性。</p><p id="db7d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">惯例是先创建vuex文件夹，然后在其中创建store.js。于是我也这样做了，创造了<code class="eh lk ll lm ln b">store/store.js</code>。</p><blockquote class="mv mw mx"><p id="bbf9" class="jc jd my je b jf jg jh ji jj jk jl jm mz jo jp jq na js jt ju nb jw jx jy jz hn dt translated">这是《如何搭建餐厅菜单App》的缩略版。完整版可在Cosmic JS上获得。<a class="ae ka" href="https://cosmicjs.com/articles/how-to-build-a-restaurant-menu-app-in-nuxt-vuex-using-cosmic-js" rel="noopener ugc nofollow" target="_blank">点击此处查看全文</a>。</p></blockquote><h1 id="2756" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论</h1><p id="3a64" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这是一个使用vue，vuex，Cosmic JS和nuxt.js构建的餐馆菜单的基本应用程序。我希望你喜欢这个教程，并对你有所帮助。</p></div></div>    
</body>
</html>