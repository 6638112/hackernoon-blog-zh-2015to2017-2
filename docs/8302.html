<html>
<head>
<title>Building a virtual coworker who understands what you mean, not only what you say</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立一个能理解你的意思，而不仅仅是你说的话的虚拟同事</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/building-a-virtual-coworker-who-understands-what-you-mean-not-only-what-you-say-b7849465e69b?source=collection_archive---------33-----------------------#2017-11-27">https://medium.com/hackernoon/building-a-virtual-coworker-who-understands-what-you-mean-not-only-what-you-say-b7849465e69b?source=collection_archive---------33-----------------------#2017-11-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="f794" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">为了建立一个虚拟分析师而不是机器人，我们的第一个挑战是解决对话管理。我们都在Youtube上看到过数百个视频，其中Alexa和Siri无法处理基本问题……的确:这很难。</h2></div><h1 id="ed2f" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">那么我们如何解决这个问题呢？</h1><p id="0392" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">Aiden是一个专家系统，它可以智能地理解并使用我们从市场营销领域学到的知识来完成请求。你用普通语言与Aiden交流，而不是命令、关键词或按钮，就像你与任何同事交流一样。</p><p id="90c3" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我们的用户使用“自然语言”与艾登互动。大多数人认为它是从话语中提取意图和实体——它确实是一个关键的组成部分。然而，能够与用户进行真正的对话需要更多的步骤。事实上，提取实体只是复杂过程的开始。</p><p id="2da6" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">简而言之，当用户提问时，我们从用户查询开始，用户查询是字符串短语，我们希望构建可以操作的类型化对象，并将它们路由到正确的操作处理程序。</p><p id="e080" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我们构建的阶段摘要:</p><ol class=""><li id="1985" class="lc ld hu kd b ke kx kh ky kk le ko lf ks lg kw lh li lj lk dt translated">提取意图和实体</li><li id="6987" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw lh li lj lk dt translated">置于上下文中</li><li id="70a2" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw lh li lj lk dt translated">巩固</li><li id="ac85" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw lh li lj lk dt translated">执行</li><li id="051c" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw lh li lj lk dt translated">撰写回答</li></ol><h1 id="50a6" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">1.提取实体</h1><p id="5cff" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">从输入短语中，我们提取原始数据，我们将能够操纵。我们的识别器是定制预处理器和微软LUIS(<a class="ae lq" href="https://www.luis.ai/home" rel="noopener ugc nofollow" target="_blank">https://www.luis.ai/home</a>)的组合。</p><p id="7dbb" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">它返回一个JSON数据对象，带有已识别的意图、分数和带注释的实体。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff lr"><img src="../Images/e49af70a8078b699d9e1162643e67c52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s3IwyjUgq-S6Pu0B."/></div></div></figure><h1 id="d21b" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">2.置于上下文中</h1><p id="a08a" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">用户/Aiden交互很少是单个的来回。艾登需要能够理解和跟踪整个对话的背景。</p><p id="131e" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">一个典型的例子就是我们所说的“跟进”，用户可以修改之前的查询，而不必完全重复它。</p><p id="09f7" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><strong class="kd hv">处理后续查询</strong></p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div class="fe ff md"><img src="../Images/0092a67e3a7ff9a9f451760311a20c43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/0*9luSJz66813XlGMI."/></div></figure><p id="bfd0" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">如果有连接词或代词，如“<em class="me">和</em>或“<em class="me"> it </em>”，识别器将分配意图后续，我们扩展先前的查询</p><p id="5505" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated"><strong class="kd hv">用户偏好</strong></p><p id="633c" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">每个营销人员都有自己的方式来评估他们活动的表现。他们可能会寻求数量，或者他们可能更喜欢控制他们的支出等。这将成为他们的“关键绩效指标(KPI)”，也是我们所说的用户“偏好”的一部分。</p><p id="ccb5" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">我们将它们存储在数据库中，因此当用户询问她的KPI或她在各种活动中的“表现”时，我们会根据存储在数据库中的用户偏好来解释查询。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mf"><img src="../Images/3f41f8df531a2ad7b617711e01ac0762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*96mz8ROWUoLuEF1V."/></div></div></figure><p id="15b7" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">Aiden还允许用户对结果进行排序。例如，他们可以问:“<em class="me">我表现最好的营销活动是什么</em>”。Aiden需要对结果进行排序，并解释限定符。例如，就CPI(单位安装成本)而言，“<em class="me">最佳</em>”实际上意味着“<em class="me">最低CPI </em>”。</p><h1 id="2b77" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">3.巩固</h1><p id="0ead" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">聊天界面与其他网络或桌面应用程序的区别之一是导航是免费的，查询可能会遗漏一些要求。一些应用程序可以使用需要验证的表单。在我们的例子中，我们提示缺少的参数，直到可以处理查询。</p><p id="4477" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">保持与前面相同的例子，如果用户问“<em class="me">我表现最好的活动是什么？</em><em class="me"/>第一次，我们数据库里没有KPI。我们提示输入KPI，并从可供用户使用的指标中给出一个可能性列表。</p><p id="cd1e" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">然后，我们将存储给定的KPI值，并用选择的指标合并查询。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mg"><img src="../Images/60b86637591ad4893308671f15b85dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qv1t8Kkh70SLpSxI."/></div></div></figure><p id="7b56" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">同样，帐户是必需的，如果用户有多个帐户设置，我们可以在新会话中询问哪个帐户。</p><h1 id="6f8a" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">4.执行</h1><p id="f6da" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">我们将最终的查询发送到后端以获得结果。</p><p id="1f75" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">一个用户请求可以转换成多个查询。例如，如果用户要求“账户概述”，Aiden将其解释为:</p><ul class=""><li id="6c4b" class="lc ld hu kd b ke kx kh ky kk le ko lf ks lg kw mh li lj lk dt translated">对3个最具消费力的活动的质疑</li><li id="c1b5" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw mh li lj lk dt translated">对cpi最差的3个活动的查询</li><li id="a0fe" class="lc ld hu kd b ke ll kh lm kk ln ko lo ks lp kw mh li lj lk dt translated">查询具有最佳cpi的3个活动</li></ul><p id="2ecf" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">所有的查询都被发送到后端，Aiden收集结果。</p><h1 id="765a" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">5.撰写回答</h1><p id="3227" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">结果被提供给一个消息生成器，它执行一些与解码器相反的操作。</p><p id="a24e" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">例如，国家代码UK被转换为“<em class="me">英国</em>”。</p><p id="948e" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">帐户名称也使用帐户数据库显示。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mi"><img src="../Images/3c2060018209f3d14c4060f5c7a9b6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2kQfMJwnmDIUMwOR."/></div></div></figure><h1 id="aa72" class="jj jk hu bd jl jm jn jo jp jq jr js jt ja ju jb jv jd jw je jx jg jy jh jz ka dt translated">输出</h1><p id="6f31" class="pw-post-body-paragraph kb kc hu kd b ke kf iv kg kh ki iy kj kk kl km kn ko kp kq kr ks kt ku kv kw hn dt translated">结果转换成微软Bot框架的消息对象(<a class="ae lq" href="https://docs.botframework.com" rel="noopener ugc nofollow" target="_blank">https://docs.botframework.com</a>)。</p><p id="9300" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">在需要或要求它的平台(如Slack)中，我们用自定义功能增加了这个消息对象(<a class="ae lq" href="https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-channeldata" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/bot-framework/dot net/bot-builder-dot net-channel data</a>)。</p><p id="b7d2" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">例如，帐户名称可以显示在Slack的页脚中，(<a class="ae lq" href="https://api.slack.com/docs/message-attachments" rel="noopener ugc nofollow" target="_blank">https://api.slack.com/docs/message-attachments</a>)，因此我们在发送消息之前将其转换为自定义格式。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="fe ff mj"><img src="../Images/d21266c5a124c35c356c50292731e74b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*l9mC5BYvErwzsjyT."/></div></div></figure><p id="1155" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">如果你也在处理NLP，我们希望在评论中听到你的想法。</p><p id="6c51" class="pw-post-body-paragraph kb kc hu kd b ke kx iv kg kh ky iy kj kk kz km kn ko la kq kr ks lb ku kv kw hn dt translated">如果你喜欢我们做的工作，我们正在招聘！在<a class="ae lq" href="https://angel.co/aiden/jobs" rel="noopener ugc nofollow" target="_blank">https://angel.co/aiden/jobs</a>找到我们的招聘信息</p></div></div>    
</body>
</html>