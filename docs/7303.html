<html>
<head>
<title>How I took Stickler CI from an idea into a side hustle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何把坚持CI从一个想法变成一个侧面的骗局的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-took-stickler-ci-from-an-idea-into-a-side-hustle-3a7287d953a5?source=collection_archive---------17-----------------------#2017-10-23">https://medium.com/hackernoon/how-i-took-stickler-ci-from-an-idea-into-a-side-hustle-3a7287d953a5?source=collection_archive---------17-----------------------#2017-10-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><h1 id="5e50" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">关于本系列文章</h1><p id="2df2" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在这个由三部分组成的系列中，我将讲述从最初的原型到今天的过去两年中<a class="ae kn" href="https://stickler-ci.com" rel="noopener ugc nofollow" target="_blank"> Stickler CI </a>的演变。这篇具体的文章将涵盖我如何建立最初的原型，然后添加付费计划。</p><h1 id="d24a" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">我的副业</h1><p id="284d" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">Stickler CI是一个软件即服务应用程序，它自动化了代码审查中更繁琐的部分；强制样式和检查lint错误。它与您的<a class="ae kn" href="https://hackernoon.com/tagged/github" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库集成，并检查每个pull请求的代码风格错误。当你的团队中有人犯了风格错误时，坚持不懈的CI会留下评论。这节省了开发人员的时间，因为对样式错误的反馈是自动处理的，您的团队不必通读构建报告来查找空白错误。</p><p id="81ad" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">当我们的团队在FreshBooks上重构我们应用程序的旧部分时，在花了大量时间对风格错误给出反馈后，我受到启发，创建了<a class="ae kn" href="https://hackernoon.com/tagged/stickler" rel="noopener ugc nofollow" target="_blank">风格的CI。我认为一定有更好的方法来反馈在代码评审中发现的代码风格&amp;格式错误。</a></p><h1 id="4776" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">最初的原型</h1><p id="8f1c" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">前端应用程序是用CakePHP构建的，而执行代码审查的应用程序后端部分是用Python构建的。持久数据存储在MySQL中，RabbitMQ用于检查作业队列。经过几个月的初始隐形模式开发阶段，我已经准备好了一个初始原型。第一个版本部署在一个1GB的DigitalOcean微滴上。我开始时只有一个用户(我)。建筑看起来是这样的:</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div class="fe ff kt"><img src="../Images/e10c8f1d1c19fec684a868e066d639de.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/0*yhWCvDWYz7Gn8h15."/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Initial application architecture</figcaption></figure><p id="ecce" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">应用程序的所有组件都放在一个盒子里。我的目标是用最少的花费和最少的复杂性将原型呈现在人们面前。虽然单服务器方法在容量和可伸缩性方面有局限性，但我目前并不担心这些问题；我只有一个用户。在使部署/基础设施更具弹性或可伸缩性之前，我想看看是否有人会使用该产品并为此付费。</p><p id="ee62" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">简单的基础架构使我能够使用完全相同的Ansible行动手册来管理我的本地和生产环境。这也使得“扩大”变得容易，因为我可以很容易地从DigitalOcean获得更大的实例。此时，Stickler CI只能连接到公共存储库，因为如果原型被证明是成功的，我想对私有存储库收费。</p><p id="f9a0" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">我在我的一些开源项目中启用了Stickler CI，以帮助贡献者解决他们自己的lint错误，并希望激起一些对产品的兴趣。从我的开源项目中，我吸引了第一批用户，有几个用户想在他们的私有存储库上使用Stickler CI。这是一个足够积极的信号，促使我建立私人的知识库支持和付费计划。</p><h1 id="9326" class="ir is hu bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo dt translated">添加付费计划</h1><p id="e820" class="pw-post-body-paragraph jp jq hu jr b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我选择使用一个非常简单的基于订阅的业务模型，该模型根据个人想要启用的私有存储库的数量进行扩展。我选择私有存储库作为差异化因素，因为它的计费模式与Stickler CI的竞争对手类似。</p><p id="494c" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">我用Stripe来建立订阅。Stripe是一个很棒的产品，它有很棒的API和很棒的文档。Stripe处理卡令牌化、计划列表和订阅计费。我利用计划上的元数据字段来存储每个计划提供的私有存储库的数量。这消除了在我的应用程序代码中维护产品映射及其存储库限制的需要。</p><figure class="ku kv kw kx fq ky fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff lf"><img src="../Images/7b9ef2472fb56f842f67aeec1a74c4d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SBBSaGnNQ8RTRNXe."/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Plan metadata in Stripe</figcaption></figure><p id="2536" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">在升级期间，我可以读取存储库元数据字段，并知道要授予用户多少个私有存储库。</p><p id="627f" class="pw-post-body-paragraph jp jq hu jr b js ko ju jv jw kp jy jz ka kq kc kd ke kr kg kh ki ks kk kl km hn dt translated">在这个阶段，大约有50个用户，Stickler每天处理大约150个任务。Stripe的加入并没有从根本上改变架构，但我开始担心我为了让产品上市而走的一些弯路。我将在我的下一篇文章中详细介绍这些快捷方式以及我是如何修复它们的。</p><figure class="ku kv kw kx fq ky"><div class="bz el l di"><div class="lk ll l"/></div></figure></div></div>    
</body>
</html>