<html>
<head>
<title>Python[3] is great for projects with large code base</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python[3]非常适合大型代码库的项目</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/python-is-great-for-large-code-base-992fa9233066?source=collection_archive---------1-----------------------#2016-11-24">https://medium.com/hackernoon/python-is-great-for-large-code-base-992fa9233066?source=collection_archive---------1-----------------------#2016-11-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="c430" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">人们总是建议Java、C++、Go或任何其他类型的语言，由于它们的静态类型特性，对于具有大代码库的项目，它们是通过Python静态类型化的。</p><p id="0282" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当代码变长或变旧时，无论您应用了多少干净的代码或可读性原则，当您稍后要修改或修复一些错误时，它会变得令人讨厌和难以理解，重构变得有风险，代码审查时间增加，并且，您可能会开始对它产生怨恨。修改另一个对干净的代码或文档没有任何线索的懒人代码变得疯狂，你可能也开始对人类产生同样的怨恨。</p><p id="55c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Python非常适合快速开发，可以将一个想法从零带到产品中，但是拥有动态类型的特性也有它自己的缺点。</p><p id="73d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好消息是，<strong class="it hv">这不再是真的了。</strong></p><p id="9250" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Python 3.6 + <a class="ae jp" href="https://github.com/python/mypy" rel="noopener ugc nofollow" target="_blank"> Mypy </a>自带<em class="jq">类型</em>检查现在，关于类型检查你可以查看PEP 526及其之前的PEP。</p><h1 id="81c5" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">什么是mypy？</h1><p id="2e09" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">Mypy是Python的可选静态类型检查器。您可以使用Python 3.5中引入的类型注释标准(<a class="ae jp" href="https://www.python.org/dev/peps/pep-0484/" rel="noopener ugc nofollow" target="_blank"> PEP 484 </a>)向Python程序添加类型提示，并使用mypy对它们进行静态类型检查。甚至不用运行程序就能发现程序中的错误！</p><p id="951d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PyCharm 已经支持类型提示，甚至是类型注释语法，我们已经在产品中使用Python 3.5编写了项目，代码库完全使用这些新特性编写，代码具有惊人的可读性。</p><p id="e47a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jq">“这使得代码审查和维护变得更加容易。”</em> </strong></p><p id="7f4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我说大型代码库时，我主要指的是至少+100k行的项目。</p><p id="af8a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我正在处理多个项目，每个项目至少有大约25万行代码，而且它们的代码库还在增长。</p><p id="57f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我不是说不可能，只是没有提到类型，没有提示的时候更难。</p><p id="8393" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我审查代码时，我经常发现自己通读函数体只是为了找出函数的参数类型和返回类型。就像不断在脑子里运行代码，才能对它有一个清晰的理解。</p><p id="cae5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我写了很多DocString，Sphinx风格或Python风格或任何其他类型的方式，让我的开发工具如PyCharm了解这些类型。</p><p id="3dcc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，你知道这个<code class="eh ku kv kw kx b">fib</code>方法接受并返回吗？</p><pre class="ky kz la lb fq lc kx ld le aw lf dt"><span id="ab34" class="lg js hu kx b fv lh li l lj lk">def fib(n):<br/>    a, b = 0, 1<br/>    while a &lt; n:<br/>        yield a<br/>        a, b = b, a+b</span></pre><p id="5384" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我相信您知道，因为您只是阅读了函数体来搞清楚这一点，但是有了新的特性，您就不再需要这样做了:</p><pre class="ky kz la lb fq lc kx ld le aw lf dt"><span id="892a" class="lg js hu kx b fv lh li l lj lk">def fib(n: int) -&gt; Iterator[int]:<br/>    a, b = 0, 1<br/>    while a &lt; n:<br/>        yield a<br/>        a, b = b, a+b</span></pre><p id="cf4f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更好更干净。</p><p id="de3f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个非常简单的例子来说明这个问题以及如何解决它。</p><p id="a1e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你再也不能提出这个借口，说Python是为小型项目服务的”，这仅仅是因为动态类型的本质。</p><p id="d967" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一些需要阅读的pep:</p><ul class=""><li id="e9d7" class="ll lm hu it b iu iv iy iz jc ln jg lo jk lp jo lq lr ls lt dt translated">https://www.python.org/dev/peps/pep-0526/<a class="ae jp" href="https://www.python.org/dev/peps/pep-0526/" rel="noopener ugc nofollow" target="_blank"/></li><li id="c22a" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">【https://www.python.org/dev/peps/pep-0484/ T4】</li><li id="098e" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated"><a class="ae jp" href="https://www.python.org/dev/peps/pep-3107/" rel="noopener ugc nofollow" target="_blank">https://www.python.org/dev/peps/pep-3107/</a></li></ul><blockquote class="lz ma mb"><p id="8e0e" class="ir is jq it b iu iv iw ix iy iz ja jb mc jd je jf md jh ji jj me jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is jq it b iu iv iw ix iy iz ja jb mc jd je jf md jh ji jj me jl jm jn jo hn dt translated">要了解更多信息，请<a class="ae jp" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">阅读我们的“关于”页面</a>、<a class="ae jp" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书上给我们点赞/发消息</a>，或者简单地说，<a class="ae jp" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is jq it b iu iv iw ix iy iz ja jb mc jd je jf md jh ji jj me jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote></div></div>    
</body>
</html>