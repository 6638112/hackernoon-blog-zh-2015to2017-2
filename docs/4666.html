<html>
<head>
<title>Make a bot for a running dino in Chrome</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Chrome为奔跑的恐龙制作一个机器人</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/make-a-bot-for-a-running-dino-in-chrome-5dfd0cac29be?source=collection_archive---------14-----------------------#2017-06-13">https://medium.com/hackernoon/make-a-bot-for-a-running-dino-in-chrome-5dfd0cac29be?source=collection_archive---------14-----------------------#2017-06-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="37e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不久前，我还想在Chrome浏览器的一个小游戏中打破记录。如果有人不知道，如果你无法访问互联网，而你的浏览器是Chrome——按空格键，或者如果是移动电话，在屏幕上点击一下，就会出现一个小游戏。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/f88bc5cb57b92f84b990dc40b3acb19c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*YliXujYpx7cQiTjodqn4WQ.png"/></div></figure><p id="9c2d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们开始创建它。该机器人的原理是，我们在循环中解析距离角色一定距离的像素颜色，并检查像素的颜色是否等于仙人掌的<a class="ae jp" href="https://hackernoon.com/tagged/color" rel="noopener ugc nofollow" target="_blank">颜色</a>，然后我们跳转。否则——继续跑(什么都不做)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jy"><img src="../Images/0eda15056a73d3066fb6827ee1c778f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*n4tsYc2A3ZJbRPqIwYthUA.png"/></div></figure><p id="4921" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，让我们找到正确的像素。在我的例子中，这个像素在坐标上:“775x250”。我在道路上最高的小丘上取一个正确的像素，并与通过反复试验得到的字符保持一定距离。还应该注意到，我的屏幕分辨率是1920x1080 21.5英寸，如果你有不同的，它会工作不稳定。<br/>所以，让我们在VS中创建一个控制台应用程序</p><p id="7ea8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我们声明像素坐标的变量。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="8739" class="ke kf hu ka b fv kg kh l ki kj"><strong class="ka hv">public</strong> <strong class="ka hv">static</strong> <strong class="ka hv">int</strong> x = 775;         <br/><strong class="ka hv">public</strong> <strong class="ka hv">static</strong> <strong class="ka hv">int</strong> y = 250;</span></pre><p id="3292" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后将一些DLL连接到作业。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="21b4" class="ke kf hu ka b fv kg kh l ki kj">[DllImport("user32.dll")]         <br/><strong class="ka hv">public</strong> <strong class="ka hv">static</strong> <strong class="ka hv">extern</strong> IntPtr <strong class="ka hv">GetDC</strong>(IntPtr hwnd);         </span><span id="4ff7" class="ke kf hu ka b fv kk kh l ki kj">[DllImport("user32.dll")]         <br/><strong class="ka hv">public</strong> <strong class="ka hv">static</strong> <strong class="ka hv">extern</strong> <strong class="ka hv">int</strong> <strong class="ka hv">ReleaseDC</strong>(IntPtr hwnd, IntPtr hDC); </span><span id="cf21" class="ke kf hu ka b fv kk kh l ki kj">[DllImport("gdi32.dll")]<br/><strong class="ka hv">public</strong> <strong class="ka hv">static</strong> <strong class="ka hv">extern</strong> <strong class="ka hv">uint</strong> <strong class="ka hv">GetPixel</strong>(IntPtr hDC, <strong class="ka hv">int</strong> x, <strong class="ka hv">int</strong> y);</span></pre><p id="3a70" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们为处理程序添加一些代码。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="757d" class="ke kf hu ka b fv kg kh l ki kj">IntPtr hDC = GetDC(IntPtr.Zero);             <br/>  <strong class="ka hv">while</strong> (<strong class="ka hv">true</strong>) {<br/>    <strong class="ka hv">uint</strong> pixel = GetPixel(hDC, x, y);                 <br/>    <strong class="ka hv">if</strong> (pixel == 5460819) {                     <br/>      SendKeys.SendWait("{UP}");<br/>    }<br/>  }</span></pre><p id="78d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">代码在一个无限循环中。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="26d6" class="ke kf hu ka b fv kg kh l ki kj"><strong class="ka hv">if</strong> (pixel == 5460819)</span></pre><p id="df7f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这意味着当像素的颜色等于十进制编码中仙人掌的颜色时，按下向上箭头。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="1f59" class="ke kf hu ka b fv kg kh l ki kj">SendKeys.SendWait("{UP}");</span></pre><p id="853e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后我们需要连接这两个环节。</p><pre class="jr js jt ju fq jz ka kb kc aw kd dt"><span id="4699" class="ke kf hu ka b fv kg kh l ki kj"><strong class="ka hv">using</strong> System.Diagnostics;<br/><strong class="ka hv">using</strong> System.Windows.Forms;</span></pre><p id="b8b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此刻，迪诺轻松地克服了500个游戏米，然后它被困在鸟类和夜晚的视线中。为了解决这些问题，我会写下面这篇文章。祝你好运！</p><p id="b261" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">更新:</strong>玩游戏不用断开连接——只需在地址栏输入<strong class="it hv"> chrome://dino/ </strong>即可。</p></div><div class="ab cl kl km hc kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hn ho hp hq hr"><h2 id="ae62" class="ke kf hu bd ks kt ku kv kw kx ky kz la jc lb lc ld jg le lf lg jk lh li lj lk dt translated">❤如果这篇文章有帮助，请点击小心脏！(在推特上关注我)</h2><div class="jr js jt ju fq ab cb"><figure class="ll jv lm ln lo lp lq paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ll jv lm ln lo lp lq paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ll jv lm ln lo lp lq paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lr ls lt"><p id="f922" class="ir is lu it b iu iv iw ix iy iz ja jb lv jd je jf lw jh ji jj lx jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is lu it b iu iv iw ix iy iz ja jb lv jd je jf lw jh ji jj lx jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="fe ff ly"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="md me l"/></div></figure></div></div>    
</body>
</html>