<html>
<head>
<title>Web Cookies for Everyone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向所有人的网络Cookies</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/web-cookies-for-everyone-a047a055419e?source=collection_archive---------10-----------------------#2017-09-18">https://medium.com/hackernoon/web-cookies-for-everyone-a047a055419e?source=collection_archive---------10-----------------------#2017-09-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6437eb623abf78a586b4ddf03dc46be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jL5PeqEcycQMTmmAXcs8lg.jpeg"/></div></div></figure><p id="1d1f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">网络行话！有时候很难跟上。最糟糕的是，那些本应简单的术语被随意使用，而你只是像这样坐在会议上。</p><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div class="fe ff ka"><img src="../Images/051c8ba42eafb7f9aed3e7586de2e76b.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/1*MgakuehujGNv3rUMCRDdfw.gif"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Doctor Who like whaaaat?</figcaption></figure><p id="b280" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">网络曲奇绝对是其中之一。这篇文章的目的是以一种简单的方式解释网络cookies。我们将关注核心概念，这样你以后可以在任何项目中应用它，不管你可能选择哪个框架或库。在这篇文章的结尾，你应该能够非常自信地区分真实的cookie和网络cookie；)</p><h1 id="2696" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">饼干？！？你什么意思</h1><p id="5e19" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">web cookie是由服务器发送到您的浏览器的一小段文本。cookies的目的是携带一些有用的信息，这些信息是关于你和设置它们的网站之间的互动的。浏览器可以存储它并将它与下一个请求一起发送回同一个服务器。这样，服务器可以区分两个请求是否来自同一个浏览器。</p><p id="fc8f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Cookies是特定于web浏览器的。因此，如果您使用不同的计算机，打开不同的浏览器或删除您的cookie，网站将会把您视为第一次到达(并且会设置一个新的cookie)。</p><h1 id="c924" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">饼干是用来做什么的？</h1><p id="71f2" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">Cookies可用于各种原因:</p><ol class=""><li id="ea5c" class="ln lo hu je b jf jg jj jk jn lp jr lq jv lr jz ls lt lu lv dt translated"><strong class="je hv">记住你在网站上的设置。</strong>比如你是先看最老的还是最新的评论；视频播放器的音量、你在某个帖子上停留的时间、你的购物车状态、游戏分数等等。</li></ol><p id="249e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.<strong class="je hv">了解你和其他用户是如何使用网站的。</strong>例如，讲述当天最受欢迎的新闻故事。或者告诉你有多想要一张机票。邪恶！</p><p id="62e7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.<strong class="je hv">认证</strong> <strong class="je hv">服务</strong>如登录服务或确保您安全登录(这些cookies可能包含您的电子邮件地址和姓名等信息，这些信息是您在注册时提供的。您注册的网站是唯一可以访问此信息的网站。)</p><h1 id="b577" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">实践中的饼干</h1><p id="cf05" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">让我们通过设置我们的第一个cookie并在浏览器中检查它来开始查看实际情况。</p><p id="3b01" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">需要注意的是，Chrome浏览器不会存储来自本地网页的cookies集。因此，我们将设置一个简单的节点服务器，允许我们在localhost域下工作。要在本地工作，从这个github repo克隆repo，并运行npm install。然后导航到项目目录并运行</p><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/70dd1aac928cf5cc55c62273cf052a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NsfoMPf7brIG24Y4GOG_Cw.gif"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Call it maaagic</figcaption></figure><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Simple Express Server</figcaption></figure><p id="0af4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">太好了！现在我们有了本地开发环境设置，可以开始玩cookies了。</p><p id="a9af" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们朝着类似真实生活场景的方向努力。假设我们想创建一个站点，在用户第一次访问时提示他/她输入自己的名字。当用户输入他的名字时，我们希望保存它(通过网络cookie)，这样在用户下次访问时，我们可以给他们一个热烈的欢迎:)</p><p id="991e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是我们将在这个实验中使用的基本标记:</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><p id="7d52" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们从设置和获取最基本形式的cookie开始。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><p id="68b2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在让我们重新启动服务器，这样我们就可以看到新的变化。瞧啊。</p><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/81e72caa9883854374b5da42ae8666cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pC4iUrbOglhloOl7oATagQ.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Our snazzy alert message</figcaption></figure><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ma"><img src="../Images/3740ed2222ac035d95943828fa48af0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c7eBD1f4UbMBDpottmRMvQ.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Viewing cookies via Chrome Developer tools</figcaption></figure><p id="1117" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因此，当我们显示文档的cookies时，我们得到的内容几乎与我们设置的完全相同。有什么细微的区别？看到两个键值对之间的分号了吗？嗯（表示踌躇等）..我们没有明确地设置它。这是一个浏览器如何区分不同cookies的例子。通过添加一个分号！</p><h1 id="3b87" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">获取、设置和检查cookies的方法</h1><p id="04c8" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">好吧，好吧。至此，我们已经看到cookies被内置到全局文档对象中。我们可以通过向document传递一个字符串键值对来设置它们。饼干。我们可以通过访问<em class="mb"> document.cookie </em>来查看我们当前所有的网页cookie。让我们通过创建一些<a class="ae kj" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>方法，尝试构建一个更具伸缩性的获取和设置cookies的方法。</p><p id="452b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">就像我们在上面的小例子中看到的，cookie被保存为一个字符串并用分号分隔。因此，我们将使用一些内置的Javascript字符串方法来获取我们的cookie。</p><ul class=""><li id="aa0e" class="ln lo hu je b jf jg jj jk jn lp jr lq jv lr jz mc lt lu lv dt translated"><a class="ae kj" href="https://www.w3schools.com/Jsref/jsref_indexof.asp" rel="noopener ugc nofollow" target="_blank"> indexOf(str) </a></li><li id="188d" class="ln lo hu je b jf md jj me jn mf jr mg jv mh jz mc lt lu lv dt translated"><a class="ae kj" href="https://www.w3schools.com/jsref/jsref_substring.asp" rel="noopener ugc nofollow" target="_blank">子串(startIndex，endIndex) </a></li></ul><h1 id="029e" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">fetchCookie()</h1><p id="07f7" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">我们的第一个方法将检查我们的cookie中是否有一个带有<em class="mb">用户名</em>键的cookie，如果存在就返回它。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><h1 id="8b1d" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">getUserData()</h1><p id="4aa1" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">该方法将在浏览器中检查带有“用户名”关键字的cookie。如果它存在，我们将欢迎用户。否则，我们会提示他/她输入他们的姓名。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><h1 id="be30" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">setCookie()</h1><p id="8fd4" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">我们的setter方法将接受3个参数。密钥、值和截止日期。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><h1 id="82c4" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">现在都在一起</h1><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure><h1 id="b9d2" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">最后的结果</h1><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/50286642c98d4b347908f891935f1ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wZYy_kLZstYM1hUvEkZfDQ.gif"/></div></div></figure><figure class="kb kc kd ke fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mj"><img src="../Images/cf7082cc8124541a66d76f55ab3f2c43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jhus_8NvlEHtXqmd_malqw.png"/></div></div></figure><h1 id="b934" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">包扎</h1><p id="723d" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv lm jx jy jz hn dt translated">Cookies是web开发的一个重要组成部分，也是我们作为消费者日常使用的东西。希望知道这在开发方面是如何工作的，能让你对一些你喜欢的网站的内部工作有更多的了解。</p><p id="4075" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想要一个大图视图，这里是我们的GitHub账户上的<a class="ae kj" href="https://github.com/CodingStartups/WebCookiesForAll" rel="noopener ugc nofollow" target="_blank">完整代码。</a></p><p id="26a7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你喜欢这个，别忘了鼓掌！👏 👏 👏</p><p id="ad05" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请随时关注我的Instagram、T2、LinkedIn或T4 Github，我会定期在这些网站上发布创业和科技相关的内容。</p><p id="3a08" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章是使用令人惊叹的总结工具<a class="ae kj" href="https://arieg419.wixsite.com/mindflow" rel="noopener ugc nofollow" target="_blank"> Mindflow.ai创建的！</a> <a class="ae kj" href="https://arieg419.wixsite.com/mindflow" rel="noopener ugc nofollow" target="_blank">现在就报名加入alpha发布吧！</a></p><p id="5758" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章最初发表在<a class="ae kj" href="https://codingstartups.com" rel="noopener ugc nofollow" target="_blank"> CodingStartups </a>上。我们正在建立一个建设者社区，重点是教授帮助你一步到位的技能。订阅！</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="mk ly l"/></div></figure><p id="1c6c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">直到下一次✌️</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="mk ly l"/></div></figure></div></div>    
</body>
</html>