# 区块链的成员资格证明

> 原文：<https://medium.com/hackernoon/proof-of-membership-for-blockchains-1534a3f9faba>

![](img/fb90c78816be5f43a95aa04021a7bb1c.png)

在最近的一篇文章中，我提出了达成区块链共识的双重方法。该系统旨在提供经济权力下放，实现范例:**一个实体，一票！****模式与现有的区块链形成鲜明对比，如比特币、以太坊或 NXT，其中一方的影响力与其计算能力或股份成正比(如果我们考虑到规模经济和自私的采矿策略，甚至是超线性的)。我的建议可以分为以下几个要点:**

*   **区块链使用两种不同的代币:铸币账户和货币单位(硬币)**
*   **积木只能由 **minter 帐号**建造**
*   **minter 帐户的**创建速率**受**限制**:对于每个块，只创建预定义数量的新 minter 帐户。**
*   **明特账户可以在创建时就被购买，而进一步的销售是不被鼓励的，因为销售者仍然知道私钥(并且可以在任何时候偷回资金)。**
*   ****无**拥有**多个账户**的经济激励**

**在这篇文章中，我将放松在我的开创性文章中所做的一些假设，并将进一步探索围绕**会员证明**区块链的设计空间。选择“成员证明”这个名称是为了表达系统的每个成员都可以对区块链做出贡献，而一个成员对共识的影响不是基于利害关系，也不是基于散列率。尽管从技术上不可能限制一个成员拥有的账户数量，但我们可以让拥有一个以上(或者几个)账户在经济上变得毫无意义。**

# **由“成员”未经许可建造的区块链**

**首先，让我们仔细看看是什么将会员证明(PoM)与工作证明(PoW)和股份证明(PoS)区分开来。在 PoW 和 PoS 中，用户基本上可以随时自由加入，并通过积累股份或散列权力来获得尽可能多的影响力。虽然这对于 PoW 来说毫无例外，但是在 PoS 中，你需要找到一个人来购买你的股份。然而，假设一个流动的股权市场，原则上任何人都可以成为共识小组的成员。该协议本身并没有明确限制可以加入该系统的用户数量，也没有抑制单个政党可以拥有的影响力水平(尽管硬币供应总量和货币面值施加了一些限制)。**

**PoM 的不同之处在于，它对一级市场*的新铸造账户的创建速度进行了严格限制，并从经济上阻止了二级市场*的进一步销售。尽管如此，我认为 PoM 可以被认为是无权限的，因为底层协议并没有限制谁可以获得帐户并成为会员。根据个人的需要，PoM 可以基于开放成员或封闭(可信)成员模型。****

# **创建和分配铸造帐户**

**在我最初的提议中，我建议奖励铸币者，给他们一个新的铸币者账户，每创造一个积木。因此，他们可以邀请一个朋友或将自己的孩子帐户卖给其他人。这将产生一个父子树账户模型，并意味着在区块链之外存在一个账户市场。然而，对一群幸运的铸币者进行非连锁支付在经济上是不可取的。此外，如果造币的唯一目的是接收子账户，*每个*街区必须至少有一个新账户，以获得整个区块链的造币奖励。如果我们能够通过整合区块链内的整个账户市场来消除这些限制，将会更加方便，对所有用户都有好处。我们可以**通过拍卖**来销售新账户，而不是依赖于一个授予现有客户特权的树形模型。此外，通过“烧毁”成功的投标，总的硬币供应量可以随着每个新账户而减少，因此最终每个人都将从通货紧缩带来的资本流入中获利。**

**幸运的是，区块链本身提供了一个建立拍卖平台的好方法，使潜在的铸币者能够竞标铸币者账户。出价(可以作为一种特殊的交易来实现)由现有的铸币商来处理，只要投标人的账户有足够的资金来支付该金额。一旦出价被包含在区块中，出价价格金额的硬币将被锁定。出价可以有一个预设的生命周期(由到期前的固定块数表示)，也可以在以后通过取消交易来撤销。每当一个区块被创建，最高出价者获得一个新的 minter 帐户，而他的锁定资金被烧毁*。所有其他出价保持有效，并参与下一个帐户的拍卖，直到它们被接受或撤销。***

**该协议可以允许每块拍卖几个账户，或者相反，只对每第 *k* 块进行拍卖。人们可能会想到根据价格或其他标准自动调整帐户的创建率。**

# **收益及其对账户价格和安全性的影响**

**这是一个重要的设计因素，如果 minter 帐户是便宜还是昂贵。因为每个帐户的价格以及系统的年龄对安全性有直接的影响:为了获得对区块链的多数控制权，攻击者需要获得所有帐户的+50%。因此，攻击的成本将取决于现有帐户的总数乘以它们的价格。账户越多，其相对投票权就越低。因此，随着(正在使用的)帐户数量的增加，帐户的权限份额将稳步下降。请注意，与 PoS 相反，PoM 中的攻击成本是**沉没成本**，即无论攻击是否成功，它们都无法收回。例如，如果攻击者不得不购买 10000 个账户来发起双重消费，那么他的账户在事后将变得毫无价值，因为它们不能被安全地转移，也不能在市场上出售。**

## **昂贵的账目**

**通过使账户尽可能昂贵，我们可以通过提高攻击的经济**成本**来增加系统的安全性。账户通常会从其带来的收益中获得价值。如果奖励只给会员，也就是 minter 账户的所有者，理论上他们的价值可以**最大化**。这样，成为会员所支付的价格将反映(出价最高的)会员希望实现的所有未来收入的净现值。不过，我们在设计奖励方案时必须非常小心，以免产生拥有多个账户的动机。虽然像比特币一样向铸币商支付固定报酬会直接违背这一重要的设计目标，但不太明显的是，即使对铸币商的股份支付固定百分比的利率也不能完全满足我们的要求:通过将资金分散到几个账户，铸币商仍可以降低平均支付间隔，从而最大化他的复利。**

**另一方面，我们可以奖励会员资格，例如，每当(任何人)创建一个新块时，向所有会员支付利息。当然，这样的奖励计划并不能激励积木的铸造，也不能单独使用，因为我们不想完全依赖利他主义来铸造积木。问题是，我们是否可以为铸造设计一个**奖励方案**，与****我们的“一个实体一个账户”方法**激励相容。为了解决这一困境，我们可以将方案和信用利息结合到每一个积木块中的每一个积木块中，但是在积木块制作者自己动手搭建积木块之前，要锁定累积的利息。该模型保证了复利的激励兼容性，因为复利不再依赖于区块生成的频率。根据个人的流动性需求和成本，铸造者可能仍然决定使用几个帐户进行铸造，以便更快地获得他的利益。但是使用多个账户的好处是相当有限的。****

## ****廉价账户****

****昂贵账户的不利之处在于，并非每个人都有能力成为该系统的成员。这就是为什么在昂贵的设置中，**“免费”账户**是需要的，以使区块链事实上的无许可，每个人都可以访问。通过让任何人生成一个有效的密钥对，可以很容易地将免费账户添加到系统中。这种免费账户可以在任何时候创建，不享有会员账户的好处。****

****如果我们不让成员资格变得昂贵，我们就必须接受这样一个事实:攻击者“只”需要很多时间来获得多数控制权。事实上，假设每个成员都参与铸造，攻击者将不得不在比攻击开始时的系统年龄更长的时间段内持续购买帐户。为了让 51%的攻击更加困难，我们还可以用一个“招数”。我们可以将账户分配给破坏最高**硬币年龄**的投标人，即硬币数量乘以其各自的年龄，而不是分配给出价最高的投标人。一旦攻击者开始他的阴谋，他将与所有的长期利益相关者竞争旧硬币的会员资格。可以肯定的是，在最终决定成为会员之前，许多用户将首先购买硬币来试用该系统，因此竞争将相当激烈。不能或不愿意为帐户支付更高价格的攻击者需要比标准情况下更有耐心。为了提高安全性，人们甚至可以考虑转换为新货币的比特币的币龄(见下文“硬币供应和初始分配”)。****

****考虑到便宜的账户，我们可以放弃向铸币商(和/或会员)支付金钱奖励的想法，而是给他们另一种利益。例如，可以对自由账户设定最低交易金额，而只有已经建立了区块的会员才被允许进行任何规模的交易。因此，会员会试图开采一个区块，以获得参加**微交易**的资格。另一种方法解决交易费的问题。在任何情况下，费用降低了垃圾交易的风险，也鼓励铸币商将交易纳入他们的区块。但这并不意味着除了向铸币商支付交易费之外别无选择。与其让他们收取费用(这将违反不鼓励使用多个账户的目标)，不如让他们有权为他们所在区块的每笔交易进行自由交易。这将鼓励那些希望频繁支付的用户参与铸造，以便为自由交易建立**信用**。分类账将记录每一个交易者的交易信用，这些信用将与账户绑定，不能转移给其他任何人。****

****另一个解决方案是让铸币商从心跳交易的负担中解放出来。正如我在之前的文章[中所提到的，会员需要“心跳”来保持活力，也就是说，保持他们的 minter 账户活跃。这意味着他们必须让客户端一直运行，或者至少定期打开它们。一旦一个造币者成功地建造了一个积木，他就可以在一段时间内甚至永久地免除这项义务。这对大多数家庭用户来说似乎很有吸引力。](https://hackernoon.com/decentralized-objective-consensus-without-proof-of-work-a983a0489f0a)****

## ****会员的好处与造币的好处****

****您可能已经注意到，好处可以基于两种不同类型的方法:****

1.  ****与会员资格相关的好处****
2.  ****铸造带来的好处****

****尽管这两种类型的好处对账户价格都有影响，但它们在博弈论上的含义是完全不同的。虽然创造收益会导致产生下一个区块的“竞赛”，但会员的收益可能会导致成为会员的“竞赛”(假设对创造账户的需求高于供应)。最近的一篇学术论文提出了一个完全无种族的 DAG 块模型，并证明它是激励相容的。我认为，在简单的区块链设计中，如果不依靠采矿的利他主义，就不可能实现无种族歧视。然而，我认为通过使用一个替代的激励方案而不是财务奖励，我们可以在 PoM 中创建一个激励兼容的铸造系统。[自私开采](https://www.cs.cornell.edu/~ie53/publications/btcProcFC.pdf)、[顽固开采](https://eprint.iacr.org/2015/796.pdf)和其他[最优开采策略](http://fc16.ifca.ai/preproceedings/30_Sapirshtein.pdf)都与这样一个事实有关:你可以根据开采的区块数量按比例获得**直接利润，并且你可以通过遗弃他人的区块来对他人的利润产生不利影响。******

****另一方面，微交易资格是一项**非累积福利。**换句话说，一旦你创造了第一个给予你微交易(永久)权利的区块，保持铸造就没有意义了。当然，没有耐心的人可能想买几个账户，以减少获得此类交易资格的预期时间。所以，你得到好处的机会仍然是累积的。如果你唯一的奖励是免除定期“心跳”的义务，那么使用多个账户进行挖掘将会完全适得其反。事实上，你将不得不为你的每一个账户挖掘一个区块来获得(完全)解放，这将平均花费更长的时间。在这里，反生产力与您的机会相关，因为制作心跳几乎是免费的(或者非常便宜)，所以如果您必须使用多个帐户多次制作心跳也没有关系，因为您无论如何都必须运行您的机器。如果你的职责是做一些繁重的计算工作，那么事情就不同了。在这种情况下，拥有多个账户在两方面都会适得其反。****

****与会员资格相关的利益本质上要简单得多。根据我们的设计目标，这些收益必须是绝对不可累积的，以防止通过账户累积实现集中化。这再简单不过了。嗯，差不多了。从理论上讲，如果利益在于股份的利益，那么通过买下所有新账户来否定其他人的利益，对一些人来说可能相对有利可图。虽然你应该记住一个有利可图的策略不能基于你的硬币的名义价值，但它必须考虑到它们的实际价值。人们不得不假设，阻止其他投资者买入该货币会对你自己所持股票的价格产生负面影响。****

****最后，似乎有可能建立一个激励机制，将会员的明确财务奖励与一些“替代”铸造利益结合起来。这样，你可以拥有两个世界中最好的:昂贵的账户和实际上不受自私的采矿策略影响的区块链。****

# ****硬币供应和初次分配****

****与安全和信誉相关的每个区块链的一个重要方面是一切是如何开始的，尤其是货币首先是如何分配的。可以在货币正式发行之前，例如通过预发行或 ICO，创建硬币并分配给利益相关者。或者硬币可以像比特币一样通过集体奖励的方式不断分发。作为替代，也可以创造新的硬币，并归因于燃烧一定量的 BTC 或其他现有的加密货币(燃烧证明；以[交易对手](http://counterparty.io/news/why-proof-of-burn/)为例)。另一种确保比特币供应的方法是，按照比特币当前所有者的股份比例，将比特币归属于他们(见[对 NXT](https://nxt.org/announcing-ardor/) 的热情就是一个例子)。这可以自动完成，也可以要求所有人采取任何行动，即在一段固定时间内申报利益。此外，人们可能会想拍一张历史硬币所有权的快照(或者甚至是不同时间点的平均快照)来消除差异。可能性是无限的！****

# ******双消费攻击******

****双重消费是指成功地不止一次地消费一些钱的结果。它要求攻击者一旦让商家发货，就可以建立一个比主链更长的替代链。通常，后者会在发送商品之前等待一定数量的确认。假设这个数字足够高，那么攻击者将需要控制超过 50%的账户(当前正在使用中)，以便进行双重消费。他可以通过自己购买大部分账户或者贿赂其他成员来帮助他。****

## ****攻击者购买了所有客户的 51%****

****为了购买所有当前活跃账户的大部分，攻击者将不得不支付大量金钱，并且根据区块链的年龄，花费大量时间。让我们假设他仍然获得了超过 50%的客户。很明显，他将只能购买他在时间 *t* 第一次出现后创建的账户，因此老账户仍将由诚实的用户拥有。因此，攻击者的秘密链在统计上可以与正确的链区分开来(即使对于新连接的节点)，因为它不包含由在 *t* 之前加入的成员构建的块。考虑到攻击者可能从朋友那里购买了几个旧帐户，我们可以使用一个经过修改的链式评分规则，给予旧帐户构建的块更高的权重。这样的规则将使得攻击该系统变得非常困难，因为年长的成员将拥有更高的相对投票权。当然，如果攻击者是早期开始收账的老会员，这种防御就不起作用了。****

## ****攻击者控制了 51%的客户****

****由于帐户不适合出租(与除非创建，否则不能安全出售的原因相同)，攻击者可能会试图贿赂现有成员来建立替代链。要想成功，他需要同时控制所有 51%的账户。然而，成员的绝对数量和他们的匿名性将阻止攻击者直接接近他们。相反，攻击者必须向公众宣布他的贿赂行为，并等待成员与他联系。当然，通过这样做，攻击者不能秘密地制造他的叉子，但也会向他的双重花费的可能受害者暴露他的阴谋。相比之下，由于其集中的性质，在 PoS 和 PoW 中，更容易与少数利益相关者/矿工取得联系，这为贿赂攻击提供了便利。****

****我认为在 PoM 中，贿赂攻击实际上是不可行的，并且超出了大多数攻击者的能力范围。为了控制区块链，对手必须达到几个多数。设 *f1* 为攻击者活动到达的节点的比例， *f2* 为可腐败成员的比例， *f3* 为信任对手付款的人的比例， *f4* 为正确执行后者指令的人。假设这些分数彼此独立，那么对手必须控制一组账户(同时控制所有账户),从而满足 *f1 ∙ f2 ∙ f3 ∙ f4* > 0.5，这似乎非常困难。最后，公开贿赂企图可能导致诚实节点采取对策(参见[http://fc16.ifca.ai/bitcoin/papers/Bon16b.pdf](http://fc16.ifca.ai/bitcoin/papers/Bon16b.pdf)，第 3.1 章“矿工反贿赂”)。****

****[![](img/50ef4044ecd4e250b5d50f368b775d38.png)](http://bit.ly/HackernoonFB)********[![](img/979d9a46439d5aebbdcdca574e21dc81.png)](https://goo.gl/k7XYbx)********[![](img/2930ba6bd2c12218fdbbf7e02c8746ff.png)](https://goo.gl/4ofytp)****

> ****[黑客中午](http://bit.ly/Hackernoon)是黑客如何开始他们的下午。我们是 AMI 家庭的一员。我们现在[接受投稿](http://bit.ly/hackernoonsubmission)并乐意[讨论广告&赞助](mailto:partners@amipublications.com)机会。****
> 
> ****如果你喜欢这个故事，我们推荐你阅读我们的[最新科技故事](http://bit.ly/hackernoonlatestt)和[趋势科技故事](https://hackernoon.com/trending)。直到下一次，不要把世界的现实想当然！****

****![](img/be0ca55ba73a573dce11effb2ee80d56.png)****