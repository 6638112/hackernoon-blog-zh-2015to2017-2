<html>
<head>
<title>[SWIFT] Reorder cells in UICollectionView using drag &amp; drop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[SWIFT]使用拖放对UICollectionView中的单元格重新排序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/swift-reorder-cells-in-uicollectionview-using-drag-drop-ff7eb5131052?source=collection_archive---------2-----------------------#2017-08-01">https://medium.com/hackernoon/swift-reorder-cells-in-uicollectionview-using-drag-drop-ff7eb5131052?source=collection_archive---------2-----------------------#2017-08-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/93b0b3201e0b83f952bf42daf6cb7916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDd_3SS_SOg_L9ktDMAapg.jpeg"/></div></div></figure><p id="f32a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本教程中，我将介绍如何使用拖拽&amp;对<a class="ae ka" href="https://hackernoon.com/tagged/uicollectionview" rel="noopener ugc nofollow" target="_blank"> UICollectionView </a>中的单元格进行重新排序。我见过许多不同的方法来实现这一点，有些方法还不错，有些则不然。这就是为什么我将向您展示经过测试并且100%有效的方法。</p><p id="d179" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了使这个<a class="ae ka" href="https://hackernoon.com/tagged/tutorial" rel="noopener ugc nofollow" target="_blank">教程</a>更短，我将只展示如何重新排序，而不会展示所有需要的委托方法。既然你到了这里，我想你已经知道了UICollectionView的基本知识。</p><h1 id="5869" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">UICollectionViewDelegate</h1><p id="2e37" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我们将从使用来自<a class="ae ka" href="https://developer.apple.com/documentation/uikit/uicollectionviewdelegate" rel="noopener ugc nofollow" target="_blank"> UICollectionViewDelegate </a>协议的两个委托方法开始。</p><p id="b7a7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt le translated"><span class="l lf lg lh bm li lj lk ll lm di"> 1 </span>通过调用<strong class="je hv"> canMoveItemAt </strong> delegate方法，在UICollectionView中启用移动项的使用。通过<strong class="je hv"> true </strong>将启用该功能。</p><pre class="ln lo lp lq fq lr ls lt lu aw lv dt"><span id="642e" class="lw kc hu ls b fv lx ly l lz ma">func collectionView(_ collectionView: UICollectionView, canMoveItemAt indexPath: IndexPath) -&gt; Bool {<br/>   return true<br/>}</span></pre><p id="e9f9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt le translated"><span class="l lf lg lh bm li lj lk ll lm di"> 2 </span>接下来，我们将实现<strong class="je hv"> moveItemAt </strong> delegate方法，其中您将截取正在交换位置的两个项目的起始索引和结束索引。</p><pre class="ln lo lp lq fq lr ls lt lu aw lv dt"><span id="b3cc" class="lw kc hu ls b fv lx ly l lz ma">func collectionView(_ collectionView: UICollectionView, moveItemAt sourceIndexPath: IndexPath, to destinationIndexPath: IndexPath) {<br/>   print(“Starting Index: \(sourceIndexPath.item)”)<br/>   print(“Ending Index: \(destinationIndexPath.item)”)<br/>}</span></pre><h1 id="1ea6" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">UILongPressGestureRecognizer</h1><p id="208c" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">为了更好地控制UICollectionView中的手势，我们将实现一个<a class="ae ka" href="https://developer.apple.com/documentation/uikit/uilongpressgesturerecognizer" rel="noopener ugc nofollow" target="_blank">UILongPressGestureRecognizer</a>。</p><figure class="ln lo lp lq fq iv"><div class="bz el l di"><div class="mb mc l"/></div></figure><p id="9a9a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">注意，这些交互功能适用于iOS 9及以上版本。</strong></p></div><div class="ab cl md me hc mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hn ho hp hq hr"><h2 id="b3ed" class="lw kc hu bd kd mk ml mm kh mn mo mp kl jn mq mr kp jr ms mt kt jv mu mv kx mw dt translated">这就是本教程的内容，如果对你有帮助，请👏或者分享这个故事，让其他像你一样的人也能找到它。感谢您的关注！🚀</h2><figure class="ln lo lp lq fq iv fe ff paragraph-image"><a href="http://bit.ly/2KkkwGL"><div class="fe ff mx"><img src="../Images/79c8aca42472a7e427ec524f7bc604fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-oC2BqqizoRxIls08WMmA.png"/></div></a></figure><h2 id="a1f8" class="lw kc hu bd kd mk ml mm kh mn mo mp kl jn mq mr kp jr ms mt kt jv mu mv kx mw dt translated">查看我的最新项目:</h2><div class="my mz fm fo na nb"><a href="https://apps.apple.com/app/football-score-prediction-bets/id1517623538" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">足球比分预测赌注</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">我们提供专业的足球比分预测投注提示，胜率高。每个比赛模拟包含一个…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">apps.apple.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://play.google.com/store/apps/details?id=betting.tips.goals" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">足球博彩技巧和比分——赌进球Google Play上的应用程序</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">我们提供高胜率的专业足球技巧。每个比赛模拟包含一个预测，代表…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">play.google.com</p></div></div><div class="nk l"><div class="nq l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://apps.apple.com/app/zoom-profile-picture-stories/id1514925024" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">缩放个人资料图片和故事</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">ZoomPic for Instagram是匿名查看大型高清个人照片和故事的最简单、最方便的方式…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">apps.apple.com</p></div></div><div class="nk l"><div class="nr l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://apps.apple.com/app/long-video-story-for-instagram/id1511499427" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">Instagram的长视频故事</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">Instagram的Long Story是一个非常棒的工具，允许您录制或选择任意长度的视频并进行转换…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">apps.apple.com</p></div></div><div class="nk l"><div class="ns l nm nn no nk np ja nb"/></div></div></a></div><h2 id="97ee" class="lw kc hu bd kd mk ml mm kh mn mo mp kl jn mq mr kp jr ms mt kt jv mu mv kx mw dt translated">阅读更多我在媒体上的作品:</h2><div class="my mz fm fo na nb"><a href="https://hackernoon.com/introducing-clean-swift-architecture-vip-770a639ad7bf" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">引入干净的Swift架构(VIP)</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">忘了MVC吧，现在！</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">hackernoon.com</p></div></div><div class="nk l"><div class="nt l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://medium.freecodecamp.org/how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">使用Swift 4在iOS上使用Google Maps SDK的终极指南</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">许多iOS应用程序使用谷歌地图。这是一个非常普遍的特点，所以我决定准备一个终极指南…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">medium.freecodecamp.org</p></div></div><div class="nk l"><div class="nu l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a rel="noopener follow" target="_blank" href="/theappspace/swift-custom-uiview-with-xib-file-211bb8bbd6eb"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">SWIFT —带有XIB文件的自定义UIView</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">用XIB文件定制UIView是iOS开发中非常常见的做法。自定义UIView类不包含XIB文件…</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">medium.com</p></div></div><div class="nk l"><div class="nv l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://hackernoon.com/how-to-add-spotlight-support-to-your-ios-app-4a89054aff89" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">如何将Spotlight支持添加到您的iOS应用程序</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">Swift教程将使您的应用程序在Spotlight search中可用</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">hackernoon.com</p></div></div><div class="nk l"><div class="nw l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://hackernoon.com/core-data-relationships-d813ed66ba8c" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">核心数据关系</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">理解一对一和一对多关系</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">hackernoon.com</p></div></div><div class="nk l"><div class="nx l nm nn no nk np ja nb"/></div></div></a></div><div class="my mz fm fo na nb"><a href="https://hackernoon.com/understanding-auto-layout-in-xcode-9-2719710f0706" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab ej"><div class="nd ab ne cl cj nf"><h2 class="bd hv fv z el ng eo ep nh er et ht dt translated">了解Xcode 9中的自动布局</h2><div class="ni l"><h3 class="bd b fv z el ng eo ep nh er et ek translated">所有你需要知道的关于自动布局</h3></div><div class="nj l"><p class="bd b gc z el ng eo ep nh er et ek translated">hackernoon.com</p></div></div><div class="nk l"><div class="ny l nm nn no nk np ja nb"/></div></div></a></div><h2 id="0b96" class="lw kc hu bd kd mk ml mm kh mn mo mp kl jn mq mr kp jr ms mt kt jv mu mv kx mw dt translated">订阅我的时事通讯:</h2><figure class="ln lo lp lq fq iv"><div class="bz el l di"><div class="nz mc l"/></div></figure><figure class="ln lo lp lq fq iv"><div class="bz el l di"><div class="nz mc l"/></div></figure></div></div>    
</body>
</html>