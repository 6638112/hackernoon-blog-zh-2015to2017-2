<html>
<head>
<title>13 more gems I use all.the.time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我一直使用的13个宝石</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/13-more-gems-i-use-all-the-time-a17ba64d4b83?source=collection_archive---------6-----------------------#2017-08-29">https://medium.com/hackernoon/13-more-gems-i-use-all-the-time-a17ba64d4b83?source=collection_archive---------6-----------------------#2017-08-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="f626" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">…我说的<code class="eh jj jk jl jm b">all.the.time</code>是指，当它们有用和/或需要时，我会经常去拿这些宝石。</h2></div><figure class="jo jp jq jr fq js fe ff paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="fe ff jn"><img src="../Images/0c05ea3674bc36e3aa3339f27630a6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*umfZy5bffljb4-YyK2GipQ.png"/></div></div></figure><p id="1b04" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">几个月前，我发布了一篇关于我在几乎每个SaaS项目中使用的<a class="ae kv" href="https://hackernoon.com/27-gems-i-use-in-almost-every-project-832986551df8" rel="noopener ugc nofollow" target="_blank"> 27宝石的文章/故事。这得到了大量的赞扬，也有一些关于使用如此多宝石的负面评价。</a></p><h1 id="6032" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">宝石。你的经历可能不一样</h1><p id="4f47" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">这是理所当然的，盲目地安装一大堆gem，而不考虑gem的状态、可维护性，甚至给gem增加更多的依赖。当我写上一篇文章时，我可能有点夸张，因为我似乎会在每个项目中一直使用所有这些宝石。在编写自己的代码和使用gem之间总是有一个权衡。无论是功能的可维护性还是纯粹的时间/价值主张。</p></div><div class="ab cl lt lu hc lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hn ho hp hq hr"><p id="27ac" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">注意:这篇文章摘自我即将出版的新书<a class="ae kv" href="https://buildasaasappinrails.com" rel="noopener ugc nofollow" target="_blank">中的一章，在Rails 6中构建一个SaaS应用</a>。这本书指导你从卑微的开始，通过部署一个应用到生产。这本书现在已经开始预售了，你可以马上拿到免费的一章！</p><p id="6f82" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">此外，我的新项目<a class="ae kv" href="https://pullmanager.com" rel="noopener ugc nofollow" target="_blank">拉管理器</a>的测试版已经发布。如果您失去了对拉取请求的跟踪，让旧的请求留在身边，或者只是喜欢一个通过多个服务(Github、Gitlab和Bitbucket)聚集这些请求的仪表板，<a class="ae kv" href="https://pullmanager.com" rel="noopener ugc nofollow" target="_blank">查看一下</a>。</p></div><div class="ab cl lt lu hc lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hn ho hp hq hr"><h1 id="5ce7" class="kw kx hu bd ky kz ma lb lc ld mb lf lg ja mc jb li jd md je lk jg me jh lm ln dt translated">摩尔宝石</h1><p id="dab2" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">这里有更多的宝石可以帮助你！</p><p id="81c9" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="http://ddollar.github.io/foreman/" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv"> Foreman </strong> </a> —您可以使用这个gem从Procfiles运行您的应用程序。当您需要运行多个应用程序或服务器时，这非常方便。假设你运行你的Puma webserver，ActionCable，Webpack开发服务器等。有了福尔曼，你只需<code class="eh jj jk jl jm b">foreman .Procfile</code>就能让他们同时兴奋起来。</p><p id="2a0b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/vcr/vcr" rel="noopener ugc nofollow" target="_blank"><strong class="kb hv">VCR</strong></a><strong class="kb hv">—</strong>这个gem允许您记录外部web请求，并在将来的测试运行中重放它们。这有两个好处，首先，你将记录一个已知的外部请求的工作版本，然后未来的测试运行将只是本地加载YAML <code class="eh jj jk jl jm b">cassette</code> VCR商店。</p><p id="0fc6" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/ankane/chartkick" rel="noopener ugc nofollow" target="_blank"><strong class="kb hv">ChartKick</strong></a><strong class="kb hv"/>—当你需要在你的视图中快速获得一个图表/图形，从ActiveRecord中提取数据，chart kick会让你用一行就搞定(大多数时候)。如果您的图表将包含更复杂的数据，或者如果您需要专门的图表，您可能需要考虑构建json响应并使用javascript库。</p><p id="cdd4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/basecamp/marginalia" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">旁注</strong> </a> <strong class="kb hv"> </strong> —这个gem将在日志中为您的SQL条目添加注释，让您知道查询可能来自什么应用程序、控制器和操作。这对于调试日志中似乎与操作没有直接关联的查询非常有用。</p><p id="7eef" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/presidentbeef/brakeman" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">布雷克曼</strong> </a> —这是少数几种你可能不会通过你的Gemfile安装，而只是通过<code class="eh jj jk jl jm b">gem install</code>安装的宝石之一。BrakeMan是一个安全分析工具，它会让你知道你的应用程序是否有任何安全漏洞。</p><p id="7794" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/MiniProfiler/rack-mini-profiler" rel="noopener ugc nofollow" target="_blank"/></p><p id="5d30" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/bbatsov/rubocop" rel="noopener ugc nofollow" target="_blank"><strong class="kb hv">rubo COP</strong></a><strong class="kb hv"/>—另一个分析工具，但这次是林挺你的ruby文件来检查它们是否符合Ruby风格指南。</p><p id="c109" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/ruby-concurrency/concurrent-ruby" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">并发Ruby</strong><em class="mf"/></a>——这不一定是每个gem文件中都有的宝石，但是当我需要编写自己的并发代码(比如数据导入器)时，我会联系这个坏小子，让我以自己觉得舒服的方式编写并发Ruby。此外，许多流行的gem实际上使用concurrent-ruby作为主要依赖项。</p><p id="747e" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/omniauth/omniauth" rel="noopener ugc nofollow" target="_blank"><strong class="kb hv">omni auth</strong></a><strong class="kb hv"/>—如果需要处理第三方API，很可能需要处理OAuth。如果必须处理OAuth，应该使用OmniAuth和他们的开源策略列表，让OAuth变得简单，只需要几个配置变量和一些响应处理。</p><p id="ff09" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/rubysherpas/paranoia" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">偏执</strong></a>——有一些针对<code class="eh jj jk jl jm b">soft-delete</code>功能的宝石，但这个似乎总是对我最有效。软删除非常适合SaaS应用程序，在这些应用程序中，关联和审计可能仍然需要数据，但在其他情况下，对象会显示为已删除。</p><p id="f9e7" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/kpumuk/meta-tags" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">元标签</strong> </a> —这个gem是这样一种情况，对于简单的元HTML标签，您可以跳过整个gem，只从控制器中获取一个值。但是，如果您需要更多的元标签，这可能是您的最佳选择。</p><p id="c7a2" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/elabs/pundit" rel="noopener ugc nofollow" target="_blank"> <strong class="kb hv">权威人士</strong></a>——这个宝石在我的上一篇帖子中出现了很多。Pundit采用简单的Ruby类方法在应用程序中进行授权。它没有<code class="eh jj jk jl jm b">cancancan</code>那么神奇，被喜欢更明确代码库的开发人员大量使用。这是Ruby/Rails开发人员基于隐式/显式偏好在工具上产生分歧的地方。</p><p id="e7a8" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae kv" href="https://github.com/activeadmin/activeadmin" rel="noopener ugc nofollow" target="_blank"><strong class="kb hv">ActiveAdmin</strong></a>—如果你习惯了Django的管理界面，或者只是想要一个管理区域来管理数据，那么active admin可能正是你所需要的。</p><p id="98fc" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这些是我对宝石的更多选择，你有什么想要分享的吗(甚至是你自己的无耻之徒)？就在下面评论吧！</p></div></div>    
</body>
</html>