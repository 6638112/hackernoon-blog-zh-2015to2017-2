<html>
<head>
<title>Webhook vs API: What’s the Difference?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webhook vs API:有什么区别？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/webhook-vs-api-whats-the-difference-8d41e6661652?source=collection_archive---------1-----------------------#2017-07-10">https://medium.com/hackernoon/webhook-vs-api-whats-the-difference-8d41e6661652?source=collection_archive---------1-----------------------#2017-07-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6a48586845d5746998024f587c8e0015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L1mg2UEiFx5LU4wj.png"/></div></div></figure><p id="ef1b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通信是数字时代的关键驱动力。作为人类，我们希望<a class="ae ka" href="https://hackernoon.com/tagged/technology" rel="noopener ugc nofollow" target="_blank">技术</a>帮助我们更快、更容易地与更多的人交流。但是为了实现这一点，我们必须首先找到一种让技术互相交流的方法。</p><p id="0fee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这就是API和webhooks发挥作用的地方。</p><p id="c030" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">webhooks和API都有助于在两个应用程序之间同步和转发数据。然而，两者都有不同的方法，因此服务的目的略有不同。</p><p id="b63f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了澄清这两者之间的任何混淆，让我们来看看webhook和API的区别，以及它们各自最适合什么样的场景。</p><h1 id="65b3" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">Webhook与API:简单来说的区别</h1><p id="5acf" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">简而言之，API在你要求的时候做事情，而<a class="ae ka" href="https://hackernoon.com/tagged/webhook" rel="noopener ugc nofollow" target="_blank"> Webhook </a>在满足特定标准或场景发生时自己做事情。让我们再深入一点。</p><p id="29a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">可以从服务器使用API与example.com通信。通过该通信，API可以列出、创建、编辑或删除项目。尽管如此，这个API还是需要一些说明。</p><p id="1087" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一方面，Webhooks是从example.com到服务器的自动调用。这些电话是在example.com发生特定事件时触发的。例如，如果一个新用户注册了example.com，自动呼叫可以被配置为请求服务器发送一封欢迎电子邮件。</p><h1 id="65c1" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是Webhook？</h1><p id="2e87" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">有时webhooks被称为反向API，但这并不完全正确。它们不会向后运行，而是不需要在您的一端发起请求，只要有新数据可用，就会发送数据。</p><p id="2bd3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要设置一个webhook，你所要做的就是向提供你所请求数据的服务的公司注册一个URL。该URL将接受数据，并可以激活一个工作流，将数据转化为有用的东西。在大多数情况下，您甚至可以指定提供商将向您交付数据的情况。</p><p id="13df" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Webhooks和API在发出请求的方式上有所不同。例如，无论是否有数据更新响应，API都会调用数据。而webhooks只有在您所连接的外部系统有数据更新时才通过HTTP POSTs接收调用。</p><h1 id="685d" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">何时使用WebHook</h1><p id="efc9" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">webhook通常用于执行较小的请求和任务，但是有些情况下web hook比整个API更合适。</p><p id="14c6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一种常见的情况是，您的应用或平台需要实时更新，但您不想浪费资源。在这种情况下，网钩将是有益的。</p><p id="1d14" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在API上使用webhook的另一种情况是当API很差，或者根本没有API的时候。您可以创建一个变通解决方案，为您提供应用程序运行所需的数据。</p><p id="bdda" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，有一个关于webhooks的警告。因为它们不用于定期请求数据，并且只在有新数据可用时才这样做，所以如果系统由于某种原因脱机，您可能永远也不会了解到新的更新。您对总数据流的控制也将减少，因为您必须接受给定更新可用的总数据量。</p><h1 id="1c7e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">现实生活中的Webhook示例</h1><p id="39c7" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">许多应用程序和工具确实依赖于webhooks，但主要用于较小的数据请求，而不是使用它们来形成服务的主干。尽管如此，还是有很多webhooks被有效使用的例子。</p><ol class=""><li id="86f0" class="le lf hu je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">ButterCMS webhook会在任何人发布新的博客文章或更新其CMS内容的时候触发。</li><li id="c174" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">Zapier本质上是一个巨大的网络钩子。你将某些应用程序连接在一起，每当一个应用程序发生事件，就会触发另一个应用程序的动作。</li><li id="0986" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated"><a class="ae ka" href="https://stripe.com/docs/webhooks" rel="noopener ugc nofollow" target="_blank"> Stripe有一个webhook </a>，每当订阅支付失败时，它会自动向客户发送电子邮件。</li></ol><h1 id="61a1" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是API？</h1><p id="cff0" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">API代表应用程序编程接口。API是应用程序和平台通过通用通信方法与其他应用程序和平台连接的一种方式。要让API工作，需要有一个数据请求，然后是对请求的响应。数据通常以JSON这样的格式交付。</p><p id="0584" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">API往往是许多现有软件和工具所依赖的框架。例如，一个创建Twitter趋势报告的应用程序可以依靠一个API不断地从Twitter获取最新的数据。大多数大型应用程序都集成了多个API来扩展它们的服务，如下所示。</p><h1 id="6ca8" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">何时使用API</h1><p id="dfd8" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">当您知道数据会不断变化时，API会工作得非常好。如果您需要的数据相对停滞不前，那么使用API就毫无意义。例如，如果你是一个电子商务商店，定期更新其运输和跟踪数据，那么你会不断提出要求。</p><p id="ac8a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每次你轮询API，你都会得到新的数据。如果您的数据没有不断更新，那么就不能保证在另一端会有准备好的数据。当这种情况发生时，你只是在浪费资源。然而，如果你开始使用API，你可以设置一个调用限制，这将限制你在一段时间内调用的次数。一些应用程序甚至从一开始就限制你打电话的次数，以减少他们端的资源使用。</p><h1 id="9c8b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">现实生活中的API示例</h1><p id="59ba" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">就像我们上面提到的，API无处不在。根据ProgrammableWeb的最新结果,目前已有超过17，000个API。下面你会发现一些使用API的工具:</p><ol class=""><li id="0661" class="le lf hu je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">作为一个<a class="ae ka" href="https://buttercms.com" rel="noopener ugc nofollow" target="_blank"> API优先的CMS </a>，ButterCMS拥有自己的REST API，具有可预测的、面向资源的URL，并使用HTTP响应代码来指示API错误——其功能由这个<a class="ae ka" href="https://www.programmableweb.com/news/build-react-universal-blog-nextjs-and-buttercms/how-to/2017/05/02" rel="noopener ugc nofollow" target="_blank"> React通用博客构建</a>展示。</li><li id="5a46" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">优步还依靠谷歌地图API、Twilio API、Braintree API和SendGrid API来帮助他们的应用程序。</li><li id="e1aa" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">Slack有一个API ，可以让你将他们的消息功能集成到你的第三方应用中。</li></ol><h1 id="254e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">Webhooks和API运行在不同的圈子里</h1><p id="27ee" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这不是哪个更好的问题，因为不存在一种方法胜过另一种方法的普遍情况。这更多的是关于您的应用程序的目的和您所请求的数据类型的问题。</p><p id="c716" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">举个例子，你可以把API想象成你发送给朋友的文本消息，以获取他们举办的活动的更多信息。你问一个问题，他们会给你回复。</p><p id="748e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有了webhook，你可以告诉你的朋友，只要他们组织另一个活动，就给你发短信，让你知道。您提交最初的请求，当有新的信息出现时，他们会不断地向您发送更新。</p><p id="915c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，大多数应用程序最终会同时使用API和webhooks来创建一个可以在正确的时间传递正确类型的数据的系统。</p><p id="a6aa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ls">这篇</em> <a class="ae ka" href="https://buttercms.com/blog/webhook-vs-api-whats-the-difference" rel="noopener ugc nofollow" target="_blank"> <em class="ls">文章</em> </a> <em class="ls">原载于</em> <a class="ae ka" href="https://buttercms.com/blog/" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> ButterCMS博客</em> </a> <em class="ls">。ButterCMS是一个</em> <a class="ae ka" href="https://buttercms.com/api-first-cms/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">托管的API-first CMS </em> </a> <em class="ls">和</em> <a class="ae ka" href="https://buttercms.com/blog-engine/" rel="noopener ugc nofollow" target="_blank"> <em class="ls">博客引擎</em> </a> <em class="ls">让你构建基于CMS的应用。</em></p><figure class="lt lu lv lw fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure></div></div>    
</body>
</html>