<html>
<head>
<title>Tutorial: How to make HTTP Requests in React, Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">教程:如何在React中发出HTTP请求，第2部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/tutorial-how-to-make-http-requests-in-react-part-2-4cfdba3ec65?source=collection_archive---------3-----------------------#2017-12-09">https://medium.com/hackernoon/tutorial-how-to-make-http-requests-in-react-part-2-4cfdba3ec65?source=collection_archive---------3-----------------------#2017-12-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/bad4f9d2aa22f37b08b16613a95019aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JBzoX8NKPslVFF2zFR1Mww.png"/></div></div></figure><p id="b020" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ka">如果你还没有完成本教程的</em> <a class="ae kb" rel="noopener" href="/@MCapoz/tutorial-how-to-make-http-requests-in-react-part-1-f7afa3cd0cc8"> <em class="ka">第1部分</em> </a> <em class="ka">，请在开始第2部分之前完成。</em></p><p id="3d1a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们已经使用create-react-app建立了我们的<a class="ae kb" href="https://hackernoon.com/tagged/project" rel="noopener ugc nofollow" target="_blank">项目</a>，我们可以开始编写一些<a class="ae kb" href="https://hackernoon.com/tagged/code" rel="noopener ugc nofollow" target="_blank">代码</a>。在您选择的编辑器中打开您的项目，让我们开始删除create-react-app为您添加的一些样板文件，因为我们不需要它。</p><h1 id="ee03" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated"><strong class="ak">步骤1:删除create-react-app样板文件</strong></h1><p id="2b16" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">当您进入您的<code class="eh lf lg lh li b">App.js</code>文件时，它看起来会像这样:</p><figure class="lk ll lm ln fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lj"><img src="../Images/19e933ed791aae4fe2aaa7039da66216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSz2ZtGLG8KceFGPhSqdsg.png"/></div></div></figure><p id="de6d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">继续删除来自<code class="eh lf lg lh li b">App.js </code>和<code class="eh lf lg lh li b">App.css</code>的所有代码，并用下面的代码替换它:</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="daf2" class="ls kd hu li b fv lt lu l lv lw"><em class="ka">import</em> React, { Component } <em class="ka">from</em> 'react'<br/><em class="ka">import</em> './App.css'</span><span id="2f93" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">class</em> App <em class="ka">extends</em> Component {<br/>  render () {<br/>    <em class="ka">return</em> (<br/>      &lt;div className='button__container'&gt;<br/>        &lt;button className='button'&gt;Click Me&lt;/button&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span><span id="cf81" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">export</em> <em class="ka">default</em> App</span></pre><p id="c95f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您也可以将这段代码添加到您的<code class="eh lf lg lh li b">App.css</code>文件中。</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="db9a" class="ls kd hu li b fv lt lu l lv lw">.button__container {<br/>  margin-top: 200<em class="ka">px</em>;<br/>  text-align: center;<br/>}</span><span id="a9b3" class="ls kd hu li b fv lx lu l lv lw">.button {<br/>  background-color:green;<br/>  border: none;<br/>  color: white;<br/>  font-size: 16<em class="ka">px</em>;<br/>  height: 40<em class="ka">px</em>;<br/>  width: 200<em class="ka">px</em>;<br/>}</span></pre><p id="f6d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你也可以删除<code class="eh lf lg lh li b">logo.svg</code>文件，因为我们不会使用它。现在，当您在终端中运行<code class="eh lf lg lh li b">npm start</code>时，您应该会在浏览器中看到:</p><figure class="lk ll lm ln fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ly"><img src="../Images/53989f213b8bc3b64410fa2041fafbc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBYgJkuhgT7XwR8jALBDag.png"/></div></div></figure><h1 id="a0dc" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated"><strong class="ak">第二步:连接手柄点击功能</strong></h1><p id="7127" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">我们的下一步将是设置一个当用户点击按钮时触发的功能。我们首先向按钮添加一个<code class="eh lf lg lh li b">onClick</code>事件，如下所示:</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="0248" class="ls kd hu li b fv lt lu l lv lw">&lt;button className='button' onClick={<em class="ka">this</em>.handleClick}&gt;<br/>  Click Me<br/>&lt;/button&gt;</span></pre><p id="b708" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当按钮被点击时，我们将调用一个名为<code class="eh lf lg lh li b">handleClick</code>的函数，该函数被绑定到<code class="eh lf lg lh li b">this</code>。让我们继续将<code class="eh lf lg lh li b">handleClick</code>绑定到<code class="eh lf lg lh li b">this</code>。首先，我们需要在组件中创建一个<code class="eh lf lg lh li b">constructor</code>函数。然后，我们将把<code class="eh lf lg lh li b">handleClick</code>绑定到它内部的<code class="eh lf lg lh li b">this</code>。</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="3816" class="ls kd hu li b fv lt lu l lv lw">constructor () {<br/>  super() </span><span id="80b7" class="ls kd hu li b fv lx lu l lv lw">  this.handleClick = this.handleClick.bind(this)<br/>}</span></pre><p id="bfab" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我们的文件应该是这样的:</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="9e17" class="ls kd hu li b fv lt lu l lv lw"><em class="ka">import</em> React, { Component } <em class="ka">from</em> 'react'<br/><em class="ka">import</em> './App.css'</span><span id="618c" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">class</em> App <em class="ka">extends</em> Component {<br/>  <em class="ka">constructor</em> () {<br/>    <em class="ka">super</em>()</span><span id="b8de" class="ls kd hu li b fv lx lu l lv lw">    <em class="ka">this</em>.handleClick = <em class="ka">this</em>.handleClick.bind(<em class="ka">this</em>)<br/>  }</span><span id="98bb" class="ls kd hu li b fv lx lu l lv lw">  render () {<br/>    <em class="ka">return</em> (<br/>      &lt;div className='button__container'&gt;<br/>        &lt;button className='button' onClick={<em class="ka">this</em>.handleClick}&gt;<br/>          Click Me<br/>        &lt;/button&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span><span id="0fa5" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">export</em> <em class="ka">default</em> App</span></pre><p id="ffc7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，我们需要定义我们的<code class="eh lf lg lh li b">handleClick</code>函数。让我们先按下按钮<code class="eh lf lg lh li b">console.log</code>‘成功！’，确保所有东西都连接正确单击按钮时。</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="ea23" class="ls kd hu li b fv lt lu l lv lw">handleClick () {<br/>  console.log('Success!')<br/>}</span></pre><p id="bcbe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，您的代码应该是这样的:</p><pre class="lk ll lm ln fq lo li lp lq aw lr dt"><span id="1847" class="ls kd hu li b fv lt lu l lv lw"><em class="ka">import</em> React, { Component } <em class="ka">from</em> 'react'<br/><em class="ka">import</em> './App.css'</span><span id="797d" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">class</em> App <em class="ka">extends</em> Component {<br/>  <em class="ka">constructor</em> () {<br/>    <em class="ka">super</em>()</span><span id="bae6" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">    this</em>.handleClick = <em class="ka">this</em>.handleClick.bind(<em class="ka">this</em>)<br/>  }</span><span id="d1e5" class="ls kd hu li b fv lx lu l lv lw">  handleClick () {<br/>    console.log('Success!')<br/>  }</span><span id="d1f7" class="ls kd hu li b fv lx lu l lv lw">  render () {<br/>    <em class="ka">return</em> (<br/>      &lt;div className='button__container'&gt;<br/>        &lt;button className='button' onClick={<em class="ka">this</em>.handleClick}&gt;<br/>          Click Me<br/>        &lt;/button&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span><span id="d27c" class="ls kd hu li b fv lx lu l lv lw"><em class="ka">export</em> <em class="ka">default</em> App</span></pre><p id="baea" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">单击按钮后，您应该会在浏览器中看到以下内容:</p><figure class="lk ll lm ln fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/2808476ebecc368ae77da64e6762b25c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S_ycyo3iWdouOrxXdhUbgw.png"/></div></div></figure><p id="52cc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">确保当你点击按钮时，你看到“成功！”出现在您的控制台中。如果你这样做了，这意味着你已经正确地将你的<code class="eh lf lg lh li b">handleChange</code>功能连接到按钮上，并且你已经准备好进入本教程的<a class="ae kb" rel="noopener" href="/@MCapoz/tutorial-how-to-make-http-requests-in-react-part-3-daa6b31b66be">第3部分</a>。</p><figure class="lk ll lm ln fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure></div></div>    
</body>
</html>