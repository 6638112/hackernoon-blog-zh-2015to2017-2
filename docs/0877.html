<html>
<head>
<title>Implementing ng-file-upload in Angular 2/4/5 app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Angular 2/4/5应用程序中实现ng文件上传</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/implementing-ng-file-upload-in-angular-2-app-397bae30ae99?source=collection_archive---------2-----------------------#2016-06-19">https://medium.com/hackernoon/implementing-ng-file-upload-in-angular-2-app-397bae30ae99?source=collection_archive---------2-----------------------#2016-06-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/8eb10a065bfb41b564625bc82015bbc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/0*QI5qPFml-NVLpq7S.png"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">credit: <a class="ae jc" href="http://www.uploadify.com/" rel="noopener ugc nofollow" target="_blank">http://www.uploadify.com/</a></figcaption></figure><p id="76c4" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">我们需要<a class="ae jc" href="https://hackernoon.com/tagged/implement" rel="noopener ugc nofollow" target="_blank">在我们的</a><a class="ae jc" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular 2 </a>应用程序中实现 <a class="ae jc" href="https://hackernoon.com/tagged/drag" rel="noopener ugc nofollow" target="_blank">拖放文件输入功能。</a></p><p id="27e7" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">我们为此选择了<a class="ae jc" href="https://github.com/valor-software/ng2-file-upload" rel="noopener ugc nofollow" target="_blank"> ng-file-upload </a>。</p><p id="c9fa" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">我们试图跟随<a class="ae jc" href="http://valor-software.com/ng2-file-upload/" rel="noopener ugc nofollow" target="_blank">帮助页面</a>。如建议的那样，实现了如下的<code class="eh kb kc kd ke b"><a class="ae jc" href="https://github.com/valor-software/ng2-file-upload/blob/development/demo/src/app/components/file-upload/simple-demo.html" rel="noopener ugc nofollow" target="_blank">drag-upload-input.html</a></code> &amp; <code class="eh kb kc kd ke b"><a class="ae jc" href="https://github.com/valor-software/ng2-file-upload/blob/development/demo/src/app/components/file-upload/simple-demo.ts" rel="noopener ugc nofollow" target="_blank">drag-upload-input.component.ts</a></code>:</p><p id="261c" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated"><strong class="jf hv">drag-upload-input.html</strong></p><pre class="kf kg kh ki fq kj ke kk kl aw km dt"><span id="d946" class="kn ko hu ke b fv kp kq l kr ks">&lt;!-- we only need single file upload --&gt; &lt;input type="file" ng2FileSelect [uploader]="uploader" /&gt;</span></pre><p id="2c8f" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated"><strong class="jf hv">拖拽-上传-输入.组件. ts </strong></p><pre class="kf kg kh ki fq kj ke kk kl aw km dt"><span id="d5fc" class="kn ko hu ke b fv kp kq l kr ks">import { Component } from '<a class="ae jc" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { FileUploader } from 'ng2-file-upload';</span><span id="11fc" class="kn ko hu ke b fv kt kq l kr ks">// const URL = '/api/';<br/>const URL = '<a class="ae jc" href="https://evening-anchorage-3159.herokuapp.com/api/'" rel="noopener ugc nofollow" target="_blank">https://evening-anchorage-3159.herokuapp.com/api/'</a>;</span><span id="49d6" class="kn ko hu ke b fv kt kq l kr ks"><a class="ae jc" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  moduleId: module.id,<br/>  selector: 'drag-upload-input',<br/>  templateUrl: './drag-upload-input.html'<br/>})<br/>export class DragUploadInput {<br/>  public uploader: FileUploader = new FileUploader({ url: URL });<br/>  public hasBaseDropZoneOver: boolean = false;<br/>  public hasAnotherDropZoneOver: boolean = false;</span><span id="e037" class="kn ko hu ke b fv kt kq l kr ks">public fileOverBase(e: any): void {<br/>    this.hasBaseDropZoneOver = e;<br/>  }</span><span id="638a" class="kn ko hu ke b fv kt kq l kr ks">public fileOverAnother(e: any): void {<br/>    this.hasAnotherDropZoneOver = e;<br/>  }<br/>}</span></pre><p id="b246" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated"><code class="eh kb kc kd ke b"><a class="ae jc" href="https://github.com/valor-software/ng2-file-upload/blob/development/demo/src/app/app.module.ts" rel="noopener ugc nofollow" target="_blank">app.module.ts</a></code>有这样的<code class="eh kb kc kd ke b">FileUploadModule</code>:</p><pre class="kf kg kh ki fq kj ke kk kl aw km dt"><span id="099d" class="kn ko hu ke b fv kp kq l kr ks">// File upload modules<br/>import { FileUploadModule } from 'ng2-file-upload';<br/>import { DragUploadInput } from './file-upload/drag-upload-input.component';</span><span id="43ec" class="kn ko hu ke b fv kt kq l kr ks">//other imports</span><span id="b8ce" class="kn ko hu ke b fv kt kq l kr ks"><a class="ae jc" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  imports: [ ... other imports<br/>FileUploadModule<br/>],<br/>  declarations: [  ... other declarations<br/>DragUploadInput],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="95bd" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">而<code class="eh kb kc kd ke b"><a class="ae jc" href="http://stackoverflow.com/a/37167153/2404470" rel="noopener ugc nofollow" target="_blank">systemjs.config.js</a></code>看起来是这样的:</p><pre class="kf kg kh ki fq kj ke kk kl aw km dt"><span id="faa1" class="kn ko hu ke b fv kp kq l kr ks">(function (global) {<br/>  System.config({<br/>    // map tells the System loader where to look for things<br/>    map: {<br/>      // other libraries<br/>      'ng2-file-upload': 'node_modules/ng2-file-upload',<br/>    },<br/>    packages: {<br/>   // other packages<br/>      ng2-file-upload': {<br/>        main: 'ng2-file-upload.js',<br/>        defaultExtension: 'js'<br/>      }<br/>    }<br/>  });<br/>})(this);</span></pre></div><div class="ab cl ku kv hc kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="hn ho hp hq hr"><p id="5a87" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated"><em class="lb">原载于</em><a class="ae jc" href="http://xameeramir.github.io/Implementing-ng-file-upload-in-Angular-2-app/" rel="noopener ugc nofollow" target="_blank"><em class="lb">xameeramir . github . io</em></a><em class="lb">。</em></p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="lc ld l"/></div></figure></div></div>    
</body>
</html>