<html>
<head>
<title>Swift SpriteKit Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift精神基础</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/swift-spritekit-basics-94b1798ab639?source=collection_archive---------3-----------------------#2017-03-12">https://medium.com/hackernoon/swift-spritekit-basics-94b1798ab639?source=collection_archive---------3-----------------------#2017-03-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="8728" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">想在<a class="ae jp" href="https://hackernoon.com/tagged/ios" rel="noopener ugc nofollow" target="_blank"> iOS </a>、macOS、tvOS、<em class="jq">甚至</em> watchOS上构建2D游戏？SpriteKit为您提供从渲染精灵到物理模拟所需的一切。</p><p id="e5e6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">SpriteKit游戏中的一切都存在于<code class="eh jr js jt ju b">SKScene</code>类的一个实例中。该对象是所谓的节点层次结构的根，节点层次结构是具有父子关系的节点的集合。例如，您可能有一个效果节点，它是您的播放器节点的子节点，而该播放器节点是根节点(场景)的子节点。</p><figure class="jw jx jy jz fq ka fe ff paragraph-image"><div class="fe ff jv"><img src="../Images/5809f1716e550cab240e8f7af2bfe60e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*STRn5AiFgcqHnzgbJcOHwg@2x.png"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Node Hierarchy</figcaption></figure><p id="57c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这些奇特的层次结构都可以工作，因为每个SpriteKit类都是从<code class="eh jr js jt ju b">SKNode</code>继承的。该类包含构建场景中节点的父子关系的逻辑。</p><pre class="jw jx jy jz fq kh ju ki kj aw kk dt"><span id="bcf1" class="kl km hu ju b fv kn ko l kp kq">let scene = SKScene()<br/>let player = SKSpriteNode(imageNamed: "player")<br/>scene.addChild(player)</span></pre><p id="80da" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh jr js jt ju b">addChild</code>调用将我们的玩家节点放置在场景中。你可能已经注意到了，我们的玩家是一个<code class="eh jr js jt ju b">SKSpriteNode</code>，另一个你会在<a class="ae jp" href="https://hackernoon.com/tagged/spritekit" rel="noopener ugc nofollow" target="_blank">精灵</a>游戏中无数次用到的有价值的职业。顾名思义，<code class="eh jr js jt ju b">SKSpriteNode</code>从您的资产目录中提取一个精灵，在本例中是一个名为<code class="eh jr js jt ju b">"player"</code>的精灵，并创建一个节点。</p><p id="220f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于<code class="eh jr js jt ju b">SKSpriteNode</code>继承自<code class="eh jr js jt ju b">SKNode</code>，我们在sprite上获得了一个名为<code class="eh jr js jt ju b">position</code>的属性，这是一个<code class="eh jr js jt ju b">CGPoint</code>(一个简单的结构，它有自己的两个属性，<code class="eh jr js jt ju b">x</code>和<code class="eh jr js jt ju b">y</code>)。<code class="eh jr js jt ju b">position</code>属性默认为点<code class="eh jr js jt ju b">(0.0, 0.0)</code>，相对于父节点的<code class="eh jr js jt ju b">anchorPoint</code>。让我们把这些都分解一下。</p><p id="ed6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，需要注意的是，在SpriteKit中y轴上的<code class="eh jr js jt ju b">0</code>在屏幕的左下方，不像在UIKit或AppKit中，y轴上的<code class="eh jr js jt ju b">0</code>在左上方。</p><figure class="jw jx jy jz fq ka fe ff paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="fe ff kr"><img src="../Images/7a412eed84b8ab94a08976e74eba321d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Pjpdluak6EgL1LN-Hw29Q@2x.png"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">x and y-axes in SpriteKit</figcaption></figure><p id="3ac2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">场景有一个由它的<code class="eh jr js jt ju b">anchorPoint</code>，它的高度和宽度的百分比决定的原点。假设我们的场景和我们的屏幕一样大，恰好是480像素高，320像素宽，<code class="eh jr js jt ju b">anchorPoint</code>就是<code class="eh jr js jt ju b">(0.25, 0.75)</code>。这意味着场景的原点在宽度的25%和高度的75%，确切地说是<code class="eh jr js jt ju b">0.25 * 320 = 80</code>和<code class="eh jr js jt ju b">0.75 * 480 = 360</code>，所以原点是<code class="eh jr js jt ju b">(80, 360)</code>。</p><p id="7d17" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上面的例子中，我们将我们的玩家节点添加到场景中，而没有设置玩家的位置，所以它将位于<code class="eh jr js jt ju b">(0, 0)</code>，相对于场景的原点。因此，在屏幕上我们将看到坐标为<code class="eh jr js jt ju b">(80, 360)</code>的玩家节点。出于更实际的目的，让我们将场景的<code class="eh jr js jt ju b">anchorPoint</code>设置为<code class="eh jr js jt ju b">(0.5, 0.5)</code>(使用Xcode的SpriteKit游戏项目创建的场景的默认<code class="eh jr js jt ju b">anchorPoint</code>)。</p><pre class="jw jx jy jz fq kh ju ki kj aw kk dt"><span id="b9b8" class="kl km hu ju b fv kn ko l kp kq">let scene = SKScene(size: CGSize(width: 320, height: 480))<br/>scene.anchorPoint = CGPoint(x: 0.5, y: 0.5)<br/>let player = SKSpriteNode(imageNamed: "player")<br/>scene.addChild(player)</span></pre><p id="9f6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，当我们放置玩家节点时，玩家将位于屏幕上的<code class="eh jr js jt ju b">(160, 240)</code>。然后，我们将使用所谓的<code class="eh jr js jt ju b">SKAction</code>将我们的播放器从当前位置移动到一个新的位置，例如，向右移动80像素，向下移动120像素，总共花费2秒钟。</p><pre class="jw jx jy jz fq kh ju ki kj aw kk dt"><span id="1580" class="kl km hu ju b fv kn ko l kp kq">let moveAction = SKAction.move(byX: 80, y: -120, duration: 2)<br/>player.run(moveAction)</span></pre><p id="40db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">用move动作调用我们的player节点上的<code class="eh jr js jt ju b">run</code>方法将告诉SpriteKit在2秒内更新节点的位置，并在屏幕上动画显示它。</p><figure class="jw jx jy jz fq ka fe ff paragraph-image"><div class="fe ff kw"><img src="../Images/951815878cf2c104d7489cbf4d1c6c7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/1*LcZouoEtsPsxUOZCLxJWoQ@2x.gif"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Credit to Kenney for sprite — <a class="ae jp" href="https://kenney.nl/assets" rel="noopener ugc nofollow" target="_blank">https://kenney.nl/assets</a></figcaption></figure><p id="1df8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，您已经有了一个用不到10行代码制作一个SpriteKit游戏的良好起点！</p><p id="dc64" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">说到SpriteKit游戏，在App Store上看看我的游戏Blueshift吧！</p><div class="kx ky fm fo kz la"><a href="https://appsto.re/us/ipb1hb.i" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab ej"><div class="lc ab ld cl cj le"><h2 class="bd hv fv z el lf eo ep lg er et ht dt translated">App Store上的蓝移磁贴</h2><div class="lh l"><h3 class="bd b fv z el lf eo ep lg er et ek translated">阅读评论，比较客户评级，查看截图，并了解更多关于Blueshift瓷砖。下载蓝移磁贴…</h3></div><div class="li l"><p class="bd b gc z el lf eo ep lg er et ek translated">appsto.re</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo kb la"/></div></div></a></div><div class="jw jx jy jz fq ab cb"><figure class="lp ka lq lr ls lt lu paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lp ka lq lr ls lt lu paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lp ka lq lr ls lt lu paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lv lw lx"><p id="f922" class="ir is jq it b iu iv iw ix iy iz ja jb ly jd je jf lz jh ji jj ma jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>的机会。</p><p id="708a" class="ir is jq it b iu iv iw ix iy iz ja jb ly jd je jf lz jh ji jj ma jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jw jx jy jz fq ka fe ff paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="fe ff mb"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jw jx jy jz fq ka"><div class="bz el l di"><div class="mc md l"/></div></figure></div></div>    
</body>
</html>