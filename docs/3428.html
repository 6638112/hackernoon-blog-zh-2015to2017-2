<html>
<head>
<title>Yes, Karate is not *true* BDD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是的，空手道不是真正的BDD</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/yes-karate-is-not-true-bdd-698bf4a9be39?source=collection_archive---------4-----------------------#2017-04-01">https://medium.com/hackernoon/yes-karate-is-not-true-bdd-698bf4a9be39?source=collection_archive---------4-----------------------#2017-04-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/a9ceef0e98fdfc62ed9095975f5a2a8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ol-j9DumKEfAaFUBa7AE9w.png"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Ryan Hayashi; a Japanese Karate Association certified 3rd Dan black belt <a class="ae ih" href="http://www.mixedmartialarts.com/vault/karate/blind-folded-samurai-master-has-incredible-skills" rel="noopener ugc nofollow" target="_blank">in action</a>. Some cucumbers were harmed.</figcaption></figure><div class=""/><p id="8b5e" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">空手道开源还不到两个月，特别是感谢<a class="ae ih" href="https://www.joecolantonio.com/2017/03/23/rest-test-tool-karate-api-testing/" rel="noopener ugc nofollow" target="_blank">乔·科兰托尼奥</a>和<a class="ae ih" href="http://www.tjmaher.com/2017/03/new-automation-framework-released-to.html" rel="noopener ugc nofollow" target="_blank"> T. J .马赫</a>的博客帖子——反响非常好。感谢Joe和T. J .给了这个全新的开源项目一个急需的能见度提升！</p><p id="8a43" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">直奔主题。我想解释一下空手道和<a class="ae ih" href="https://cucumber.io" rel="noopener ugc nofollow" target="_blank">黄瓜</a>以及BDD的关系。随着空手道被越来越广泛地采用，我预计这将是一个非常常见的问题——这篇博客旨在成为我从现在开始可以向人们提供的权威参考。</p><h1 id="e39e" class="kg kh ik bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">为什么是黄瓜</h1><blockquote class="le lf lg"><p id="e28d" class="jh ji kf jj b jk jl jm jn jo jp jq jr lh jt ju jv li jx jy jz lj kb kc kd ke hn dt translated">编辑/ Jan-2019:从0.9.0版本开始，空手道<em class="ik">不再是基于黄瓜的</em>(<a class="ae ih" href="https://github.com/intuit/karate/issues/444#issuecomment-419852761" rel="noopener ugc nofollow" target="_blank">见为什么</a>)——而是保留了语法。如果你正在考虑使用BDD进行API测试——你真的应该读一读我在Stack Overflow上发表的文章。</p></blockquote><p id="020e" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在黄瓜JVM之上建立空手道并使用小黄瓜T21标准的决定被证明是一个伟大的决定。原因如下:</p><ul class=""><li id="5cb3" class="lk ll ik jj b jk jl jo jp js lm jw ln ka lo ke lp lq lr ls dt translated">免费的IDE插件同时适用于<a class="ae ih" href="https://cucumber.io/cucumber-eclipse/" rel="noopener ugc nofollow" target="_blank"> Eclipse </a>和<a class="ae ih" href="https://www.jetbrains.com/idea/help/cucumber.html" rel="noopener ugc nofollow" target="_blank"> IntelliJ </a>。使用语法着色，脚本看起来更加引人注目，最棒的是——您可以“右键单击”并运行测试，而无需编写一行Java代码。我真的认为这是一笔大买卖，让非程序员更容易接触到web-API测试。甚至GitHub也内置了对语法着色的支持，<a class="ae ih" href="https://github.com/intuit/karate#the-cucumber-way" rel="noopener ugc nofollow" target="_blank">看看文档就知道了</a>——我不会轻易放弃它。</li><li id="ce03" class="lk ll ik jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">在幕后，Cucumber-JVM提供了与单元测试框架(如JUnit和TestNG)的现成集成，提供了开箱即用的良好报告，同样，空手道可以免费获得所有这些。有时候站在巨人的肩膀上似乎是不公平的。但这就是开源的美妙之处。</li><li id="bbd5" class="lk ll ik jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">Cucumber-JVM简化了解析脚本文件和将控制权交给定制Java代码的整个过程——而空手道可以专注于正确的“粘合”代码，完成HTTP调用和JSON / XML数据断言的重要任务。</li><li id="1d23" class="lk ll ik jj b jk lt jo lu js lv jw lw ka lx ke lp lq lr ls dt translated">而空手道免费获得 - <strong class="jj il">时</strong> - <em class="kf">给定的【BDD味】语法。稍后会有更多的介绍，但毫无疑问，这使得测试<em class="kf">更具可读性</em><strong class="jj il"/>。看看空手道<a class="ae ih" href="https://github.com/intuit/karate#hello-world" rel="noopener ugc nofollow" target="_blank">‘hello-world’的例子</a>，试着想象一下没有BDD语法的情况。很简单，就是不一样了。</em></li></ul><figure class="ly lz ma mb fq hw"><div class="bz el l di"><div class="mc md l"/></div></figure><h1 id="e7ac" class="kg kh ik bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated"><strong class="ak">空手道BDD也是如此？</strong></h1><p id="ac3c" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">空手道当然会给你使用BDD关键字的<strong class="jj il">选项</strong>，例如给定的<strong class="jj il">，时的<em class="kf">，<strong class="jj il">然后是</strong>，<em class="kf">和</em>。而熟悉黄瓜的人已经知道，当</em>或者<strong class="jj il">然后</strong>的时候，你用<strong class="jj il">给定</strong>还是<em class="kf">都没关系，它只是“<em class="kf">语法糖</em>”，幕后完全被忽略。</em></strong></p><p id="9720" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">但是回到问题上来。我不想给你讲BDD应该如何实际应用，因为这是Cucumber的创造者和一些固执己见的用户最好的表述。如果你正在考虑使用Cucumber——甚至BDD那么考虑一下下面的博文吧。即使你<em class="kf">认为</em>你正在以正确的方式进行BDD，我也强烈建议你阅读这些文章。你可能会感到惊讶。</p><ol class=""><li id="29f1" class="lk ll ik jj b jk jl jo jp js lm jw ln ka lo ke mj lq lr ls dt translated"><a class="ae ih" href="https://cucumber.io/blog/2014/03/03/the-worlds-most-misunderstood-collaboration-tool" rel="noopener ugc nofollow" target="_blank">世界上最容易被误解的协作工具</a>——Aslak hellesy</li><li id="4042" class="lk ll ik jj b jk lt jo lu js lv jw lw ka lx ke mj lq lr ls dt translated">乔纳斯·尼可拉斯——你弄错了</li><li id="f625" class="lk ll ik jj b jk lt jo lu js lv jw lw ka lx ke mj lq lr ls dt translated"><a class="ae ih" href="https://www.jackkinsella.ie/articles/why-bother-with-cucumber-testing" rel="noopener ugc nofollow" target="_blank">为什么要费心检测黄瓜？</a> —作者杰克·金塞拉(这是对第二条的批判性回应)</li></ol><p id="6fd8" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我想在下面引用链接3中的一段话:</p><blockquote class="le lf lg"><p id="16c7" class="jh ji kf jj b jk jl jm jn jo jp jq jr lh jt ju jv li jx jy jz lj kb kc kd ke hn dt translated">Cucumber有它的用途，主要是作为大型多语言项目的高级分析工具。也就是说，很少有程序员从事这种工作，除了常规集成测试的方法名称之外的验收测试似乎是一种浪费。大多数Rails程序员使用的Cucumber只不过是基本集成测试的笨拙包装器。</p></blockquote><p id="c00c" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il">宾果</strong>。我确信这将会引起很多人的共鸣，他们在某个时候使用过某种风格的BDD，为现有的<strong class="jj il"><em class="kf"/></strong>系统编写测试。并且一直在想——<em class="kf">一个普通的集成测试难道就不够用了吗</em>？</p><h1 id="9818" class="kg kh ik bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">如果空手道是黄瓜的“误用”，那就这样吧！</h1><p id="6b67" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">空手道坦然接受这样一个事实，即它是用于HTTP web服务的集成测试。它包含了大量的功能来简化这项工作。它直接与web服务API测试工具领域的<a class="ae ih" href="http://rest-assured.io" rel="noopener ugc nofollow" target="_blank">放心</a>之类的竞争——例如，看看这个<a class="ae ih" href="http://tinyurl.com/karatera" rel="noopener ugc nofollow" target="_blank">空手道与放心</a>的详细对比。</p><p id="1015" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">空手道尤其对创建和维护web服务的“平台”团队有意义，在那里产品所有者参与验收测试不是最高优先级的。</p><h1 id="899e" class="kg kh ik bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">常见问题解答</h1><p id="53eb" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">偶尔，我会遇到一个“BDD爱好者”,他看一眼空手道，就会大声说这是这个世界上令人厌恶的东西。我将用一个“常见问题”部分来结束这篇博客，试图与这些人讲道理，但我担心在许多情况下这是一个失败的事业——因为根深蒂固的认知失调。但不管怎样，我来了。</p><h2 id="553f" class="mk kh ik bd ki ml mm mn km mo mp mq kq js mr ms ku jw mt mu ky ka mv mw lc mx dt translated">你不就是用黄瓜来炒作BDD吗？</h2><p id="30d3" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">不。有很好的理由，请看上面的“为什么是黄瓜”一节。</p><h2 id="5a58" class="mk kh ik bd ki ml mm mn km mo mp mq kq js mr ms ku jw mt mu ky ka mv mw lc mx dt translated">这违背了BDD和小黄瓜的全部目的！脚本中有如此多的实现细节。BDD应该是可读的、可执行的规范！</h2><p id="1fd6" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">如果有一件事空手道做得很好，那就是它是HTTP、JSON和XML的“t <a class="ae ih" href="https://ayende.com/blog/2984/dsl-vs-fluent-interface-compare-contrast" rel="noopener ugc nofollow" target="_blank"> rue DSL </a>”。DSL的全部目的是将普通编程语言中的多行代码简化成一行代码。</p><p id="b732" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">但是，是的，如果你担心空手道看起来像一种编程语言，它确实是，而且是通过设计的。值得重复的是，对于希望练习<strong class="jj il"> <em class="kf">真</em> </strong> BDD的队伍来说，空手道是<strong class="jj il">不是</strong>。</p><h2 id="86bb" class="mk kh ik bd ki ml mm mn km mo mp mq kq js mr ms ku jw mt mu ky ka mv mw lc mx dt translated">空手道的目标用户是谁？它显然不适合非技术业务人员。它看起来像一个抽象概念，所以这将适合技术人员吗？</h2><p id="d291" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">是的，空手道是为需要测试网络服务的技术人员准备的，它是<em class="kf">激光聚焦的</em>尽可能使这变得<strong class="jj il">简单</strong>。创建空手道的动机首先是为了避免使用Java代码来实现web服务，因为存在着明显的阻抗不匹配。这值得我写一篇完整的博文，我希望将来能这样做。</p><p id="9c0d" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">空手道还<a class="ae ih" href="https://github.com/intuit/karate#cucumber-vs-karate" rel="noopener ugc nofollow" target="_blank">添加了Cucumber </a>中缺少的一些特性——这些特性可能不属于BDD环境，但是从集成测试的角度来看是非常需要的。</p><p id="c241" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有一种观点认为，一些语言(例如<a class="ae ih" href="https://hackernoon.com/tagged/python" rel="noopener ugc nofollow" target="_blank"> Python </a>和Ruby)可以在某种程度上减少阻抗不匹配，但这是有争议的——特别是因为空手道已经将JSON和XML <a class="ae ih" href="https://github.com/intuit/karate#validate-every-element-in-a-json-array" rel="noopener ugc nofollow" target="_blank">“原生地”</a>融入到语法中。无论如何，我们已经看到开发人员和质量工程师以比以前高得多的速度创建API测试自动化。空手道的一个伟大之处在于它是语言中立的，不会因为它的设计而牺牲力量或表现力。</p><figure class="ly lz ma mb fq hw"><div class="bz el l di"><div class="mc md l"/></div></figure><h2 id="6877" class="mk kh ik bd ki ml mm mn km mo mp mq kq js mr ms ku jw mt mu ky ka mv mw lc mx dt translated">我还是不相信。你也在用空手道污染BDD的世界，你会把BDD的新手引入歧途。</h2><p id="356a" class="pw-post-body-paragraph jh ji ik jj b jk me jm jn jo mf jq jr js mg ju jv jw mh jy jz ka mi kc kd ke hn dt translated">好吧，就把这篇博文看作是我试图引导用户走上正确道路的一种方式。我也将显著地链接到这个博客——来自空手道文档。</p><p id="66bc" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">也就是说，看看引用的博客帖子，以及多年来，大量程序员陷入了错误使用Cucumber进行集成测试的陷阱。这可能会持续一段时间，即使空手道不存在。</p><p id="0e97" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">最后，在你尝试之前，不要挑剔它！我绝不是没有偏见的，但是我强烈建议你试试空手道，或者让你的团队来评估一下。我相信，随着时间的推移，你会找到一些好的东西来谈论它。</p><div class="ly lz ma mb fq ab cb"><figure class="my hw mz na nb nc nd paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="my hw mz na nb nc nd paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="my hw mz na nb nc nd paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="le lf lg"><p id="f922" class="jh ji kf jj b jk jl jm jn jo jp jq jr lh jt ju jv li jx jy jz lj kb kc kd ke hn dt translated"><a class="ae ih" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ih" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ih" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ih" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jh ji kf jj b jk jl jm jn jo jp jq jr lh jt ju jv li jx jy jz lj kb kc kd ke hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ih" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ih" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ly lz ma mb fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ne"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="ly lz ma mb fq hw"><div class="bz el l di"><div class="nf md l"/></div></figure></div></div>    
</body>
</html>