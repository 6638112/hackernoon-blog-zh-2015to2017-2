<html>
<head>
<title>A super quick comparison between Kafka and Message Queues</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">卡夫卡和消息队列的快速对比</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-super-quick-comparison-between-kafka-and-message-queues-e69742d855a8?source=collection_archive---------0-----------------------#2017-06-10">https://medium.com/hackernoon/a-super-quick-comparison-between-kafka-and-message-queues-e69742d855a8?source=collection_archive---------0-----------------------#2017-06-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/6ffcca91630838673807bad24e4e2041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXN4CgrPlT_nmeDHKtIXww.jpeg"/></div></div></figure><div class=""/><p id="b69c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章的目的是给你一个关于卡夫卡如何与队列相关的快速概述，以及为什么你会考虑使用它。</p><p id="145b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Kafka是最初由Linkedin的人开发的一项技术。简而言之，它有点像一个消息排队系统，稍微做了一些改动，使它能够支持发布/订阅、跨多个服务器扩展以及消息重放。</p><p id="840c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当你想采用<strong class="je ig">反应式编程</strong>风格而不是<strong class="je ig">命令式编程</strong>风格时，这些都是需要考虑的问题。</p><h1 id="36f7" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">命令式编程和反应式编程的区别</h1><p id="27f6" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">命令式编程是我们都开始使用的<a class="ae ld" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程类型。发生了一些事情，换句话说，一个事件发生了，你的代码被通知这个事件。例如，用户点击了一个按钮，您在代码中处理该事件的地方，您决定该动作对您的系统意味着什么。您可以将记录保存到数据库，调用另一个服务，发送电子邮件，或者所有这些操作的组合。这里重要的一点是，该事件与正在发生的特定行为直接相关。</a></p><p id="a67e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">反应式编程使您能够对发生的事件做出响应，通常是以流的形式。多个关注点可以订阅同一个事件，并让该事件在其领域中产生影响，而不管其他领域中发生了什么。换句话说，它允许松散耦合的代码可以很容易地扩展更多的功能。在不同堆栈中编码的各种大型下游系统可能会受到一个事件的影响，甚至是在云中某处执行的一大堆无服务器功能。</p><h1 id="8a98" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">从排队到卡夫卡</h1><p id="137c" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">为了理解Kafka会给你的架构带来什么，让我们从讨论消息队列开始。我们将从这里开始，因为我们将谈论它的局限性，然后看看卡夫卡如何解决它们。</p><p id="eb4b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">消息队列允许一群订阅者从队列末尾提取一条或一批消息。在取出消息时，队列通常允许某种级别的事务，以确保在消息被删除之前执行了所需的操作。</p><p id="eca4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">并非所有的排队系统都具有相同的功能，但是一旦消息被处理，它就会从队列中删除。你想想，这很像命令式编程，发生了一些事情，始发系统决定某个动作应该发生在下游系统。</p><p id="6f47" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">即使您可以在队列中向外扩展多个使用者，它们都将包含相同的功能，这样做只是为了并行处理负载和消息，换句话说，它不允许您基于同一事件启动多个独立的操作。队列消息的所有处理器将在同一个域中执行相同类型的逻辑。这意味着队列中的消息实际上是适合命令式编程的命令，而不是适合反应式编程的事件。</p><figure class="lf lg lh li fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff le"><img src="../Images/535e1360c71f85b0349da032dcca9b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5cIC1UAofq2EF7jib8hoqw.jpeg"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">With queues, you generally execute the same logic in the same domain for every message on the queue</figcaption></figure><p id="7727" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一方面，使用Kafka，您可以将消息/事件发布到主题，它们会被持久化。当消费者收到它们时，它们不会被移除。这允许您重放消息，但更重要的是，它允许大量消费者基于相同的消息/事件处理逻辑。</p><p id="cec4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您仍然可以向外扩展以在同一个域中获得并行处理，但更重要的是，您可以添加不同类型的使用者，这些使用者基于同一事件执行不同的逻辑。换句话说，有了Kafka，你可以采用反应式发布/订阅架构。</p><figure class="lf lg lh li fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ln"><img src="../Images/fe884c93ebe2860f1d1e70e19f7efabd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5pGe8y6E2rJlEbJJdI-O1g.jpeg"/></div></div><figcaption class="lj lk fg fe ff ll lm bd b be z ek">Different logic can be executed by different systems based on the same events</figcaption></figure><p id="2aa8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">由于信息被保留的事实和消费者群体的概念，这在卡夫卡那里是可能的。当卡夫卡的消费者群体就某个话题寻求信息时，他们就认同了卡夫卡。Kafka会记录哪些消息(offset)被传递给了哪个消费群体，这样就不会再把它端上来了。实际上，它比这要复杂一点，因为你有一堆配置选项来控制它，但是我们不需要完全探究这些选项，只是为了在高层次上理解卡夫卡。</p><h1 id="76e6" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">摘要</h1><p id="5aaf" class="pw-post-body-paragraph jc jd if je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">Kafka还有很多，例如它如何管理向外扩展(分区)，可靠消息传递的配置选项等等。但是我希望这篇文章足够好，让你明白为什么你会考虑采用<a class="ae ld" href="https://hackernoon.com/tagged/kafka" rel="noopener ugc nofollow" target="_blank">卡夫卡</a>而不是好的消息队列。</p><h1 id="bf80" class="ka kb if bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">感谢阅读！:)如果你喜欢它，请点击下面的心形按钮表示支持。💚</h1><div class="lf lg lh li fq ab cb"><figure class="lo hw lp lq lr ls lt paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lo hw lp lq lr ls lt paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lo hw lp lq lr ls lt paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lu lv lw"><p id="f922" class="jc jd lx je b jf jg jh ji jj jk jl jm ly jo jp jq lz js jt ju ma jw jx jy jz hn dt translated"><a class="ae ld" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ld" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ld" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ld" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd lx je b jf jg jh ji jj jk jl jm ly jo jp jq lz js jt ju ma jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ld" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ld" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lf lg lh li fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mb"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="lf lg lh li fq hw"><div class="bz el l di"><div class="mc md l"/></div></figure></div></div>    
</body>
</html>