# 要考虑的 Redux 中间件

> 原文：<https://medium.com/hackernoon/redux-middleware-to-think-about-27ddc918620a>

最近在 redux 工作时，我和我的团队发现自己在函数中写了很多不必要的逻辑，以防止某些状态的叶子因为一个监听器被触发而被触发。通过编写大量的这种逻辑，出现了一些想法，比如我们如何将一些触发 reducers 的逻辑从我的函数中移除，并且变得更加[动态](https://hackernoon.com/tagged/dynamic)。在这样做的时候，我们想到了给 redux 添加方法的想法，这些方法处理特定的动作，并且总体上给了我对状态对象更多的控制。我们面临的一些挑战是:区分深度嵌套的状态对象中的键，在对状态进行更改之前拦截调度的动作，以及在空间和时间复杂度之间进行权衡，这些都是我们仍在研究和评估的。

我们希望找到能够区分深度嵌套的状态叶并维护功能方法的方法。我们希望能够用这个功能做很多事情。更新特定订阅的状态叶的能力将允许我们对我的状态树中发生的事情有更多的控制，而不是让一堆侦听器在任何状态变化时被触发。我们目前看到的价值是，随着应用程序的扩展，与触发或检查每个侦听器相比，它需要做的工作更少。然后，我们深入比较先前状态和新状态对象的变化。通过这样做，我们限制了业务逻辑的数量，并且我们的应用程序必须做更少的繁重工作，因为它不会处理那么多没有改变的数据。

第二，我们发现访问这些状态叶的能力导致我能够锁定状态，或者冻结状态的一部分。换句话说，我们能够从我们的函数中抽象出大量的逻辑，否则这些逻辑将需要通过条件来阻止某些事情的发生。例如，我们做了一个简单的井字游戏，当一个盒子被点击时，我们将锁定或冻结游戏棋盘的那块，不再需要逻辑来阻止那块改变。简单地分派一个动作来锁定一个状态的能力只需要一行代码。如果我们在一个单独的应用程序中处于类似的情况，简单地分派一个动作并呈现不可变状态的能力可能会被证明是非常有价值的。当然还加入了解锁休假的实现。

最后，我们决定按照我们认为合适的方式创建这些功能，但是我们将它们的应用视为 redux 的中间件。当我们对它进行迭代并经历改进和优化的过程时，我们想知道其他人从中看到了什么价值？你在做什么样的应用程序，你认为其中的一些是适用的？给我们一些关于这个问题的想法。

谢谢

> [黑客中午](http://bit.ly/Hackernoon)是黑客如何开始他们的下午。我们是 [@AMI](http://bit.ly/atAMIatAMI) 家庭的一员。我们现在[接受投稿](http://bit.ly/hackernoonsubmission)，并乐意[讨论广告&赞助](mailto:partners@amipublications.com)机会。
> 
> 要了解更多信息，请[阅读我们的“关于”页面](https://goo.gl/4ofytp)、[在脸书上点赞/给我们发消息](http://bit.ly/HackernoonFB)，或者简单地说， [tweet/DM @HackerNoon。](https://goo.gl/k7XYbx)
> 
> 如果你喜欢这个故事，我们推荐你阅读我们的[最新科技故事](http://bit.ly/hackernoonlatestt)和[趋势科技故事](https://hackernoon.com/trending)。直到下一次，不要把世界的现实想当然！