# 比特币分叉:别有用心？

> 原文：<https://medium.com/hackernoon/bitcoin-forks-ulterior-motives-cf953e4ec7e0>

*赛格威特 2x 和 UASF 的博弈论*

![](img/42aabbac17d377e339ba4b9e54699ac1.png)

在这场加密大屠杀中，我看到了一些关于 Segwit2x、UASF、比特币 ABC、BIP141 和许多其他人的强烈观点。我可以告诉你有很多困惑和误解。

这篇文章试图解释未来几个月将使整个比特币社区保持活跃的关键事件。我把它分成两部分。第一部分描述*正在发生什么，第二部分旨在解释 ***为什么*** 会发生。如果你已经知道了 ***什么*** 基础知识，我建议你跳到第二部分，在那里我将深入探讨博弈论和参与各方的激励机制。内容不采取投资立场，因为这篇文章的唯一目的是让你清楚地做出自己的决定。*

*第一部分:什么？*

***可扩展性***

*首先，我想解释一下，为什么对于是否需要隔离证人(Segwit)或更大的街区规模有如此大的争论。目前，比特币网络每秒可以处理大约 2-3 笔交易；与 Visa 每秒 2000 笔交易相比，我们还有很长的路要走。*

*我们一直知道，为了让比特币变得可行并取代现代支付系统，我们需要以某种方式扩大规模。首先提出的解决方案之一是更大的块或更快的块时间。*

*很快从数学上证明，使用更大的块或更快的块时间进行扩展肯定会降低网络的安全性，因为传播时间更长且浪费了工作。我不会深入这个的技术细节，因为它在 [GHOST 协议](http://www.cs.huji.ac.il/~avivz/pubs/13/btc_scalability_full.pdf)论文中有非常清楚的解释，这是以太坊使用的一个修改版本。更短、更大的块和/或更快的块时间导致挖掘器在非主链上浪费散列功率。这使得 Sybil 攻击可以以低于网络哈希速率 51%的哈希速率发生，这取决于块的大小或速度。*

*更大的块硬分叉还会导致矿商集中化，因为运行完整节点(包括采矿)的要求增加了，现在勉强负担得起运行比特币节点的某些节点将不再能够运行。*

***BIP141:隔离证人***

*隔离见证是由 Eric Lombrozo、Johnson Lau 和 Pieter Wuille 在 BIP141 中首次提出的，旨在增加块大小并解决许多其他问题，如事务延展性。Segwit 非常有吸引力，见证数据与事务 Merkle 树分离的事实允许我们对见证数据进行不同于事务数据(剥离见证数据)的加权。通过使用[块权重](https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#Block_size)概念，我们能够将更多的事务放入一个块中，该块仍然与遗留节点所看到的相兼容。传统节点永远不会看到大于 1 MB 的块。平均而言，据计算，使用 Segwit，我们可以实现与大约 2 MB 块相同的事务量。*

*有些人可能会认为，Segwit 提供“2 MB”块只是一个临时的解决方案，因为我们远远没有达到 Visa 每秒 2000 次交易的速度(tps)。然而，移除事务可延展性允许我们构建闪电网络，这为链外事务以及原子跨链事务奠定了基础。Segwit 还将允许更容易地实现 [Schnorr 签名](https://bitcoincore.org/en/2017/03/23/schnorr-signature-aggregation/)(在几个潜在的好处中，它可以是一种将多个签名数据聚合在一起的方式，从而增加块容量)。*

*Segwit 提供的另一个优势是，它可以只使用软 fork 进行更新，因为遗留节点识别的块大小仍然小于或等于 1 MB。这使得 Segwit 向后兼容，这将创建一个更加安全的转换。BIP141 激活 Segwit，如果 95%的节点在一个难度周期(2016 块，大约两周)内发出“位 1”信号。*

*当前的 Segwit 实现有一些缺点。彼得·托德在这篇[论文](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-December/012103.html)中提到，Segwit 可能会为无验证采矿创造更多激励，但这可以通过一个软分叉轻松解决，它要求将前一个区块的见证数据作为创建区块的先决条件。*

*总的来说，社区对 Segwit 非常积极，并同意这是我们长期扩大比特币规模的方向。在增加容量之前实现效率是有意义的(在增加块大小之前优化事务大小)。然而，我们从来没有接近达到 95%的信号，主要是由于缺乏矿工的支持。BIP141 的到期时间是两年，日期将是今年的 11 月，因此现在激活 Segwit 有些紧迫。输入 BIP148，用户激活的软叉。*

***BIP148:用户激活的软叉(UASF)***

*在矿工不愿意支持 Segwit 的情况下，BIP148 于 2017 年 3 月发布，部署了基于时间的 Segwit 激活。UASF 表示，从 8 月 1 日开始，矿工被要求发送信号版本位 1，否则他们的区块将被拒绝。这可能潜在地产生链分裂，因为如果矿工不发信号通知位 1，他们的块将不会被 UASF 节点接受。*

*如果存在链分裂，即使非 Segwit 链更长，也不会发生[区块链](https://hackernoon.com/tagged/blockchain)重组。当客户发现不同的区块链实际上是最长的区块链时，区块链重组就发生了，这使得它排除了以前较短的区块链，也就是所谓的孤儿。但是，如果 Segwit 链变得比非 Segwit 链更长，将会有一个重新组织，并且非 Segwit 链在链分裂期间挖掘的所有块奖励都将无效。*

*如果 BIP141 或 BIP91 已被锁定，链分裂不应发生，因为 Segwit 应已通过 BIP91 或 BIP141 被锁定，并且所有其他链应重新组织到 Segwit 链(除非实体计划硬分叉/链分裂，请参见下面的比特币 ABC)。*

*我还想指出的是，如果 UASF 没有获得任何重要的哈希速率支持，它可能很容易受到高哈希功率挖掘池的重放攻击。UASF 需要 15%的最小散列功率支持阈值来达到难度改变。*

***Segwit2x***

*作为对 UASF 提议的回应，DCG 在 2017 年共识会议上发布了《纽约协议》，也被称为 Segwit2x。Segwit2x 是 Sergio Lerner 对 Segwit2mb 提案的修改；取代 95%的信令要求，减少 80%的信令将在 7 月下旬激活 Segwit 软分叉(BIP91)以及在 11 月激活 2 MB 硬分叉。有趣的是，Segwit 软分叉“恰好”在 BIP148 UASF 之前。这个协议是由许多主要的比特币挖矿公司签署的，这些公司加起来约占网络哈希功率的 83%。这是矿工对 UASF bip 148 的报复。*

*为了详细说明 BIP91，节点将在 7 月 21 日开始发送信号，如果在任何 336 个块窗口(两天)内达到 80%的信号，Segwit 将通过 BIP91 锁定。*

*Segwit2x 不应在 Segwit 激活期间创建链分裂，但可能会在 11 月的 2 MB 硬分叉中创建链分裂。2 MB 硬分叉的共识代码测试非常有限，并且不是由比特币核心开发者编写的。积极的一面是，Segwit2x 中的 Segwit 代码基本上是 BIP141 的直接副本，bip 141 是由编写的，已经过广泛测试。*

*没有绑定代码声明如果通过 Segwit2x 激活 Segwit，节点将被迫在 11 月运行 2 MB 硬分叉。不可能在三个月后的硬分叉的基础上有条件的进行软分叉，所以有可能如果 Segwit 通过 Segwit2x，硬分叉甚至不会发生。*

*信令最初是在 BIP9 中引入的，从来不是为了投票或政治用途。最初的想法是为了协调 forks 的矿工和用户。矿商现在已经利用这一点来加强他们作为政治力量的优势。*

***比特币 ABC(比特大陆)***

*BIP148 UASF 发布后不久，比特大陆发布了 UAHF 公告作为回应。在纽约协议(Segwit2x)未能激活的情况下，比特大陆将开始私下开采他们自己的平行于 BIP148 UASF 的区块。如果对 BIP148 的哈希速率支持很强，比特大陆将向公众公开发布他们开采的区块，供其他矿工加入。*

*这种硬分叉强加了一种新的共识规则，即小于 1 MB 的数据块将被拒绝，数据块大小的上限为 8 MB。比特大陆表示，BIP148 从原始 BTC 链中分离出来是非常危险的，使矿工和用户别无选择，只能采用没有更大区块的 Segwit(违反港协议)。*

*这种硬分叉可能是比特币目前可能发生的最糟糕的事情，我强烈反对。我认为这将从本质上迫使 Segwit2x 协议，没有人希望像这样的担保链分裂。我认为这是这项提议背后的意图。*

# ***第二部分:为什么？***

***博弈论(激励和心态)***

*在一个分散的协议中，博弈论和激励控制着将要发生的结果。现在，我们已经简要介绍了各方为扩大比特币规模而提出的不同计划和建议，让我们来看看所有不同的激励措施和动机。*

***UASF 的立场***

*BIP148 UASF 基本上是用户/开发者对矿工的最后通牒。它通过定时激活来阻止矿工封锁 Segwit。如果矿工不想链分裂，他们将被迫升级到 Segwit。然而，我不认为用户/开发者想要一个链分裂；他们对 UASF 的行动基本上是向矿商施压，让他们做出决定，他们明白链分裂将对比特币非常不利。*

*我认为 UASF 的初衷是让矿商在 UASF 截止日期前发出 BIP141 信号，以避免潜在的链分裂。然而，矿工们聪明地回应了激活 Segwit 的提议，因为他们知道这是不可避免的，但随之而来的还有许多其他条件。*

*虽然我反对潜在的链分裂威胁，但用户被逼到了这个决定。没有矿工的支持，Segwit 不可能通过 95%的信号传输，因为矿工有如此大的否决权。比特币核心开发者真的认为 Segwit 是必要的，更大的区块不是比特币长期的解决方案。*

***ASIC 增强***

*一些主要矿池如比特大陆不想支持 Segwit soft fork 的一个重要原因是由于 ASIC 升压不兼容。ASIC 增强的秘密采矿基本上允许采矿者获得相对于其他采矿者的效率优势，使他们节省 30%的成本。*

*隐蔽 ASIC BOOST 挖掘还会导致空块挖掘，这是一种协议允许矿工仅使用 coinbase 事务来挖掘块的现象。挖掘空块对比特币网络肯定是不利的，尤其是当 mempool(交易等待矿工拾取的池)总是满的时候。*

*Segwit 确实有办法兼容 ASIC BOOST 隐蔽挖掘。如果我们希望 Segwit 仍然是一个软分叉，我们将不得不重新开始并重写 Segwit。这并不理想，因为当前的 Segwit 已经过广泛测试并被业界采用(Litecoin)。另一种选择是使用 Segwit 硬叉子；有多种方法可以更改标题格式来实现这种兼容性。*

***交易费用***

*让我们退后一步，想想我们当初是如何走到这一步的。为什么我们突然这么急着激活 Segwit？今年交易费用已经飙升，原因是多方面的。正如我前面提到的，ASIC BOOST 在 mempool 充满事务时促进挖掘空块。*

*空块对交易费用有什么影响？想象一下，一个房间里挤满了人，每个人都在等着购买产品。你让他们等的时间越长，他们就越愿意因为紧急而付钱。采矿者不在乎从开采一个空区块中获得交易费，因为他们知道这自然会增加等待他们收取的每笔交易的费用。*

*有人声称，为了抬高交易费用，矿商正在用虚假交易向内存池发送垃圾邮件。这类似于在拍卖行进行虚假投标，以让买家支付更高的价格。*

*那我为什么要提起这个？这与 Segwit 和可伸缩性有什么关系？让我们扪心自问，为什么我们这么急着让塞格维特通过。由于交易费用的突然增加，正如许多人最近提到的那样，目前购买一杯咖啡需要支付一杯咖啡的交易费用。这改变了 BitPay 等企业的运营方式，因为用户不太可能使用比特币作为支付方式，因为比特币的交易费用很高。因此，我们需要 Segwit 和 Lightning Network 来降低目前支付给矿商的过高交易费用。*

***矿工权力游戏***

*矿工是社区/用户如此渴望 Segwit 推出的一个重要原因。他们现在告诉社区，他们可以通过给我们 Segwit 来解决这个问题，这是比特币核心开发人员在过去几年中非常努力的工作。他们利用了我们对 Segwit 的绝望，用 Segwit2x 强制它。*

*如果我们退一步，看看这里的大局，所有这一切都是一场政治权力游戏。这和塞格维特完全无关。Segwit 只是被用作一个[工具](https://hackernoon.com/tagged/tool)来增加他们的杠杆作用。矿工希望利用社区/用户的绝望，因为他们给我们带来了 Segwit 以及通过 Segwit2x 的硬分叉。*

*这里的策略很简单，他们基本上想改变*

*【https://github.com/bitcoin/bitcoin】T4(比特币最初的 GitHub)*

*到*

*[https://github.com/btc1/bitcoin](https://github.com/btc1/bitcoin)(segwit 2x GitHub)*

*他们为什么要这么做？在一个没有监管的分散协议中，如果有动机，任何有权力的一方都可以利用他们的地位。不管是不是恶意的(这是非常主观的)，如果是为了自己的利益，你不能责怪任何人的行为。*

*如果矿工们通过 Segwit2x 和通过他们的 GitHub 成功地推动了 Segwit，那么比特币核心开发者基本上就被比特币的管理层解雇了。它开创了一个先例，从现在开始，矿工可以做任何他们想做的事情，改变任何他们想与 80%的信号阈值。从政治上来说，实施对他们有利的规则改变会更容易。*

*这不是矿工们第一次试图采取类似的政治权力行动。下面列出的所有尝试在过去都失败了。*

*[https://github.com/BitcoinUnlimited/BitcoinUnlimited](https://github.com/BitcoinUnlimited/BitcoinUnlimited)(比特币无限)*

*[https://github.com/bitcoinclassic/bitcoinclassic](https://github.com/bitcoinclassic/bitcoinclassic)(比特币经典)*

*[https://github.com/bitcoinxt/bitcoinxt](https://github.com/bitcoinxt/bitcoinxt)(比特币 XT)*

***连锁分裂的可能性有多大？***

*由于过去的硬分叉尝试都失败了，这次分叉的可能性有多大？这种情况有点不同。Segwit2x 本质上是一个被我们迫切需要的软分叉所掩盖的硬分叉。如果对 BIP91 或 BIP141 的支持不强烈，并且 Segwit 在 8 月 1 日之前没有被锁定，那么 BIP148 很可能会导致链从原始的 BTC 链或比特大陆的硬分叉中分裂出来。*

*如果 Segwit 通过 Segwit2x，11 月将有一个待定的硬分叉，这也是一个链分裂威胁。也很有可能 Segwit 是通过 Segwit2x 与 BIP91 和一个硬分叉在 11 月被拒绝，由于每个人都意识到它是多么不必要，由于闪电网络的乐观。*

***这一切都是虚张声势吗？***

*所有这些连锁分裂的威胁都是虚张声势，都是试图将权力从一个政党转移到另一个政党吗？我不认为参与的任何一方愿意危及一个真正的连锁分裂。人们提到矿工不关心比特币的长期价值，因为他们不是 BTC·霍德勒，他们可以随时出售。这在某种程度上是对的(尽管矿商确实持有大量 BTC ),但他们投入巨资购买的数十亿美元的 ASIC 机器呢？那些 ASIC 芯片除了用于比特币挖矿之外没有任何用处。*

*当前矿商的心态是要么通过某种方式推动 Segwit 给他们更多的权力(通过 btc1 GitHub)，要么尽可能长地延迟 Segwit，以便他们可以继续受益于 ASIC BOOST 采矿。这里没有一个表演党愿意让比特币长期大幅贬值，链分裂肯定会这么做。*

*我们必须问自己的一个问题是，如果真的有一个链分裂，哪个链会更有价值？难道矿商真的要冒着链分裂的风险，希望投资人看重一个没有管理团队(开发者)的链？我不认为他们愿意为了一个权力转移而危及数百亿美元。现在肯定有诈牌，这完全取决于谁会先盖牌。*

***结论***

*在一个分散的协议中，任何一方都不会因为利用自己的地位来达到自己的自私目的而受到指责。当前的这场拉锯战是在一个不受监管的空间里博弈理论的一个很好的代表。最后，我认为所有参与其中的人最终都会做出对比特币长期最有利的事情。矿工们明白比特币的稀缺性，供应量最终固定在 2100 万枚。他们在短期内竭尽所能积累尽可能多的资金，这是有道理的。*

*如果矿工得到他们想要的东西，Segwit2x 获得通过，其中包括 2 MB 硬分叉，比特币将导致集中化。如果比特币是一家公司，那么开发者就是管理团队，矿工目前就是董事会成员。解雇管理团队并危及董事会成员持有大量股份的公司的未来(ASIC 机器，BTC 股票)，这不是一个非常明智的举动。*

*在我看来，或者说我希望，所有拥有权力的人都希望看到比特币成功；他们想看到比特币上月球。比特币在过去 8 年里经受住了任何攻击，这是有原因的。这只是比特币应该克服的另一个内部障碍，与我们未来必须战胜的障碍相比，这只是一个小障碍。*

***如果这篇文章对你有帮助，请在** [**Twitter**](https://twitter.com/stevenchen009) **和**[**Linkedin**](https://www.linkedin.com/company-beta/24791967/)**上关注我的公司 CryptoParency！***

*声明:发布的内容绝不构成 CryptoParency 的投资建议。*