<html>
<head>
<title>Render a hearthstone card using React and SVG.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和SVG渲染炉石卡。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/render-a-hearthstone-card-using-react-and-svg-cb086957e74a?source=collection_archive---------7-----------------------#2017-03-03">https://medium.com/hackernoon/render-a-hearthstone-card-using-react-and-svg-cb086957e74a?source=collection_archive---------7-----------------------#2017-03-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="7f6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">想知道如何使用React和SVG渲染炉石卡吗？</em></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/90b2d0ed397d3b7b8cbe29d0d300d5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*mSoXEJVElHn7jT7NK5SfkQ.png"/></div></figure><p id="a58e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你在说什么？那个问题太具体了？嗯…即使你从来没有问过自己如何使用<a class="ae jy" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank"> React </a>和<a class="ae jy" href="https://hackernoon.com/tagged/svg" rel="noopener ugc nofollow" target="_blank"> SVG </a>渲染炉石卡，现在你有机会学习如何混合和混合炉石、SVG和React。让我们开始吧！</p><p id="b880" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将从几个备用的卡片资产开始，混合那些风格化的文字，最终得到一个漂亮的SVG和反应驱动的机甲-地精卡片。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff jz"><img src="../Images/49c89f721c179dabf60c30304c120d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fsUrbonYXdCjDcSDqPQMQ.png"/></div></div></figure><h1 id="849f" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">布局卡元素</h1><p id="57f5" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我们要做的第一件事是把所有独立的卡片元素，如成本、框架和标题，变成看起来像卡片的东西。我们如何做到这一点？嗯，我们有几个布局元素的选项，我们必须选择其中之一。我们可以使用<code class="eh lh li lj lk b">position: relative</code>来排列它们，我们可以使用flexbox将这些元素组合在一起，或者我们可以使用SVG来排列它们。</p><p id="55d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">CSS有一些很好的工具来布局元素，比如<code class="eh lh li lj lk b">position: relative;</code>或者flexbox，但是我认为SVG更适合于布局构成我们卡片的独立元素。SVG有大量的编辑器，让我们可以直观地排列内容，而不是处理原始像素或flexbox属性。SVG标记也可以很容易地嵌入到React组件中。</p><p id="6404" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将元素组合在一起并导出结果，我们可以获得一个整洁的卡片框架，如下所示:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff ll"><img src="../Images/1dfe75325f8a654661d1f73d66ac6edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIBJNt14571St4sKqfvWpw.png"/></div></div></figure><p id="92e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是创建的React组件:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h1 id="f16a" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">圆形卡片图像</h1><p id="e150" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我们有一个卡片框架，看起来几乎和炉石框架一模一样，除了卡片图像周围丑陋的方形边框。我们怎样才能消除它呢？</p><p id="bc27" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">轻松点。使用SVG的<code class="eh lh li lj lk b">&lt;clipPath /&gt;</code>。为了基于另一个元素裁剪一个SVG元素，我们可以为它添加一个引用另一个元素的clipPath属性。因此，我们将把<code class="eh lh li lj lk b">clipPath="url(#image-clip-path)"</code>添加到我们的试点碎纸机图像中。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff lo"><img src="../Images/e70a420647381af9d1cbcb34f5543b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cmbj1GL0UDjTBDfnDYCi9g.png"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">See the diff <a class="ae jy" href="https://gist.github.com/JulianMayorga/4210f62c00e980d74dca48f9cde405b7/revisions#diff-cd0fde9ec78c8937e515f85dc70a0582" rel="noopener ugc nofollow" target="_blank">here</a>.</figcaption></figure><p id="27b8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢上帝，边界消失了！</p><h1 id="e104" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">显示可变文本</h1><p id="ebc5" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">这个卡片框只需要一些卡片文字，看起来就像真的卡片一样！幸运的是，添加文本非常容易，我们只需添加一些svg <code class="eh lh li lj lk b">text</code>标签，并用JSX插值它的值。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff jz"><img src="../Images/6c4fbd5afb44987a8316ae089e636e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fi-ww83Rjs3KTKvxQuQlUA.png"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">See the diff <a class="ae jy" href="https://gist.github.com/JulianMayorga/4210f62c00e980d74dca48f9cde405b7/revisions#diff-cd0fde9ec78c8937e515f85dc70a0582" rel="noopener ugc nofollow" target="_blank">here</a>.</figcaption></figure><p id="e388" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">既然我们已经在卡片上引入了可变文本，那就没有限制了！</p><h1 id="977b" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">设置文本样式</h1><p id="7744" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">当然，卡片现在有一些文字。但是看起来一点也不像真正的炉石文字。它需要一些香料和风格，所以我们将继续添加它。</p><p id="0955" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">原来让炉石文字看起来像炉石文字的魔酱就是贝尔威字体！我们将设置文本使用这种字体系列，给它一个白色填充和一个粗黑边框，就这样！</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff jz"><img src="../Images/735b0351382e62d9a8465e7a0e1e430a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DjoQ9NMly-7YVFnQrQinrQ.png"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">As always, <a class="ae jy" href="https://gist.github.com/JulianMayorga/4210f62c00e980d74dca48f9cde405b7/revisions#diff-cd0fde9ec78c8937e515f85dc70a0582" rel="noopener ugc nofollow" target="_blank">here</a> is the diff.</figcaption></figure><p id="e799" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一些好看的炉石寻找文本！</p><h1 id="fcd5" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">让标题流过</h1><p id="d6a9" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">现在这些都是非常好看的成本，健康和力量值！但是那个标题看起来太生硬了，看起来不太对，不应该画直线；所以我们会让它沿着一条想象的曲线流动。</p><p id="cf53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">SVG再次为我们提供了合适的工具，这次是以<code class="eh lh li lj lk b">textPath</code>的形式，它可以使文本沿着<code class="eh lh li lj lk b">&lt;path&gt;</code>的形状呈现。所以我在我的SVG编辑器中用<code class="eh lh li lj lk b">fill="none"</code>创建了一个<code class="eh lh li lj lk b">&lt;path</code>,并用<code class="eh lh li lj lk b">textPath</code>在标题中引用它。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff lt"><img src="../Images/9273f6c973a2610711be0e70cd5589ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_BweG8Rb3ibQ8VV62o91Kg.png"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">See the diff <a class="ae jy" href="https://gist.github.com/JulianMayorga/4210f62c00e980d74dca48f9cde405b7/revisions#diff-cd0fde9ec78c8937e515f85dc70a0582" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="09a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">标题现在有一些病态流程！</p><h1 id="6ec2" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">结束文本</h1><p id="3d5b" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我们一直试图忽略这样一个事实，即卡片的正文有html标签，并且不环绕卡片边缘。这是我们需要的最后一个细节，让我们的图像和文本包看起来完全像炉石卡。</p><p id="0194" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用HTML，这就像将卡片文本放入div中一样简单，但是没有简单的方法可以在SVG中自动换行。尽管这在SVG中不容易做到，但我们可以使用<code class="eh lh li lj lk b">&lt;foreignObject /&gt;</code>在SVG标记中嵌入一个HTML片段。</p><p id="76c3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们要做的另一件事是将HTML字符串转换成react元素。幸运的是，这可以使用<a class="ae jy" href="https://github.com/aknuds1/html-to-react" rel="noopener ugc nofollow" target="_blank"> html-to-react </a>轻松安全地完成。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff jz"><img src="../Images/0eb702f4f10add1648420987868a52ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D0uzZSnxiHKg21Hd4MyuXw.png"/></div></div></figure><p id="8b8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是我们如何将卡片文本串解析成一个组件，并使用<code class="eh lh li lj lk b">&lt;foreignObject /&gt;</code>将其嵌入。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="lm ln l"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">Check out <a class="ae jy" href="https://gist.github.com/JulianMayorga/4210f62c00e980d74dca48f9cde405b7/revisions#diff-cd0fde9ec78c8937e515f85dc70a0582" rel="noopener ugc nofollow" target="_blank">this diff</a></figcaption></figure><p id="c152" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个总结！</p><p id="f836" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们从几个备件到一个渲染精美的炉石卡，在这个过程中学习了一些SVG和React的技巧。我们了解到SVG在生成可视内容方面很棒，React在赋予SVG动态性方面很棒，我们还看到使用这两种工具渲染炉石卡非常简单。</p><p id="9606" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想看到最终结果，请查看<a class="ae jy" href="https://github.com/JulianMayorga/render-hearthstone-card-react-svg" rel="noopener ugc nofollow" target="_blank">源代码</a>！你也可以在https://render-hearthstone-card-react-svg.now.sh/现场观看。</p><div class="jr js jt ju fq ab cb"><figure class="lu jv lv lw lx ly lz paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lu jv lv lw lx ly lz paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lu jv lv lw lx ly lz paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ma mb mc"><p id="f922" class="ir is jp it b iu iv iw ix iy iz ja jb md jd je jf me jh ji jj mf jl jm jn jo hn dt translated"><a class="ae jy" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jy" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jy" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae jy" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb md jd je jf me jh ji jj mf jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jy" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jy" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff mg"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mh ln l"/></div></figure></div></div>    
</body>
</html>