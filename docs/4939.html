<html>
<head>
<title>Bare Metal Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">裸金属红宝石</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/bare-metal-ruby-3f7c8504d370?source=collection_archive---------16-----------------------#2017-06-30">https://medium.com/hackernoon/bare-metal-ruby-3f7c8504d370?source=collection_archive---------16-----------------------#2017-06-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="217b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本手册解释了如何在Linux上安装最新稳定版本的Ruby，而不使用T2 rbenv或其他版本管理器。目标是找到一种快速可靠的方法，为Rails <a class="ae jp" href="https://hackernoon.com/tagged/development" rel="noopener ugc nofollow" target="_blank">开发</a>环境提供可消耗的虚拟机。</p><p id="6b81" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本假设:</p><ol class=""><li id="6e5a" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated">安装速度很重要(不要在Ruby构建的时候等待)。</li><li id="9140" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">整个系统只需要一个版本的Ruby。</li><li id="a251" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">我们用的是Ubuntu。</li></ol><p id="abd9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">第一步。从Brightbox安装预建的Ruby】</strong></p><p id="2489" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意<em class="jq"> dev </em>包，除了主包之外还应该安装。需要为Ruby gems构建本机扩展。</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="33e6" class="ko kp hu kk b fv kq kr l ks kt">sudo apt-get install software-properties-common<br/>sudo apt-add-repository ppa:brightbox/ruby-ng<br/>sudo apt-get update<br/>sudo apt-get install ruby2.4 ruby2.4-dev</span></pre><p id="d680" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Brightbox manual提出了一个名为<a class="ae jp" href="https://www.brightbox.com/docs/ruby/ubuntu/#switching-the-default-ruby-version" rel="noopener ugc nofollow" target="_blank"> <em class="jq"> ruby-switch </em> </a>的工具，可以帮助在同一系统上的多个ruby之间进行切换。因为只有一个，所以这一步是不必要的。</p><p id="1d71" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">第二步。让宝石在没有数独的情况下工作</strong></p><p id="d4f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">默认情况下<em class="jq"> gem </em>会尝试将新的gem安装到系统文件夹中(例如<em class="jq"> /var/lib/gems/2.4.0 </em>)，这样不好。Ruby版本管理器用用户主目录下的内容覆盖了这个路径。但是同样的操作也可以手动完成。将目标目录永久设置为用户home，并将这些行设置为您的<em class="jq"> ~/。巴沙尔</em>:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="4dbb" class="ko kp hu kk b fv kq kr l ks kt">export GEM_HOME=$HOME/.gem/ruby/2.4.0<br/>export PATH=$HOME/.gem/ruby/2.4.0/bin:$PATH</span></pre><p id="d5ce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是你需要知道的关于Ruby版本管理器的最重要的事情，以便理解它们在系统配置中到底做什么:</p><blockquote class="ku kv kw"><p id="89ce" class="ir is jq it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated">RubyGems的默认本地存储库可以用GEM_PATH和GEM_HOME环境变量覆盖。GEM_HOME设置要安装到的默认存储库。GEM_PATH允许在多个本地存储库中搜索GEM。(<a class="ae jp" href="http://guides.rubygems.org/command-reference/" rel="noopener ugc nofollow" target="_blank">http://guides.rubygems.org/command-reference/</a>)</p></blockquote><p id="b4e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">第三步。运行快速临时测试</strong></p><p id="c49c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">登录到shell，执行这些命令以确保<em class="jq"> gem </em>和<em class="jq"> ruby </em>二进制文件可用，gem home路径配置正确，并且可以构建本机扩展:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="19f2" class="ko kp hu kk b fv kq kr l ks kt">cd<br/>gem install bundler rails<br/>rails new testapp</span></pre><p id="ed42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者只执行<em class="jq"> gem env </em>来查看路径，而不安装任何东西。</p></div><div class="ab cl la lb hc lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hn ho hp hq hr"><p id="59da" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一个完整的<em class="jq">流浪文件</em>，按照描述的方法，为新的Linux虚拟机提供Ruby:<a class="ae jp" href="https://github.com/dreikanter/vagrant-rails" rel="noopener ugc nofollow" target="_blank">https://github.com/dreikanter/vagrant-rails</a>🍰</p><p id="d1df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和平。</p><blockquote class="ku kv kw"><p id="f881" class="ir is jq it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is jq it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated">要了解更多信息，请<a class="ae jp" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">阅读我们的“关于”页面</a>、<a class="ae jp" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书上点赞/给我们发消息</a>，或者简单地说，<a class="ae jp" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is jq it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kf kg kh ki fq lh"><div class="bz el l di"><div class="li lj l"/></div></figure></div></div>    
</body>
</html>