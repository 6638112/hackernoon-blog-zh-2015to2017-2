<html>
<head>
<title>Migrating to Xcode 8 — What You Need to Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迁移到Xcode 8 —您需要知道的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/migrating-to-xcode-8-what-you-need-to-know-5e273c74e6a7?source=collection_archive---------2-----------------------#2016-09-22">https://medium.com/hackernoon/migrating-to-xcode-8-what-you-need-to-know-5e273c74e6a7?source=collection_archive---------2-----------------------#2016-09-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="36b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我想尝试将我的小项目迁移到Xcode 8，并写这篇文章作为我必须面对的所有斗争的总结。</p><h2 id="a555" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">疯狂伐木</h2><p id="8b95" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">苹果在iOS 10中引入了新的超级快速日志API，有一个WWDC在谈论它，天哪，他们已经开始记录你能想到的所有东西了。</p><figure class="kq kr ks kt fq ku fe ff paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="fe ff kp"><img src="../Images/da47a04dd6c0d12f93bb3500ec5f5c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjpziAIFQxG3bDJSLDr66w.png"/></div></div></figure><p id="6277" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">幸运的是，我们可以添加一个环境变量来禁用它，如下所述。</p><figure class="kq kr ks kt fq ku"><div class="bz el l di"><div class="lb lc l"/></div></figure><h2 id="d005" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">访问媒体库时崩溃</h2><p id="fbde" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">我在访问我的照片库时遇到了崩溃。</p><blockquote class="ld le lf"><p id="4611" class="ir is lg it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">此应用程序已崩溃，因为它试图在没有使用说明的情况下访问隐私敏感数据。应用程序的Info.plist必须包含NSPhotoLibraryUsageDescription键，该键带有一个字符串值，向用户解释应用程序如何使用这些数据。</p></blockquote><p id="36ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">解决方法很简单，按照上面的描述去做。</p><h2 id="b210" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">脸书登录失败</h2><p id="c0dc" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated"><a class="ae lk" href="https://hackernoon.com/tagged/facebook" rel="noopener ugc nofollow" target="_blank">脸书</a>登录开始返回一个老掉牙的<strong class="it hv">错误308 </strong>试图登录时。几分钟的谷歌搜索给了我一个提示，facebook在iOS 10上处理钥匙串的方式有所改变，我需要在项目设置的功能标签下<strong class="it hv">启用钥匙串共享。那对我起了作用。</strong></p><h2 id="584c" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">破碎的浪子和一般归档</h2><p id="29ef" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">苹果公司已经引入了一些黑魔法来为你管理代码签名。我只是把它关掉，从Xcode中的存档按钮到浪子和Buddybuild，所有的东西都开始工作了。</p><p id="a03b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">编辑:苹果似乎已经移除了自动将连接设备的UDID添加到开发人员预置描述文件的选项，除非你使用自动代码签名🙁。</p><p id="5f75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">编辑:我已经开始<a class="ae lk" href="https://hackernoon.com/tagged/experimenting" rel="noopener ugc nofollow" target="_blank">尝试</a>切换到自动代码签名，这是你需要做的。</p><ul class=""><li id="99ae" class="ll lm hu it b iu iv iy iz jc ln jg lo jk lp jo lq lr ls lt dt translated">在项目设置中切换到自动代码签名。</li><li id="e19e" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">将调试和发布配置都设置为iPhone Developer。是的，这是没有意义的，但这是Xcode告诉我的，而且有效。</li></ul><p id="bd4b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用Xcode存档应该不会很好。我也尝试了fastlane，它在快结束时抛出了一个错误，但二进制文件成功了，并最终出现在iTunes Connect中。</p><h2 id="0cb3" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">迁移到Swift 3</h2><p id="de1b" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">这将是一个单独的文章，当我得到它。</p><h2 id="49a6" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">如果您还不想转换到Swift 3</h2><p id="386a" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hn dt translated">Swift 2.3基本上是Swift 2.2，包括苹果无法抗拒的事实，包括至少一些突破性的变化，我在核心图形框架中经历了一些变化，其中某些API突然返回一个可选变量，反之亦然，所以你需要修复这些。</p><p id="107f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关于Swift cocoapods，您需要在podfile中添加一个post_install stem，告诉构建系统使用swift 2.3。请注意，在撰写本文时，cocoapods的最新稳定版本是1.0.1，当使用&gt; = 1.1的版本时，可能没有必要</p><pre class="kq kr ks kt fq lz ma mb mc aw md dt"><span id="438d" class="jp jq hu ma b fv me mf l mg mh">post_install do |installer|</span><span id="474b" class="jp jq hu ma b fv mi mf l mg mh">  installer.pods_project.targets.each do |target|</span><span id="7587" class="jp jq hu ma b fv mi mf l mg mh">    target.build_configurations.each do |config|</span><span id="d608" class="jp jq hu ma b fv mi mf l mg mh">      config.build_settings['SWIFT_VERSION'] = '2.3'</span><span id="5352" class="jp jq hu ma b fv mi mf l mg mh">    end</span><span id="276b" class="jp jq hu ma b fv mi mf l mg mh">  end</span><span id="6d28" class="jp jq hu ma b fv mi mf l mg mh">end</span></pre><div class="kq kr ks kt fq ab cb"><figure class="mj ku mk ml mm mn mo paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mj ku mk ml mm mn mo paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mj ku mk ml mm mn mo paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ld le lf"><p id="f922" class="ir is lg it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated"><a class="ae lk" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lk" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lk" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae lk" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is lg it b iu iv iw ix iy iz ja jb lh jd je jf li jh ji jj lj jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lk" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lk" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kq kr ks kt fq ku fe ff paragraph-image"><a href="https://goo.gl/Ahtev1"><div class="fe ff mp"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></a></figure><figure class="kq kr ks kt fq ku"><div class="bz el l di"><div class="mq lc l"/></div></figure></div></div>    
</body>
</html>