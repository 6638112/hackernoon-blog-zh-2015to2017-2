<html>
<head>
<title>SWIFT — Access iOS Camera and Photo Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SWIFT —访问iOS相机和照片库</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/swift-access-ios-camera-and-photo-library-dc1dbe0cdd76?source=collection_archive---------2-----------------------#2017-11-01">https://medium.com/hackernoon/swift-access-ios-camera-and-photo-library-dc1dbe0cdd76?source=collection_archive---------2-----------------------#2017-11-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="4d5a" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">在Swift中完成的复制粘贴解决方案</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/e255e5ce9b8911a52565fbbc559469f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PUARVp-Kdzeb6owGH7e4Cg.jpeg"/></div></div></figure><p id="1c7c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">访问iOS相机和照片库可能是我们开发的几乎每个应用程序中最常见的功能之一。这就是为什么我们必须确保我们做得正确，并且我们有一个随时可以重用的自定义类。</p><p id="2f92" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在本教程中，我将向您展示如何在<a class="ae kr" href="https://hackernoon.com/tagged/swift" rel="noopener ugc nofollow" target="_blank"> Swift </a>中创建自定义类，并且在您需要时随时可以使用。如果你懒于阅读整篇教程，你可以在这篇文章的底部下载一个要点文件。我将把这个类命名为<strong class="jx hv"> CameraHandler.swift. </strong></p><h1 id="cc9b" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">访问iOS相机和照片图库</h1><p id="e903" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">我将从创建两个函数开始，第一个将被命名为camera()，第二个将被命名为photoLibrary()。对于这两种情况，我们都使用了<a class="ae kr" href="https://developer.apple.com/documentation/uikit/uiimagepickercontroller" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv">UIImagePickerController</strong></a>类，我们需要做的就是将<strong class="jx hv"> sourceType </strong>属性更改为合适的属性。</p><h2 id="0dbc" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated"><strong class="ak">摄像机()</strong></h2><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="8ecd" class="lp kt hu me b fv mi mj l mk ml">func camera()<br/>    {<br/>        if UIImagePickerController.isSourceTypeAvailable(.camera){<br/>            let myPickerController = UIImagePickerController()<br/>            myPickerController.delegate = self;<br/>            myPickerController.sourceType = .camera<br/>            currentVC.present(myPickerController, animated: true, completion: nil)<br/>        }<br/>        <br/>    }</span></pre><h2 id="338d" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated"><strong class="ak">照片库()</strong></h2><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="5ce6" class="lp kt hu me b fv mi mj l mk ml">func photoLibrary()<br/>    {<br/>        <br/>        if UIImagePickerController.isSourceTypeAvailable(.photoLibrary){<br/>            let myPickerController = UIImagePickerController()<br/>            myPickerController.delegate = self;<br/>            myPickerController.sourceType = .photoLibrary<br/>            currentVC.present(myPickerController, animated: true, completion: nil)<br/>        }<br/>    }</span></pre><p id="88f1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如您所见，sourceType更改为<strong class="jx hv">。摄像机</strong>和<strong class="jx hv">。照片图库</strong>类型。我们将需要<strong class="jx hv">UIImagePickerControllerDelegate</strong>和<strong class="jx hv">UINavigationControllerDelegate</strong>，以便我们截取用户选择的图像。下面我将解释一下<strong class="jx hv"> currentVC </strong>属性。</p><h1 id="1d6e" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">创建UIActionSheet</h1><p id="7ae6" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">接下来，我们要做的是创建一个函数，在一个简单的<a class="ae kr" href="https://developer.apple.com/documentation/uikit/uiactionsheet" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv">ui action sheet</strong></a>中向用户呈现这两个选项。</p><h2 id="a688" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated"><strong class="ak"> showActionSheet() </strong></h2><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="f494" class="lp kt hu me b fv mi mj l mk ml">func showActionSheet(vc: UIViewController) {<br/>        currentVC = vc<br/>        let actionSheet = UIAlertController(title: nil, message: nil, preferredStyle: .actionSheet)<br/>        <br/>        actionSheet.addAction(UIAlertAction(title: "Camera", style: .default, handler: { (alert:UIAlertAction!) -&gt; Void in<br/>            self.camera()<br/>        }))<br/>        <br/>        actionSheet.addAction(UIAlertAction(title: "Gallery", style: .default, handler: { (alert:UIAlertAction!) -&gt; Void in<br/>            self.photoLibrary()<br/>        }))<br/>        <br/>        actionSheet.addAction(UIAlertAction(title: "Cancel", style: .cancel, handler: nil))<br/>        <br/>        vc.present(actionSheet, animated: true, completion: nil)<br/>    }</span></pre><p id="039a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这是您需要调用的唯一函数，以便显示iOS相机和照片库。它显示了一个简单的UIActionSheet，两个选项都可用。此外，我们正在传递一个名为<strong class="jx hv"> vc </strong>的参数，该参数将被传递给<strong class="jx hv"> currentVC </strong>私有属性。我们这样做是为了直接从类内部处理控制器的表示。</p><blockquote class="mm mn mo"><p id="f9a6" class="jv jw mp jx b jy jz iv ka kb kc iy kd mq kf kg kh mr kj kk kl ms kn ko kp kq hn dt translated"><em class="hu">注:如果设备不支持相机或照片库，当您按下某个选项时，将不会有任何反应。例如，在模拟器上测试相机功能。</em></p></blockquote><h1 id="8840" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">委托方法</h1><p id="4ca7" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">在文件的末尾，我们将创建一个<a class="ae kr" href="http://theappspace.com/i-%E2%9D%A4-swift-part-1-organize-uiviewcontroller-classes-by-using-extensions/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">扩展</strong> </a>，我们将调用属于UIImagePickerControllerDelegate的委托方法<strong class="jx hv">difinishpickingmedianifo</strong>和<strong class="jx hv">imagepickercontrollerdicancel</strong>。</p><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="2005" class="lp kt hu me b fv mi mj l mk ml">extension CameraHandler: UIImagePickerControllerDelegate, UINavigationControllerDelegate{<br/>    func imagePickerControllerDidCancel(_ picker: UIImagePickerController) {<br/>        currentVC.dismiss(animated: true, completion: nil)<br/>    }<br/>    <br/>    func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) {<br/>        if let image = info[UIImagePickerControllerOriginalImage] as? UIImage {<br/>            self.imagePickedBlock?(image)<br/>        }else{<br/>            print("Something went wrong")<br/>        }<br/>        currentVC.dismiss(animated: true, completion: nil)<br/>    }<br/>}</span></pre><p id="c2b7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们现在能够从照片库中获得挑选的图像或从相机中捕获的图像。为了使事情更简单明了，我创建了一个名为<strong class="jx hv"> imagePickedBlock() </strong>的闭包，它将为我们提供我们需要的图片。这里是你需要的所有属性。</p><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="3fdd" class="lp kt hu me b fv mi mj l mk ml">static let shared = CameraHandler()<br/>    <br/>fileprivate var currentVC: UIViewController!<br/>    <br/>//MARK: Internal Properties<br/>var imagePickedBlock: ((UIImage) -&gt; Void)?</span></pre><h1 id="5513" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">怎么用？</h1><p id="bd0d" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">我们已经完成了类的创建，现在我们需要使用它。像这样的类的优点是易于重用。</p><pre class="jk jl jm jn fq md me mf mg aw mh dt"><span id="a55f" class="lp kt hu me b fv mi mj l mk ml">CameraHandler.shared.showActionSheet(vc: self)<br/>CameraHandler.shared.imagePickedBlock = { (image) in<br/>    /* get your image here */<br/>}</span></pre><p id="f44a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这就是本教程中向您展示如何在Swift 3中访问iOS相机和照片库的内容，我真的希望它对您有所帮助。如果你有任何问题，请在评论区分享这篇文章作为支持或评论。</p><h1 id="949c" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">完整的要点文件</h1><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mt mu l"/></div></figure></div><div class="ab cl mv mw hc mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hn ho hp hq hr"><h2 id="1650" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated">这就是本教程的内容，如果对你有帮助，请👏或者分享这个故事，让其他像你一样的人也能找到它。感谢您的关注！🚀</h2><figure class="jk jl jm jn fq jo fe ff paragraph-image"><a href="http://bit.ly/2KkkwGL"><div class="fe ff jj"><img src="../Images/79c8aca42472a7e427ec524f7bc604fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-oC2BqqizoRxIls08WMmA.png"/></div></a></figure><h2 id="a1f8" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated">查看我的最新项目:</h2><div class="nc nd fm fo ne nf"><a href="https://apps.apple.com/app/football-score-prediction-bets/id1517623538" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">足球比分预测赌注</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">我们提供专业的足球比分预测投注提示，胜率高。每个比赛模拟包含一个…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">apps.apple.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://play.google.com/store/apps/details?id=betting.tips.goals" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">足球博彩技巧和比分——赌进球Google Play上的应用程序</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">我们提供高胜率的专业足球技巧。每个比赛模拟包含一个预测，代表…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">play.google.com</p></div></div><div class="no l"><div class="nu l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://apps.apple.com/app/zoom-profile-picture-stories/id1514925024" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">缩放个人资料图片和故事</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">ZoomPic for Instagram是匿名查看大型高清个人照片和故事的最简单、最方便的方式…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">apps.apple.com</p></div></div><div class="no l"><div class="nv l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://apps.apple.com/app/long-video-story-for-instagram/id1511499427" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">Instagram的长视频故事</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">Instagram的Long Story是一个非常棒的工具，允许您录制或选择任意长度的视频并进行转换…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">apps.apple.com</p></div></div><div class="no l"><div class="nw l nq nr ns no nt jt nf"/></div></div></a></div><h2 id="97ee" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated">阅读更多我在媒体上的作品:</h2><div class="nc nd fm fo ne nf"><a href="https://hackernoon.com/introducing-clean-swift-architecture-vip-770a639ad7bf" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">引入干净的Swift架构(VIP)</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">忘了MVC吧，现在！</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">hackernoon.com</p></div></div><div class="no l"><div class="nx l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://medium.freecodecamp.org/how-you-can-use-the-google-maps-sdk-with-ios-using-swift-4-a9bba26d9c4d" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">使用Swift 4在iOS上使用Google Maps SDK的终极指南</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">许多iOS应用程序使用谷歌地图。这是一个非常普遍的特点，所以我决定准备一个终极指南…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">medium.freecodecamp.org</p></div></div><div class="no l"><div class="ny l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a rel="noopener follow" target="_blank" href="/theappspace/swift-custom-uiview-with-xib-file-211bb8bbd6eb"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">SWIFT —带有XIB文件的自定义UIView</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">用XIB文件定制UIView是iOS开发中非常常见的做法。自定义UIView类不包含XIB文件…</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">medium.com</p></div></div><div class="no l"><div class="nz l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://hackernoon.com/how-to-add-spotlight-support-to-your-ios-app-4a89054aff89" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">如何将Spotlight支持添加到您的iOS应用程序</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">Swift教程将使您的应用程序在Spotlight search中可用</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">hackernoon.com</p></div></div><div class="no l"><div class="oa l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://hackernoon.com/core-data-relationships-d813ed66ba8c" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">核心数据关系</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">理解一对一和一对多关系</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">hackernoon.com</p></div></div><div class="no l"><div class="ob l nq nr ns no nt jt nf"/></div></div></a></div><div class="nc nd fm fo ne nf"><a href="https://hackernoon.com/understanding-auto-layout-in-xcode-9-2719710f0706" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab ej"><div class="nh ab ni cl cj nj"><h2 class="bd hv fv z el nk eo ep nl er et ht dt translated">了解Xcode 9中的自动布局</h2><div class="nm l"><h3 class="bd b fv z el nk eo ep nl er et ek translated">所有你需要知道的关于自动布局</h3></div><div class="nn l"><p class="bd b gc z el nk eo ep nl er et ek translated">hackernoon.com</p></div></div><div class="no l"><div class="oc l nq nr ns no nt jt nf"/></div></div></a></div><h2 id="0b96" class="lp kt hu bd ku lq lr ls ky lt lu lv lc ke lw lx le ki ly lz lg km ma mb li mc dt translated">订阅我的时事通讯:</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="od mu l"/></div></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="od mu l"/></div></figure></div></div>    
</body>
</html>