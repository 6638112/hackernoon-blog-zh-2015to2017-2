<html>
<head>
<title>Web Audio API Series 2 — Oscillator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络音频API系列2 —振荡器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/web-audio-api-series-2-oscillator-d0fb38d0ca7c?source=collection_archive---------2-----------------------#2016-01-30">https://medium.com/hackernoon/web-audio-api-series-2-oscillator-d0fb38d0ca7c?source=collection_archive---------2-----------------------#2016-01-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><p id="d6f0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">你也可以在下面找到我:</p><p id="bef0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我的博客:http://haochuan.io/</p><p id="f31f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">github:<a class="ae jw" href="https://github.com/haochuan" rel="noopener ugc nofollow" target="_blank">https://github.com/haochuan</a></p></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><p id="1fb6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt jx translated"><span class="l jy jz ka bm kb kc kd ke kf di">在本<em class="kg"> Web Audio API系列</em>中，我们将介绍如何在Web浏览器中处理和合成声音，这将涵盖Web Audio API超过80%的特性，以及一些关于音乐理论、音频、声音和信号处理的基本常识:</span></p><ul class=""><li id="0474" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated"><strong class="ja hv">简介</strong></li><li id="e146" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv km kn ko kp dt translated"><strong class="ja hv">合成基础</strong></li></ul><ol class=""><li id="016d" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv kv kn ko kp dt translated">4种不同的声音单位</li><li id="ab84" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">时机与节奏</li><li id="831b" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">基本比例和弦</li><li id="db4a" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">信封</li><li id="8820" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">过滤</li></ol><ul class=""><li id="7494" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated"><strong class="ja hv">音响</strong></li></ul><ol class=""><li id="de7f" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv kv kn ko kp dt translated">解码和回放</li><li id="a1a1" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">样品</li><li id="fbf6" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">绘制时域波形</li><li id="bc8c" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">绘制频域频谱</li></ol><ul class=""><li id="5f18" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated"><strong class="ja hv">音效</strong></li></ul><ol class=""><li id="198d" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv kv kn ko kp dt translated">颤音</li><li id="b8a4" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">过驱/失真</li><li id="78d2" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">情商</li><li id="5fce" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">耽搁</li><li id="9fc0" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv kv kn ko kp dt translated">混响</li></ol></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><h2 id="7d7c" class="kw kx hu bd ky kz la lb lc ld le lf lg jj lh li lj jn lk ll lm jr ln lo lp lq dt translated">什么是振荡器</h2><p id="24b3" class="pw-post-body-paragraph iy iz hu ja b jb lr jd je jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv hn dt translated">振荡器是产生重复振荡信号的电路。与音频滤波器和音频控制器一样，音频振荡器是现代模拟减法合成器所需的基本元件之一。</p><p id="03da" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">振荡器有两个基本参数:类型和频率。类型定义了声音的音调，而频率则意味着声音的音调。假设你在吉他和钢琴上同时演奏中间的C音，这两个声音的类型不同，但频率相同。</p></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><h2 id="3c29" class="kw kx hu bd ky kz la lb lc ld le lf lg jj lh li lj jn lk ll lm jr ln lo lp lq dt translated">振荡器的四种波形</h2><p id="8248" class="pw-post-body-paragraph iy iz hu ja b jb lr jd je jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv hn dt translated"><strong class="ja hv">正弦</strong></p><figure class="lx ly lz ma fq mb fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/8de3bc0ee0b406494cf098142d21e978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*xq0_zz6IAc39mgMSEQT4pA.png"/></div></figure><p id="92c6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">[440Hz正弦波音频](<a class="ae jw" href="https://soundcloud.com/haochuan/sine/s-6bb9b?in=haochuan/sets/web-audio-series-osc/s-PgUGl" rel="noopener ugc nofollow" target="_blank">https://soundcloud.com/haochuan/sine/s-6bb9b?in =浩川/集/网络-音频-系列-osc/s-PgUGl </a>)</p><p id="80bd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">广场</strong></p><figure class="lx ly lz ma fq mb fe ff paragraph-image"><div class="fe ff me"><img src="../Images/d57092bc999bbfe5dc76b17d1095c25f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*Q0yZF0g9_KQCvGixUyBFZA.png"/></div></figure><p id="7c96" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">[440Hz方波音频](<a class="ae jw" href="https://soundcloud.com/haochuan/square/s-FtUUN?in=haochuan/sets/web-audio-series-osc/s-PgUGl" rel="noopener ugc nofollow" target="_blank">https://soundcloud.com/haochuan/square/s-FtUUN?in =豪川/集/网络-音频-系列-osc/s-PgUGl </a>)</p><p id="a9be" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">锯齿</strong></p><figure class="lx ly lz ma fq mb fe ff paragraph-image"><div class="fe ff me"><img src="../Images/a62fac8ff0f3c9dd4d64b9eb9238dd4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*uDIbYeUXaGR3V0mNIhxRtg.png"/></div></figure><p id="1ec6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">[440Hz锯齿波音频](<a class="ae jw" href="https://soundcloud.com/haochuan/sawtooth/s-mT39a?in=haochuan/sets/web-audio-series-osc/s-PgUGl" rel="noopener ugc nofollow" target="_blank">https://soundcloud.com/haochuan/sawtooth/s-mT39a?in =豪川/集/网络-音频-系列-osc/s-PgUGl </a>)</p><p id="9794" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">三角</strong></p><figure class="lx ly lz ma fq mb fe ff paragraph-image"><div class="fe ff mf"><img src="../Images/fd284c7e2f071677e2b019ee86bf30f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*2wXEe2u-4z4YsuBughV8BQ.png"/></div></figure><p id="5329" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">[440Hz三角波音频](<a class="ae jw" href="https://soundcloud.com/haochuan/triangle/s-OTq6H?in=haochuan/sets/web-audio-series-osc/s-PgUGl" rel="noopener ugc nofollow" target="_blank">https://soundcloud.com/haochuan/triangle/s-OTq6H?in =浩川/集/网络-音频-系列-osc/s-PgUGl </a>)</p></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><h2 id="8e39" class="kw kx hu bd ky kz la lb lc ld le lf lg jj lh li lj jn lk ll lm jr ln lo lp lq dt translated">网络音频API中的振荡器</h2><p id="d22c" class="pw-post-body-paragraph iy iz hu ja b jb lr jd je jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv hn dt translated">Web Audio API允许我们非常容易地生成振荡波形:<em class="kg">振荡器节点</em>接口表示周期性波形。</p><p id="26d6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">创建振荡器节点</strong></p><ul class=""><li id="2b25" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated">audioContext.createOscillator()</li></ul><p id="9c2a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">请注意，<em class="kg"> audioContext </em>应该在初始化Web Audio API时创建为全局变量。</p><p id="fe5b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">属性</strong></p><ul class=""><li id="079f" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated">振荡器节点.频率</li><li id="48f0" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv km kn ko kp dt translated">振荡器节点类型</li></ul><p id="3811" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">方法</strong></p><ul class=""><li id="ce42" class="kh ki hu ja b jb jc jf jg jj kj jn kk jr kl jv km kn ko kp dt translated">振荡器节点. start()</li><li id="4bfc" class="kh ki hu ja b jb kq jf kr jj ks jn kt jr ku jv km kn ko kp dt translated">振荡器节点. stop()</li></ul><p id="140d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">请注意，我已经列出了我们将在本教程中使用的一些属性和方法。你可以在【网络音频API文档】(<a class="ae jw" href="http://webaudio.github.io/web-audio-api/" rel="noopener ugc nofollow" target="_blank">http://webaudio.github.io/web-audio-api/</a>)中找到更多细节。</p></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><h2 id="2efe" class="kw kx hu bd ky kz la lb lc ld le lf lg jj lh li lj jn lk ll lm jr ln lo lp lq dt translated">演示</h2><p id="53d4" class="pw-post-body-paragraph iy iz hu ja b jb lr jd je jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv hn dt translated">我们在<em class="kg">网络音频API系列1 </em>中谈到了<em class="kg">音频节点</em>连接。对于本振荡器演示，连接如下:</p><p id="e1d9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">振荡器音频节点— -&gt; audioContext.destination(系统输出)</p><p id="7d67" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">还有一点需要说明的是，当我们试图改变振荡器音频节点的频率时，我们不能只做<em class="kg">` oscillator node . frequency = 100</em>`。原因是“frequency”是一个“AudioParam”<em class="kg">而不是一个“T20”数字</em>。设置新频率值的方法是使用“<em class="kg">振荡器节点.频率.值= 100 </em>”。</p><pre class="lx ly lz ma fq mg mh mi mj aw mk dt"><span id="072e" class="kw kx hu mh b fv ml mm l mn mo"><br/>// init web audio api</span><span id="9771" class="kw kx hu mh b fv mp mm l mn mo">var audioContext;<br/>try {<br/> // Fix up for prefixing<br/> window.AudioContext = window.AudioContext||window.webkitAudioContext;<br/> audioContext = new AudioContext();<br/>} catch(e) {<br/> alert(‘Web Audio API is not supported in this browser’);<br/>}</span><span id="468c" class="kw kx hu mh b fv mp mm l mn mo">// create a oscillator audio node<br/>var oscNode = audioContext.createOscillator();<br/>oscNode.type = ‘sine’; // sine, square, sawtooth, triangle</span><span id="3036" class="kw kx hu mh b fv mp mm l mn mo">// set a value in an AudioParam<br/>oscNode.frequency.value = 440;</span><span id="0906" class="kw kx hu mh b fv mp mm l mn mo">// be sure to connect the osc node to destination before starting it</span><span id="803c" class="kw kx hu mh b fv mp mm l mn mo">oscNode.connect(audioContext.destination);</span><span id="8d11" class="kw kx hu mh b fv mp mm l mn mo">oscNode.start(0); // start now</span><span id="54fa" class="kw kx hu mh b fv mp mm l mn mo">oscNode.stop(2); // stop in 2 seconds<br/></span></pre><p id="8304" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">可以在这里查看现场试玩:【浩川的笔杆子】(<a class="ae jw" href="http://codepen.io/haochuan/full/PZaEXo/" rel="noopener ugc nofollow" target="_blank">http://codepen.io/haochuan/full/PZaEXo/</a>)</p></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><p id="6331" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">仅此而已。如果你想了解更多细节，请在你喜欢的搜索引擎中搜索<em class="kg">网络音频API </em>。希望你喜欢，并在我的网络音频API系列的下一篇文章中看到你。</p></div></div>    
</body>
</html>