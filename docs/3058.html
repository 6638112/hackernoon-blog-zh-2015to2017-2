<html>
<head>
<title>Getting Started with React Navigation, the Navigation Solution for React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React导航入门，React Native的导航解决方案</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/getting-started-with-react-navigation-the-navigation-solution-for-react-native-ea3f4bd786a4?source=collection_archive---------0-----------------------#2017-03-10">https://medium.com/hackernoon/getting-started-with-react-navigation-the-navigation-solution-for-react-native-ea3f4bd786a4?source=collection_archive---------0-----------------------#2017-03-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/514da9b92af60f14f2dff362b928d54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rIMufUn7zaABj_VByGkhSA.jpeg"/></div></div></figure><div class=""/><p id="ed56" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你使用过React Native一段时间，你可能会对如何在你的应用中导航感到困惑(实践、包等)。自从React Native被开源以来，我一直在使用它，并尝试了许多解决方案，这是我的导航进展…</p><p id="ffbd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">导航操作系统&gt;导航器&gt;反应-本地-路由器-流量&gt;导航实验或前导航(取决于导航要求)</p><p id="1fe3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每次升级都需要时间来重构和引入一个新的、略有不同的导航和管理导航状态的模式。</p><p id="0ae1" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">幸运的是，我们现在有了一个单一的“官方”导航解决方案，在React Native中使用<a class="ae ka" href="https://reactnavigation.org/" rel="noopener ugc nofollow" target="_blank"> react-navigation </a>。该解决方案将取代Navigator、NavigationExperimental和ex-navigation，成为新的“官方”导航解决方案。</p><p id="e93f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它目前处于测试阶段，但处于相当稳定的状态。如果你开始一个新的React本地应用，我会说从react-navigation开始，它只会变得更好。</p><p id="c0fe" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">今天，我想花点时间使用react-navigation构建一个具有一些常见路线需求的应用程序。我们将讨论选项卡、堆栈和模态——这只是对包的一个非常基本的初步了解。这是最终产品</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kb"><img src="../Images/d889feb75ad85db81a866fbee43b7677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KmB469o2JwK3o21ncarimg.gif"/></div></div></figure><h2 id="3aa3" class="kg kh if bd ki kj kk kl km kn ko kp kq jn kr ks kt jr ku kv kw jv kx ky kz la dt translated">密码</h2><p id="0600" class="pw-post-body-paragraph jc jd if je b jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz hn dt translated">本教程的所有代码都可以在Github 上找到<a class="ae ka" href="https://github.com/spencercarli/getting-started-react-navigation" rel="noopener ugc nofollow" target="_blank">。我将从一个简单的应用程序开始，它有</a><a class="ae ka" href="https://github.com/react-native-community/react-native-elements" rel="noopener ugc nofollow" target="_blank"> react-native-elements </a>，几个屏幕，以及来自<a class="ae ka" href="https://randomuser.me/" rel="noopener ugc nofollow" target="_blank">随机用户生成器</a>的一些用户数据，这样我们就可以专注于导航而不是配置应用程序。</p><h2 id="37ad" class="kg kh if bd ki kj kk kl km kn ko kp kq jn kr ks kt jr ku kv kw jv kx ky kz la dt translated"><strong class="ak">视频</strong></h2><p id="62a1" class="pw-post-body-paragraph jc jd if je b jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz hn dt translated">更喜欢视频学习？在Youtube上看看这个教程的视频版本。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lg lh l"/></div><figcaption class="li lj fg fe ff lk ll bd b be z ek">Please note that the API used in this video is slightly out of date.</figcaption></figure><h2 id="423d" class="kg kh if bd ki kj kk kl km kn ko kp kq jn kr ks kt jr ku kv kw jv kx ky kz la dt translated">制表符</h2><p id="3df4" class="pw-post-body-paragraph jc jd if je b jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz hn dt translated">我们要添加的第一件事是两个选项卡——一个用于用户列表，一个用于当前用户的详细信息。为此，我们将使用React Navigation中的<a class="ae ka" href="https://reactnavigation.org/docs/navigators/tab" rel="noopener ugc nofollow" target="_blank"> TabNavigator </a>。</p><p id="c75e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将在<code class="eh lm ln lo lp b">config/router.js</code>文件中工作。我们需要做的第一件事是导入我们预先构建的屏幕— <code class="eh lm ln lo lp b">Feed.js</code>和<code class="eh lm ln lo lp b">Me.js</code>。我们还需要从<code class="eh lm ln lo lp b">react-navigation</code>导入<code class="eh lm ln lo lp b">TabNavigator</code>，从<code class="eh lm ln lo lp b">react-elements</code>导入<code class="eh lm ln lo lp b">Icon</code>。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="72d4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">完成后，我们就可以开始定义TabNavigator了。TabNavigator接受一个对象，每个键/值对代表一个选项卡。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="9457" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以看到，我们向每个选项卡传递了一个屏幕——这将是当该选项卡处于活动状态时应该呈现的组件。</p><p id="6b03" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们需要做的最后一件事是在我们的应用程序入口点使用选项卡导航器。TabNavigator的结果只是一个组件，可以像其他组件一样呈现。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/d1c42323b35d020169f0e22e1da325e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*YYdlKocB-p7MbDFA-NG-ZA.png"/></div></figure><p id="c4d3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，我们想添加一个图标到标签栏，这样事情看起来就对了。有两种不同的方法可以做到这一点——一种是通过<code class="eh lm ln lo lp b">navigationOptions</code>静态or在屏幕上定义信息，这是我的首选方法，在定义标签的同时定义它。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/3be25a58888a286825ca3a8fe29854aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*0vSiHXcy2WKQgYgAxXF0Kg.png"/></div></figure><p id="05f8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用TabNavigator时，选项卡的设置非常简单，您可以快速更新和修改它们。</p><h2 id="b431" class="kg kh if bd ki kj kk kl km kn ko kp kq jn kr ks kt jr ku kv kw jv kx ky kz la dt translated">导航堆栈</h2><p id="57c2" class="pw-post-body-paragraph jc jd if je b jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz hn dt translated">现在，当您按下一个行项目时，您可能，并且正确地，会期望我们转到一个新的屏幕。为此，我们将使用<a class="ae ka" href="https://reactnavigation.org/docs/navigators/stack" rel="noopener ugc nofollow" target="_blank"> StackNavigator </a>向堆栈中添加一个新屏幕。</p><p id="77a5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这个API与TabNavigator非常相似，它接受一个对象，在这个对象中我们定义了堆栈中应该可用的所有屏幕。</p><p id="0be9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，确保从<code class="eh lm ln lo lp b">react-navigation</code>导入StackNavigator。到时候你也会想<code class="eh lm ln lo lp b">import UserDetail from '../screens/UserDetail';</code>。然后我们定义StackNavigation，就像我们对TabNavigator所做的那样。然后，我们可以用新的堆栈替换TabNavigator中的提要屏幕定义。</p><p id="77f7" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我之前没有提到它，但是在React导航中，除了接受屏幕组件之外，它还接受其他导航堆栈来显示屏幕。这意味着我们的<em class="ls">进给栈</em>将嵌套在我们的<em class="ls">标签</em>中。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/64f27410dfa885ac9b95cce56348bae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*VtueqWFHiOkTa-oREtMLHA.png"/></div></figure><p id="655b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然这很有效，但看起来不太对，我们希望提要屏幕上的导航栏有某种标题…就像之前我们可以利用<code class="eh lm ln lo lp b">navigationOptions</code>来设置它一样。在这里查看你能做的所有事情的文档。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="4c13" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在实际上是从我们的列表项导航到屏幕。</p><p id="5baa" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每当你定义一个屏幕，这个组件将访问<code class="eh lm ln lo lp b">this.props</code>上的<code class="eh lm ln lo lp b"><a class="ae ka" href="https://reactnavigation.org/docs/navigators/navigation-prop" rel="noopener ugc nofollow" target="_blank">navigation</a></code>，你可以用它做很多事情。在这里，我们只是将它用于<code class="eh lm ln lo lp b">navigate</code>功能。在<code class="eh lm ln lo lp b">Feed.js</code>中，我们将向<code class="eh lm ln lo lp b">onLearnMore</code>函数添加以下内容。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="2e57" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在没有完全重新散列文档的情况下，我们告诉navigate我们想要转到哪个屏幕(它与我们的StackNavigator中的键对齐)以及我们想要传递到下一个屏幕的数据。这给我们留下了</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kb"><img src="../Images/74bde9c1f239333d519554f9b54be52e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dtDSt4G7y-YsvWJwZLfZtA.gif"/></div></div></figure><p id="6d38" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在您可能想知道我们是如何访问传递到新屏幕的数据的。它和导航功能一样，在<code class="eh lm ln lo lp b">this.props.navigation</code>——特别是<code class="eh lm ln lo lp b">this.props.navigation.state.params</code>——上可用。我正在提取所有的数据来生成这样的<code class="eh lm ln lo lp b">UserDetail.js</code>屏幕</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><h2 id="a9d8" class="kg kh if bd ki kj kk kl km kn ko kp kq jn kr ks kt jr ku kv kw jv kx ky kz la dt translated">情态的</h2><p id="e212" class="pw-post-body-paragraph jc jd if je b jf lb jh ji jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz hn dt translated">我想在本教程中介绍的最后一件事是如何用React导航创建一个模态。这是一种常见的模式，但我发现在其他react本地路由解决方案中实现起来非常困难/不太直观。</p><p id="9874" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了完成一个模型，我们将创建另一个StackNavigator，有一个细微的区别。这个“根”导航器将包含我们的TabNavigator以及我们的设置屏幕。我们还将告诉这个StackNavigator，不要从右到左放置卡片/屏幕，而是从下到上放置。所有这些单词在代码中看起来都是这样的(如果您还没有导入设置屏幕，请确保导入)。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="9ab5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以看到这个StackNavigator与我们之前创建的完全相同，但是我们利用了其中的两个选项来创建我们想要的模态接口。除了我上面描述的<code class="eh lm ln lo lp b">mode</code>，我们还有<code class="eh lm ln lo lp b">headerMode</code>，它告诉StackNavigator不要显示这个堆栈的导航条——我们将让子导航条来做这件事。</p><p id="0031" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了保持一致的界面，并展示您可以在StackNavigator中嵌套一个StackNavigator，我们也将为设置屏幕构建一个。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="6786" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，我们想告诉应用程序入口点使用我们新的根导航器，而不是选项卡。</p><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="lq lh l"/></div></figure><p id="2132" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所有这些留给我们的是</p><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kb"><img src="../Images/d889feb75ad85db81a866fbee43b7677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KmB469o2JwK3o21ncarimg.gif"/></div></div></figure><p id="bddd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请记住，所有这些<a class="ae ka" href="https://github.com/spencercarli/getting-started-react-navigation" rel="noopener ugc nofollow" target="_blank">代码都可以在Github </a>上获得，我鼓励您查看这些代码以及<a class="ae ka" href="https://reactnavigation.org/" rel="noopener ugc nofollow" target="_blank"> react导航文档</a>。</p></div><div class="ab cl lt lu hc lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hn ho hp hq hr"><p id="b902" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这只是对React导航的一个简单的初步了解。如果你想看更多关于它的教程，请通过推荐这篇文章和评论你下一步想学什么让我知道！</p><blockquote class="ma"><p id="1813" class="mb mc if bd md me mf mg mh mi mj jz ek translated">如果你对React Native感兴趣，想了解如何构建高质量的应用程序，请注册我的免费视频课程！</p></blockquote><div class="mk ml mm mn mo ab cb"><figure class="mp hw mq mr ms mt mu paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mp hw mq mr ms mt mu paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mp hw mq mr ms mt mu paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mv mw mx"><p id="f922" class="jc jd ls je b jf jg jh ji jj jk jl jm my jo jp jq mz js jt ju na jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd ls je b jf jg jh ji jj jk jl jm my jo jp jq mz js jt ju na jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kc kd ke kf fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nb"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kc kd ke kf fq hw"><div class="bz el l di"><div class="nc lh l"/></div></figure></div></div>    
</body>
</html>