<html>
<head>
<title>Oops I just lost $156m — the fallout from one novice Ethereum developer’s “accident”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">哎呀，我刚刚损失了1 . 56亿美元——这是一个以太坊新手开发者“意外”的后果</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/oops-i-just-lost-156m-the-fallout-from-one-novice-ethereum-developers-accident-8d532c827a3c?source=collection_archive---------14-----------------------#2017-11-10">https://medium.com/hackernoon/oops-i-just-lost-156m-the-fallout-from-one-novice-ethereum-developers-accident-8d532c827a3c?source=collection_archive---------14-----------------------#2017-11-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="685f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">自从奇偶钱包漏洞在周二首次被报道以来，我们已经遇到了许多关于问题的规模和范围的相互矛盾的信息。</p><p id="edd9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一些消息来源称<a class="ae jp" href="https://www.cnbc.com/2017/11/08/accidental-bug-may-have-frozen-280-worth-of-ether-on-parity-wallet.html" rel="noopener ugc nofollow" target="_blank">损失了价值高达<strong class="it hv"/></a>3亿美元的乙醚，而其他人则报出了更低的数字<a class="ae jp" href="http://www.bbc.com/news/technology-41928147" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a>1 . 5亿美元。至于受影响的钱包数量，一份流传的谷歌文档电子表格显示共有151个钱包。然而，<a class="ae jp" href="https://affected.parity.io/" rel="noopener ugc nofollow" target="_blank">平价自己的网站</a>显示影响要大得多，有<strong class="it hv"> 584个钱包</strong>受到影响。</p><p id="e1c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更重要的是，<strong class="it hv">我们几乎没有看到任何关于拥有这些钱包的组织的信息。如果你不确定为什么这很重要，考虑下面的图表。</strong></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/a2479983436281ecbb9c3d77ba81e1eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BY8r5hJhvFwXh2G4rRXOQ.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek"><a class="ae jp" href="https://www.hedge-crypto.com/" rel="noopener ugc nofollow" target="_blank"><em class="kg">The Hedge Project</em></a><em class="kg">, one of the companies impacted by the wallet freeze, has seen their token value </em><strong class="bd kh">rise</strong><em class="kg"> since the incident occurred. (price chart courtesy of </em><a class="ae jp" href="https://www.cryptocompare.com/" rel="noopener ugc nofollow" target="_blank"><em class="kg">CryptoCompare</em></a><em class="kg">)</em></figcaption></figure><p id="000a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">许多这样的钱包属于通过ICO筹集资金的公司。如果这笔钱没了，那不仅仅是公司的问题。这对每个拥有代币的人来说都是个问题。</p><p id="92cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">根据我们收集的数据，这是我们对形势的评估。我们检查影响的程度和受影响的公司/ico列表。</p><h1 id="fca6" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">发生了什么事？</h1><p id="484f" class="pw-post-body-paragraph ir is hu it b iu lg iw ix iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo hn dt translated">11月6日(上周一)，一名以太坊开发者“意外”触发了一个错误，删除了奇偶校验的多签名钱包所依赖的<a class="ae jp" href="https://etherscan.io/address/0x863df6bfa4469f3ead0be8f9f2aae51c91a907b4" rel="noopener ugc nofollow" target="_blank">代码库</a>。随着代码的删除，那些钱包里的以太实际上是不可及的。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ll"><img src="../Images/821889fca5184c14a79b1309f030ba59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CUVxA9yNLE_VSLKz9Fl5Qg.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek"><a class="ae jp" href="https://github.com/paritytech/parity/issues/6995" rel="noopener ugc nofollow" target="_blank"><em class="kg">Discussion of the issue on Github</em></a></figcaption></figure><p id="0ff1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这位开发者并不隶属于Parity，他的<a class="ae jp" href="https://github.com/ghost" rel="noopener ugc nofollow" target="_blank"> Github账户</a>已经被删除。</p><p id="e4b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要全面解释入侵是如何发生的，Comaelo的Matt Suiche 做了一个很棒的解释。</p><h1 id="9a4e" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">有什么影响？</h1><p id="dbdb" class="pw-post-body-paragraph ir is hu it b iu lg iw ix iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo hn dt translated">我们统计了598个受影响的钱包，总余额为514，000美元，基于304美元的ETH价格，总价值为1 . 56亿美元。</p><p id="19ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们用来达到这些数字的脚本是<a class="ae jp" href="https://github.com/elementus-io/parity-wallet-freeze/blob/master/index.js" rel="noopener ugc nofollow" target="_blank">贴在这里</a>。本质上，这些是它的步骤:</p><ul class=""><li id="2531" class="lm ln hu it b iu iv iy iz jc lo jg lp jk lq jo lr ls lt lu dt translated">循环查看自7月20日以来以太坊上部署的所有智能合约。这是有问题的代码库的创建日期，因此任何依赖于它的智能合约都必须在此日期之后部署。</li><li id="1d01" class="lm ln hu it b iu lv iy lw jc lx jg ly jk lz jo lr ls lt lu dt translated">通过在智能协定初始化代码的正文中查找字符串“863 df 6 BFA 4469 F3 EAD 0 be 8 f 9 F2 aae 51 c 91 a 907 b 4”来识别受影响的钱包。这个字符串是奇偶校验代码库的<a class="ae jp" href="https://etherscan.io/address/0x863df6bfa4469f3ead0be8f9f2aae51c91a907b4" rel="noopener ugc nofollow" target="_blank">地址，它被硬编码到他们的钱包中。</a></li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ma"><img src="../Images/c1f37db28bfa82d21b2c061b417a36a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9QxOGkadcB0Y9aOl.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek"><em class="kg">Affected wallets are identifiable by the presence of the string </em>“863df6bfa4469f3ead0be8f9f2aae51c91a907b4”<em class="kg"> in their initialization code (image from </em><a class="ae jp" href="https://etherscan.io/" rel="noopener ugc nofollow" target="_blank"><em class="kg">Etherscan</em></a><em class="kg">)</em></figcaption></figure><ul class=""><li id="a077" class="lm ln hu it b iu iv iy iz jc lo jg lp jk lq jo lr ls lt lu dt translated">为了确定损失了多少乙醚，使用<a class="ae jp" href="https://github.com/ethereum/wiki/wiki/JSON-RPC" rel="noopener ugc nofollow" target="_blank"> JSON RPC API </a>遍历每个受影响的钱包并获取其当前余额。</li></ul><p id="5d45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里找到这个脚本的代码和受影响地址的完整列表。</p><p id="6c29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如上所述，我们统计了598个受影响的钱包。但是损失远没有这个数字所暗示的那么广泛。钱包里有496个是空的(平衡&lt; 1 ether). And of the remainder, the loss is heavily concentrated in a few large wallets.</p><p id="cb50" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Most notably, 60% of the entire loss ($93m of the $156m total) comes from a single wallet belonging to the <a class="ae jp" rel="noopener" href="/web3foundation/web-3-multi-sig-wallet-update-245d30df0fb3"> Web3基金会</a>，一个与平价本身密切相关的组织)。几周前刚刚在ICO为基金会的新多链项目<a class="ae jp" href="https://polkadot.io/" rel="noopener ugc nofollow" target="_blank"> Polkadot </a>筹集到资金。</p><p id="629f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更多关于ico受影响的信息，请见下文。</p><h1 id="5163" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">为什么报告的损失数字有如此大的差异？</h1><p id="2aa4" class="pw-post-body-paragraph ir is hu it b iu lg iw ix iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo hn dt translated">与我们估计的1 . 56亿美元的损失相比，许多消息来源报告的数字要高得多，大约在3亿美元左右。这些报道似乎都可以追溯到伦敦大学学院区块链研究员Patrick McCorry的一条推文，他估计损失总额为2 . 78亿美元。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mb mc l"/></div></figure><p id="2eda" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在发出这条推文后不久，麦考利发现了计算中的一个错误，并发布了一个<a class="ae jp" href="https://twitter.com/paddyucl/status/927927727482654720" rel="noopener ugc nofollow" target="_blank">更正</a>，将数字下调至1 . 54亿美元。这个数额也在<a class="ae jp" href="https://gitter.im/paritytech/parity?at=5a01d63186d308b755bbbd1f" rel="noopener ugc nofollow" target="_blank">平价自己的Gitter chat </a>上得到独立证实。然而，夸大的数字不断出现在新闻中，就在今天早些时候的<a class="ae jp" href="https://cointelegraph.com/news/parity-wallet-continues-investigating-300-mln-lock-as-ambisafe-reports-no-losses" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mb mc l"/></div></figure><h1 id="4f11" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">哪些ico受到影响？</h1><p id="af91" class="pw-post-body-paragraph ir is hu it b iu lg iw ix iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo hn dt translated">下图显示了每个余额至少为33 ETH(约10，000美元)的受影响钱包。我们的数据显示其中16个钱包与ICO筹款有关。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff md"><img src="../Images/3aa866ef1781df5428287ac9d35c2867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWly-j8jOs8OfaGhYcCnkg.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">ICOs impacted by the wallet freeze (graphic and data by: <a class="ae jp" href="https://elementus.io/" rel="noopener ugc nofollow" target="_blank">Elementus</a>)</figcaption></figure><p id="3e48" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="me">注意:这些钱包的所有权尚未得到公司的证实。这些关联是我们根据收集的数据做出的估计。</em></p><h1 id="cabb" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">总之…</h1><p id="161e" class="pw-post-body-paragraph ir is hu it b iu lg iw ix iy lh ja jb jc li je jf jg lj ji jj jk lk jm jn jo hn dt translated"><strong class="it hv"> 598个钱包</strong>受到影响，但其中只有60个钱包的余额超过10，000美元(如上图所示)。</p><p id="f871" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总损失是51.4万ETH/1.56亿美元，而不是许多新闻报道的3亿美元。</p><p id="dfa4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这一切的最大输家是平价本身。他们拥有9300万美元的钱包，占全部损失的60%。</p><p id="2bab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">至少有16个受影响的钱包与通过ICO筹集资金的公司有关。</p><p id="9ef8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这16个案例中，受影响的不仅仅是公司。它们的令牌持有者也会受到影响。</p></div><div class="ab cl mf mg hc mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hn ho hp hq hr"><p id="9bbd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="me">原载于2017年11月10日</em><a class="ae jp" href="https://elementus.io/blog/which-icos-are-affected-by-the-parity-wallet-bug/" rel="noopener ugc nofollow" target="_blank"><em class="me">elementus . io</em></a><em class="me">。</em></p></div></div>    
</body>
</html>