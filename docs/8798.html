<html>
<head>
<title>Badger Accordion — An accessible light weight, vanilla JavaScript accordion with an extensible API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">badger Accordion——一个可访问的轻量级普通JavaScript accordion，具有可扩展的API</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/badger-accordion-an-accessible-light-weight-vanilla-javascript-accordion-with-an-extensible-api-a34128922822?source=collection_archive---------5-----------------------#2017-12-15">https://medium.com/hackernoon/badger-accordion-an-accessible-light-weight-vanilla-javascript-accordion-with-an-extensible-api-a34128922822?source=collection_archive---------5-----------------------#2017-12-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/f4f529b498346913c5952d12000bf37f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XvUWwkh_xUV8wAPW2dsWaQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Badger accordion demo</figcaption></figure><p id="4d37" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">像许多开发人员一样，我一直使用<a class="ae ke" href="https://hackernoon.com/tagged/open-source" rel="noopener ugc nofollow" target="_blank">开源</a> <a class="ae ke" href="https://hackernoon.com/tagged/tools" rel="noopener ugc nofollow" target="_blank">工具</a>。从我的<a class="ae ke" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank">文本编辑器</a>到我使用的CMS，再到我对堆栈溢出的常规搜索。我认为是时候为开源社区做出有意义的贡献了(关于我制作第一个开源工具的经验的文章即将推出……)。请击鼓…不要再拖延了。<a class="ae ke" href="http://ba.northernbadger.co.uk/" rel="noopener ugc nofollow" target="_blank">獾手风琴</a>！</p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="kj kk l"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Badger Accordion demo on <a class="ae ke" href="https://codepen.io/stuartjnelson/pen/WZpxqY" rel="noopener ugc nofollow" target="_blank">Codepen</a></figcaption></figure><h2 id="c9d6" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">獾手风琴是什么？</h2><p id="3f9b" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">这是一个易于访问的动画手风琴，使用普通JavaScript和一点点CSS构建。它只有6.14kb(缩小的)和1.86kb的gzip文件！</p><p id="6ff5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在B先生的朋友工作时，我们经常需要快速浏览小型营销网站。对我来说，最具挑战性的部分是在创建尽可能好的代码库和赶在截止日期前发布网站之间取得平衡。我喜欢把它看作是web开发的艺术与商业。我没能找到一个可访问的手风琴，它可以在不同状态之间活动，不使用jQuery，并且有一个可扩展的API。所以我不得不在幼崽戴夫·史密斯的大力支持下造了一个(看我在那里做了什么来迷惑粉丝？)诞生了！</p><h2 id="5cc1" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">创建您的标记</h2><p id="9b9c" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">你的标记不需要固定的结构，在我的例子中我使用了一个<code class="eh ll lm ln lo b">dl</code>(正如WAI-ARIA创作实践指南在他们的<a class="ae ke" href="https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html" rel="noopener ugc nofollow" target="_blank">例子</a>中使用的那样)。你需要添加5个选择器来使插件工作。下面列出的选择器是默认的选择器，但是都可以用插件<a class="ae ke" href="https://github.com/stuartjnelson/badger-accordion#options" rel="noopener ugc nofollow" target="_blank">选项</a>重写。</p><ol class=""><li id="9dec" class="lp lq hu ji b jj jk jn jo jr lr jv ls jz lt kd lu lv lw lx dt translated">包含元素，<code class="eh ll lm ln lo b">dl</code>，<code class="eh ll lm ln lo b">.js-badger-accordion</code></li><li id="76ef" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">表头元素，<code class="eh ll lm ln lo b">button</code>，<code class="eh ll lm ln lo b">.js-badger-accordion-header</code></li><li id="718a" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">面板元素，<code class="eh ll lm ln lo b">dd</code>，<code class="eh ll lm ln lo b">.js-badger-accordion-panel</code></li><li id="f5a4" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">面板内部元素，<code class="eh ll lm ln lo b">div</code>，<code class="eh ll lm ln lo b">.js-badger-accordion-panel-inner</code></li><li id="88b1" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd lu lv lw lx dt translated">用CSS、<code class="eh ll lm ln lo b">div</code>、<code class="eh ll lm ln lo b">.badger-accordion__panel</code>定位面板元素。虽然你可以使用第三点中的选择器，但我<strong class="ji hv">而不是</strong>建议你这么做。为了保持一切都很好，最好用CSS &amp; JS使用不同的选择器。</li></ol><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="77f9" class="kl km hu lo b fv mh mi l mj mk">&lt;dl class="js-badger-accordion"&gt;<br/>    &lt;dt&gt;<br/>        &lt;button class="js-badger-accordion-header"&gt;<br/>            Header Content<br/>        &lt;/button&gt;<br/>    &lt;/dt&gt;<br/>    &lt;dd class="badger-accordion__panel js-badger-accordion-panel"&gt;<br/>        &lt;div class="js-badger-accordion-panel-inner"&gt;<br/>            Panel Content<br/>        &lt;/div&gt;<br/>    &lt;/dd&gt;<br/>&lt;/dl&gt;</span></pre><h2 id="9f38" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">添加基本CSS</h2><p id="c486" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">为了让插件工作，你需要下面的CSS。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="3b66" class="kl km hu lo b fv mh mi l mj mk">.badger-accordion__panel {<br/>    max-height: 75vh;<br/>    overflow: hidden;<br/>}</span><span id="1cdf" class="kl km hu lo b fv ml mi l mj mk">.badger-accordion__panel.-ba-is-hidden {<br/>    max-height: 0 !important;<br/>}</span><span id="a901" class="kl km hu lo b fv ml mi l mj mk">.badger-accordion--initalised .badger-accordion__panel {<br/>    transition: max-height ease-in-out 0.2s;<br/>}</span></pre><h2 id="cb2e" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">创建插件的新实例</h2><p id="c1ab" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">我在这里假设你将在你的项目中使用某种形式的捆绑器。使用手风琴最简单的方法是使用<a class="ae ke" href="http://npmjs.com/package/badger-accordion" rel="noopener ugc nofollow" target="_blank"> npm </a> /yarn下载。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="1c69" class="kl km hu lo b fv mh mi l mj mk">npm <!-- -->i badger-accordion</span><span id="f710" class="kl km hu lo b fv ml mi l mj mk">yarn add <!-- -->badger-accordion</span></pre><p id="d198" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">请注意，目前,<a class="ae ke" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Polyfill" rel="noopener ugc nofollow" target="_blank"> array-from-polyfill </a>作为标准被包括在内(但是被包装在一个条件检查中)。如果这对你来说是一个问题，或者你有一个如何包含它的好主意，请联系我们！</p><p id="6324" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">导入包。选择您的DOM节点，并将其传递给Badger Accordion的新实例。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="7595" class="kl km hu lo b fv mh mi l mj mk">import pollyfill from 'your/path/to/array-from-pollyfill';<br/>import BadgerAccordion from 'badger-accordion'; </span><span id="7c54" class="kl km hu lo b fv ml mi l mj mk">const accordionDomNode = document.querySelector('.js-badger-accordion');<br/>const accordion = new BadgerAccordion(accordionDomNode);</span></pre><p id="e0ad" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果你想有多个手风琴的实例，你可以这样做。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="42af" class="kl km hu lo b fv mh mi l mj mk">const accordions = document.querySelectorAll('.js-badger-accordion');<br/><br/>Array.from(accordions).forEach((accordion) =&gt; {<br/>    const ba = new BadgerAccordion(accordion);<br/>});</span></pre><h2 id="4ed4" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">定制插件的JavaScript选项</h2><p id="9317" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">该插件目前有11个不同的选项。从更改手风琴面板的JS选择器到能够同时打开多个面板。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="c9d5" class="kl km hu lo b fv mh mi l mj mk">const accordion = new BadgerAccordion(accordionDomNode, {<br/>    panelClass: 'my-custom-panel-class’<br/>    openMultiplePanels: true,<br/>});</span></pre><p id="f59d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">看一下<a class="ae ke" href="https://github.com/stuartjnelson/badger-accordion#options" rel="noopener ugc nofollow" target="_blank">文档</a>中选项的完整列表。</p><h2 id="de9a" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">使用API</h2><p id="425c" class="pw-post-body-paragraph jg jh hu ji b jj lg jl jm jn lh jp jq jr li jt ju jv lj jx jy jz lk kb kc kd hn dt translated">目前有6种方法可以让你更好地控制你的手风琴。让我们来看一个例子，看看你什么时候会用到它。</p><p id="9fef" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">假设在移动设备上的FAQ页面上，您希望关闭所有面板。</p><pre class="kf kg kh ki fq md lo me mf aw mg dt"><span id="c826" class="kl km hu lo b fv mh mi l mj mk">accordion.closeAll();</span></pre><p id="97f9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">就这么简单。查看<a class="ae ke" href="https://github.com/stuartjnelson/badger-accordion#methods" rel="noopener ugc nofollow" target="_blank"> Github repo </a>获取完整的方法列表。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="5b84" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">感谢阅读这篇文章！有问题/错误报告/认为文档可以改进吗？请在下方留言评论。查看Github <a class="ae ke" href="https://github.com/stuartjnelson/badger-accordion" rel="noopener ugc nofollow" target="_blank"> repo </a>获取详细文档。repo中有一个示例实现可以帮助您入门。</p><p id="1702" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">有一些很棒的人帮我做手风琴。我在<a class="ae ke" href="https://www.mrbandfriends.co.uk/" rel="noopener ugc nofollow" target="_blank">B先生&amp;朋友</a>big shout to the digital team工作时参与了这项工作。如果没有<a class="ae ke" href="https://github.com/getdave" rel="noopener ugc nofollow" target="_blank">戴夫·史密斯</a>的睿智之言，这根本谈不上什么好。最后，我最喜欢的数字设计师<a class="ae ke" href="https://twitter.com/taavetkelle" rel="noopener ugc nofollow" target="_blank">塔维·凯勒</a>，他创造了令人敬畏的标志，并给了我的演示风格<em class="mt">一些爱</em>(史蒂夫·理查森)。</p><p id="8528" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">也感谢<a class="ae ke" href="https://www.browserstack.com/" rel="noopener ugc nofollow" target="_blank"> BrowserStack </a>允许我免费使用他们的平台来支持我。</p><h2 id="28d2" class="kl km hu bd kn ko kp kq kr ks kt ku kv jr kw kx ky jv kz la lb jz lc ld le lf dt translated">我用来制作手风琴的资源</h2><ul class=""><li id="4b1b" class="lp lq hu ji b jj lg jn lh jr mu jv mv jz mw kd mx lv lw lx dt translated">读了奇妙的Tink写的一堆文章，我去博客寻求可访问性待遇。</li><li id="e0e8" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd mx lv lw lx dt translated">我强烈推荐Heydon Pickering的书<a class="ae ke" href="https://shop.smashingmagazine.com/products/inclusive-design-patterns" rel="noopener ugc nofollow" target="_blank"> <em class="mt">包容性设计模式</em> </a> <em class="mt"> </em>。</li><li id="7a01" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd mx lv lw lx dt translated">WAI-ARIA创作实践超级有用，对于一些看起来非常技术性的基础文档，我发现它非常可读</li><li id="c21c" class="lp lq hu ji b jj ly jn lz jr ma jv mb jz mc kd mx lv lw lx dt translated">我用<a class="ae ke" href="http://rollupjs.org" rel="noopener ugc nofollow" target="_blank"> Rollup.js </a>捆绑了手风琴，并真心推荐它作为一个工具。他们的启动指南很好，对于像捆绑插件或小网站这样的小用例，我更喜欢它而不是Webpack。</li></ul><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="my kk l"/></div></figure></div></div>    
</body>
</html>