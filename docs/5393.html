<html>
<head>
<title>How Flowtype moved me from Webstorm to VS Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flowtype如何将我从Webstorm转移到VS代码</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-flowtype-moved-me-from-webstorm-to-vs-code-369dfea8fa7d?source=collection_archive---------9-----------------------#2017-07-24">https://medium.com/hackernoon/how-flowtype-moved-me-from-webstorm-to-vs-code-369dfea8fa7d?source=collection_archive---------9-----------------------#2017-07-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/296ab17cda18cfe5ee00663a1b718274.png" data-original-src="https://miro.medium.com/v2/format:webp/1*-fmViKkZcbIevtOk1jXVog.png"/></div></figure><p id="b655" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">老实说，编写测试不是我最喜欢做的事情(但这并不意味着我不做)。我记得在某个时候，例如，我必须检查一个函数是否拒绝一个特定的值，我发现自己写了这样的东西:</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="10c8" class="kf kg hu kb b fv kh ki l kj kk">expect(typeof(var)).toEqual('number')</span></pre><p id="7cd7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">就这样。感觉就像我正在编写我自己的小型的、未进化的类型检查器——就像重新发明轮子一样，同时讨厌轮子。很快我意识到，我应该缩短这个过程，并开始使用静态类型检查器，而不是自己动手。我选择了Flow，因为它正好适合我当前的设置。</p><p id="e670" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我希望的主要优势之一是通过检查更改和分析其正确性来获得对代码的即时反馈——我想要的东西不仅能发现错误，还能提供某种程度的智能感知。Flow通过与您的代码编辑器集成来实现这一点。这是编辑的角色开始变得重要的时候，Webstorm开始变得糟糕。</p><h1 id="8be2" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">挫败感</h1><p id="1113" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">流槽包:<em class="ln">已安装</em>。</p><p id="5177" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">配置项目和Webstorm: <em class="ln">完成</em>。</p><p id="2166" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">类型标注:<em class="ln">追加</em>。</p><p id="aec0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">结果:<em class="ln">简直呆滞！</em></p><p id="484f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">除了Eslint check之外，在添加了Flowtype之后，Webstorm代码分析变得相当慢。有时候，在我的四核i7 (16GB内存，SSD) MBP上，显示所有错误和警告需要长达6秒的时间。我一直是JetBrains的忠实粉丝，从来没有对他们的产品不满意，但这是一个交易破坏者。在Webstorm上使用Flowtype是如此难以忍受，以至于我别无选择，只能四处寻找替代方案。</p><p id="b563" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在这一点上，在我们的办公室里围绕VS代码已经有了持续的噪音。在过去的两年中，社区也一直在称赞它的快速性，所以我知道当它涉及到性能时，我需要考虑它。让我的同事们非常惊讶的是，我对VS代码视而不见，继续和Webstorm一起过着我悲惨的生活。</p><h1 id="06a0" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">犹豫不决</h1><p id="a89f" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">而VS代码是免费和开源的，这是非常理想的；对我来说，是回到微软的想法阻止了我立即行动。老实说，与微软合作让我想起了一些黑暗的回忆。编程经验和事物的外观对我来说非常重要，当谈到微软时，我们谈论的是一家公司，它认为在一个面板上有多行标签并让数十亿人看到是可以的。</p><figure class="jw jx jy jz fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/8d4621d274cdd3813c23c830bb22cce4.png" data-original-src="https://miro.medium.com/v2/format:webp/1*RaRSXl__feEI_9_64yoWJQ.png"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">The horror of tabs</figcaption></figure><p id="268e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">经典的Visual Studio将这种混乱带到了另一个层次。我发现自己像一个MS Office用户而不是开发人员一样浏览向导，勾选复选框，选择一排排标签(他们的最爱)。</p><figure class="jw jx jy jz fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/45f8d9aaa2b4934c6c7f1fcbac62cb69.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wknDxWdJsFiBIDhTYNMMGw.png"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">This <em class="lt">is</em> a real screenshot from one of visualstudio documentations</figcaption></figure><p id="d281" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我记得曾经有一个类似于“将这个web解决方案转换成mvc解决方案”的菜单。只需点击它——无需键入任何代码或进行任何控制——它就会执行某种魔法，天知道它会在幕后对我的<a class="ae lo" href="https://hackernoon.com/tagged/codebase" rel="noopener ugc nofollow" target="_blank">代码库</a>做什么。</p><h1 id="73ca" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">跳跃</h1><p id="0fdc" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">所以两个月前，我硬着头皮决定下载VS代码。我刚刚非常仔细地访问了<a class="ae lo" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://<em class="ln">code</em>. visual studio . com/</a>并下载了编辑器(如果你错过了“code”这个词，你将会在<a class="ae lo" href="https://www.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://www.visualstudio.com/</a>找到，在那里你很可能会看到穿着西装的人微笑着向你竖起大拇指)。我不得不说VS Code和我在经典Visual Studio中的体验完全不同。它是如此简约，以一种令人愉快的方式让你专注于代码而不是别的。例如，看看这些设置，很好地呈现为JSON:</p><figure class="jw jx jy jz fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/13e5c9cf6671a327484bd32b7d259490.png" data-original-src="https://miro.medium.com/v2/format:webp/1*L5xO5-RPpeByFO3NRPBXZg.png"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">VS Code settings.json</figcaption></figure><p id="314e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这一点也不像我以前在视觉工作室遭受的创伤。设置Flowtype很简单，即时验证也很快。你的打字错误反映在你的“问题”列表中(⌘数字小键盘0)，这使得它们非常容易被发现并立即解决。</p><figure class="jw jx jy jz fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/0edfd200edc71dbbac7f33af332fce5d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*3OP3tW3ufAkDDP-u-7XBxA.png"/></div><figcaption class="lp lq fg fe ff lr ls bd b be z ek">Spotted type error</figcaption></figure><h1 id="aabd" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">结果呢</h1><p id="26db" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">总的来说，一个月后，我对自己的举动感觉很积极(也更富有了70%)。除了一些偶尔的烦恼(比如<a class="ae lo" href="https://github.com/Microsoft/vscode/issues/10546" rel="noopener ugc nofollow" target="_blank">不支持多终端标签，而是提供一个便宜的下拉菜单</a> ) VS Code已经是一个更快更令人愉快的编码伴侣。你可能更喜欢继续使用Webstorm，如果是这样，请在下面留下评论，让我知道为什么它对你很有效。对我来说，恐怕已经太晚了。有了VS代码，我觉得这是一段美好友谊的开始。</p><h1 id="f72e" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">推荐</h1><ul class=""><li id="624c" class="lu lv hu ja b jb li jf lj jj lw jn lx jr ly jv lz ma mb mc dt translated">如果你和我一样，来自Webstorm，我建议你安装<a class="ae lo" href="https://marketplace.visualstudio.com/items?itemName=k--kato.intellij-idea-keybindings" rel="noopener ugc nofollow" target="_blank">‘IntelliJ IDEA VS Code的按键绑定’</a>，你会立刻有宾至如归的感觉。然而，这可能并没有涵盖所有的快捷方式(例如，我过去常常按双shift来查找文件，现在在VS代码中，我用cmd+shift+a或简单的F1来做同样的事情)。</li><li id="a5e7" class="lu lv hu ja b jb md jf me jj mf jn mg jr mh jv lz ma mb mc dt translated">你可能会意识到，在VS代码的“问题”列表中，你的Eslint错误(⌘数字小键盘0)从一个很小的数字开始，然后随着你打开更多的文件，更多的错误堆积在列表上；这基本上是它的VS代码增量方式。换句话说，除非你打开所有的文件，否则你永远不会有一个完整的Eslint错误的全局列表。您可以通过创建一个任务来检查您的所有文件并更新您的“问题”列表，从而非常容易地解决这个问题。然后你偶尔运行这个任务，更新列表，继续你的生活(编码)。本条的<a class="ae lo" href="http://shripalsoni.com/blog/configure-eslint-in-visual-studio-code/" rel="noopener ugc nofollow" target="_blank">第<strong class="ja hv">节四</strong>中解释了该过程。</a></li><li id="f352" class="lu lv hu ja b jb md jf me jj mf jn mg jr mh jv lz ma mb mc dt translated">在VS代码上配置Flowtype和Eslint可能有点棘手。尽管Flowtype检查很流畅，但根据我的经验，Eslint检查似乎一点反应都没有，我花了一段时间才把它纠正过来。关于设置/配置的详细信息，请查看<a class="ae lo" href="https://hackernoon.com/configure-eslint-prettier-and-flow-in-vs-code-for-react-development-c9d95db07213" rel="noopener ugc nofollow" target="_blank">这篇文章</a>，作者<a class="ae lo" rel="noopener" href="/@sgroff04">肖恩·格罗夫</a>。</li></ul></div><div class="ab cl mi mj hc mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hn ho hp hq hr"><p id="8a76" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="ln">-</em><a class="ae lo" href="http://www.wearehive.co.uk/" rel="noopener ugc nofollow" target="_blank"><em class="ln">前端工程师Vahid Panjganj</em></a></p><p id="439a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="ln">感谢阅读。如果您有任何反馈、提示或技巧，请留下评论。如果你觉得这篇文章能对你的朋友有帮助，请分享。</em></p><p id="8712" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="ln">可以关注我，</em> <a class="ae lo" href="https://twitter.com/vpanjganj" rel="noopener ugc nofollow" target="_blank"> <em class="ln">这里</em> </a> <em class="ln">。你也可以关注</em><a class="ae lo" href="http://twitter.com/wearehive" rel="noopener ugc nofollow" target="_blank"><em class="ln">@ weave heve</em></a><em class="ln">，在这里我们可以发布关于技术、产品和设计相关的东西。</em></p><figure class="jw jx jy jz fq iu"><div class="bz el l di"><div class="mp mq l"/></div></figure></div></div>    
</body>
</html>