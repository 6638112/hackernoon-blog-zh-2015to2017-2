<html>
<head>
<title>Javascript and Functional Programming — Pt.2 : First Class Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript和函数式编程—第二部分:一级函数</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/javascript-and-functional-programming-pt-2-first-class-functions-4437a1aec217?source=collection_archive---------3-----------------------#2017-12-04">https://medium.com/hackernoon/javascript-and-functional-programming-pt-2-first-class-functions-4437a1aec217?source=collection_archive---------3-----------------------#2017-12-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="dd1c" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">注意:这是“Javascript和函数式<a class="ae jt" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>”系列中关于<a class="ae jt" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">学习JavaScript ES6+中的</a>函数式编程技术的一部分。点击这里查看<a class="ae jt" href="https://hackernoon.com/javascript-and-functional-programming-pt-3-pure-functions-d572bb52e21c" rel="noopener ugc nofollow" target="_blank">第三部分(该系列的下一篇文章)。</a>从头开始检查出<a class="ae jt" href="https://hackernoon.com/javascript-and-functional-programming-an-introduction-286aa625e26d" rel="noopener ugc nofollow" target="_blank"> &lt;第一部分&gt; </a></p></blockquote><h2 id="2e09" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">欢迎来到颠倒世界</h2><p id="961e" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">在我们开始之前，有些事情你需要知道…如果你曾经用JS编程过，你可能以前用过FP模式！这些模式和范例一直都存在，只是我们没有能够正确地看待它们。我们将从熟悉的领域开始，探索新的领域。事情可能会变得有点…嗯…奇怪。但是不要害怕！我们将一起生存！</p><figure class="ky kz la lb fq lc fe ff paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="fe ff kx"><img src="../Images/8e3352a54d776656866c5079ca0653b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*18ks2io2qJmi4_fyZseXlg.png"/></div></div></figure><h2 id="aa56" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">一级函数</h2><p id="be01" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">在Javascript中，函数是<em class="iw">第一类对象。</em>就像我之前提到的，我们不喜欢隐晦的术语，所以我们来解释一下。根据Mozilla开发者词汇表:</p><blockquote class="lj"><p id="cffd" class="lk ll hu bd lm ln lo lp lq lr ls js ek translated">当一种编程语言中的函数被像对待任何其他变量一样对待时，该语言被称为具有一级函数。例如，在这种语言中，函数可以作为参数传递给其他函数，可以由另一个函数返回，也可以作为值赋给变量。</p></blockquote><h2 id="15c2" class="ju jv hu bd jw jx lt jz ka kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr dt translated">作为常数的函数</h2><p id="6502" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">在下面的例子中，我们将声明一个const并给它分配一个匿名的arrow函数。</p><figure class="ky kz la lb fq lc fe ff paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="fe ff ly"><img src="../Images/319aca10ee854fba9b409973190ea55d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgArugTJxO64MLPKqALawg.png"/></div></div></figure><p id="bbfc" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">初始赋值后<em class="iw"> constFunction </em>是一个带有函数值的常量。我们通过在Chrome inspector中记录constFunction变量来验证这一点。因为<em class="iw"> constFunction </em>是一个函数，我们也可以调用它。</p><h2 id="a257" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">充当对象的键值</h2><p id="72bc" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">现在我们知道了变量可以保存函数，让我们用一个对象中的键值来演示一个函数。这对于以前做过面向对象编程的人来说应该很熟悉。</p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div></figure><h2 id="6d58" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">用作数组项</h2><p id="028d" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">当函数是第一类对象时，我们可以将它们作为数据传递给数组，就像其他数据类型一样。让我们使用Chrome控制台来检查一下。</p><figure class="ky kz la lb fq lc fe ff paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="fe ff mb"><img src="../Images/ae7e6e16347e2d7a91fb66511c560873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o7xZXXxvaLKj2CQ7cp1u9w.png"/></div></div></figure><h2 id="4f65" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">高阶函数</h2><p id="c285" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">现在我们已经热身了，让我们开始有趣的东西:)JS开发人员每天都会看到接受其他函数作为参数的<strong class="ix hv">函数。如果你来自一个不支持FP的语言，这看起来会有点奇怪😳😳😳😳😳😳😳让我们通过看一些例子来熟悉这个概念。</strong></p><p id="26f7" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated"><strong class="ix hv">接受回调函数的异步函数。</strong></p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">errorLoggerFunction is defined as a function with the ES6 arrow syntax</figcaption></figure><p id="7653" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">在这个例子中，我们将<em class="iw"> jsonfile </em> npm模块用于<em class="iw"> writeFile m </em>方法。<em class="iw"> writeFile </em>期待的第三个参数是一个函数。当<em class="iw"> jsonfile.writeFile </em>方法执行时，要么成功，要么失败。如果失败，它将执行<em class="iw">错误记录功能。</em>或者，我们可以使用更简洁的语法，去掉命名函数:</p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">It’s an anonymous function because we didn’t name it</figcaption></figure><p id="e227" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated"><strong class="ix hv">设置超时</strong></p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">Classic callback example</figcaption></figure><p id="340d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">这个例子显示了内置的异步<em class="iw"> setTimeout </em>方法，它接受两个参数。让我们稍微形式化一下，用函数式编程术语解释一下<em class="iw"> setTimeout </em>函数。</p><p id="13b0" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">让我们从读取函数的签名开始。我们可以观察到<em class="iw"> setTimeout </em>接受的参数数量是两个。在函数式编程中，一个函数接受的参数数量被称为它的实参数，来自一元、二元、三元等词。因此，我们可以说<em class="iw"> setTimeout </em>是arity 2，或者换句话说，它是一个二元函数。</p><p id="cb32" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated"><em class="iw"> setTimeout </em>期望的参数是一个函数和在执行给定函数之前等待的时间间隔。Hmmm … <strong class="ix hv">另一个接受函数作为输入的<em class="iw">函数？</em> </strong></p><p id="db2a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">在函数式编程中，这是如此普遍，以至于这些类型的函数甚至有一个名字！它们被称为<em class="iw">高阶函数。</em></p><blockquote class="lj"><p id="dda4" class="lk ll hu bd lm ln lo lp lq lr ls js ek translated">一个<strong class="ak">高阶函数</strong>是一个<strong class="ak">函数</strong>，它以一个<strong class="ak">函数</strong>作为自变量，或者返回一个<strong class="ak">函数</strong>。</p></blockquote><p id="624d" class="pw-post-body-paragraph iu iv hu ix b iy mg ja jb jc mh je jf kf mi ji jj kj mj jm jn kn mk jq jr js hn dt translated">给你。现在你可以在工作中/与朋友的任何随意交谈中低调地使用这个词，听起来像个老板！😂😂😂</p><figure class="ky kz la lb fq lc fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/1e6367a1e714e20407dca2ff51f3b34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*7Xj069uwbgDGI9Ng-VReWA.gif"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">You can’t be wrong if no one understands what you’re saying</figcaption></figure><p id="f1e3" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">让我们变得更有趣一点，在下一个例子中<strong class="ix hv">创建一个函数数组(列表)</strong>。</p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div></figure><p id="374f" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">在第5行，我们声明了一个函数数组。然后我们使用forEach方法迭代数组。<em class="iw"> forEach </em>是一个本地支持的ES6+函数，它接受一个函数来执行数组中的每一项。所以<strong class="ix hv"> <em class="iw"> forEach也是高阶函数！</em>T53】</strong></p><p id="56a1" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">我们的<em class="iw"> forEach </em>接受一个匿名函数作为输入。<em class="iw"> forEach </em>将遍历数组，隐式访问数组中的当前项，并调用它<em class="iw"> getCalculation。</em>值得注意的是<em class="iw"> forEach </em>隐式访问数组元素，相比之下，如果我们使用常规的for循环，我们会访问当前元素。<em class="iw">数组功能【I】</em>。数组中的每一项都是一个函数，因此我们使用它所期望的参数来调用<em class="iw"> getCalculation </em>。</p><p id="1be9" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">太棒了。这个例子说明了函数式编程中的<strong class="ix hv">函数可以像任何其他数据类型</strong>一样传递到数组(列表)中。<strong class="ix hv">功能无处不在！</strong></p><figure class="ky kz la lb fq lc fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/308b11bbc621b8c52e31d3e4bf90f307.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/1*dMfofA_xKmNsZ3_vTC1Bcw.gif"/></div></figure><p id="dd66" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">现在让我们构建我们自己的<em class="iw">高阶函数！</em></p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">addWrapper is a function that accepts a function as an argument</figcaption></figure><p id="7711" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">被调用时，<em class="iw"> addWrapper </em>函数返回一个简单的加法函数。通过调用<em class="iw"> addWrapper </em>函数的结果并给它提供两个参数，我们可以访问匿名加法函数。</p><p id="d983" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">我们可以更加疯狂地使用我们的间接方式，编写一个函数来返回一个函数，而这个函数又返回它自己的函数！</p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="lz ma l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">I hope you like curry!</figcaption></figure><p id="821b" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">这是函数式编程中非常强大的模式。在接下来的文章中，当我们谈到<em class="iw">curry和部分应用</em>时，我们会深入探讨这个问题。</p><p id="0f55" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">一级函数是任何函数式编程语言的基石。你应该从我们关于<em class="iw">一级函数</em>的讨论中吸取的要点是，函数可以被赋值为常量、变量、数组元素，甚至可以被设置为对象上的键值。另外，(也是最重要的？！)函数可以和函数之间来回返回— <strong class="ix hv">就像其他任何数据类型一样！</strong></p><p id="0bb9" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kf jh ji jj kj jl jm jn kn jp jq jr js hn dt translated">查看下一篇文章  <strong class="ix hv">，我们将讨论JS中的纯函数，为什么它们会让你的代码库更干净，以及你如何立即开始利用它们。</strong></p><h2 id="8656" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">如果这篇文章有帮助，请点击拍手👏按钮以示支持！⬇⬇</h2><p id="7f78" class="pw-post-body-paragraph iu iv hu ix b iy ks ja jb jc kt je jf kf ku ji jj kj kv jm jn kn kw jq jr js hn dt translated">可以在<a class="ae jt" href="https://www.instagram.com/omeragoldberg/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>、<a class="ae jt" href="https://www.linkedin.com/in/omer-goldberg-680b40100/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>和<a class="ae jt" rel="noopener" href="/@omergoldberg"> Medium </a>上关注我。</p><figure class="ky kz la lb fq lc"><div class="bz el l di"><div class="mn ma l"/></div></figure></div></div>    
</body>
</html>