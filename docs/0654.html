<html>
<head>
<title>|&gt; Operator in Scala</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">| &gt; Scala中的运算符</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/operator-in-scala-cbca7b939fc0?source=collection_archive---------0-----------------------#2016-02-28">https://medium.com/hackernoon/operator-in-scala-cbca7b939fc0?source=collection_archive---------0-----------------------#2016-02-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="8d2c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本周早些时候的一次代码交流中，一位同事在我的代码中看到这个<em class="jp">奇怪的</em>符号，他马上问这是什么。他似乎很惊讶地发现了<strong class="it hv"> F# </strong>拥有的管道转发运算符(<strong class="it hv"> | &gt; </strong>)。</p><p id="c0be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的朋友正在学习<strong class="it hv"> Scala </strong>，他想在上面使用<strong class="it hv"> | &gt; </strong>，Scala 缺少的一个构造。让我们看看如何将这个构造添加到每个<strong class="it hv"> Scala </strong>对象。</p><h1 id="987f" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">操作组合</h1><p id="83fd" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">使用<strong class="it hv"> | &gt; </strong>可以非常容易地编写函数。代码变得更容易编写和被他人理解。</p><p id="0eaa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们看一个例子:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="4997" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们能不能利用<strong class="it hv"> | &gt; </strong>这样这篇作文就更好写了？嗯，我们可以这样写:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="041b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们刚刚重新定义了<strong class="it hv"> s </strong>,因此我们不再使用嵌套的函数调用，而是将一个函数应用到一个对象，然后是另一个对象，以此类推，线性进行。</p><p id="34f7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我不知道在<strong class="it hv"> Scala </strong>中加入这样的东西是否有意义，但我们可以轻松实现它。</p><h1 id="d947" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Scala中的管道运算符</h1><p id="a9e6" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我们来看看<strong class="it hv"> F# </strong>是如何定义<strong class="it hv"> | &gt; </strong>的。</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="b23b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以在<strong class="it hv"> Scala中模仿同样的功能，</strong>让我们看看如何实现:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="e284" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们已经定义了一个类<strong class="it hv"> Pipe </strong>，它接收类型<strong class="it hv"> A </strong>的值<strong class="it hv"> a </strong>，因此我们可以在调用方法<strong class="it hv"> | &gt; </strong>时将函数<strong class="it hv"> f </strong>应用于<strong class="it hv"> a </strong>。</p><p id="4d9d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们还定义了一个对象<strong class="it hv"> PipeOps </strong>来完成我们想要的任何<em class="jp">对象</em>到<strong class="it hv">管道</strong>的<em class="jp">隐式转换。请看看文章<a class="ae la" rel="noopener" href="/@anicolaspp/implicit-conversions-in-scala-for-c-developers-92ea6c7902fa#.so89cekhv">c#开发者Scala中的隐式转换</a>，了解更多关于<em class="jp">隐式</em>的信息。</em></p><p id="c826" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦定义了这个，我们就可以在任何对象中使用<strong class="it hv"> | &gt; </strong>。让我们在实践中看到它。</p><p id="1f37" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">原写法后增加:</em> </strong>定义管道的新方式是</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="03ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">原文写到此处结束后添加。</em> </strong></p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="0bec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这里，我们将<strong class="it hv"> 5 </strong>转换为<strong class="it hv">管道(5) </strong>，然后我们将传递的函数<strong class="it hv"> f: x = &gt; x + 1 </strong>应用于它。<strong class="it hv"> Scala </strong> <em class="jp">隐式</em>在这个过程中帮助很大。</p><h1 id="1d88" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">地图</h1><p id="1437" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">让我们看看如何定义一个<strong class="it hv">映射</strong>函数。</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="3e7c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> map </strong>将函数<strong class="it hv"> f </strong>应用于<strong class="it hv">项</strong>中的每一项。这个签名有点令人不安，因为通常我们会将<strong class="it hv"> f </strong>作为第二个参数，将<strong class="it hv"> items </strong>作为第一个参数，以便利用一些<strong class="it hv"> Scala </strong>语法糖。但是，这并没有错，只是另外一种定义<strong class="it hv">地图</strong>的方式。</p><p id="1813" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以通过执行以下操作来调用<strong class="it hv">地图</strong>:</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="100a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们看另一个例子，它有各种各样的<strong class="it hv"> | &gt; </strong>操作符。</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="7a11" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意我们是如何定义<strong class="it hv">正方形</strong>的。它由<strong class="it hv">过滤器</strong>和<strong class="it hv">贴图</strong>使用<strong class="it hv"> | &gt; </strong>操作符合成。如果我们不得不使用<strong class="it hv"> | &gt; </strong>在不使用的情况下完成这个<em class="jp">，代码应该如下所示:</em></p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><p id="e624" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，这不是我们通常在<strong class="it hv"> Scala </strong>中定义这类函数的方式，但本质上是一样的。</p><p id="9b1c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们比较一下我们当前的定义和另一种方式，后者对Scala语言来说更自然。</p><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="ky kz l"/></div></figure><h1 id="3300" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">结论</h1><p id="734f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我们已经看到<strong class="it hv"> Scala </strong>如何组合函数，以及<strong class="it hv"> F# </strong>中如何使用<strong class="it hv"> | &gt; </strong>组合函数。我们还看到了如何在<strong class="it hv"> Scala </strong>中实现<strong class="it hv"> | &gt; </strong>操作符，并比较了我们如何通过使用或不使用管道转发操作符来定义这些函数。我不确定人们是否真的在使用<strong class="it hv"> | &gt; </strong>，因为<strong class="it hv"> Scala </strong>有另一个构造函数和代码样式来实现另一组可能性，然而，我们仍然可以使用<strong class="it hv"> | &gt; </strong>及其好处。</p><p id="da5a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望这篇文章对你有用，如果你喜欢它，请推荐它(<strong class="it hv">绿心</strong>)，这样其他人也能从中受益。</p><blockquote class="lb lc ld"><p id="c898" class="ir is jp it b iu iv iw ix iy iz ja jb le jd je jf lf jh ji jj lg jl jm jn jo hn dt translated"><a class="ae la" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae la" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae la" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae la" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="ir is jp it b iu iv iw ix iy iz ja jb le jd je jf lf jh ji jj lg jl jm jn jo hn dt translated">要了解更多信息，<a class="ae la" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">请阅读我们的“关于”页面</a> , <a class="ae la" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">喜欢/在脸书给我们发消息</a>，或者简单地，<a class="ae la" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank">发推文/DM @HackerNoon。</a></p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb le jd je jf lf jh ji jj lg jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae la" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae la" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote></div></div>    
</body>
</html>