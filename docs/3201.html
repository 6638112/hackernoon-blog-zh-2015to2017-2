<html>
<head>
<title>Architecting a Highly Available and Scalable Wordpress Using Docker Swarm, Traefik &amp; GlusterFS [Part I]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Docker Swarm、Traefik &amp; GlusterFS构建一个高度可用和可伸缩的Wordpress(第一部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/architecting-a-highly-available-and-scalable-wordpress-using-docker-swarm-traefik-glusterfs-a69186e9f0e?source=collection_archive---------4-----------------------#2017-03-20">https://medium.com/hackernoon/architecting-a-highly-available-and-scalable-wordpress-using-docker-swarm-traefik-glusterfs-a69186e9f0e?source=collection_archive---------4-----------------------#2017-03-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="e82f" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">放弃</h2></div><p id="2d66" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">此内容是我们在线课程/培训的一部分/灵感来源。在2019年的<strong class="jl hv">黑色星期五期间，我们对这些材料提供高达80%的折扣。</strong></p><p id="ede3" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您可以在这里享受折扣<a class="ae kf" href="http://bf.eralabs.io" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><a href="http://bf.eralabs.io"><div class="fe ff kg"><img src="../Images/f322772403668f8316905cec24b85586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0qBLWIa0zP-zJcrenZN8w.png"/></div></a></figure></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="84cd" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Docker是一个强大的工具，然而学习如何正确使用它可能需要很长时间，特别是在容器生态系统快速增长的情况下，这可能会令人困惑，这就是为什么我有了开始编写<a class="ae kf" href="http://painlessdocker.com" rel="noopener ugc nofollow" target="_blank">无痛Docker </a>的想法。</p></div><div class="ab cl ko kp hc kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="hn ho hp hq hr"><p id="3d62" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://painlessdocker.com" rel="noopener ugc nofollow" target="_blank">无痛Docker </a>是一个完整而详细的指南(针对初学者和中级水平)来<strong class="jl hv">创建</strong>、<strong class="jl hv">部署</strong>、<strong class="jl hv">优化</strong>、<strong class="jl hv">安全</strong>、<strong class="jl hv">跟踪</strong>、<strong class="jl hv">调试</strong>、<strong class="jl hv">日志</strong>、<strong class="jl hv">编排</strong>、&amp;、<strong class="jl hv">监控</strong> Docker和Docker集群以创建一个高</p><p id="a454" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这篇文章在<a class="ae kf" href="http://painlessdocker.com" rel="noopener ugc nofollow" target="_blank">无痛Docker书</a>的<strong class="jl hv">加成章节</strong>中有更详细的介绍。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><a href="http://painlessdocker.com"><div class="fe ff kv"><img src="../Images/a4cbf1d6bd53d9a4ee548c857c53e48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tyDWFMOE5hplODSFE8i8tw.jpeg"/></div></a></figure><p id="dcca" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用Docker、Docker Swarm、Amazon RDS (Aurora) + EC2、GlusterFS &amp; Traefik，我们将创建一个高度可用和可扩展的WordPress集群。</p><h1 id="a6b7" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">准备基础设施</h1><p id="df3e" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">我正在使用亚马逊的EC2机器，但是你可以使用你喜欢的基础设施。</p><p id="8dc1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">首先在两个不同的可用性区域中创建两台(<em class="lt"> EC2) </em>机器<strong class="jl hv">。</strong></p><p id="6ea6" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在本教程中，我使用:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="b41b" class="lz kx hu lv b fv ma mb l mc md">eu-west-1a<br/>eu-west-1b</span></pre><p id="8161" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">第一台机器将是群集群的<em class="lt">管理者</em>，第二台机器将是<em class="lt">工作者</em>。</p><p id="5dc3" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">这只是一个例子</strong>，但这取决于您希望集群的可用性如何，<strong class="jl hv">您可以创建3个(或更多)管理器来提高可用性</strong>。</p><p id="3437" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">管理器将有一个公共的<em class="lt"> IP </em>，因为它将接收所有传入的请求并将它们重定向到Docker，Docker将处理位于<em class="lt">管理器</em>(本例中是同一台机器)中的容器和位于<em class="lt">工作器</em>中的容器之间的内部负载平衡。</p><p id="d08f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">别忘了给每台机器加一个<em class="lt">弹性块存储器</em>。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff me"><img src="../Images/0ea168455074ecf909380bc06b206451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bGKIDlI-9jIYRtv0h11Ifw.png"/></div></div></figure><p id="d404" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们应该有两个实例:</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff mj"><img src="../Images/808b3e63b40d31f1d4c7e0e7df900c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_aog5KtTx4mntIzwkf58w.png"/></div></div></figure><p id="30ae" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用<code class="eh mk ml mm lv b">lsbsk</code>，我们可以验证<em class="lt"> EBS </em>是否安装在我们的机器上:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="a656" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">NAME</strong>    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT<br/>xvda    202:0    0   8G  0 disk <br/>`-xvda1 202:1    0   8G  0 part /<br/>xvdb    202:16   0  10G  0 disk</span></pre><p id="048e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在每台机器上，创建我们的<em class="lt">文件系统</em>:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="db55" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">sudo</strong> mkfs.xfs /dev/xvdb</span></pre><h1 id="0589" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">使用GlusterFS创建可信池</h1><p id="1c09" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">GlusterFS是一个横向扩展的网络连接存储文件系统。</p><p id="145c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用通用的现成硬件，您可以为媒体流、数据分析和其他数据和带宽密集型任务创建大型分布式存储解决方案。</p><p id="4703" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">GlusterFS最初由Gluster，Inc .开发，后来由Red Hat，Inc .开发，这是Red Hat在2011年收购Gluster的结果。</p><p id="c2ff" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们从安装<em class="lt"> GlusterFS </em>开始:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="f2d2" class="lz kx hu lv b fv ma mb l mc md">apt-get  <strong class="lv hv">install</strong> -y glusterfs-<strong class="lv hv">server</strong></span></pre><p id="8eff" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您正在使用另一个<em class="lt">操作系统</em>或另一个<em class="lt"> Linux </em>发行版，请根据您的需要修改这个命令。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/6b93549c6a48a16053cb1da51a35f567.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*bSMcHeZ-5Qlv4EF5Yvslow.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">GlusterFS Logo</figcaption></figure><p id="1c0e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">注意:</strong>我创建了一台没有公共<em class="lt"> IP </em>(即<em class="lt"> worker </em>)的机器，这台机器将无法访问互联网并安装<em class="lt"> GlusterFS </em>，除非你设置一个亚马逊<em class="lt"> NAT实例</em>。如果你只是做一些测试或者不熟悉<em class="lt"> AWS </em>，创建一个带有公共<em class="lt"> IP </em>的机器或者创建一个<em class="lt"> EIP </em>然后将其分配给机器。</p><p id="8922" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">创建一个挂载目标(<em class="lt">砖块</em>):</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="d590" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">mkdir</strong> -p /glusterfs/bricks/booksfordevops.com</span></pre><p id="2750" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">注意</strong>:砖块是底层磁盘<em class="lt">文件系统</em>上的一个目录。如果其中一块砖出现故障，则说明硬件故障导致数据不可用。</p><p id="bcd4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用<em class="lt"> fstab </em>锉刀将<em class="lt"> EBS </em>永久安装到新砖块上；</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="eb5c" class="lz kx hu lv b fv ma mb l mc md">/dev/xvdb /glusterfs/bricks/booksfordevops.com xfs    defaults        0 0</span></pre><p id="fdad" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在使用<code class="eh mk ml mm lv b">mount /dev/xvdb</code>来应用我们添加到<em class="lt"> fstab </em>文件中的修改。</p><p id="6476" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在每个<code class="eh mk ml mm lv b">/glusterfs/bricks/booksfordevops.com</code>挂载点下有一个用于<em class="lt"> GlusterFS </em>卷的目录:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="fa99" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">mkdir</strong> /glusterfs/bricks/booksfordevops.com/wordpress</span></pre><p id="ac30" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们将这几行添加到每台服务器上的<code class="eh mk ml mm lv b">/etc/hosts/</code>文件中，我们将在下面的步骤中用到它:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="7115" class="lz kx hu lv b fv ma mb l mc md">172.31.43.166 node1<br/>172.31.14.90 node2</span></pre><p id="443f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="lt">节点1 </em>是<em class="lt">管理者</em>节点2 是我们的<em class="lt">工人</em>。为了测试这个配置，您可以从<code class="eh mk ml mm lv b">node1</code>中执行:<code class="eh mk ml mm lv b">ping node2</code>:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="b39e" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">PING</strong> node2 (172.31.14.90) 56(84) bytes of data.<br/>64 bytes from node2 (172.31.14.90): icmp_seq=1 ttl=64 time=0.857 ms</span></pre><p id="3618" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从<em class="lt">管理器</em> ( <em class="lt"> node1 </em>)中，键入以下命令建立<em class="lt"> Gluster </em>集群节点信任关系:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="dbfd" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">gluster</strong> peer probe node2</span></pre><p id="0e0f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您应该有<code class="eh mk ml mm lv b">peer probe: success</code>作为输出，否则检查您的防火墙设置或跟踪您的日志。</p><p id="65df" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在我们有了一个工作的<em class="lt"> GlusterFS </em>可信池。</p><p id="cbd7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一个<em class="lt"> GlusterFS </em>存储池是一个存储服务器的可信网络(在我们的例子中是<em class="lt"> node1 </em>和<em class="lt"> node2 </em>)。当我们启动第一台服务器时，存储池仅由该服务器组成。当我们向存储池添加额外的<em class="lt"> node2 </em>存储服务器时(使用来自已经受信任的<em class="lt"> node1 </em>存储服务器的<em class="lt"> probe </em>命令)，我们创建了一个包含2台服务器的受信任存储池。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/0ce70857f853bdedc9f5bdd6fc06f21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*KdURDxNqOfyJciOH6Qj9pw.jpeg"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">An Example Of A GlusterFS Architecture</figcaption></figure><p id="9831" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在，从管理服务器，我们应该创建一个双向镜像卷，我们将使用以下命令将其命名为<code class="eh mk ml mm lv b">booksfordevops-com-wordpress</code>:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="8119" class="lz kx hu lv b fv ma mb l mc md">gluster volume create booksfordevops_com-wordpress replica 2 node1:/glusterfs/bricks/booksfordevops.com/wordpress node2:/glusterfs/bricks/booksfordevops.com/wordpress</span></pre><p id="a260" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您将得到以下输出:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="6fc9" class="lz kx hu lv b fv ma mb l mc md">volume <strong class="lv hv">create</strong>: booksfordevops_com-wordpress: success: please <strong class="lv hv">start</strong> the volume <strong class="lv hv">to</strong> access <strong class="lv hv">data</strong></span></pre><p id="9dee" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你输入<code class="eh mk ml mm lv b">gluster volume list</code>就可以看到音量</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="d989" class="lz kx hu lv b fv ma mb l mc md">booksfordevops_com-wordpress</span></pre><p id="08db" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在你应该使用<code class="eh mk ml mm lv b">gluster volume start booksfordevops_com-wordpress</code>来启动它:</p><p id="3f2f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果一切正常，您将得到与此类似的输出:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="6b52" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">volume</strong> start: booksfordevops_com-wordpress: success</span></pre><p id="e52f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们的卷应该是健康的，但是您可以使用<code class="eh mk ml mm lv b">gluster volume status</code>来检查它的状态:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="e360" class="lz kx hu lv b fv ma mb l mc md">Status <strong class="lv hv">of</strong> volume: booksfordevops_com-wordpress<br/>Gluster process                             TCP Port  RDMA Port  Online  Pid<br/>------------------------------------------------------------------------------<br/>Brick node1:/glusterfs/bricks/booksfordevop<br/>s.com/wordpress                             49152     0          Y       1868 <br/>Brick node2:/glusterfs/bricks/booksfordevop<br/>s.com/wordpress                             49152     0          Y       17591<br/>NFS Server on localhost                     N/A       N/A        N       N/A  <br/>Self-heal Daemon on localhost               N/A       N/A        Y       1894 <br/>NFS Server on node2                         2049      0          Y       17612<br/>Self-heal Daemon on node2                   N/A       N/A        Y       17613</span><span id="02ff" class="lz kx hu lv b fv mt mb l mc md">Task Status <strong class="lv hv">of</strong> Volume booksfordevops_com-wordpress<br/>------------------------------------------------------------------------------<br/>There are no active volume tasks</span></pre><p id="764b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">既然<em class="lt"> GlusterFS </em>服务器已经设置好了，我们需要设置客户端。让我们(在每个节点中)创建一个目录，供集群的每个节点中的客户端使用:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="17c4" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">mkdir</strong> -p /data/booksfordevops_com-wordpress</span></pre><p id="9a9c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们需要从<em class="lt">节点1 </em>在<em class="lt">节点2 </em>上挂载一个共享目录，并从<em class="lt">节点2 </em>在<em class="lt">节点1 </em>上挂载同一个目录。</p><p id="77e4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在<em class="lt">节点1 </em>上，在<code class="eh mk ml mm lv b">/etc/fstab</code>文件的末尾增加这一行:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="6481" class="lz kx hu lv b fv ma mb l mc md">node2:/booksfordevops_com-wordpress       /data/booksfordevops_com-wordpress       glusterfs     defaults,_netdev  0  0</span></pre><p id="1dfe" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在<em class="lt">节点2 </em>上，在<code class="eh mk ml mm lv b">/etc/fstab</code>文件的末尾增加这一行:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="3c11" class="lz kx hu lv b fv ma mb l mc md">node1:/booksfordevops_com-wordpress       /data/booksfordevops_com-wordpress       glusterfs     defaults,_netdev  0  0</span></pre><p id="d673" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然后在两台主机上，键入<code class="eh mk ml mm lv b">mount -a</code>。</p><h1 id="69c8" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">创造我们的蜂群</h1><p id="26e0" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">下一步是在两台主机上安装Docker:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="4c7d" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">curl</strong> -fsSL https://get.docker.com/ | sh</span></pre><p id="243c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然后初始化Swarm集群:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="0d1c" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">docker</strong> swarm init</span></pre><p id="7a62" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在<em class="lt">管理器</em>上执行最后一个命令，你将得到一个在<em class="lt">工作器</em>上执行的命令:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="338a" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">docker</strong> swarm join \<br/>    --token XXXXXX-x-xxxxxxxxxxxxxxxxxxxxxxxxx-xxxxxxxxxxxxx \<br/>    172.31.43.116:2377</span></pre><p id="946f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果一切正常，工人<em class="lt">将加入集群:</em></p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="2c3c" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">This</strong> node joined a swarm as a worker.</span></pre><h1 id="4115" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">部署我们的应用程序</h1><p id="ea90" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">在本教程中，我们想要创建一个<em class="lt"> Wordpress </em>博客，我们可以在我们的<em class="lt"> GlusterFS </em>可信池中托管<em class="lt"> Mysql </em>或<em class="lt"> MariaDB </em>数据库，但是在我的具体例子中，我创建了一个<em class="lt"> Aurora </em>数据库。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff mu"><img src="../Images/01857113ae4bc06694f06ffb61c0d6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SXsWsxMoB6yOxhxzFUAMhw.png"/></div></div></figure><p id="db9f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们将在我们创建的存储池中托管<em class="lt"> Wordpress </em>文件，指向<code class="eh mk ml mm lv b">/data/booksfordevops_com-wordpress</code>。</p><p id="c13d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是我们将要部署的Docker Compose v3文件:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="7086" class="lz kx hu lv b fv ma mb l mc md">version: '3'<br/>networks:<br/>  booksfordevops_com-network:</span><span id="6831" class="lz kx hu lv b fv mt mb l mc md">services:<br/>  wordpress:<br/>    image: wordpress:4.7.3-php7.1-apache<br/>    ports:<br/>      - 8000:80<br/>    networks:<br/>      - booksfordevops_com-network<br/>    volumes:<br/>      - /data/booksfordevops_com-wordpress:/var/www/html<br/>    environment:<br/>      WORDPRESS_DB_HOST: xxxxx.cluster-xxxxx.eu-west-1.rds.amazonaws.com:3306<br/>      WORDPRESS_DB_USER: user<br/>      WORDPRESS_DB_PASSWORD: password<br/>      WORDPRESS_DB_NAME: db_name<br/>      WORDPRESS_TABLE_PREFIX: wp_<br/>    deploy:<br/>      mode: replicated<br/>      replicas: 1<br/>      labels: [APP=WORDPRESS]<br/>      restart_policy:<br/>        condition: always</span></pre><p id="23a3" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv">注意:</strong>出于安全原因，不要将<em class="lt"> docker-compose.yml </em>文件与<code class="eh mk ml mm lv b">`/data/booksfordevops_com-wordpress</code>中的<em class="lt"> Wordpress </em>文件放在同一个目录中，它将被公开访问。</p><p id="dd3a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了部署我们的网站，我们应该执行以下命令:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="35a8" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">docker</strong> stack deploy --compose-file=docker-compose.yml booksfordevops_com</span></pre><p id="f503" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们可以使用类似于下面的命令来部署<em class="lt"> Wordpress </em>应用程序:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="ac59" class="lz kx hu lv b fv ma mb l mc md">docker network -d overlay booksfordevops_com-network</span><span id="f43e" class="lz kx hu lv b fv mt mb l mc md">docker service create --name booksfordevops_com_wordpress \<br/>--publish 8000:80 \<br/>--mount type=bind,source=/data/wp,target=/var/www/html \<br/>-e WORDPRESS_DB_HOST=x.cluster-x.eu-west-1.rds.amazonaws.com:3306 \<br/>-e WORDPRESS_DB_USER=user \<br/>-e WORDPRESS_DB_PASSWORD=password \<br/>-e WORDPRESS_DB_NAME=db_name \<br/>-e WORDPRESS_TABLE_PREFIX=wp_  \<br/>--replicas 1 \<br/>--network booksfordevops_com-network \<br/>wordpress:4.7.3-php7.1-apache</span></pre><p id="d065" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">但是将所有这些放在Docker Compose v3文件中是部署我们的应用程序的一种更有组织的方式。</p><p id="7c79" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你的全新安装可能会有一些前提问题，你需要执行这些命令:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="0df0" class="lz kx hu lv b fv ma mb l mc md">cd /data/booksfordevops_com-wordpress</span><span id="02fc" class="lz kx hu lv b fv mt mb l mc md"><strong class="lv hv">chown</strong> www-data:www-data  -R *</span><span id="65b4" class="lz kx hu lv b fv mt mb l mc md">find . -type d -<strong class="lv hv">exec</strong> <strong class="lv hv">chmod</strong> 755 {} \;  </span><span id="ba96" class="lz kx hu lv b fv mt mb l mc md">find . -type f -<strong class="lv hv">exec</strong> <strong class="lv hv">chmod</strong> 644 {} \;</span></pre><p id="c062" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在两个服务器中，您现在可以注意到<em class="lt"> Wordpress </em>文件从服务容器挂载到主机卷:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="aec1" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">ls</strong> -lrth /data/booksfordevops_com-wordpress</span><span id="ac7e" class="lz kx hu lv b fv mt mb l mc md">-rw-r<em class="lt">--r--  1 www-data www-data  418 Sep 25  2013 index.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 3.3K May 24  2015 wp-cron.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data  364 Dec 19  2015 wp-blog-header.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 1.6K Aug 29  2016 wp-comments-post.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 3.0K Aug 31  2016 xmlrpc.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 5.4K Sep 27 21:36 wp-activate.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 4.5K Oct 14 19:39 wp-trackback.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data  30K Oct 19 04:47 wp-signup.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 3.3K Oct 25 03:15 wp-load.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data  34K Nov 21 02:46 wp-login.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 2.4K Nov 21 02:46 wp-links-opml.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data  16K Nov 29 05:39 wp-settings.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data  20K Jan  2 18:51 license.txt</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 7.9K Jan 11 05:15 wp-mail.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 7.3K Jan 11 17:46 readme.html</em><br/>drwxr-xr-x 18 www-data www-data 8.0K Mar  6 16:00 wp-includes<br/>drwxr-xr-x  9 www-data www-data 4.0K Mar  6 16:00 wp-admin<br/>-rw-r<em class="lt">--r--  1 www-data www-data 2.7K Mar 19 19:41 wp-config-sample.php</em><br/>-rw-r<em class="lt">--r--  1 www-data www-data 3.2K Mar 19 19:41 wp-config.php</em><br/>drwxr-xr-x  4 www-data www-data   52 Mar 19 19:51 wp-content</span></pre><p id="db2a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您在每台服务器上检查创建的块，您会发现相同的文件:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="d454" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">ls</strong> -lrth /glusterfs/bricks/booksfordevops.com</span></pre><p id="62b5" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这一步，我们有一个工作的<em class="lt"> Wordpress </em>安装，你可以使用<em class="lt">管理器</em>的<em class="lt"> IP </em>地址和端口<em class="lt"> 8000 </em>来访问它。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff mv"><img src="../Images/b5c2ee5ce5b6e2216fe49fbca45ee2b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MoVj10AjkC_iT_N1vJva_w.png"/></div></div></figure><h1 id="0e03" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">添加Traefik:</h1><p id="c6c8" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated"><em class="lt"> Træfɪk </em>是一个<em class="lt"> HTTP </em>反向代理和负载均衡器，用于部署微服务并支持Docker和Docker Swarm(以及其他后端，如<em class="lt">mesos</em>/<em class="lt">marathon</em>、<em class="lt"> Consul </em>、<em class="lt"> Etcd </em>、<em class="lt"> Zookeeper </em>、<em class="lt"> BoltDB </em>、<em class="lt"> Amazon ECS </em>和<em class="lt"/></p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff mw"><img src="../Images/28948a87e5ae5e4d3a354f55fc80907f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rb3X-B9O0b8w_i7nPOBy7g.png"/></div></div></figure><p id="9a1a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们创建一个服务，在管理器(<code class="eh mk ml mm lv b">--constraint=node.role==manager</code>)上运行<em class="lt"> Traefik </em>。反向代理将在单独的网络上运行(<code class="eh mk ml mm lv b">--network traefik-net</code>)。</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="8ea5" class="lz kx hu lv b fv ma mb l mc md">docker network -d overlay traefik-net;</span><span id="6b35" class="lz kx hu lv b fv mt mb l mc md">docker service create --name traefik \<br/>--constraint=node.role==manager \<br/>--publish 80:80 \<br/>--publish 8080:8080 \<br/>--mount type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock \<br/> --network traefik-net \<br/>traefik:v1.1.0-rc1 \<br/>--docker \<br/>--docker.swarmmode \<br/>--docker.domain=traefik \<br/>--docker.watch \<br/>--web</span></pre><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff mx"><img src="../Images/d3c21e5ad84e169d83effed9120daa46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1HM408_ztmtbwJ7dH9fNYg.png"/></div></div></figure><h1 id="4a40" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">更新Wordpress服务</h1><p id="4cd5" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">为了让我们的<em class="lt"> Wordpress </em>网站与<em class="lt"> Traefik </em>一起工作，我们将更新它的<em class="lt"> docker-compose </em>文件，并将其添加到同一个<em class="lt"> Traefik </em>网络<code class="eh mk ml mm lv b">traefik-net</code>。我还添加了一些与<em class="lt"> Traefik </em>相关的标签，如<em class="lt">端口</em>和<em class="lt">前端。规则</em>:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="8517" class="lz kx hu lv b fv ma mb l mc md">version: '3'<br/>networks:<br/>  traefik-net:<br/>    external: true<br/>  booksfordevops_com-network:</span><span id="b35d" class="lz kx hu lv b fv mt mb l mc md">services:<br/>  wordpress:<br/>    image: wordpress:4.7.3-php7.1-apache<br/>    ports:<br/>      - 8001:80<br/>    networks:<br/>      - booksfordevops_com-network<br/>      - traefik-net<br/>    volumes:<br/>      - /data/booksfordevops_com-wordpress:/var/www/html<br/>    environment:<br/>      WORDPRESS_DB_HOST: xxxx.cluster-xxxxx.eu-west-1.rds.amazonaws.com:3306<br/>      WORDPRESS_DB_USER: user<br/>      WORDPRESS_DB_PASSWORD: password<br/>      WORDPRESS_DB_NAME: db_name<br/>      WORDPRESS_TABLE_PREFIX: wp_</span><span id="a267" class="lz kx hu lv b fv mt mb l mc md">    deploy:<br/>      mode: replicated<br/>      replicas: 2<br/>      labels: <br/>        APP: WORDPRESS<br/>        traefik.port: 80<br/>        traefik.frontend.rule: "Host:booksfordevops.com,www.booksfordevop.com"</span><span id="d420" class="lz kx hu lv b fv mt mb l mc md">      restart_policy:<br/>        condition: on-failure</span></pre><p id="d885" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用以下命令更新部署</p><p id="a473" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh mk ml mm lv b">docker stack deploy --compose-file=docker-compose.yml booksfordevops_com</code></p><p id="e7bf" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您可以使用简单的<em class="lt"> curl </em>来检查配置的域是否可访问，在我的例子中:</p><pre class="kh ki kj kk fq lu lv lw lx aw ly dt"><span id="455c" class="lz kx hu lv b fv ma mb l mc md"><strong class="lv hv">curl</strong> -H Host:booksfordevops.com  <a class="ae kf" href="http://127.0.0.1" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1</a></span></pre><p id="5001" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您还可以转到health dashboard，以便查看我们的应用程序的响应时间和状态代码等信息。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff my"><img src="../Images/a439736084763bb462e65154bf4bc7d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8BKlRaeoR6GNlhx4wkRNg.png"/></div></div></figure><h1 id="835d" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">我们学到了什么</h1><p id="fd99" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">我们看到了如何构建一个高度可用的网站，其中存储和计算分布在两个不同的区域。</p><p id="8a3c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在每台<em class="lt"> EC2 </em>机器中，我们可以将<em class="lt"> Wordpress </em>扩展到多个容器，并拥有另一个级别的弹性。</p><p id="a085" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们的反向代理可以检查每个容器的健康状况，并设法将流量重定向到工作的容器。</p><p id="0c55" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们使用现代工具和技术，如:</p><ul class=""><li id="de22" class="mz na hu jl b jm jn jp jq js nb jw nc ka nd ke ne nf ng nh dt translated">亚马逊RDS</li><li id="0b0f" class="mz na hu jl b jm ni jp nj js nk jw nl ka nm ke ne nf ng nh dt translated">亚马逊EC2</li><li id="3d40" class="mz na hu jl b jm ni jp nj js nk jw nl ka nm ke ne nf ng nh dt translated">GlusterFS</li><li id="f09a" class="mz na hu jl b jm ni jp nj js nk jw nl ka nm ke ne nf ng nh dt translated">码头工人</li><li id="557a" class="mz na hu jl b jm ni jp nj js nk jw nl ka nm ke ne nf ng nh dt translated">码头工人群</li><li id="ee12" class="mz na hu jl b jm ni jp nj js nk jw nl ka nm ke ne nf ng nh dt translated">特拉菲克</li></ul><p id="0c0a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们的网站正在运行，您可以订阅并等待DevOps 发布的<a class="ae kf" href="http://booksfordevops.com/" rel="noopener ugc nofollow" target="_blank">书籍。</a></p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><a href="http://booksfordevops.com/"><div class="fe ff nn"><img src="../Images/5bb08ebcc9f605e841b04d324a3606df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l6b5CrjTWuW59eQDAjwzXg.png"/></div></a></figure><h1 id="f5e4" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">连接更深</h1><p id="d1f8" class="pw-post-body-paragraph jj jk hu jl b jm lo iv jo jp lp iy jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">本文是<a class="ae kf" href="http://painlessdocker.com/" rel="noopener ugc nofollow" target="_blank">无痛Docker书的一部分:释放Docker的力量&amp;它的生态系统</a>。</p><p id="fd38" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://painlessdocker.com" rel="noopener ugc nofollow" target="_blank">无痛码头</a>是一个实用的指南，以现实世界为基础<strong class="jl hv">来掌握<strong class="jl hv">码头</strong>和<strong class="jl hv">其生态系统</strong>。</strong></p><p id="644d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">无痛Docker是一个完整而详细的指南，用于创建、部署、优化、保护、跟踪、调试、记录、编排和监控Docker和Docker集群。通过这本书，你将学习如何在开发和生产环境中使用Docker，以及它们之间的DevOps管道，以构建现代微服务应用。</p><p id="5da7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你对这篇文章有共鸣，请订阅<a class="ae kf" href="http://devopslinks.com" rel="noopener ugc nofollow" target="_blank"> DevOpsLinks </a> : <strong class="jl hv">一个由来自世界各地&amp;热情的DevOps、SysAdmins &amp;开发人员组成的在线社区</strong>。</p><p id="5d3d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你可以在<a class="ae kf" href="https://twitter.com/eon01" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kf" href="https://clarity.fm/aymenelamri/" rel="noopener ugc nofollow" target="_blank"> Clarity </a>或者我的<a class="ae kf" href="http://eon01.com/blog" rel="noopener ugc nofollow" target="_blank">博客</a>上找到我，你也可以查看我的书:<a class="ae kf" href="http://saltstackfordevops.com" rel="noopener ugc nofollow" target="_blank">salt stack For devo PS</a>&amp;<a class="ae kf" href="http://thejumpstartup.com" rel="noopener ugc nofollow" target="_blank">The jump start Up</a>。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div class="ab fr cl no"><img src="../Images/9be788c6c2620a6f8af98543b867b658.png" data-original-src="https://miro.medium.com/v2/1*koUfnfQ-YkmwubsUs4zwwQ.gif"/></div></figure><p id="bd81" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你喜欢这篇文章，请推荐并分享给你的追随者。</p><div class="kh ki kj kk fq ab cb"><figure class="np kl nq nr ns nt nu paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="np kl nq nr ns nt nu paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="np kl nq nr ns nt nu paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="nv nw nx"><p id="f922" class="jj jk lt jl b jm jn iv jo jp jq iy jr ny jt ju jv nz jx jy jz oa kb kc kd ke hn dt translated"><a class="ae kf" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿美族家庭的一员。我们现在<a class="ae kf" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kf" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jj jk lt jl b jm jn iv jo jp jq iy jr ny jt ju jv nz jx jy jz oa kb kc kd ke hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kf" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kf" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="fe ff ob"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>