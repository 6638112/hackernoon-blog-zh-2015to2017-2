<html>
<head>
<title>How Changing Ad Networks Made My Site 8x Faster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不断变化的广告网络如何让我的网站速度提高8倍</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-changing-ad-networks-made-my-site-8x-faster-47ffc989ed72?source=collection_archive---------6-----------------------#2017-03-07">https://medium.com/hackernoon/how-changing-ad-networks-made-my-site-8x-faster-47ffc989ed72?source=collection_archive---------6-----------------------#2017-03-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="85ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个关于我如何做了一个简单(愚蠢)的选择来转换广告网络以增加几个百分点的广告收入的故事。然而它无知地将一个<strong class="it hv"> &lt; 2秒的加载时间变成了平均15秒。</strong>再也不会。</p><p id="49f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">跳到底部看TLDR；</p><h1 id="0853" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">简单的网站</h1><p id="3a43" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">我为自己建立了各种各样的网站，然后放在网上，以防其他人喜欢。如果它引起了足够的兴趣，我会在上面打一些广告，希望它能帮助支付托管费用。</p><p id="7510" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其中一个网站是一个简单的工具，可以帮助你找到一首歌的音乐基调。它自2011年以来一直存在，每天有大约1000名访客，每月带来不到100美元的广告收入<strong class="it hv">，在页面页脚处有一个谷歌广告。没什么可吹嘘的，但是嘿——付账单，然后更多。</strong></p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff ks"><img src="../Images/c472fc80e3c22f983b007394638ed476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJo5KOte2MDcD4qf6nGNfQ.png"/></div></div></figure><h1 id="8edb" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">竞争广告网络</h1><p id="b3a2" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">因此，当另一家广告网络向我保证他们会支付比AdSense更高的价格时，我想我不会有什么损失。他们给了我一个账户，给了我一个片段，我把它换了几天，看看它的表现如何。</p><p id="a484" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们是对的——统计数据显示，我比从<a class="ae le" href="https://hackernoon.com/tagged/google" rel="noopener ugc nofollow" target="_blank">谷歌</a>赚的要多一点，而且广告似乎也没有更显眼。当我确认他们支付，我决定让他们全职工作。</p><p id="cda0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">与另一家广告公司做生意更让人放心，因为他们引起了我的注意。我可以和真实的人交谈(我从来没有听到过站长那边的声音)。他们想要我，在一个被简化为数字的世界里，这感觉很好。</p><h1 id="d3dc" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">几个月</h1><p id="e04e" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">事情持续了几个月，没有大的变化。网站嗡嗡作响。广告被投放。我得到报酬。太好了。</p><p id="e0e3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，当我看着我的总收入，并把它们与我在AdSense上的收入进行比较时，它似乎并没有高出多少。统计数据告诉我，相比AdSense的每分钟0.83美元，我的每分钟收入为1.00美元，这个数字应该能让我在月底多喝几杯啤酒。但是我的银行账户余额并没有显示出来。</p><p id="1ae4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(根据记录，我知道每分钟1美元的费率相当低。我知道我可以放置更多的广告，并把它们放在更突出的位置，以增加这一点，但我不想惹恼我的访客。这只是好玩的钱，对我来说不值得。</p><p id="4f02" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管收入总体上没有增长，但我决定继续持有，还有一个原因:保险。我听说过关于AdSense账户被关闭的恐怖故事，几乎没有任何解释，也没有真正的上诉能力。这种选择可能是一个很好的合作伙伴，在谷歌判定我有气味的情况下可以依靠。</p><p id="beba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我决定继续播放他们的广告。继续使用它们没有坏处，对吗？</p><p id="52a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">错了。</strong></p><h1 id="6531" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">站点速度工具</h1><p id="6cab" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">我的另一个项目是网站速度分析工具。它以不同的配置定期运行速度测试。在寻找测试我的新工具的网站时，我添加了所有我自己的网站。</p><p id="e979" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我立刻发现了一个异常点:</p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff lg"><img src="../Images/2a52e09b245be8c985d86c31c458d976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CV2TRJuvUjpMQQEqtd4P-A.png"/></div></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Any of these sites stand out to you? Blue line, we’re looking at you!</figcaption></figure><p id="fb36" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上面的蓝线看起来很可怕！任何超过5秒的加载时间对我来说都是肮脏的。但是持续超过15秒？！<strong class="it hv">那只是酒囊饭袋。</strong></p><p id="4f37" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是的，如果你猜蓝线是我们到目前为止一直在讨论的网站，你是对的。</p><h1 id="02b8" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">进一步调查</h1><p id="2daf" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">我查看了这些长页面加载时间的详细视图，不难发现罪魁祸首是什么:</p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff ll"><img src="../Images/6cdfd860d66ec1a334c9af79be578f1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7qzt0MCh0WdUwXS4xk6Oyg.png"/></div></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Over 200 requests on ads alone!</figcaption></figure><p id="6b46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我很震惊。不仅仅是没有广告的网站由6个资源组成，其余的都是广告——这是多么明显！你在生活中见过<strong class="it hv">这么多的广告像素吗？我需要洗个澡。</strong></p><p id="6b30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我立即删除了广告代码，重新打开了AdSense。看看有什么不同——你能猜出我是哪一天做的改动吗？</p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div class="fe ff lm"><img src="../Images/cfe4e2cf91a2ec77ef1694410079cef5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*TTvOSmDNJfWqoCZVhPoOxQ.png"/></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Reverting the new ad network’s snippet back to AdSense</figcaption></figure><p id="8dda" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一个普通的页面加载现在的样子:</p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff ln"><img src="../Images/7ee5cbb8bcbe5fa1ba2f44f8bb75ac81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3OLwhow0tYlN5SLHDLUxg.png"/></div></div></figure><p id="803b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">256对22项请求。</p><p id="ff63" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">16.5秒与1.5秒的加载时间</p><p id="09b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">530对368 KB——好吧，这个没有那么戏剧化，但对我来说，任何更轻的东西都更好。</p><p id="183b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请记住，这里还有另一个重要的指标:<strong class="it hv">速度指数。</strong>这是对<em class="lf">感知页面负载</em>的一种衡量，主要衡量页面在视觉上的变化。这是通过每隔一段时间截取屏幕截图并将其与最终加载状态进行比较来实现的。例如，整个页面可能需要5秒来呈现，但如果在2秒时它在美学上没有太大变化(也许它只是在最后3秒加载了一些广告)，那么速度指数是2000(该指标是无单位的，因为它实际上并不测量时间，但您可以将其视为2000毫秒)。在这种情况下，我们看到的速度指数是1140对640。差点被砍成两半，但老实说，原作还不算太差。然而，有一个额外的200+请求仍然只是让我畏缩。</p><p id="d3bb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我决定看看其他方面的表现。也许只是有一个特定的区域在拖累事情？或者，也许台式机的表现不如移动流量？</p><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff lo"><img src="../Images/6f23aa1a469a27419da1fdf054a76ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hv5sb6GFh__OMNGZaf12og.png"/></div></div><figcaption class="lh li fg fe ff lj lk bd b be z ek">Checking out the different from different regions, devices, and views.</figcaption></figure><p id="d6c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虽然有些领域在广告网络膨胀的情况下表现得比其他领域更好，但很明显，没有广告网络，每个场景都会变得更好。</p><h1 id="beb0" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">广告网络回应</h1><p id="7939" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">几天后，广告网络<strong class="it hv">的某人真的找到了我</strong>，说他们注意到我们删除了代码，并询问他们是否能帮上什么忙。还记得我有多喜欢他们给我关注吗？这是另一个例子——他们实际上做得很巧妙，不觉得毛骨悚然。</p><p id="26ba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我告诉他们我发现了什么，给他们看了一些图表，他们实际上提供了<strong class="it hv">‘优化我的代码片段’</strong>以便它执行更少的请求。不知道为什么他们没有在第一时间给我一个优化的片段，但我给了他们一个机会来挽回自己，并重新安装了他们的像素。</p><p id="6fe4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不幸的是，这仍然不够接近。通过我的网站速度统计，我可以看到它在两个地区表现稍好(~ 10秒)，但另一个地区表现更差(&gt; 60秒！).不，谢谢你。</p><p id="57d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">我已经恢复了站长身份。</strong></p><p id="6639" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="lf">注意——我故意不命名这个另类广告网络。他们是由好人组成的，也许对某些人来说有一个好的解决方案，但不是我。我不想这篇文章指责任何人，只是想让其他人意识到微小的变化对你的速度有很大的影响。也请注意，我没有任何方式隶属于谷歌或AdSense。</em></p><h1 id="30fd" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">经验教训</h1><p id="1079" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">如果你跳过这个TLDR，你应该知道:</p><ul class=""><li id="95ff" class="lp lq hu it b iu iv iy iz jc lr jg ls jk lt jo lu lv lw lx dt translated">广告CPM <strong class="it hv">增加一点点从长远来看可能不值得</strong>。影响SEO和访问者参与度的网站速度是一个需要考虑的重要方面。</li><li id="0f7b" class="lp lq hu it b iu ly iy lz jc ma jg mb jk mc jo lu lv lw lx dt translated">谁知道一个单独的javascript片段会比站点本身加载20倍的资源。谁知道周围有&gt; 200 ad像素？</li><li id="c8ba" class="lp lq hu it b iu ly iy lz jc ma jg mb jk mc jo lu lv lw lx dt translated">虽然有AdSense的替代品，但它们仍然在广告客户供应、支付和速度方面占据主导地位。</li><li id="2279" class="lp lq hu it b iu ly iy lz jc ma jg mb jk mc jo lu lv lw lx dt translated">不要脸的塞— <strong class="it hv">时刻注意自己的网速</strong>(不要只检查一次！).看看我的速度度量工具，让你的网站得到定期监测:<a class="ae le" href="https://www.machmetrics.com/?src=medium" rel="noopener ugc nofollow" target="_blank">速度度量</a></li></ul><div class="kt ku kv kw fq ab cb"><figure class="md kx me mf mg mh mi paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="md kx me mf mg mh mi paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="md kx me mf mg mh mi paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mj mk ml"><p id="f922" class="ir is lf it b iu iv iw ix iy iz ja jb mm jd je jf mn jh ji jj mo jl jm jn jo hn dt translated"><a class="ae le" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae le" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae le" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>的机会。</p><p id="708a" class="ir is lf it b iu iv iw ix iy iz ja jb mm jd je jf mn jh ji jj mo jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae le" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae le" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kt ku kv kw fq kx fe ff paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="fe ff mp"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kt ku kv kw fq kx"><div class="bz el l di"><div class="mq mr l"/></div></figure></div></div>    
</body>
</html>