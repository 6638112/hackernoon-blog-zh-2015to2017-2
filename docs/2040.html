<html>
<head>
<title>Prototyping with Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Firebase制作原型</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/prototyping-with-firebase-5d987c2169ac?source=collection_archive---------6-----------------------#2017-01-03">https://medium.com/hackernoon/prototyping-with-firebase-5d987c2169ac?source=collection_archive---------6-----------------------#2017-01-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="aa14" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">firebase所做的事情非常出色。他们简化了一个可定制的、分布式的、非关系数据库，前端开发人员可以构建一个可行的<a class="ae jp" href="https://hackernoon.com/tagged/prototype" rel="noopener ugc nofollow" target="_blank">原型</a>，而无需投资后端资源。这种便利可以节省开发人员宝贵的设置时间，但要注意的是，firebase的基本实现并不是所有项目的<em class="jq">正确</em>答案。</p><p id="fe68" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">如果</em>您的项目需要关系数据库和用户连续性，那么您应该使用SQL数据库，以避免在不影响用户体验的情况下进行这些更改的成本和尴尬。这里有定制数据结构<a class="ae jp" href="https://firebase.google.com/docs/database/web/structure-data" rel="noopener ugc nofollow" target="_blank">的方法，但是掌握这些工具超出了本文的范围。</a></p><p id="2957" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">如果</em>您需要的只是跟踪用户、基本的聚合信息或单个数据表，那么使用firebase是一个很好的选择。OAuth，WebSockets，免费CDN，免费托管，以及足够大的限制，只有当你有足够多的用户来证明真正的投资是合理的，你才需要付出代价。</p><p id="c87e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当你开始使用firebase时，你会注意到<a class="ae jp" href="https://www.firebase.com/" rel="noopener ugc nofollow" target="_blank">https://www.firebase.com/</a>实际上是一个旧的、不再可行的firebase应用程序的网站。鉴于谷歌仍然拥有firebase，这对我来说是一个难题。如果你在意识到自己走错了地方之前，花时间翻看那些旧文件，你就会理解我的困惑和沮丧。你要保存的链接其实是<a class="ae jp" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/</a>。</p><p id="9895" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在您的项目中启动firebase非常简单，只需创建一个firebase.js文件，实例化firebase，然后导出firebase数据库的实例以便在您的应用程序中使用。Firebase为提供者提供了简单而安全的OAuth和几个选项。您只需要启用想要使用的登录方法，并按照步骤向该提供商注册您的应用程序。</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff jr"><img src="../Images/24b4c5325bdb0d8530924f3ff805bf58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5UU0DRjOjrfzVLF-cwTa8Q.png"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Sign-In Providers with Firebase</figcaption></figure><p id="9731" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一个代码示例，包括数据库的导出和登录/注销方法。</p><pre class="js jt ju jv fq kh ki kj kk aw kl dt"><span id="230a" class="km kn hu ki b fv ko kp l kq kr">'use strict';<br/>import firebase from 'firebase';</span><span id="3087" class="km kn hu ki b fv ks kp l kq kr">const config = {<br/>    apiKey: '##############',<br/>    authDomain: 'turing-fridays.firebaseapp.com',<br/>    databaseURL: '<a class="ae jp" href="https://turing-fridays.firebaseio.com'" rel="noopener ugc nofollow" target="_blank">https://turing-fridays.firebaseio.com'</a>,<br/>    storageBucket: '###########',<br/>    messagingSenderId: '#########'<br/>  };<br/>firebase.initializeApp(config);</span><span id="ddc5" class="km kn hu ki b fv ks kp l kq kr">const auth = firebase.auth();<br/>const provider = new firebase.auth.GithubAuthProvider();</span><span id="7690" class="km kn hu ki b fv ks kp l kq kr">export default firebase;<br/>export const signIn = () =&gt; auth.signInWithPopup(provider);<br/>export const signOut = () =&gt; auth.signOut();</span></pre><p id="0256" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在您的应用程序中，您现在可以使用firebase并访问用户对象。在一个加载函数中(我使用react的ComponentDidMount)，firebase将检查用户是否有一个活动的身份验证会话。如果是这样，我可以将该用户对象放在一边供以后使用。如果没有，我可以显示一个登录屏幕。</p><pre class="js jt ju jv fq kh ki kj kk aw kl dt"><span id="5fdb" class="km kn hu ki b fv ko kp l kq kr">firebase.auth().onAuthStateChanged((newUser) =&gt; {<br/>      this.setState({ user: newUser });<br/>    });</span></pre><p id="6810" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您还可以在firebase.js文件中创建一个数据库引用对象，导出该对象，并可以在应用程序中添加、更新和删除数据库对象。</p><pre class="js jt ju jv fq kh ki kj kk aw kl dt"><span id="c127" class="km kn hu ki b fv ko kp l kq kr">export const reference = firebase.database().ref('messages');</span></pre><p id="acaf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">稍后在我的应用程序中，我可以使用该参考:</p><pre class="js jt ju jv fq kh ki kj kk aw kl dt"><span id="2bfc" class="km kn hu ki b fv ko kp l kq kr">let message = { message: title.value };</span><span id="7018" class="km kn hu ki b fv ks kp l kq kr">reference.push(message);<br/>reference.update</span></pre><p id="a010" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是使用firebase的中央数据存储和OAuth创建基本应用程序所需的全部代码。您可以更进一步，让您的应用程序订阅firebase数据，这样当服务器上发生更新时，它们就会主动推送给用户。为此，我们可以订阅一个firebase“值”事件监听器，它在firebase中的值发生变化时触发。我也把它放在我的加载函数中，就在解析用户的下面。</p><pre class="js jt ju jv fq kh ki kj kk aw kl dt"><span id="426a" class="km kn hu ki b fv ko kp l kq kr">reference.limitToLast(100).on('value', (snapshot) =&gt; {<br/>      const messages = snapshot.val() || {};<br/>      this.setState({<br/>        messages: map(messages, (val, key) =&gt; extend(val, { key }))<br/>      });<br/>    });</span></pre><p id="d15a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Firebase解决了OAuth、访问用户数据、WebSockets和基本数据库特性等问题，可以加快基本应用程序和原型的开发周期。正如我最初提到的，每个项目都有独特的需求。重要的是选择对你的项目有意义的技术栈，而不是对开发者来说最容易的技术栈。</p><p id="6edb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Firebase对于概念验证和基本数据库需求来说是一个很好的解决方案，但对于大多数公司来说不是一个长期的解决方案。如果你有一个可行的业务，使用定制后端会更便宜。<em class="jq">如果</em>你不知道你是否有一个可行的业务，那么firebase是一个简单的答案，可以快速将产品推向市场进行测试。</p><div class="js jt ju jv fq ab cb"><figure class="kt jw ku kv kw kx ky paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kt jw ku kv kw kx ky paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kt jw ku kv kw kx ky paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="kz la lb"><p id="f922" class="ir is jq it b iu iv iw ix iy iz ja jb lc jd je jf ld jh ji jj le jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jq it b iu iv iw ix iy iz ja jb lc jd je jf ld jh ji jj le jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="js jt ju jv fq jw fe ff paragraph-image"><div role="button" tabindex="0" class="jx jy di jz bf ka"><div class="fe ff lf"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="js jt ju jv fq jw"><div class="bz el l di"><div class="lg lh l"/></div></figure></div></div>    
</body>
</html>