<html>
<head>
<title>RESTful API with Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js的RESTful API</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/restful-api-with-node-js-938c1ae386fe?source=collection_archive---------0-----------------------#2016-02-29">https://medium.com/hackernoon/restful-api-with-node-js-938c1ae386fe?source=collection_archive---------0-----------------------#2016-02-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/48518566152087660409c25915f32dd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EL67FBAkuwI8vP132UftEg.jpeg"/></div></div></figure><div class=""/><p id="c4fe" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您从事web开发，那么API、REST、RESTful这些术语可能对您来说很熟悉。作为一个初学者，我努力(现在仍然是)得到一个关于REST的外行定义，然后，把这个概念翻译成代码。</p><p id="656b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章的目的是给其他初学者一些启发，并通过一个例子展示如何使用<a class="ae ka" href="https://hackernoon.com/tagged/nodejs" rel="noopener ugc nofollow" target="_blank">node . js</a>+express js+MongoDB开发RESTful API。在文章的底部，你会发现我们将会用到的文件的存储库。</p></div><div class="ab cl kb kc hc kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hn ho hp hq hr"><h2 id="3a1a" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">API:应用编程接口</h2><p id="93df" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">API是一组用于访问基于web的应用程序的<a class="ae ka" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>例程、协议、指令和标准。它是可以与其他应用程序交互的应用程序层。</p><p id="aa0a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">看起来好像我们的应用程序向外部应用程序请求数据，我们必须首先以正确的格式创建请求，并将其发送到我们想要从中获取数据的应用程序API。API读取请求，向应用程序请求数据，然后创建对请求的响应，并将其发送回我们的应用程序。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff li"><img src="../Images/7eb786737c7a7d2e2a44ac9e65413a9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eDrytuczv0tP7Fod1nU8NQ.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Basic diagram</figcaption></figure><p id="b168" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，有很多公司向公众发布他们的API，这样开发者就可以在他们自己的应用和软件中使用它们。举个例子:</p><ul class=""><li id="db5a" class="lr ls if je b jf jg jj jk jn lt jr lu jv lv jz lw lx ly lz dt translated"><a class="ae ka" href="https://developers.google.com/apis-explorer/" rel="noopener ugc nofollow" target="_blank">谷歌</a></li><li id="3aa6" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://www.mediawiki.org/wiki/API:Main_page" rel="noopener ugc nofollow" target="_blank">维基百科</a></li><li id="86e2" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated">《纽约时报》</li><li id="70bc" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://developers.facebook.com/" rel="noopener ugc nofollow" target="_blank">脸书</a></li><li id="bf04" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://developer.paypal.com/" rel="noopener ugc nofollow" target="_blank">贝宝</a></li></ul><p id="e60d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这样的例子不胜枚举……<a class="ae ka" href="http://www.programmableweb.com/news/9000-apis-mobile-gets-serious/2013/04/30" rel="noopener ugc nofollow" target="_blank">programmable Web</a>追踪了2013年可用的9000个Web APIs，而2005年只有105个。你可以在你每天访问的大部分页面中看到它们的使用。作为开发人员，您也可以使用它们！</p></div><div class="ab cl kb kc hc kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hn ho hp hq hr"><h2 id="fba5" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">REST:表象状态转移</h2><p id="377d" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">休息是我刚开始学习时无法掌握的事情之一。根据<a class="ae ka" href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="noopener ugc nofollow" target="_blank">维基百科</a>:</p><blockquote class="mf mg mh"><p id="150a" class="jc jd mi je b jf jg jh ji jj jk jl jm mj jo jp jq mk js jt ju ml jw jx jy jz hn dt translated">REST是一种体系结构风格，由分布式超媒体系统中应用于组件、连接器和数据元素的一组协调的体系结构约束组成</p></blockquote><p id="d4c0" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这并不能说明什么(至少对我来说)，所以我必须研究并寻找其他的定义和解释。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/e0e8b5b6160f5cff73cf3147684bc12c.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*SG1aElp5zSxAWRmxu9z__A.jpeg"/></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Taken from <a class="ae ka" href="http://goo.gl/d5FUJp" rel="noopener ugc nofollow" target="_blank">http://goo.gl/d5FUJp</a>. Give it a read too!</figcaption></figure><p id="fd91" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">基本上，REST是一种设计模式，一种使用HTTP协议设计web应用程序以在web上公开资源的方法。这些资源可以通过URL来标识，例如:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="0a61" class="ki kj if mo b fv ms mt l mu mv">http://www.myblog.com/posts/34<br/>http://www.hello.com//myList/5/item/12/</span></pre><p id="d728" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">REST服务器用“原始”数据而不是花哨的HTML文件来响应这些请求。这些“原始”数据使用JSON或XML(以及其他)作为表示资源的媒体类型。</p><p id="b346" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了对资源进行操作，REST通过4个HTTP方法或“动词”使用成对的请求和响应:</p><ul class=""><li id="820d" class="lr ls if je b jf jg jj jk jn lt jr lu jv lv jz lw lx ly lz dt translated">获取:读取资源。</li><li id="8b2e" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated">发布:创建资源。</li><li id="9726" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated">上传:更新资源。</li><li id="bfd5" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated">删除:删除资源。</li></ul><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mw"><img src="../Images/3f21c375f8d11a0e5b064a791c28595e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1aN83KZbRO6MzTzYCqO3Eg.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Non-REST vs REST comparison</figcaption></figure><p id="79d8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在上图中，当您想要“读取”特定用户时，您可以转到/user/:id。请注意，当您想要更新或删除用户时，也可以使用该路径。还要注意这与非REST方法有什么不同。</p><p id="7de6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当一个API或服务器符合REST的约束时，它们可以被称为RESTful。</p></div><div class="ab cl kb kc hc kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hn ho hp hq hr"><h1 id="619c" class="mx kj if bd kk my mz na ko nb nc nd ks ne nf ng kv nh ni nj ky nk nl nm lb nn dt translated">Node.js中RESTful API的实现</h1><p id="4fc6" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">对于这个例子，我们将开发一个API来管理书籍。这个API将允许我们在数据库中执行CRUD操作。</p><p id="639a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用<em class="mi"> npm、</em>启动存储库，我们将使用“index.js”作为我们的服务器文件<em class="mi"> : </em></p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="bf20" class="ki kj if mo b fv ms mt l mu mv">$ npm init</span></pre><p id="c674" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，安装依赖项。我们将使用:</p><ul class=""><li id="7d78" class="lr ls if je b jf jg jj jk jn lt jr lu jv lv jz lw lx ly lz dt translated"><a class="ae ka" href="https://www.npmjs.com/package/express" rel="noopener ugc nofollow" target="_blank">express</a>’:node . js的快速、非个性化、极简主义的web框架</li><li id="e231" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://www.npmjs.com/package/body-parser" rel="noopener ugc nofollow" target="_blank">body-parser</a>':node . js body解析中间件。</li><li id="d3e9" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://www.npmjs.com/package/method-override" rel="noopener ugc nofollow" target="_blank">method-override</a>’:允许您在客户端不支持的地方使用HTTP动词，比如PUT或DELETE。</li><li id="e1d1" class="lr ls if je b jf ma jj mb jn mc jr md jv me jz lw lx ly lz dt translated"><a class="ae ka" href="https://www.npmjs.com/package/mongoose" rel="noopener ugc nofollow" target="_blank">mongose</a>’:mongose是一个<a class="ae ka" href="https://www.mongodb.org/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>对象建模工具，设计用于在异步环境中工作。</li></ul><p id="bca3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要安装它们，请键入:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="e67c" class="ki kj if mo b fv ms mt l mu mv">$ sudo npm install express body-parser method-override mongoose --save</span></pre><p id="33af" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，在“index.js”文件中，写入:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="77b9" class="ki kj if mo b fv ms mt l mu mv">var express = require("express");<br/>var app = express();<br/>var bodyParser = require("body-parser");<br/>var methodOverride = require("method-override");<br/>var mongoose = require("mongoose");</span><span id="5a91" class="ki kj if mo b fv no mt l mu mv">// App configuration<br/>app.use(bodyParser.json());<br/>app.use(bodyParser.urlencoded({ extended: false }));<br/>app.use(methodOverride());</span><span id="291d" class="ki kj if mo b fv no mt l mu mv">app.get("/", function(req, res) { <br/> res.send("Hello World!");<br/>});</span><span id="02fc" class="ki kj if mo b fv no mt l mu mv">app.listen(5000, function(){<br/> console.log("index.js listening on port 5000");<br/>})</span></pre><p id="0bb5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">到目前为止，我们有一个服务器，侦听端口5000以获取'/'路由上的请求。该文件的框架类似于我在<a class="ae ka" rel="noopener" href="/@jcapona/basic-server-using-node-js-express-69a7b8af26f4#.s5wmch8nx">上一篇</a>文章中展示的框架。不同之处在于，现在我们使用的是在上一步中安装的包。</p><h2 id="8241" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">为我们的应用程序创建模型</h2><p id="9869" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">模型表示应用程序的信息和用于操作数据的规则。在我们的例子中，我们的模型将代表一本书。</p><p id="e93c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将把名为“Book.js”的模型放在“models”文件夹中。这个文件包含一本书的表示:标题、作者、ISBN代码、出版年份、摘要等等。然后，我们使用“module.exports”从其他文件中使用这个模型文件。</p><p id="c870" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">图书模型文件“Book.js”如下所示:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="cf10" class="ki kj if mo b fv ms mt l mu mv">/**<br/> Model file of a Book<br/>*/<br/>var mongoose = require("mongoose");</span><span id="c5bd" class="ki kj if mo b fv no mt l mu mv">var BookSchema = new mongoose.Schema({ <br/>  title: { type: String, required: true },<br/>  author: { type: String, required: true },<br/>  isbn: { type: String, required: true },<br/>  pages: { type: Number },<br/>  summary: { type: String }<br/>});</span><span id="6415" class="ki kj if mo b fv no mt l mu mv">var Book = mongoose.model("books", BookSchema);</span><span id="809a" class="ki kj if mo b fv no mt l mu mv">module.exports = {<br/> BookModel: Book<br/>};</span></pre><h2 id="d93b" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">使用MongoDB创建本地数据库</h2><p id="6576" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">为了管理这些书，我们需要一个运行的数据库。出于这个例子的目的，我们将使用一个本地Mongo数据库。要创建我们将在out应用程序中使用的数据库，请运行下一张图片中的命令。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div class="fe ff np"><img src="../Images/d75f2e88e762ff2626af7f60935a5508.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*Eds12S1guGFTupTVDGcswQ.png"/></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Creating a local mongo database called ‘books’</figcaption></figure><p id="cfa9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您在mongo shell中运行“show dbs”命令，您很可能看不到新的“books”数据库，因为它是空的。</p><p id="4c2f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要使用“mongoose”连接到数据库，请在“index.js”文件中添加以下行:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="5fa0" class="ki kj if mo b fv ms mt l mu mv">mongoose.connect("mongodb://localhost/books");</span></pre><h2 id="8818" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">CRUD操作的实现</h2><p id="a8e2" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">因此，我们有了一本书的模型，以及一个名为“books”的本地数据库。现在，我们必须修改我们的应用程序代码，即“index.js”文件，以便我们能够从数据库中创建、阅读、更新和删除书籍。</p><p id="10a8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了管理我们的应用程序将为每个路线或请求的动作做什么，我们将使用一个控制器，特别是一个BookController。创建一个文件夹“controllers ”,并在其中放置“BooksController.js”文件。</p><p id="2b55" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们必须告诉我们的“index.js”文件，我们的BooksController将管理所有与图书管理相关的操作。这是通过添加以下内容来实现的:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="4471" class="ki kj if mo b fv ms mt l mu mv">var BooksController = require("./controllers/BooksController");<br/>app.post("/book",BooksController.create); // Create<br/>app.get("/book/:id",BooksController.readOne); // Read One<br/>app.get("/book/",BooksController.readAll); // Read All<br/>app.put("/book/:id",BooksController.update); // Update<br/>app.delete("/book/:id",BooksController.delete); // Delete</span></pre><p id="d570" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这些行告诉我们的服务器，如果接收到对“/book”路由的POST请求，我们的“BooksController.js”文件中的例程“create”将管理它。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div class="fe ff nq"><img src="../Images/0398c28db984870fa32dbf8f6926ae5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*Gr95IqXyCL8_MQ6AdADw6w.png"/></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Final index.js file. You can find the code in the Github repo. Keep reading!</figcaption></figure><p id="dcaa" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">还有，有2个GET路由:'/book '和'/book/:id '；第一个将返回我们数据库中的所有书籍，第二个将只显示id用作参数的书籍。</p><p id="90ca" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们新创建的“BooksController.js”文件应该具有以下形式:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="fdfc" class="ki kj if mo b fv ms mt l mu mv">/**<br/> Book Controller file<br/>*/</span><span id="e254" class="ki kj if mo b fv no mt l mu mv">var Book = require("../models/Book.js");</span><span id="3291" class="ki kj if mo b fv no mt l mu mv">// Inserts a book to the db<br/>exports.create = function(req, res){<br/>};</span><span id="d28d" class="ki kj if mo b fv no mt l mu mv">// Finds a single book in the db<br/>exports.readOne = function (req, res) {<br/>};</span><span id="d7b6" class="ki kj if mo b fv no mt l mu mv">// Finds all books in the db<br/>exports.readAll = function (req, res) {<br/>};</span><span id="33b8" class="ki kj if mo b fv no mt l mu mv">// Updates a book from the db<br/>exports.update = function(req, res) {<br/>};</span><span id="7090" class="ki kj if mo b fv no mt l mu mv">// Deletes a book from the db<br/>exports.delete = function(req, res) {<br/>};</span></pre><p id="7bbe" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在每个功能块里面都有管理我们的书籍和与我们的数据库交互的代码。这里没有太多要解释的，在ever函数内部，我们简单地使用mongoose &amp;我们的book模型执行基本的CRUD操作。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nr"><img src="../Images/ec5fd4febb4c41da3e8eabe46086d770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ea0V0O7SnDl-JmWCfY0zw.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">BookController. You can find the code in the Github repo. Keep reading!</figcaption></figure><h2 id="1a53" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">测试我们的API</h2><p id="d710" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">为了方便测试我们的API，我们将使用<a class="ae ka" href="https://www.getpostman.com/" rel="noopener ugc nofollow" target="_blank"> POSTMAN </a>。这基本上是一个用于测试web服务的HTTP客户端。还有其他应用程序做类似的事情，但邮递员是轻量级的&amp;非常简单易用。</p><p id="eb9b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，我们将创建我们的第一个图书资源。打开POSTMAN，在' localhost:5000/book '上选择一个POST操作。现在，填充您想要插入到数据库中的书的键和值。最后，按“发送”并检查服务器的响应。如果没有出错，您应该会收到一个JSON，其中包含数据库中已创建图书的数据。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ns"><img src="../Images/cd423f37774d55d6f2bc5088fb6b43b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ixi6PUoPqxDiLrPvwbz37g.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Using POSTMAN to test our API</figcaption></figure><p id="78bb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要查看我们保存的第一本书，请使用带有GET请求的POSTMAN，访问URL(您也可以在浏览器中查看):</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="e7ce" class="ki kj if mo b fv ms mt l mu mv"><a class="ae ka" href="http://localhost:5000/book/" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/book/</a></span></pre><p id="19c4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这应该会打印出我们数据库中的所有书籍(目前只有一本)。</p><p id="811d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要仅阅读某本书，请使用URL:</p><pre class="lj lk ll lm fq mn mo mp mq aw mr dt"><span id="04f1" class="ki kj if mo b fv ms mt l mu mv">http://localhost:5000/book/56d37e1430678fde6e037e27</span></pre><p id="eee4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">其中“/book/”后的代码对应于您要阅读的书的“_id”。</p><p id="9777" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您现在可以使用我们的API，随心所欲地创建、阅读、更新和删除书籍:)。</p><h1 id="17f1" class="mx kj if bd kk my nt na ko nb nu nd ks ne nv ng kv nh nw nj ky nk nx nm lb nn dt translated">最终意见</h1><p id="2ba5" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">我希望这能帮助读者更好地理解什么是REST，并减轻如何开发一个合适的RESTful API的负担。</p><p id="f3cb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">环顾四周，有几个框架可以自动为您创建和管理模型和控制器文件，但是如果您是初学者，在您使用shell中的一个命令行命令完成所有工作之前，了解基础并了解它的工作原理是很重要的。</p><p id="4d5d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有任何意见或更正(我也是noob！)，就告诉我一声！</p><h2 id="3ea5" class="ki kj if bd kk kl km kn ko kp kq kr ks jn kt ku kv jr kw kx ky jv kz la lb lc dt translated">代码</h2><p id="42ae" class="pw-post-body-paragraph jc jd if je b jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv lh jx jy jz hn dt translated">可以找代码<a class="ae ka" href="https://github.com/jcapona/restful-server-example" rel="noopener ugc nofollow" target="_blank"> @Github </a></p><figure class="lj lk ll lm fq hw"><div class="bz el l di"><div class="ny nz l"/></div></figure></div></div>    
</body>
</html>