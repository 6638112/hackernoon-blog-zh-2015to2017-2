<html>
<head>
<title>Make the Leap from JavaScript to PureScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从JavaScript跳到PureScript</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/make-the-leap-from-javascript-to-purescript-5b35b1c06fef?source=collection_archive---------4-----------------------#2017-03-28">https://medium.com/hackernoon/make-the-leap-from-javascript-to-purescript-5b35b1c06fef?source=collection_archive---------4-----------------------#2017-03-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/1b68b9f44fe9fd816b12cece2a2db058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxzI01ldslXQTJNoWUul3g.jpeg"/></div></div></figure><blockquote class="jc jd je"><p id="bb0c" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">注意:这是对<strong class="ji hv">从JavaScript到PureScript </strong>系列教程的介绍。我将大约每月发布一次教程。所以要经常回来，还有很多这样的事情要做！<br/> <a class="ae ke" rel="noopener" href="/p/index-make-the-leap-from-javascript-to-purescript-a1566d657e9c">索引</a> | <a class="ae ke" rel="noopener" href="/@kelleyalex/create-linear-data-flow-with-container-style-types-box-702a3808ad2c">教程1 &gt; </a> <a class="ae ke" rel="noopener" href="/@kelleyalex/build-a-data-flow-for-a-real-world-app-8971f0c72b58">教程27 &gt; &gt; </a></p></blockquote><h1 id="5b2d" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">介绍</h1><p id="113d" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">“从JavaScript到PureScript的飞跃”采用了JavaScript中一些最流行的函数式编程(FP)抽象，并演示了如何在PureScript 中实现它们。我在egghead.io课程<a class="ae ke" href="https://egghead.io/courses/professor-frisby-introduces-composable-functional-javascript" rel="noopener ugc nofollow" target="_blank">的许可下借用了系列大纲和JavaScript代码示例</a><a class="ae ke" href="https://github.com/DrBoolean" rel="noopener ugc nofollow" target="_blank">Frisby教授介绍了Brian Lonsdorf </a>的可组合函数JavaScript 。我要感谢Brian(pure script的热心程序员)对这个项目的支持。</p><h1 id="4593" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">这个系列的动机</h1><p id="f279" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">在过去的几个月里，我注意到一些好奇的JavaScript程序员出现在PureScript论坛上(例如<a class="ae ke" href="https://gitter.im/purescript/purescript" rel="noopener ugc nofollow" target="_blank"> gitter.im </a>),询问关于FP和PureScript的问题。作为回应，经验丰富的函数式程序员强烈推荐Brian的课程，作为熟悉FP的第一步。然后，一旦他们舒适地理解了JavaScript的基本抽象，他们就会被鼓励回来开始使用PureScript。我非常同意这个建议！同时学习FP抽象和一门新的编程语言已经够难的了。但是，随着时间的推移，如果您坚持使用JavaScript中的FP，那么您可能会发现很难不偏离，然后您就又回到了您的旧的和命令式的方式。或者，PureScript是一种真正的FP语言，可以编译成JavaScript！所以我写了这些教程来帮助你从JavaScript过渡到PureScript，向你展示如何实现Brian的课程中教授的相同概念。</p><h1 id="6203" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">为您导航</h1><p id="fd32" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">如果你是FP的新手，或者你还没有攻克Brian的课程，那么我强烈建议你首先这么做(我确实这么做了，它对我帮助很大)。然后，一旦你理解了基本的抽象，回来，我将用PureScript向你展示它们。我已经尽力解释了这些概念，但布莱恩是教授它们的大师。此外，这些教程并不能取代传统的PureScript入门教程。因此，在一头扎进这些教程之前，花点时间学习一点PureScript语法。</p><h1 id="6426" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">使用PureScript代替JavaScript的优势</h1><p id="ba26" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">您可以放心了，因为JavaScript支持FP的一些最重要的特性，包括一流的匿名函数和闭包。然而，JavaScript必须服务于多个主人，包括面向对象和命令式编程。因此，在使用JavaScript for FP时会有一些限制和妥协。特别是，它缺少静态类型系统、强制纯度和不变性。其中一些差距可以通过添加静态类型检查器(参见<a class="ae ke" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>)、不可变集合(参见<a class="ae ke" href="https://facebook.github.io/immutable-js/" rel="noopener ugc nofollow" target="_blank"> Immutable.js </a>)和FP抽象库(参见<a class="ae ke" href="http://ramdajs.com" rel="noopener ugc nofollow" target="_blank"> RamdaJS </a>)来缓解。尽管如此，你在JavaScript中完成FP主要是按照惯例，通常是用我上面提到的“创可贴”拼凑起来的。一个函数式JavaScript程序员必须时刻保持敏锐，以创建避免副作用的纯函数。但我认为这给程序员带来了太多的认知负担，最终会干扰应用程序的编码。谢天谢地，有合适的FP语言可以消除编译优化JavaScript时的这种摩擦——有人说过PureScript吗？</p><p id="71fe" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated">PureScript被单独设计为一种FP语言。它是一种小型的强类型语言，可以编译成人类可读的CommonJS和其他语言。因此，您已经用一种语言涵盖了客户端和服务器端应用程序——这再好不过了！您还会发现所有您听说过或读到过的FP语言结构的表示，包括currying、模式匹配、尾调用优化、高阶和高阶类型。最后，PureScript没有运行时系统添加到您的下载足迹中，并且(<strong class="ji hv">鼓点请</strong>)有一个不复杂但非常强大的与JavaScript相互作用的FFI！因此，如果您还没有找到对您最喜欢的JavaScript模块中的函数的支持，那么自己包含它们并不困难(我将在教程中向您展示一些例子)。</p><h1 id="e2c7" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">教程布局</h1><p id="495c" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">我已经创建了一个GitHub存储库，其中包含这些故事的降价版本(即README.md)以及代码示例。你可以在这里克隆它<a class="ae ke" href="https://github.com/adkelley/javascript-to-purescript" rel="noopener ugc nofollow" target="_blank">，然后</a><a class="ae ke" href="https://help.github.com/articles/syncing-a-fork/" rel="noopener ugc nofollow" target="_blank">获取上游</a>以备将来更新。</p><p id="0974" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated">每个教程都放在一个名为“tut##”的单独文件夹中，其中##是一个数字(例如“tut01”)，对应于Brian的<a class="ae ke" href="https://egghead.io/courses/professor-frisby-introduces-composable-functional-javascript" rel="noopener ugc nofollow" target="_blank">课程</a>中的视频##。这里有附带的教程markdown(如tut01/README.md)，说明了从Brian对应的视频(如video1)中抽象出来的内容，以及如何在PureScript中实现。</p><p id="5ba9" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated">我已经设置了文件夹，这样您就可以使用<code class="eh ll lm ln lo b">npm install</code>第一次运行PureScript代码示例，它将Spago和PureScript作为依赖项安装。然后，键入<code class="eh ll lm ln lo b">npm run all</code>，它将编译并运行源代码。此后，键入<code class="eh ll lm ln lo b">npm run exec</code>再次运行它。还有个别脚本<code class="eh ll lm ln lo b">npm run clean</code>、<code class="eh ll lm ln lo b">npm run install</code>、<code class="eh ll lm ln lo b">npm run build</code>、<code class="eh ll lm ln lo b">npm run exec</code>；分别用于清理、安装、构建和执行教程示例。</p><p id="7401" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated">当然，所有这些都假设您已经安装了<code class="eh ll lm ln lo b">npm</code>包管理器。这些脚本也依赖于<code class="eh ll lm ln lo b">rimraf</code>(节点的UNIX命令<code class="eh ll lm ln lo b">rm -rf</code>)和<code class="eh ll lm ln lo b">Spago</code> (PureScript的包管理器和构建工具)。我在下面解释这一切。</p><h1 id="69a0" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">配角</h1><p id="9b49" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">PureScript社区现在已经决定使用<a class="ae ke" href="https://github.com/purescript/spago" rel="noopener ugc nofollow" target="_blank"> Spago </a>包管理器和构建工具。Spago是在<a class="ae ke" href="http://www.purescript.org/learn/getting-started/" rel="noopener ugc nofollow" target="_blank">pure script</a>入门中给出的建议，我建议您在继续之前通读一遍。根据我目前的经验，Spago是PureScript工具的一个受欢迎的补充，它提供了一个很好的UX，具有最小的依赖性和可重复的构建。</p><h1 id="24b7" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">在PureScript中启动并运行</h1><p id="4773" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">每个教程中的<code class="eh ll lm ln lo b">package.json</code>文件包含<code class="eh ll lm ln lo b">spago</code>和<code class="eh ll lm ln lo b">purescript</code>作为开发依赖项。因此，没有必要全局安装它们。在本教程修订时，Spago的最新npm版本是<code class="eh ll lm ln lo b">0.20.3</code>而PureScript是<code class="eh ll lm ln lo b">0.14.3</code></p><h1 id="c526" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">安装编辑器插件</h1><p id="88e2" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">大多数编辑器都有插件来支持语法高亮、构建支持、REPL(读取、评估、打印、循环)和自动完成。你可以在这里找到为你喜欢的编辑器安装这些插件的信息。</p><h1 id="f4d5" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">运行您的第一个PureScript程序</h1><p id="e5ef" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated">假设您已经安装了PureScript和Spago，那么使用PureScript开始您的函数式编程之旅再容易不过了:</p><pre class="lp lq lr ls fq lt lo lu lv aw lw dt"><span id="e1e7" class="lx kg hu lo b fv ly lz l ma mb">$ mkdir purescript-hello <br/>$ cd purescript-hello<br/>$ npm install -D spago purescript <br/>$ spago init <br/>$ spago build<br/>$ spago run</span></pre><h1 id="0733" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">我最喜欢的PureScript工具和参考</h1><ol class=""><li id="3cf4" class="mc md hu ji b jj ld jn le lf me lh mf lj mg kd mh mi mj mk dt translated"><a class="ae ke" href="https://book.purescript.org" rel="noopener ugc nofollow" target="_blank"> PureScript by Example </a>是PureScript的官方书籍，最初由Phil Freeman(pure script语言的作者)编写，现在由<a class="ae ke" href="https://github.com/purescript-contrib/purescript-book" rel="noopener ugc nofollow" target="_blank">社区fork </a>维护。</li><li id="8138" class="mc md hu ji b jj ml jn mm lf mn lh mo lj mp kd mh mi mj mk dt translated">Pursuit是PureScript文档的发源地；很快会成为你最好的朋友</li><li id="54bb" class="mc md hu ji b jj ml jn mm lf mn lh mo lj mp kd mh mi mj mk dt translated"><a class="ae ke" href="http://try.purescript.org/" rel="noopener ugc nofollow" target="_blank">尝试PureScript </a>允许你在浏览器中尝试PureScript的关键例子。你也可以自己创造。</li><li id="cb72" class="mc md hu ji b jj ml jn mm lf mn lh mo lj mp kd mh mi mj mk dt translated">psc-ide(随编译器分发)提供编辑器支持，包括<a class="ae ke" href="https://github.com/nwolverson/atom-ide-purescript" rel="noopener ugc nofollow" target="_blank"> atom </a>、<a class="ae ke" href="https://github.com/epost/psc-ide-emacs" rel="noopener ugc nofollow" target="_blank"> emacs </a>、<a class="ae ke" href="https://github.com/FrigoEU/psc-ide-vim" rel="noopener ugc nofollow" target="_blank"> vim </a>和<a class="ae ke" href="https://github.com/nwolverson/vscode-ide-purescript" rel="noopener ugc nofollow" target="_blank"> visual studio </a></li><li id="0107" class="mc md hu ji b jj ml jn mm lf mn lh mo lj mp kd mh mi mj mk dt translated"><a class="ae ke" href="https://discourse.purescript.org/" rel="noopener ugc nofollow" target="_blank">论述</a>讨论PureScript。</li><li id="ed62" class="mc md hu ji b jj ml jn mm lf mn lh mo lj mp kd mh mi mj mk dt translated"><a class="ae ke" href="https://functionalprogramming.slack.com/#/" rel="noopener ugc nofollow" target="_blank"> FP Slack </a>有#purescript和# pure script-初学者频道。</li></ol><h1 id="9c04" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">前进！</h1><p id="b394" class="pw-post-body-paragraph jf jg hu ji b jj ld jl jm jn le jp jq lf lg jt ju lh li jx jy lj lk kb kc kd hn dt translated"><a class="ae ke" rel="noopener" href="/@kelleyalex/create-linear-data-flow-with-container-style-types-box-702a3808ad2c"> &gt; <strong class="ji hv">教程1 </strong> </a></p><p id="fccb" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated">当我写教程的时候，我会添加额外的链接。但是如果你想向前看，那么Brian的<a class="ae ke" href="https://egghead.io/courses/professor-frisby-introduces-composable-functional-javascript" rel="noopener ugc nofollow" target="_blank">视频</a>中的大部分代码样本已经被移植到PureScript，并且可以在<a class="ae ke" href="https://github.com/adkelley/javascript-to-purescript" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得。但是我可能会在编写附带教程时修改它们。</p><p id="a711" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq lf js jt ju lh jw jx jy lj ka kb kc kd hn dt translated"><em class="jh">编辑于2021年8月14日，碰撞到Spago 0 . 20 . 3&amp;pure script 0 . 14 . 3，删除了对鲍尔</em>的引用</p><div class="lp lq lr ls fq ab cb"><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="jc jd je"><p id="f922" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae ke" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是这个家庭的一员。我们现在<a class="ae ke" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ke" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ke" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ke" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lp lq lr ls fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mw"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="mx my l"/></div></figure></div></div>    
</body>
</html>