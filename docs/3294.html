<html>
<head>
<title>Introducing Moon</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍月亮</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/introducing-moon-1d44a99635f0?source=collection_archive---------2-----------------------#2017-03-25">https://medium.com/hackernoon/introducing-moon-1d44a99635f0?source=collection_archive---------2-----------------------#2017-03-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="6ba4" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">极快的用户界面库</h2></div><p id="e1c9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我已经使用<a class="ae kf" href="https://vuejs.org" rel="noopener ugc nofollow" target="_blank"> Vue </a>有一段时间了，它解决了我所有的问题，而且做得很漂亮。过了一段时间，在2015年末，我开始注意到我的应用程序出现了一些性能问题。所以我开始创造一些新的东西，作为一个学习项目。希望能看到这个DOM东西实际上是如何工作的，并专门为我写一个解决方案。</p><p id="d101" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在研究了Vue在引擎盖下的实际工作方式后，我遇到了<a class="ae kf" href="https://facebook.github.io/react/" rel="noopener ugc nofollow" target="_blank">反应</a>。它有一个虚拟DOM的概念，每次都与之前的状态不同。我也偶然发现了一个事实，那就是Vue当时并没有使用这个想法(现在也是)。</p><p id="d846" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我开始编写一个简单的库，不打算让任何人使用。只有一个文件，混杂着代码，试图做些什么。我只是还不知道那是什么。</p><p id="b1d0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">开机后，无论我做什么，都是<em class="kg">慢得离谱</em> <em class="kg">！所以我放弃了，只是继续使用我缓慢的实现。</em></p><h1 id="e51c" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">再制</h1><p id="3d39" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">后来，我遇到了<a class="ae kf" href="https://preactjs.com/" rel="noopener ugc nofollow" target="_blank"> Preact </a>。这改变了游戏规则，一个<a class="ae kf" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">反应</a>的选择，那就是<em class="kg">更快</em>，并且只有<em class="kg"> 3kb！我读了代码，它很漂亮，易于阅读，我学到了很多关于UI库实际上是如何工作的。</em></p><p id="b4a9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以我开始再造一个我称之为“月亮”的东西。目标是像Preact一样，但对于Vue，因为我更喜欢Vue的API。</p><h1 id="780c" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">表演</h1><p id="ce62" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">这些框架的性能可以好得多，只是没有一个库是正确的。它们都有自己的优势，但在某些领域仍然很弱。例如，库A可能擅长将项目添加到大型列表的末尾，而库B可能擅长将项目添加到大型列表的开头。</p><p id="ae8f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有一篇很棒的文章解释了为什么一些抽象很慢。简而言之，直接与DOM交互比在DOM上抽象要快。</p><p id="2c81" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">尽管如此，直接处理DOM可能会变得混乱，如果没有正确编写，经常会导致代码混乱。所有库都有自己的抽象，React和Vue使用虚拟DOM，Ember团队创建了Glimmer，hyperHTML使用DOM和上下文片段之间的绑定。</p><p id="aac8" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些都是特定于库的，每一个都有自己的性能优点和缺点。问题是，你应该使用哪个库？</p><h1 id="11e5" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky dt translated">月亮来拯救</h1><p id="8539" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">经过几个月的开发，原本应该是供我使用的库，被改写成了一个任何人都可以使用的库。</p><ul class=""><li id="7c76" class="le lf hu jl b jm jn jp jq js lg jw lh ka li ke lj lk ll lm dt translated">⚡️它使用虚拟DOM的一个版本，但是智能地标记静态节点并跳过它们，并且只更新DOM中已经改变的部分。</li><li id="90e1" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">💎它提供了一个漂亮的API，与Vue非常相似。包括指令、反应式DOM更新、计算属性等。</li><li id="e31d" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">🎉才<em class="kg"> 5kb </em>！</li><li id="7b3a" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">🔨它有一个内置的组件系统，允许你用不同的组件组成你的用户界面。</li></ul><h2 id="15ee" class="ls ki hu bd kj lt lu lv kn lw lx ly kr js lz ma kt jw mb mc kv ka md me kx mf dt translated">基准</h2><p id="77c8" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">以下是DBMonster的结果(越高越好):</p><ul class=""><li id="d3f4" class="le lf hu jl b jm jn jp jq js lg jw lh ka li ke lj lk ll lm dt translated">月球——每秒102次渲染</li><li id="89b6" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">预渲染—每秒85次重渲染</li><li id="f3a1" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">Vue —每秒50次重渲染</li><li id="0419" class="le lf hu jl b jm ln jp lo js lp jw lq ka lr ke lj lk ll lm dt translated">反应—每秒50次重新渲染</li></ul><p id="546a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以下是TodoMVC实现的基准测试结果(越低越好):</p><figure class="mh mi mj mk fq ml fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/de30e91a55833e81e6c1b745554dc669.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*8jLYPzSkjd43BrCmTrYizA.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Benchmark for adding 100 items, completing 100 items, and deleting 100 items</figcaption></figure><h2 id="7ce2" class="ls ki hu bd kj lt lu lv kn lw lx ly kr js lz ma kt jw mb mc kv ka md me kx mf dt translated">又一个？</h2><p id="698e" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">我知道，我知道，似乎每天都有新的<a class="ae kf" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>框架发布。月亮就是其中之一。</p><p id="c1bb" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这并不意味着你必须使用它，事实上，这并不意味着任何人都必须使用它。如果您对当前的解决方案满意，那太好了！继续磨。</p><p id="78ca" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您正在开始一个新项目，或者正在寻找一些性能优势，或者想要一个不错的API，请随时尝试Moon！</p><h2 id="7000" class="ls ki hu bd kj lt lu lv kn lw lx ly kr js lz ma kt jw mb mc kv ka md me kx mf dt translated">为什么这么久？</h2><p id="747a" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hn dt translated">Moon是2015年末开始的一个想法，现在几乎可以在2017年初投入生产。为什么花了这么长时间？</p><p id="0384" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">请记住，Moon最初是一个学习项目。那时，我只是想为自己做点什么，没有流行库的那些臃肿的功能，我根本不需要这些功能。我也对大教堂一无所知。</p><p id="5556" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从那以后，我学到了很多东西，真令人吃惊。</p></div><div class="ab cl ms mt hc mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="hn ho hp hq hr"><blockquote class="mz"><p id="fb83" class="na nb hu bd nc nd ne nf ng nh ni ke ek translated">更多信息，请查看<a class="ae kf" href="http://moonjs.ga" rel="noopener ugc nofollow" target="_blank">月球网站</a>。如果你喜欢这个，请点击👏</p></blockquote><figure class="nj nk nl nm nn ml"><div class="bz el l di"><div class="no np l"/></div></figure></div></div>    
</body>
</html>