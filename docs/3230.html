<html>
<head>
<title>Human Readable Code or Why I Don’t Like if Statements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人类可读的代码或者为什么我不喜欢if语句</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/human-readable-code-or-why-i-dont-like-if-statements-c4fb38d3e693?source=collection_archive---------11-----------------------#2017-03-21">https://medium.com/hackernoon/human-readable-code-or-why-i-dont-like-if-statements-c4fb38d3e693?source=collection_archive---------11-----------------------#2017-03-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="6294" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我将解释为什么if语句应该从你的代码中删除。我并不是说你应该回去从你写的所有代码中删除所有的if语句，或者开始一些大的重构。我只是提出了一种更易于人类阅读的代码编写风格。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><blockquote class="jx jy jz"><p id="d6ba" class="ir is jp it b iu iv iw ix iy iz ja jb ka jd je jf kb jh ji jj kc jl jm jn jo hn dt translated">编写能够工作和执行的代码很容易。机器不关心你如何构造你的代码或者你如何命名你的变量。困难的部分是编写其他人可以看到并快速理解的代码。</p></blockquote><p id="214a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这一点可以用例子更好地说明。让我们看看这段任意的代码:</p><figure class="kd ke kf kg fq kh"><div class="bz el l di"><div class="ki kj l"/></div></figure><p id="79e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个相当简单的例子，应该不会花你很长时间来解析。然而，这个简单的小方法可以很快演变成不可维护的东西，非常难以阅读和测试。</p><p id="0f3c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果我们去掉if语句，将一些<a class="ae kk" href="https://hackernoon.com/tagged/business" rel="noopener ugc nofollow" target="_blank">业务</a>逻辑抽象成更简单、更简洁/描述性的方法，我们不仅可以使这更容易理解，还可以降低这种方法的圈复杂度。</p><figure class="kd ke kf kg fq kh fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kl"><img src="../Images/9627ae228640b90bab8fe427214a4722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LOzgMo0tIzuTEuwQ."/></div></div><figcaption class="ks kt fg fe ff ku kv bd b be z ek">Image borrowed from <a class="ae kk" href="https://twitter.com/ydarias" rel="noopener ugc nofollow" target="_blank">Yeray Darias</a></figcaption></figure></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="56d5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">去掉这些if语句并把我们的简单例子变成更具声明性的风格是相对简单的。首先，我们可以将if中的每个表达式转化成它自己的<a class="ae kk" href="https://hackernoon.com/tagged/function" rel="noopener ugc nofollow" target="_blank">函数</a>。</p><figure class="kd ke kf kg fq kh"><div class="bz el l di"><div class="ki kj l"/></div></figure><p id="cbd4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们的简单例子开始成形了。现在，我们可以知道这些条件句在检查什么。只对这些条件进行单元测试也是可能的，因为它们封装在自己的方法中。</p><p id="6569" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，我们可以更进一步…</p><figure class="kd ke kf kg fq kh fe ff paragraph-image"><div class="fe ff kw"><img src="../Images/7466889c0aec2c7a9f84402fefaa2d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*mSsJcWu54RWDWU3G.jpg"/></div></figure></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="b531" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那里有一个讨厌的forEach循环。它像一个疼痛的拇指一样突出。我们用一个<em class="jp">就能搞定。map() </em>并将该逻辑抽象成它自己方法。</p><p id="2665" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">既然这样，让我们去掉这两个if语句。我们可以用三元运算符来代替它们。同样，演示起来更简单:</p><figure class="kd ke kf kg fq kh"><div class="bz el l di"><div class="ki kj l"/></div></figure><h1 id="be35" class="kx ky hu bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu dt translated">结论</h1><p id="f5d1" class="pw-post-body-paragraph ir is hu it b iu lv iw ix iy lw ja jb jc lx je jf jg ly ji jj jk lz jm jn jo hn dt translated">任何必须维护这段代码的人都会更容易理解<em class="jp"> getRelatedArticles </em>方法在做什么。与该文件以前的样子相比，在文章解析方法<em class="jp">parseratedtarticle，</em>中添加更多的方法也容易得多。</p><p id="e0f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些方法中的每一个都执行一个高度特定的功能，这使得对这个文件的单元测试变得更好。</p><p id="1b3b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果在运行时发生错误，堆栈跟踪将告诉您哪个方法失败了，因此这使得调试比检查哪一行失败并通过原始的<em class="jp"> getRelatedArticles </em>方法跟踪到底发生了什么要简单得多。</p><p id="50a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这当然是一个完全任意的例子。我相信你能从中推断出。</p><div class="kd ke kf kg fq ab cb"><figure class="ma kh mb mc md me mf paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ma kh mb mc md me mf paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ma kh mb mc md me mf paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="jx jy jz"><p id="f922" class="ir is jp it b iu iv iw ix iy iz ja jb ka jd je jf kb jh ji jj kc jl jm jn jo hn dt translated"><a class="ae kk" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kk" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kk" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae kk" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb ka jd je jf kb jh ji jj kc jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kk" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kk" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kd ke kf kg fq kh fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff mg"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="kd ke kf kg fq kh"><div class="bz el l di"><div class="mh kj l"/></div></figure></div></div>    
</body>
</html>