<html>
<head>
<title>Code Reviews Considered Harmful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">被认为有害的代码审查</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/code-reviews-considered-harmful-a4cc9b2323dc?source=collection_archive---------2-----------------------#2017-04-26">https://medium.com/hackernoon/code-reviews-considered-harmful-a4cc9b2323dc?source=collection_archive---------2-----------------------#2017-04-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="48c9" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">6个迹象表明你的代码评审是有毒的，正在毒害你的团队</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/fc147aa1312aa73968b5c9004d70452c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NEXuWUKZCjUCtX7LFwMK-A.jpeg"/></div></div></figure><p id="dd28" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我注意到在过去3年左右的时间里，代码评审越来越流行。自从我2003年进入这个行业以来，我一直以一种随意的方式参与代码评审。那时你会打印出一些代码并用红笔标记出来。如今，像Stash和Crucible这样的工具使得代码评审变得极其容易。让代码评审成为拉式请求的一部分确实推动了我们在这方面的进步。</p><p id="ed7b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">警告:这都是浅见，继续阅读风险自担！</strong>我想每个人都会同意这是一件“好”事情。我注意到一些组织和团队已经培养了真正有害的代码评审过程。如此糟糕，赶走了优秀的开发者。为了说明这一点，我将模仿一条代码审查快乐路径和一条代码审查有害路径。</p><h1 id="ba36" class="kr ks hu bd kt ku kv kw kx ky kz la lb ja lc jb ld jd le je lf jg lg jh lh li dt translated">代码评审快乐之路</h1><p id="7d91" class="pw-post-body-paragraph jv jw hu jx b jy lj iv ka kb lk iy kd ke ll kg kh ki lm kk kl km ln ko kp kq hn dt translated">你刚加入一个团队或公司。也许你是新手，或者你已经在这个行业干了几年了。无论如何，你完成几个功能，提出一些拉请求，设置你的领导或老年人作为审查者。他们审查你的代码，在这个过程中，你可以感觉到他们在寻找什么。你采纳了他们的反馈，你的评论就变成了一种形式。您拨入并开始生产特性和代码。偶尔会发现并修复错误、逻辑错误或可能的安全漏洞。</p><p id="cd12" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">作为快乐之路的一部分，也许他们已经将linters和findbug实用程序整合到构建中，以加强诸如组格式标准(例如制表符和空格)之类的东西。也许有一个编码标准文档，讨论命名约定和适当的抽象级别。太好了！</p><p id="ea62" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">快乐之路的主要特点是:每个人都很开心，代码很好，团队也很有效率。这是每个人都想要的。团队抓住了代码评审的精神:提高软件质量。</p><h1 id="ea5f" class="kr ks hu bd kt ku kv kw kx ky kz la lb ja lc jb ld jd le je lf jg lg jh lh li dt translated">代码审查有毒路径</h1><p id="8212" class="pw-post-body-paragraph jv jw hu jx b jy lj iv ka kb lk iy kd ke ll kg kh ki lm kk kl km ln ko kp kq hn dt translated">作为一个新团队的新开发人员，与快乐之路不同，在您最初的几次拉请求和代码审查之后，您不会达到本地标准的舒适水平。你已经结合了先前的反馈，并且每一次代码评审都提出了当天另一个评审者的挑剔。在构建中没有林挺或其他强制措施，也没有编码标准，所以你没有什么可遵循的。评论者Sally更喜欢名词动词命名，评论者Rajesh更喜欢动词名词。有一天Sally决定所有带有Assert.assertAAAA()的JUnits都应该有正布尔逻辑作为参数，所以现在有些是Assert.assertTrue()，有些是Assert.assertFalse()。这听起来可能很荒谬，但我曾经见过。</p><p id="11ed" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">有毒路径的主要特征是没有人高兴，发展速度缓慢爬行。代码审查需要很长时间，团队交付特性的速度很慢。交付的软件有明显的缺陷。就我个人而言，我已经退出了允许这种行为的团队和经理。</p><h1 id="ff1e" class="kr ks hu bd kt ku kv kw kx ky kz la lb ja lc jb ld jd le je lf jg lg jh lh li dt translated">警告标志</h1><p id="dffe" class="pw-post-body-paragraph jv jw hu jx b jy lj iv ka kb lk iy kd ke ll kg kh ki lm kk kl km ln ko kp kq hn dt translated">花几分钟时间来检查你的团队代码评审实践的健康状况。如果你的代码审查表现出以下6个品质中的任何一个，你可能有多个问题，这些问题正在消耗你的开发速度和开发人员的忠诚度。</p><ol class=""><li id="4f17" class="lo lp hu jx b jy jz kb kc ke lq ki lr km ls kq lt lu lv lw dt translated">争论格式问题。像制表符对空格和括号放置在同一行或下一行这样的事情应该由构建来解决和执行。</li><li id="62ca" class="lo lp hu jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">评论者竞争最聪明的一行或更多的抽象和间接层。代码应该是可维护的和适当的抽象层次。对我来说，这意味着最低层次的抽象。这显然是一个有争议的问题。说出来！</li><li id="3a28" class="lo lp hu jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">争论变量、方法、类或包的名字。决定一种方法并坚持下去。</li><li id="28ec" class="lo lp hu jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">审阅者需要一些奇怪的东西，比如上面的Assert.assertTrue示例。理想情况下，所有的标准都来自行业标准规范，比如坚实的原则。如果一个评审者不能用那些术语表达一些东西，那么它就不应该是一个编码标准。</li><li id="d3f1" class="lo lp hu jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">先前未陈述的需求被呈现为代码评审所需的变更。遗漏的需求应该是下一次sprint的增强。</li><li id="42e3" class="lo lp hu jx b jy lx kb ly ke lz ki ma km mb kq lt lu lv lw dt translated">审查者要求对不属于审查范围的代码进行修改。代码美化和重构应该也是下一个sprint的任务。</li></ol><p id="6082" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">简而言之，如果一个编码标准不能被机械地强制执行(例如，在构建中有一个标记)，引用一个行业标准，或者引用一个集团范围的标准文档，那么它应该被禁止在代码审查中。这样我们就可以集中精力寻找错误、逻辑错误和安全漏洞。</p><div class="jk jl jm jn fq ab cb"><figure class="mc jo md me mf mg mh paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mc jo md me mf mg mh paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mc jo md me mf mg mh paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mi mj mk"><p id="f922" class="jv jw ml jx b jy jz iv ka kb kc iy kd mm kf kg kh mn kj kk kl mo kn ko kp kq hn dt translated"><a class="ae mp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae mp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae mp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae mp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jv jw ml jx b jy jz iv ka kb kc iy kd mm kf kg kh mn kj kk kl mo kn ko kp kq hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae mp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae mp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mq"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>