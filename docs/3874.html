<html>
<head>
<title>Migrating a Drupal 7 Website to a New Host</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Drupal 7网站迁移到新主机</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/migrating-a-drupal-7-website-to-a-new-host-7f313af17262?source=collection_archive---------8-----------------------#2017-04-28">https://medium.com/hackernoon/migrating-a-drupal-7-website-to-a-new-host-7f313af17262?source=collection_archive---------8-----------------------#2017-04-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="66b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你目前是否在一个服务器上运行一个Drupal 7网站？你对目前的主机提供商有任何不满吗？您是否面临停机或速度慢的问题？</p><p id="6b06" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几乎所有人都知道，迁移到性能更好的主机可以解决所有这些问题。然而，许多人没有这样做，因为他们认为Drupal网站的迁移是一项技术上的任务。</p><p id="d792" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本教程中，我将向您展示如何将您的Drupal网站迁移到一个新的、更强大的主机上。出于本教程的考虑，我选择了Cloudways。但是，这些步骤适用于任何主机。该过程包括以下步骤:</p><ol class=""><li id="05f0" class="jp jq hu it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx dt translated">备份网站文件夹。</li><li id="c19a" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx dt translated">备份数据库。</li><li id="b36f" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx dt translated">导入网站的备份。</li><li id="072b" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx dt translated">导入数据库备份。</li><li id="29d6" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx dt translated">对settings.php文件进行适当的修改。</li></ol><h2 id="988b" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">备份网站文件夹</h2><p id="5495" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">你需要做的第一件事是备份你整个网站的文件夹，以避免任何数据丢失。这是确保在发生灾难时网站保持运行的重要步骤。</p><p id="9ada" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要进行备份，请通过FTP客户端(如Filezilla)连接到您网站的当前主机服务器。为了连接到服务器，您可能需要联系您的主机提供商以获得以下详细信息:</p><ul class=""><li id="17b5" class="jp jq hu it b iu iv iy iz jc jr jg js jk jt jo ld jv jw jx dt translated">服务器FTP主机</li><li id="fd31" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ld jv jw jx dt translated">服务器FTP用户名</li><li id="6f7e" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ld jv jw jx dt translated">服务器FTP密码</li><li id="3403" class="jp jq hu it b iu jy iy jz jc ka jg kb jk kc jo ld jv jw jx dt translated">服务器FTP端口号</li></ul><p id="5493" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦建立了连接，您将看到位于服务器上的所有文件。几乎在所有情况下，你的Drupal 7网站都位于<strong class="it hv"> public_html </strong>文件夹中。进入这个文件夹，将整个文件夹复制到本地机器。Filezilla将开始将该文件夹中的所有文件复制到目标文件夹(位于本地机器上)。</p><h2 id="0f15" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">备份数据库</h2><p id="3152" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">下一步是网站数据库的备份过程。这是非常关键的一步，因为它涉及到网站的所有重要文件和数据。</p><p id="ee0c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几乎所有的主机提供商都使用phpMyAdmin进行数据库管理。为了访问phpMyAdmin，您可能需要从您的主机提供商那里获得帮助。</p><p id="f4b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在phpMyAdmin中导航到网站的数据库并创建一个备份。使用“<strong class="it hv">导出</strong>选项，将备份文件保存在本地机器上。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff le"><img src="../Images/da8a184b109de4799cca04e4cbaca9e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SBmEwP7jiK9gXR8V8iR_hQ.png"/></div></div></figure><p id="fa6f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完成后，继续下一步。</p><h2 id="2822" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">导入网站的备份</h2><p id="0ba8" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">现在去<a class="ae lq" href="https://platform.cloudways.com/signup" rel="noopener ugc nofollow" target="_blank">在Cloudways </a>上创建一个免费账户(如果你还没有创建的话)。您可以使用Linkedin、Github或Google+帐户注册和登录。</p><p id="45cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完成后，创建一个新的服务器。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff lr"><img src="../Images/95ab95ac4358d5e8fcf6e30ccc1e5ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fseDPytYYbHqlRaSByI4dg.png"/></div></div></figure><p id="297d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">服务器启动平台需要几分钟时间。接下来，导航到<strong class="it hv">应用程序</strong>选项卡并选择<strong class="it hv">添加应用程序。</strong></p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff ls"><img src="../Images/25fb79aca50158b3c00016d886d5242b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*40adDMiN05a85b_6KyXsIQ.png"/></div></div></figure><p id="8263" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从下拉列表中选择Drupal 7，命名您的应用程序并创建它。</p><p id="e279" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在服务器和应用程序已经启动，通过FTP客户端(我更喜欢Filezilla)连接到您的Cloudways服务器。进入<strong class="it hv">服务器管理&gt; &gt;主凭证</strong>获取服务器登录信息。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff lt"><img src="../Images/e460a895c0f74f28677c48add6188f52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foB0vpO1VSsuKw0I5lnVNQ.png"/></div></div></figure><p id="d479" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦建立了连接，在<strong class="it hv">应用程序</strong>文件夹中导航到您的应用程序，然后进入<strong class="it hv"> public_html。</strong>选择并删除该文件夹中的所有文件。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/7eb66a51b7c8fce74503aa7aa04384a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*zGdfftRTfLQjuIv5W4YkbQ.png"/></div></figure><p id="adad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，只需从之前创建的备份中复制所有文件，并将它们粘贴到应用程序文件夹的<strong class="it hv"> public_html </strong>文件夹中。</p><h2 id="33ac" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">导入数据库备份</h2><p id="4e12" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">您需要做的下一件事是恢复数据库。还记得您之前导出的数据库吗？在这一步中，您将把它导入到Cloudways服务器。但是在这之前，您应该删除新应用程序的数据库中已经存在的所有表。为此，在Cloudways上导航到您的应用程序的主页，在那里您会看到一个<strong class="it hv">启动数据库管理器</strong>按钮。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div class="fe ff lv"><img src="../Images/b605de79301c8dc270f268e9c4259612.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*Vryx-zGJ8PYEUOqhbM-SEA.png"/></div></figure><p id="d043" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">点击按钮，您将进入内置的Cloudways数据库管理器。只需选择此处的所有表格，然后单击底部的<strong class="it hv">下拉</strong>按钮。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff lw"><img src="../Images/c6d17a084b3a9fef4404530034cb9889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECtzOqGoAV5IdBdsnViRKA.png"/></div></div></figure><p id="cc3b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">删除所有表格后，点击右侧的<strong class="it hv">导入</strong>按钮，浏览到保存在本地机器上的数据库备份。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff lx"><img src="../Images/83f7ef6fe888a1fb1dd306cc4c22ed73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8FKvl7Zr6YAGG7SL8Lb_Q.png"/></div></div></figure><p id="222d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">点击<strong class="it hv">执行</strong>按钮导入数据库备份。</p><h2 id="73a6" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">对settings.php文件进行适当的修改</h2><p id="8f45" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">既然备份已经上传到新的服务器，现在是时候对设置进行一些更改了。一个重要的变化是在<strong class="it hv">settings.php</strong>文件中数据库的登录凭证。现在的凭证必须被Cloudways数据库的数据库凭证所取代。这一点非常重要，因为不正确的凭据将无法访问网站。</p><p id="feb6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一个相当简单的程序。首先，导航到<strong class="it hv">站点&gt; &gt;默认值</strong>。使用你喜欢的代码编辑器编辑<strong class="it hv">settings.php</strong>文件。避免使用文本编辑器，因为它们会弄乱文件的格式。</p><p id="f1ea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">向下滚动到代码中提到数据库凭据的未注释部分。只需从Cloudways平台中的应用程序主页复制数据库凭证，并将它们粘贴到<strong class="it hv">settings.php</strong>文件的适当字段中。</p><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff ly"><img src="../Images/5d20c2c225367b81b0c9ded70ebe973f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y_8zJI3V1CNBAimqgjQrdg.png"/></div></div></figure><h2 id="2971" class="kd ke hu bd kf kg kh ki kj kk kl km kn jc ko kp kq jg kr ks kt jk ku kv kw kx dt translated">最后的想法</h2><p id="7c1e" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">就是这样！您已经成功地迁移了一个Drupal网站(没有破坏任何东西！).如您所见，迁移到另一台主机并不像您想象的那么困难。另外请注意，<a class="ae lq" href="https://www.cloudways.com/en/drupal-cloud-hosting.php" rel="noopener ugc nofollow" target="_blank"> Cloudways </a>为您的网站提供一次免费迁移，绝对免费。这意味着您不需要担心任何与迁移相关的问题，因为Cloudways会为您做所有的工作。</p><p id="2f7d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我希望这篇文章对你有用。如果你有任何进一步的疑问，请告诉我，我很乐意回答。</p><div class="lf lg lh li fq ab cb"><figure class="lz lj ma mb mc md me paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lz lj ma mb mc md me paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lz lj ma mb mc md me paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mf mg mh"><p id="f922" class="ir is mi it b iu iv iw ix iy iz ja jb mj jd je jf mk jh ji jj ml jl jm jn jo hn dt translated"><a class="ae lq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lq" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae lq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mi it b iu iv iw ix iy iz ja jb mj jd je jf mk jh ji jj ml jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lf lg lh li fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff mm"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>