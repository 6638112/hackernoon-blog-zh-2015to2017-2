<html>
<head>
<title>Trae, another HTTP library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Trae，另一个HTTP库</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/trae-another-http-library-70000860a5f4?source=collection_archive---------8-----------------------#2017-02-05">https://medium.com/hackernoon/trae-another-http-library-70000860a5f4?source=collection_archive---------8-----------------------#2017-02-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="5a1e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">TL；DR；我们已经在使用<a class="ae jp" href="https://developer.mozilla.org/en/docs/Web/API/Fetch_API" rel="noopener ugc nofollow" target="_blank"> fetch </a>和一些不太实用的助手了。</strong></p><p id="6301" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不久前，当我在React应用程序上寻找使用什么来处理HTTP请求时，我发现了关于T0的信息。来自jQuery和Angular，这是我从来没有担心过的事情，因为我会使用库/框架提供的东西，并对此感到高兴。</p><p id="2e01" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我对任何推动网络发展并使其变得更好的事情都感到非常兴奋。尤其是对于<code class="eh jq jr js jt b"><strong class="it hv">fetch</strong></code>，有很多理由让我们兴奋不已:</p><ul class=""><li id="ceb6" class="ju jv hu it b iu iv iy iz jc jw jg jx jk jy jo jz ka kb kc dt translated">一个不错的API。<em class="kd">在你面前</em><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="noopener ugc nofollow" target="_blank"><em class="kd">XMLHttpRequest</em></a><em class="kd">！</em></li><li id="5ea8" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">请求/响应原语</li><li id="74ca" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated"><code class="eh jq jr js jt b"><strong class="it hv">'no-cors'</strong></code>不透明的反应</li><li id="dbe8" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">流</li><li id="2c9d" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">流阅读器和克隆</li><li id="ba70" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">标题类</li><li id="6e9e" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">缓存控制</li><li id="f892" class="ju jv hu it b iu ke iy kf jc kg jg kh jk ki jo jz ka kb kc dt translated">无凭证<code class="eh jq jr js jt b"><strong class="it hv">same-origin</strong></code>请求</li></ul><p id="24ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在杰克的帖子中深入了解他们。</p><h1 id="3b57" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">采用提取</h1><blockquote class="lh li lj"><p id="6703" class="ir is kd it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">我们谈论的是JS，你必须使用最新的东西，对吗？</p></blockquote><p id="e9e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">玩笑归玩笑，在用一些概念验证进行了一点点尝试之后，我得到了在工作中使用它的绝佳机会。我开始了一个新项目，多亏了Github的polyfill，我已经可以在那些还没有支持或者永远不会有支持的浏览器上安全地使用它了。太好了！</p><h1 id="0145" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">原生API缺点</h1><p id="ee6d" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">现在<code class="eh jq jr js jt b"><strong class="it hv">fetch</strong></code>是一个原生API，因此它的工作不是提供一个类似库的接口，带有助手和速记方法。用了一段时间后，最后有了一堆帮手。像这些:</p><figure class="ls lt lu lv fq lw"><div class="bz el l di"><div class="lx ly l"/></div></figure><p id="4f16" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是每个请求的样子:</p><figure class="ls lt lu lv fq lw"><div class="bz el l di"><div class="lx ly l"/></div></figure><p id="3051" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以说没什么问题，但感觉不对。我不想开始另一个项目，直接复制我的<code class="eh jq jr js jt b"><strong class="it hv">fetch-utils</strong></code>文件。我也不喜欢有一群帮手，这一点也不坏，但我知道我可以做得更好。</p><p id="a485" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我把我的担心告诉了Nico，他说“哟，我也有同样的问题！”。在讨论了一会儿一些想法，我们开始写一个库。</p><p id="1b1c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是我们如何以trae 结束的。</p><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="fe ff lz"><img src="../Images/a2705a28886f4d0cfe637f844f2c457c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*0R3BjrbWLDfyhsdmu_PnpQ.jpeg"/></div></div><figcaption class="mg mh fg fe ff mi mj bd b be z ek">Cool, but…</figcaption></figure><p id="bd28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">酷但是，和</strong><a class="ae jp" href="https://github.com/mzabriskie/axios" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">axios</strong></a><strong class="it hv">相比如何？</strong></p><figure class="ls lt lu lv fq lw"><div class="bz el l di"><div class="mk ly l"/></div></figure><figure class="ls lt lu lv fq lw"><div class="bz el l di"><div class="mk ly l"/></div></figure><p id="4e6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不仅很多人问了这个问题，我们自己也做了。</p><p id="8414" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为一种默认的HTTP库，它确实影响了我们。浏览它的代码帮助我们理解了HTTP库的需求和内部结构，并改进和完善了我们自己的一些想法。如果你想阅读组织良好的、书面的和文档化的代码，那就去看看吧。我必须承认，我甚至是马特T20的秘密粉丝。</p><p id="81f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是<code class="eh jq jr js jt b">axios<strong class="it hv"> </strong></code>内部使用<code class="eh jq jr js jt b">XHMLHttpRequest</code>。如果你还没有，看看杰克的帖子，了解更多关于T2的信息，以及相对于T3有哪些改进。</p><p id="ff41" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除此之外，<code class="eh jq jr js jt b">trae</code>和<code class="eh jq jr js jt b">axios</code>一样，只是一个HTTP库。而且，<em class="kd">我在这里可能有偏见，但是，</em>我会说这是一个很好的。因此，如果你像我们一样对<code class="eh jq jr js jt b">fetch</code>感到兴奋，想要使用它，同时又想拥有一个库的好东西，那就试试<code class="eh jq jr js jt b">trae</code>。</p><h1 id="f097" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">小崔，这到底是什么意思？</h1><p id="8480" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">在经历了从<a class="ae jp" href="https://en.wikipedia.org/wiki/Hermes" rel="noopener ugc nofollow" target="_blank">爱马仕</a>、<a class="ae jp" href="https://en.wikipedia.org/wiki/Charon_(mythology" rel="noopener ugc nofollow" target="_blank">卡戎</a>、<a class="ae jp" href="https://en.wikipedia.org/wiki/Huginn_and_Muninn" rel="noopener ugc nofollow" target="_blank"> Huginn和Muninn </a>到名犬甚至<a class="ae jp" href="http://www.pigeonracingpigeon.com/uncategorized/famouspigeons/" rel="noopener ugc nofollow" target="_blank">信鸽</a>的名字之后，我们决定用一些简单甚至有趣的名字，<code class="eh jq jr js jt b">trae<strong class="it hv">. </strong></code>在西班牙语中是<a class="ae jp" href="https://translate.google.com/#es/en/trae" rel="noopener ugc nofollow" target="_blank">的意思</a> <em class="kd">带来</em>，我们觉得对于一个专门获取数据的图书馆来说，这是一个很好的选择。</p><h1 id="7ab3" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">下一步是什么？</h1><p id="0498" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">列表上有一些<a class="ae jp" href="https://github.com/huemul/trae#todo" rel="noopener ugc nofollow" target="_blank">要做的</a>项目，但是关于库本身，我们喜欢它的API，并且认为，尽管它很年轻，但已经足够成熟，可以说我们不会对它进行大的突破性改变。</p><p id="0eed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这并不意味着我们不会做出改进。我们每天都在使用<code class="eh jq jr js jt b">trae</code>,并且正在寻找新的方法让它变得更好。我甚至有<em class="kd">也许不那么疯狂</em>的想法，用<a class="ae jp" href="https://github.com/Huemul/trae-chrome-devtools" rel="noopener ugc nofollow" target="_blank">一堆很酷的东西</a>构建一个开发工具扩展。</p><p id="3159" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们对贡献是非常开放的，所以如果您发现有什么需要改进的地方，请随时提问，甚至提交一个拉动请求。</p><h1 id="b603" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">结论</h1><p id="5034" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">每当你找到一种方法来改进你的工作流程，就更进一步，用它做点什么，不管是一个库，一个小模块还是一个工具。在这个过程中，你会学到很多东西，更好的是，你会帮助很多其他人。OSS FTW！！！</p><div class="ls lt lu lv fq ab cb"><figure class="ml lw mm mn mo mp mq paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ml lw mm mn mo mp mq paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ml lw mm mn mo mp mq paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lh li lj"><p id="f922" class="ir is kd it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">黑客中午是黑客如何开始他们的下午。我们是这个家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is kd it b iu iv iw ix iy iz ja jb lk jd je jf ll jh ji jj lm jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ls lt lu lv fq lw fe ff paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="fe ff mr"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="ls lt lu lv fq lw"><div class="bz el l di"><div class="ms ly l"/></div></figure></div></div>    
</body>
</html>