<html>
<head>
<title>5 Common Mistakes Integrating with GetStream.Io</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">与GetStream集成的5个常见错误。木卫一</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/5-common-mistakes-integrating-with-getstream-io-73553b2c8918?source=collection_archive---------9-----------------------#2017-11-20">https://medium.com/hackernoon/5-common-mistakes-integrating-with-getstream-io-73553b2c8918?source=collection_archive---------9-----------------------#2017-11-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d6c82efa77b3755ed26bfaee6e4ed39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iU7FBXGg4rIB7SM0phk_ug.png"/></div></div></figure><p id="ade6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">开始使用和集成一个技术解决方案，比如Stream，可能是令人兴奋的。有时候你只想撕开盒子，开始行动。当实现一个新的API时，我很少想阅读一页又一页(有时很无聊)的文档——这就是你的TL；DR版快速有效使用Stream需要了解的5件事。</p><p id="8200" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">准备，预备，开始！</p><ol class=""><li id="b4fc" class="ka kb hu je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki dt translated"><strong class="je hv">插入活动时，发送foreign_id和time字段。</strong>为foreign_id发送一个UUID(或其他唯一值),并获取当前时间。这样做将确保您拥有记录的唯一标准。如果不这样做，您将无法在以后更新该活动。拥有这两个字段可以确保activity是唯一的，你可以把它想象成一个多列主键。—因此您也不会在引擎盖下遇到副本，或者在您的提要中遇到副本。</li><li id="5422" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated"><strong class="je hv">使用id_lte代替offset进行分页。</strong>提要中的活动是根据基于时间的UUID排序的。我们建议您使用<code class="eh ko kp kq kr b">id_lt</code>分页。这比传统的基于偏移量的分页要好得多。</li><li id="fb26" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated"><strong class="je hv">不送PII。我们建议发送用户id，而不是个人信息，当你收到反馈时，做一个快速的数组转换。在处理个人信息的存储时，小心谨慎总是一个好主意，但是不要让这吓到你。我们有非常成功的客户，他们的应用程序包含位置等敏感信息，甚至是来自可穿戴物联网的心率等受到严格控制的健康信息。</strong></li><li id="b900" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated"><strong class="je hv">保持活动规模在1k以下。</strong>虽然我们允许您向activities JSON包中添加任何自定义字段，但如果大小超过1k，性能就会受到影响。我们经常收到客户关于在活动中附加图片、视频等的问题。或者媒体。使用存储您的媒体的位置的参考，并在您阅读完我们的内容后在您的后端丰富它。</li><li id="247d" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">请记住，扇出只能深入1层。当您添加一个活动时，它会在该feed之后的所有feed中自动更新，但不会更新到下一个级别。例如:如果Feed C跟在Feed B后面，而Feed B跟在Feed A后面(C- &gt; B- &gt; A)，那么向Feed A添加一个活动将自动扇出到Feed B。除非您将它添加到to字段中，否则Feed C不会获得更新。(但是请注意，TO字段的限制是100个提要。)</li></ol><p id="227f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在早期阶段对上述内容进行规划可以帮助您避免意外和成本超支。</p><p id="c40b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你还没有这样做，但是一定要检查一下<a class="ae ks" href="https://getstream.io/docs/" rel="noopener ugc nofollow" target="_blank"> Stream的文档</a>以获得其他有用的提示和技巧。</p><p id="bed2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">只是为了好玩…</p><figure class="kt ku kv kw fq iv"><div class="bz el l di"><div class="kx ky l"/></div></figure><blockquote class="kz la lb"><p id="82f4" class="jc jd lc je b jf jg jh ji jj jk jl jm ld jo jp jq le js jt ju lf jw jx jy jz hn dt translated">这是由软件工程师David Stillman领导的GetStream.io团队的合作。博文原文可以在<a class="ae ks" href="https://getstream.io/blog/5-common-mistakes-integrating-stream-api/" rel="noopener ugc nofollow" target="_blank">https://getstream . io/blog/5-common-missons-integrating-stream-API/</a>找到。</p></blockquote></div></div>    
</body>
</html>