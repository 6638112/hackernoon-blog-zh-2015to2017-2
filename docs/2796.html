<html>
<head>
<title>How I bypassed State Bank of India OTP.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何绕过印度国家银行OTP的？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-bypassed-state-bank-of-india-otp-f145469a9f1d?source=collection_archive---------0-----------------------#2017-02-20">https://medium.com/hackernoon/how-i-bypassed-state-bank-of-india-otp-f145469a9f1d?source=collection_archive---------0-----------------------#2017-02-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="4a41" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，一天一次的口令(OTP)是大多数银行最流行的带外特征，用户通过它在银行开户时使用发送到在银行注册的移动设备的OTP进行交易并验证其身份。</p><p id="b21f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是如果我们能绕过OTP呢？是的，你想的没错，我在这里写的是我在一家银行的经历，我可以绕过OTP，进行任何金额的交易。</p><p id="1b42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">印度最受欢迎的银行之一，印度国家银行(SBI)、</p><p id="29db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">开始了:</strong></p><p id="5bd4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我们在最后阶段进行交易时，我们被发送到一次性密码屏幕。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/c19530570f7a084258b87b7accafc4d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QteDV8SsNPQoRiw_fR1sWg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">OTP screen</figcaption></figure><p id="cecf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">大约3个月前，我在印度国家银行搜索bug，在【https://retail.onlinesbi.com】<a class="ae kf" href="https://retail.onlinesbi.com," rel="noopener ugc nofollow" target="_blank"/>花了1个小时后，我发现当我进行交易{在交易的最后阶段}时，在POST请求中有一个名为</p><p id="c192" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> smartotpflag设置为Y，即smartotpflag=Y </strong></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/be429887f6e98a8625cbd42d73340fed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2qh3oSxwtKzk4MEs0xIqQ.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">smartotpflag=Y</figcaption></figure><p id="bc7f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最初它已经被设置为值<strong class="it hv"> Y </strong></p><p id="016d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们很容易理解smartotpflag参数是用来生成OTP的，Y代表是生成OTP并发送到我的手机上。</p><p id="eac4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是如果我们把这个<strong class="it hv"> Y </strong>改成<strong class="it hv"> N. </strong>呢</p><p id="df8d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是的，我所做的就是把值从Y改为N，结果令我震惊。</p><p id="6854" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">交易已成功完成，无需进入OTP。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/26227f0047c32816508ce307a9a4dd53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMIMcP8kqVlpdO9QyTBnIg.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Finally Making smartotpflag=N and response.</figcaption></figure><h1 id="9c9c" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated"><strong class="ak">注意:这个漏洞已经打了补丁。</strong></h1><p id="4160" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">这是概念验证视频:</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="lj lk l"/></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">POC video</figcaption></figure><p id="64c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此视频显示了一笔金额较小的交易，但后来当我尝试进行60，000卢比的交易时，它成功了，没有进入OTP。</p><p id="6e74" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">甚至报纸都不支持我让整个印度知道这件事。</p><p id="2735" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">时间线:</p><p id="5a9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">2016年10月19日</p><ol class=""><li id="ac7a" class="ll lm hu it b iu iv iy iz jc ln jg lo jk lp jo lq lr ls lt dt translated">立即搜索了SBI的安全部门，但没有找到与他们联系的人。</li><li id="0de1" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">我搜索了SBI主席的号码并联系了她，但她的助理拿走了电话，说这里没有安全团队，请联系其他地方。</li><li id="1f05" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">向一些朋友询问SBI安全团队的情况时，他们建议我去CERT-India团队(印度政府)报道。计算机应急小组)。</li><li id="d976" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">通过邮件将所有关于漏洞的详细信息发送给CERT-INDIA团队，并直接发送给主席SBI邮件(可在互联网上找到)。</li><li id="96e4" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">即使在报告1个月后，漏洞仍未得到修补。</li><li id="6fa4" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">再次联系CERT-INDIA团队了解状态，他们回答说，他们已经将此细节转发给SBI，并将很快修复(取决于SBI何时修补此问题)。</li><li id="c9c2" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">再次检查错误是否存在！(不存在，错误已在大约。1.5个月的时间)。</li><li id="aebd" class="ll lm hu it b iu lu iy lv jc lw jg lx jk ly jo lq lr ls lt dt translated">到目前为止，CERT-India和SBI主席都没有回复关于bug的状态，既没有承认也没有奖励。</li></ol><p id="6d34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">谢谢<br/>问候<br/>尼拉杰·爱德华兹</p><div class="jq jr js jt fq ab cb"><figure class="lz ju ma mb mc md me paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lz ju ma mb mc md me paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lz ju ma mb mc md me paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mf mg mh"><p id="f922" class="ir is mi it b iu iv iw ix iy iz ja jb mj jd je jf mk jh ji jj ml jl jm jn jo hn dt translated"><a class="ae kf" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kf" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kf" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae kf" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mi it b iu iv iw ix iy iz ja jb mj jd je jf mk jh ji jj ml jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kf" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kf" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mm"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>