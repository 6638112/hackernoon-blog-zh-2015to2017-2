<html>
<head>
<title>Serious about big data visualization? Consider using MapD.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">认真对待大数据可视化？考虑使用MapD。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/serious-about-big-data-visualization-consider-using-mapd-7a5d0ddd77d7?source=collection_archive---------12-----------------------#2017-11-21">https://medium.com/hackernoon/serious-about-big-data-visualization-consider-using-mapd-7a5d0ddd77d7?source=collection_archive---------12-----------------------#2017-11-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="acdf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">去年夏天，MapD开源了他们的技术，并向所有人开放。那时，我和我在Dimebox的同事们正在为一个潜在的大客户做POV，我们必须给他们留下深刻印象。我们的数据分析能力已经很先进了，但由于它在客户端工作，所以无法处理大量数据。我们决定跳上MapD-train，到目前为止结果相当惊人。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/db4eaf0a8228b157aae5d62a0df4782c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kZ_E0CLQjkeV2UWI6nM9iA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">My example dashboard can be found on: <a class="ae jp" href="https://github.com/luukgruijs/mapd-examples" rel="noopener ugc nofollow" target="_blank">https://github.com/luukgruijs/mapd-examples</a></figcaption></figure><p id="1fcd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">MapD是一个GPU数据库平台。它由几个独立的软件包组成，这些软件包一起工作。这些是:</p><ul class=""><li id="9a6f" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/tagged/mapd" rel="noopener ugc nofollow" target="_blank"> MapD </a> Core:一个内存中的列存储SQL关系数据库，它是为运行在GPU上而从头设计的。</li><li id="a5b1" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">MapD制图:使用d3.js渲染的crossfilter构建的维度制图</li><li id="0eda" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">MapD cross filter:<a class="ae jp" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank">JavaScript</a>库，用于在浏览器中探索大型多元数据集。基于<a class="ae jp" href="http://crossfilter.github.io/crossfilter/" rel="noopener ugc nofollow" target="_blank">交叉滤波器</a>。</li><li id="030b" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">MapD Connector:一个JavaScript库，用于连接到MapD GPU数据库并运行查询。</li></ul><p id="4c53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将它们结合在一起，你就有了一个几乎可以即时可视化数十亿条数据记录的平台。</p><h1 id="325b" class="ku kv hu bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr dt translated">GPU数据库</h1><p id="a1b2" class="pw-post-body-paragraph ir is hu it b iu ls iw ix iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo hn dt translated">MapD平台和许多其他数据可视化平台之间的最大区别是MapD运行在GPU数据库上。当对大量数据执行重复操作时，GPU数据库比传统的CPU数据库提供了显著的改进。这是因为GPU可以有数千个内核，而CPU通常只有几个。通过这种方式，GPU可以处理大量并发流，而CPU只能处理少量流。</p><p id="4641" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="http://tech.marksblogg.com/benchmarks.html" rel="noopener ugc nofollow" target="_blank"> Mark Litwintschik </a>用11亿条记录的出租车数据集进行了基准测试。结果如下:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lx"><img src="../Images/bd9292ee6dcc9781d023877ec7cb60db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*knS1aQLsWhkGTv28QzwnuA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Image from <a class="ae jp" href="https://www.mapd.com/" rel="noopener ugc nofollow" target="_blank">https://www.mapd.com</a></figcaption></figure><pre class="jr js jt ju fq ly lz ma mb aw mc dt"><span id="6e5c" class="md kv hu lz b fv me mf l mg mh"><strong class="lz hv">Query 1: </strong>SELECT cab_type, count() FROM trips GROUP BY cab_type;</span><span id="2647" class="md kv hu lz b fv mi mf l mg mh"><strong class="lz hv">Query 2: </strong>SELECT passenger_count, avg(total_amount) FROM trips GROUP BY passenger_count;</span><span id="f661" class="md kv hu lz b fv mi mf l mg mh"><strong class="lz hv">Query 3: </strong>SELECT passenger_count, extract(year from pickup_datetime) AS pickup_year, count() FROM trips GROUP BY passenger_count, pickup_year;</span><span id="0fb5" class="md kv hu lz b fv mi mf l mg mh"><strong class="lz hv">Query 4: </strong>SELECT passenger_count, extract(year from pickup_datetime) AS pickup_year, cast(trip_distance as int) AS distance, count(*) AS the_count FROM trips GROUP BY passenger_count, pickup_year, distance ORDER BY pickup_year, the_count desc;</span></pre><p id="77ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">系统配置</strong></p><ul class=""><li id="e171" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated"><em class="mj"> MapD </em> : 1台机器(16个内核，512 GB RAM，2个1TB SSD，8个Nvidia Pascal Titan X GPUs)</li><li id="e1a9" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><em class="mj">红移</em> : 6台机器(36个内核，244 GB内存，16TB硬盘，AWS ds2.8xlarge)</li><li id="192a" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><em class="mj">转眼间</em> : 50台机器(4个内核，15 GB内存，100GB固态硬盘，GCP n1-标准-4)</li><li id="23f2" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><em class="mj"> Spark </em> : 11台机器(4个内核，15 GB内存，2个40GB存储，AWS m3.xlarge)</li></ul><p id="b60d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如您所见，MapD只能在一台机器上运行，但是比其他选项快10到100倍。很棒，不是吗？</p><h1 id="f568" class="ku kv hu bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr dt translated">可视化数据</h1><p id="e305" class="pw-post-body-paragraph ir is hu it b iu ls iw ix iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo hn dt translated">对于作为前端开发人员的我来说，这显然是最令人兴奋的部分。如前所述，我们Dimebox首先使用了客户端解决方案。这个解决方案是由<a class="ae jp" href="https://dc-js.github.io/dc.js/" rel="noopener ugc nofollow" target="_blank"> dc.js </a>和<a class="ae jp" href="http://square.github.io/crossfilter/" rel="noopener ugc nofollow" target="_blank">交叉滤波器</a>组合而成的。这些库非常棒，但是因为它们运行在客户端，所以可以显示的数据量是有限的。有了MapD，这个问题就解决了。当使用Mapd制图和MapD交叉过滤器时，您拥有相同的库，但能够显示数十亿条数据记录。可能性是无限的，以下是一些例子:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mk"><img src="../Images/082b502849d146aaaa760c50dfc29431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9bo1aZefZxrlxlfZFyRf4g.gif"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Because of crossfilter all graphs are linked</figcaption></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ml"><img src="../Images/c79f018d27c920ef8c0f41323a41a006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pg613hrAABVS7ZV5tbhL1A.gif"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">You can also crossfilter while drawing on a map</figcaption></figure><p id="42b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尤其是地图示例非常棒，但是您可能会更经常地看到一些“正常”的图形。支持的图表有:</p><ul class=""><li id="ed7a" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated">条形图</li><li id="8332" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">泡泡图</li><li id="623b" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">行图表</li><li id="a800" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">圆形分格统计图表</li><li id="0b5b" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">折线图</li><li id="2b83" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">计数图表</li><li id="4ba1" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">数字图表</li><li id="1524" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">地理坐标图</li></ul><p id="bd26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一些图表仍然存在一些问题，他们正在努力改善这些问题并添加新的问题。然而，结合上面的图表，你已经可以做出一些非常强大的仪表板。我还创建了一个包含所有这些图表的示例仪表板。你可以在我的github个人资料中找到这个:【https://github.com/luukgruijs/mapd-examples<a class="ae jp" href="https://github.com/luukgruijs/mapd-examples" rel="noopener ugc nofollow" target="_blank">。这也是一个很好的参考，如果你想开始使用上面的图表。</a></p><h1 id="e972" class="ku kv hu bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr dt translated">这一切看起来很有希望</h1><p id="6c41" class="pw-post-body-paragraph ir is hu it b iu ls iw ix iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo hn dt translated">是的，但是也有一些地方确实可以改进或者应该解决:</p><p id="fd58" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，文档不是很丰富。很多图都没有例子，所以如果你是dc.js的新手，就有点瞎猜了。另外，关于如何在你现有的API中利用MapD，还没有真正的书面指导方针。你当然可以问问自己提供这些是否是他们的工作，但我认为这可能有助于更广泛的采用，从而有助于更多的开源贡献。幸运的是，有<a class="ae jp" href="https://community.mapd.com/" rel="noopener ugc nofollow" target="_blank">https://community.mapd.com/</a>在那里你可以提问，通常你会在适当的时间内得到高质量的回答。</p><p id="41e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其次，数据库还不支持更新和删除查询。他们说他们正在研究这个。然而，这意味着在当前的可能性下，您必须清除整个数据库并重新插入新数据，或者您必须处理部分重复的数据。</p><p id="5bce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第三，默认情况下，MapD容易受到SQL注入的攻击。因为查询是从浏览器发送到服务器的。您可以拦截请求，并随意扩展或更改查询。您需要在您的服务器上创建一些逻辑来解决这个问题，并防止糟糕的事情发生。</p><p id="8320" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第四，MapD还没有在NPM上发布他们的软件包。当然，你仍然可以从他们的github直接获得它，但是NPM软件包会使它更容易安装到现有的项目中。</p><p id="52dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后但同样重要的是，GPU实例相对昂贵。虽然这当然不是MapD的问题，但是值得一提。例如，如果您有多个客户端，并且需要运行多个GPU实例，那么成本可能会非常高。亚马逊上最便宜的GPU实例每月花费700美元。虽然你总是不得不这样看待成本，但我们只能说，你可能无法将MapD用于一个有趣的数据丰富的爱好项目。</p><h1 id="a264" class="ku kv hu bd kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr dt translated">结论</h1><p id="1746" class="pw-post-body-paragraph ir is hu it b iu ls iw ix iy lt ja jb jc lu je jf jg lv ji jj jk lw jm jn jo hn dt translated">对我来说，MapD无疑是目前最令人兴奋的技术之一。但这并不适合所有人。要在现有产品中使用MapD，您必须对前端的d3、dc和交叉滤波器有所了解。你也应该有一些知识，使一切安全，并抛光到你需要的后端。我希望下个月这个项目能收到更多的捐款。我已经开始在Mapd制图项目中做出一些贡献，并计划做更多。激动人心的时刻！</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="8efc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢阅读。如果你喜欢这篇文章，请点击拍手按钮。有反馈吗？让我知道。也查看我的其他文章:</p><ul class=""><li id="257a" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/validating-reactive-forms-with-default-and-custom-form-field-validators-in-angular-5586dc51c4ae" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/validating-reactive-forms-with-default-and-custom-form-field-validators-in-angular-5586 DC 51 C4 AE</a></li><li id="4ddc" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/manage-your-observable-subscriptions-in-angular-with-help-of-rx-js-f574b590a5cb" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/manage-your-observable-subscriptions-in-angular-help-of-rx-js-f 574 b 590 a5cb</a></li><li id="924c" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/understanding-creating-and-subscribing-to-observables-in-angular-426dbf0b04a3" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/understanding-creating-and-subscribe-observables-in-angular-426 DBF 0 b 04 a 3</a></li><li id="f2b6" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/managing-large-s-css-projects-using-the-inverted-triangle-architecture-3c03e4b1e6df" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/managing-large-s-CSS-projects-using-the-inverted-triangle-architecture-3c 03 e 4 B1 e 6 df</a></li><li id="a198" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated"><a class="ae jp" href="https://hackernoon.com/understanding-map-filter-and-reduce-in-javascript-5df1c7eee464" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/understanding-map-filter-and-reduce-in-JavaScript-5 df 1c 7 eee 464</a></li></ul><p id="dd2c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mj">关注我上</em> <a class="ae jp" rel="noopener" href="/@luukgruijs"> <em class="mj">中</em> </a> <em class="mj">或</em> <a class="ae jp" href="https://twitter.com/luukgruijs" rel="noopener ugc nofollow" target="_blank"> <em class="mj">推特</em> </a> <em class="mj">让我们连接上</em><a class="ae jp" href="https://www.linkedin.com/in/luukgruijs/" rel="noopener ugc nofollow" target="_blank"><em class="mj">LinkedIn</em></a></p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mt mu l"/></div></figure></div></div>    
</body>
</html>