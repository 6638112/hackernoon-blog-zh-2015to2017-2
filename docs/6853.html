<html>
<head>
<title>By 2020, 50% of Managed APIs Projected to be Event-Driven</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">到2020年，50%的托管API预计将是事件驱动的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/by-2020-50-of-managed-apis-projected-to-be-event-driven-88f7041ea6d8?source=collection_archive---------2-----------------------#2017-10-07">https://medium.com/hackernoon/by-2020-50-of-managed-apis-projected-to-be-event-driven-88f7041ea6d8?source=collection_archive---------2-----------------------#2017-10-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="c93b" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">受大数据、物联网和消费者期望的推动，事件驱动的实时API激增</h2></div><p id="dc82" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">根据Gartner的Mark O'Neill和Paolo Malinverno的说法，到2020年，50%的托管API将支持事件驱动的IT(<a class="ae kf" href="https://www.gartner.com/doc/3660318" rel="noopener ugc nofollow" target="_blank">2017年报告</a>)。这些事件驱动的API不一定会取代RESTful请求-响应架构，但会成为扩展组织功能和整体性能的必要补充。</p><p id="eb11" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在另一份<a class="ae kf" href="http://www.gartner.com/newsroom/id/3598917" rel="noopener ugc nofollow" target="_blank"> 2017年物联网报告</a>中，Gartner预测“84亿台联网设备，比2016年增长31%，到2020年将达到204亿台。到2017年，终端基础设施和服务的总支出将达到近2万亿美元。”</p><p id="b75b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">那么，是什么推动了这种进化呢？“实时”正在成为现代技术堆栈中无所不在的力量。随着消费者要求更快的体验和更即时的数据交易，公司越来越多地投资于加速这些交易的产品基础设施。尽管我们已经看到API成为经济和技术的必需品，但它们通常基于请求-响应风格的交互，这限制了它们在实时领域的范围和有效性。</p><h1 id="c581" class="kg kh hu bd ki kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx dt translated">请求-响应与事件驱动的API</h1><p id="4b40" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hn dt translated">其核心是，请求-响应是一种消息交换模式，其中请求者向回复者系统发送请求消息。replier系统接收并处理请求，如果一切顺利，它将返回一条消息作为响应。虽然这种交换格式对于更结构化的请求很有效，但是它将集成限制在那些预期的系统清楚地知道自己想从对方那里得到什么的地方。因此，这些请求-响应风格的API必须遵循来自调用服务的交互脚本。</p><figure class="le lf lg lh fq li fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ld"><img src="../Images/3191eca63cd21275d74d34d150582b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WYbbTnI6AjZASFMJ.jpg"/></div></div></figure><p id="d2cd" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在事件驱动的架构中，应用程序基于事件驱动的交互，平等地集成多种服务和产品。这些交互由事件发射器、事件消费者和事件通道驱动，由此事件本身通常是产生、发布、传播、检测或消费的重大“状态变化”。这种架构模式支持软件组件和服务之间的松散耦合。这样做的好处是事件发射器不需要知道消费者的状态，消费者是谁，或者事件将如何处理(如果有的话)。这是一种通过持久流推送数据的机制。</p><h1 id="18bb" class="kg kh hu bd ki kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx dt translated">1950亿美元的物联网市场</h1><p id="5a34" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hn dt translated">根据<a class="ae kf" href="http://www.reportsnreports.com/reports/944711-internet-of-things-iot-market-shares-strategies-and-forecasts-worldwide-2017-to-2023.html" rel="noopener ugc nofollow" target="_blank">reports和</a>的分析师预测，物联网驱动设备的激增和“智能化”预计将在2023年达到超过1950亿美元的市场价值。从2016年的160亿美元市场开始，这一增长主要是由越来越普遍的智能家居、移动和交通设备制造以及捕获数据和增强通信基础设施的需求推动的。</p><p id="a062" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">设备变得越智能，就需要越多的数据来做出复杂的实时决策。传感器和外部数据收集工具正在成为物联网行业增长的重要催化剂。测量地理空间接近度、加速度、温度和运动的传感器和执行器的精度将把行业领先者与落后者区分开来。</p><figure class="le lf lg lh fq li fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff lp"><img src="../Images/21f2c7182ba08528064aba7dbfee2fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lt_F5dEdKtU7MSqG.jpg"/></div></div></figure><p id="bd53" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://postscapes.com/what-exactly-is-the-internet-of-things-infographic/" rel="noopener ugc nofollow" target="_blank"> <em class="lq">后景</em> </a></p><p id="ac4f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="http://www.gartner.com/newsroom/id/3598917" rel="noopener ugc nofollow" target="_blank"> Gartner </a>对半导体等实际核心组件进行了更深入的研究，预测到2020年，物联网驱动的半导体市场将达到450亿美元，其中消费物联网将占据最大份额，汽车行业(包括自动驾驶汽车)位居第二。</p><figure class="le lf lg lh fq li fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff lr"><img src="../Images/e1d5e266a4d5ffedeb2c5508ccac157d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pQnp7DV1yk9wBOn3.png"/></div></div></figure><h1 id="7a66" class="kg kh hu bd ki kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx dt translated">数据和商业智能</h1><p id="053f" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hn dt translated">真正互联的技术生态系统的目标也将反映数据和商业智能的平等增长。互联的事物越多，公司就越需要收集数据、推送远程更新和控制现场设备。因此，远程通信需要可靠，数据需要准确，从大数据中提取有意义信息的能力变得至关重要。</p><p id="b4e4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在Seagate的2015年报告<a class="ae kf" href="http://www.seagate.com/files/www-content/our-story/trends/files/Seagate-WP-DataAge2025-March-2017.pdf" rel="noopener ugc nofollow" target="_blank">中，到2025年，在总共160 Zettabytes的数据中，25%的数据将需要实时处理和生成。</a></p><figure class="le lf lg lh fq li fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ls"><img src="../Images/2db6414404464c541bc011887804780f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uMOFRnHyyfmNIT3R.png"/></div></div></figure><h1 id="5f64" class="kg kh hu bd ki kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx dt translated">事件驱动的API机制</h1><p id="069a" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hn dt translated">如果您想了解realtime背后的web基础设施，那么让我们探索一下它的一些基本组件。更全面的分析可以在<a class="ae kf" href="https://realtimeapi.io/getting-started-with-building-realtime-api-infrastructure/" rel="noopener ugc nofollow" target="_blank">实时API基础设施入门</a>中找到。</p><p id="2406" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">实时就是推送数据。在<a class="ae kf" href="https://techterms.com/definition/push" rel="noopener ugc nofollow" target="_blank">数据推送</a>模式中，数据被推送到用户的设备，而不是由用户拉取(请求)。例如，现代推送电子邮件允许用户接收电子邮件消息，而不必手动检查。类似地，我们可以从更连续的意义上研究数据推送，即数据被连续广播。任何可以使用特定频道或频率的人都可以接收数据并决定如何处理。</p><p id="aaf1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv"> HTTP流媒体</strong></p><p id="1df1" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://realtimeapi.io/hub/http-streaming/" rel="noopener ugc nofollow" target="_blank"> HTTP流</a>为即时和持续的数据推送提供了一个长期的连接。您已经熟悉了HTTP和WebSockets的性能。客户端向服务器发送请求，服务器无限期地保持响应开放。此连接将保持打开状态，直到客户端关闭它或服务器端事件发生。如果没有新的数据要推送，应用程序将发送一系列保持活动的标记，这样连接就不会关闭。</p><p id="c8d9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv"> Websockets </strong></p><p id="5d85" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">WebSockets为客户端和服务器之间的消息交换提供了一个长期的连接。对于全双工通信，消息可以向任一方向流动。这种双向连接是通过WebSocket握手建立的。就像在HTTP流和HTTP长轮询中一样，客户端首先向服务器发送一个常规的HTTP请求。如果服务器同意该连接，HTTP连接将被替换为WebSocket连接。</p><p id="53d0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv"> Webhooks </strong></p><p id="24f7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Webhooks是一种在服务器之间发送数据的简单方式。不需要长期的连接。当有数据要推送时，发送者向接收者发出HTTP请求。WebHook注册或“挂钩”到回调URL，并会在事件发生时通知您。您预先注册这个URL，当事件发生时，服务器向回调URL发送一个带有事件对象的HTTP POST请求。该事件对象包含将被推送到回调URL的新数据。如果你想收到关于某些主题的通知，你可以使用一个WebHook。它还可以用于在用户更改或更新其个人资料时通知您。</p><p id="6277" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jl hv"> HTTP长轮询</strong></p><p id="dee3" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://realtimeapi.io/hub/http-long-polling/" rel="noopener ugc nofollow" target="_blank"> HTTP长轮询</a>为即时数据推送提供了一个长期连接。这是最容易使用的机制，也是最容易变得可靠的机制。这项技术为即时数据推送提供了一个长期的连接。服务器保持请求打开，直到出现新数据或超时。大多数在30到120秒后发送超时，这取决于API是如何设置的。在客户端收到响应(无论是来自新数据还是超时)后，客户端将发送另一个请求，并不断重复。</p><p id="57fe" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="lq">当然，这背后还有基础设施。</em></p><p id="0a97" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://realtimeapi.io/hub/realtime-api-iaas-overview/" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hv">实时API基础设施</strong> </a> —实时API基础设施特别允许开发人员将实时数据推送构建到他们现有的API中。通常，您不需要修改现有的API契约，因为串流服务器将充当代理。代理设计允许这些服务很好地适应API栈。这意味着它可以从REST API继承其他功能，比如身份验证、日志记录、节流等。它可以与API管理系统相结合。在WebSocket消息作为HTTP请求被代理出去的情况下，消息可能被后端无状态地处理。来自单个连接的消息甚至可以跨一组后端实例进行负载平衡。</p><p id="251a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://realtimeapi.io/hub/realtime-app-iaas-overview/" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hv">实时应用基础设施</strong> </a> —实时应用基础设施向浏览器和客户端发送数据。它通常使用<a class="ae kf" href="https://realtimeapi.io/hub/publishsubscribe-pattern/" rel="noopener ugc nofollow" target="_blank"> pub/sub </a>消息传递、<a class="ae kf" href="https://realtimeapi.io/hub/webhooks/" rel="noopener ugc nofollow" target="_blank"> webhooks </a>和/或<a class="ae kf" href="https://realtimeapi.io/faq/what-is-a-websocket/" rel="noopener ugc nofollow" target="_blank">web sockets</a>——并且独立于应用程序或服务的主API。</p><h1 id="dd42" class="kg kh hu bd ki kj kk kl km kn ko kp kq ja kr jb ks jd kt je ku jg kv jh kw kx dt translated">主要外卖</h1><p id="3de7" class="pw-post-body-paragraph jj jk hu jl b jm ky iv jo jp kz iy jr js la ju jv jw lb jy jz ka lc kc kd ke hn dt translated">物联网、大数据和消费者预期正在推动事件驱动/实时API的激增。未来几年，工程师面临的最大挑战之一将是大规模构建可伸缩、容错的事件驱动架构。这就是为什么我们看到公司在2017年花费超过2万亿美元来支持事件驱动的端点和基础设施。</p><p id="5c2b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">虽然RESTful架构仍然是必要的，但对于组织来说，理解和规划事件驱动的系统是很重要的——这增加了实时API基础设施复杂性的新维度。</p></div></div>    
</body>
</html>