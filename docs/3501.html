<html>
<head>
<title>Why I like Go’s interfaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我喜欢Go的界面</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-i-like-gos-interfaces-2891adf2803c?source=collection_archive---------5-----------------------#2017-04-05">https://medium.com/hackernoon/why-i-like-gos-interfaces-2891adf2803c?source=collection_archive---------5-----------------------#2017-04-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="e9d5" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">Go的接口是隐式实现的，结合了duck类型的便利性和静态安全性</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/5677c9ef4ffc34765f337615bd1953e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NOMgKDT1nhVbhqcZ."/></div></div></figure><p id="16ad" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当我听到人们谈论<em class="kr"> Go </em>时，很多讨论都集中在它的并发特性上。虽然它有一个很好的并发故事，但语言领域目前充满了具有同样好或更好的并发故事的语言— <em class="kr"> F# </em>、<em class="kr"> Erlang </em>、<em class="kr"> Elixir </em>、<em class="kr"> Clojure </em>等…</p><p id="5095" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">就我个人而言，我在使用Go的过程中发现真正有趣的是它的界面是如何工作的。简而言之，接口不需要显式实现——即没有<em class="kr">实现</em>关键字。相反，<strong class="jx hv">接口被隐式满足</strong>。</p><h1 id="129e" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">鸭子打字</h1><p id="44d0" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">在Python之类的动态语言中，你有了<a class="ae lp" href="http://en.wikipedia.org/wiki/Duck_typing" rel="noopener ugc nofollow" target="_blank">鸭子打字</a>的概念。</p><blockquote class="lq lr ls"><p id="bfcc" class="jv jw kr jx b jy jz iv ka kb kc iy kd lt kf kg kh lu kj kk kl lv kn ko kp kq hn dt translated"><em class="hu">“如果它看起来像鸭子，叫起来像鸭子，那它就是鸭子”</em></p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/2c29cb862288ab421bcbb1831021249a.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*W74DPoQRIdU851Ma."/></div></figure><p id="15f5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">假设你在Python中有一个<em class="kr">say _ quak</em>函数，它期望它的参数有一个<em class="kr">quak</em>方法。你可以调用任何对象的函数，只要它有<em class="kr">嘎嘎</em>方法。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/163d470d0d94652426e436f6dea98d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*JezwqwxeF0p38IFk."/></div></figure><p id="2ccd" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">Duck typing很方便，但是如果没有编译器来捕捉你的错误，你会为了方便而牺牲很多安全。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/c864fab29e826dfe51f4f623d2311cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*stzjbw2evGrZpJEG."/></div></figure><p id="8e1e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果有一种两全其美的方法呢？</p><p id="b49a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在F#中，这可以通过<a class="ae lp" href="http://theburningmonk.com/2011/12/f-inline-functions-and-member-constraints/" rel="noopener ugc nofollow" target="_blank">静态解析类型参数</a>来实现:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/0f031cb8621c917d6626646ceca0a647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*JqmYzpJrl6Jknxsk."/></div></figure><p id="da5f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">但是从语法上来说，静态解析的TP有点笨拙，不容易阅读。在我看来，Go的接口代表了一种更优雅的解决方案。</p><h1 id="ff52" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">隐式实现的接口</h1><p id="4e71" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">在围棋中，假设你有一个<em class="kr">鸭子</em>的接口:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/49b95a30cfe4c3893fbf677d8b4caf90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*hhfgQ3dawnOvt-PP."/></div></figure><p id="b9fe" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">任何具有<em class="kr">嘎嘎</em>方法的结构都将隐式实现<em class="kr">鸭子</em>接口，并可用作<em class="kr">鸭子</em>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/4a29c466eeb26a60cd6c3890b585908c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*UVn0oPfme9FJ6WVv."/></div></figure><p id="ec3d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="kr">(自己试试</em> <a class="ae lp" href="https://play.golang.org/p/j8RbA8tnwL" rel="noopener ugc nofollow" target="_blank"> <em class="kr">这里</em> </a> <em class="kr"> ) </em></p><p id="e1a0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你有另一个结构，<em class="kr">狗</em>，它没有<em class="kr">嘎嘎</em>方法，而你试图用它作为<em class="kr">鸭子</em>，那么你会得到一个编译时错误:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/3ad15032a18112f87cfa6c8c87f40ef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/0*M16rbjOz11N-P67k."/></div></figure><p id="ead8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="kr">(自己试试</em> <a class="ae lp" href="https://play.golang.org/p/j8RbA8tnwL" rel="noopener ugc nofollow" target="_blank"> <em class="kr">这里</em> </a> <em class="kr"> ) </em></p><p id="577b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这就是鸭子打字的便利性和静态检查的安全性！</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/61527ef0d48c5e30f8700cf74d611fa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*Fwxo9xPq2D7o4dfc."/></div></figure><h1 id="21e9" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">不方便</h1><p id="f55a" class="pw-post-body-paragraph jv jw hu jx b jy lk iv ka kb ll iy kd ke lm kg kh ki ln kk kl km lo ko kp kq hn dt translated">Go界面的设计源于这样一个观察:模式和抽象只有在我们看过几次之后才会变得明显。</p><p id="b579" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">因此，当我们最无知的时候，不要在项目开始的时候就把我们锁在抽象中，我们可以在这些抽象对我们变得显而易见的时候定义它们。</p><p id="6319" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当您创建一个新的接口时，您不必返回并标记每个实现，如果该实现由第三方所有，这有时是不可能的。</p><p id="4374" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这使得Go接口非常便宜，并鼓励您创建非常精细、精确的接口定义。</p><p id="0659" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">总而言之，尽管我不喜欢用Go编写代码(因为你倾向于编写命令式的代码)，但我认为这种语言有一些非常有趣的想法和教训。</p><p id="ebe4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">它也是我们这个时代非常相关的语言，一些重要的产品(咳咳，Docker)都是用Go编写的。</p><p id="8152" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">它仍然是一种非常小众的语言，它的网站在帮助你入门方面做得很好。如果你对学习这门语言感兴趣的话，来一次围棋之旅吧。</p><h1 id="0212" class="ks kt hu bd ku kv kw kx ky kz la lb lc ja ld jb le jd lf je lg jg lh jh li lj dt translated">链接</h1><ul class=""><li id="6cba" class="ma mb hu jx b jy lk kb ll ke mc ki md km me kq mf mg mh mi dt translated"><a class="ae lp" href="http://theburningmonk.com/2011/12/f-inline-functions-and-member-constraints/" rel="noopener ugc nofollow" target="_blank"> F#内联函数和成员约束</a></li><li id="d8f1" class="ma mb hu jx b jy mj kb mk ke ml ki mm km mn kq mf mg mh mi dt translated"><a class="ae lp" href="https://tour.golang.org/welcome/1" rel="noopener ugc nofollow" target="_blank">围棋之旅</a></li></ul><div class="jk jl jm jn fq ab cb"><figure class="mo jo mp mq mr ms mt paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mo jo mp mq mr ms mt paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mo jo mp mq mr ms mt paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lq lr ls"><p id="f922" class="jv jw kr jx b jy jz iv ka kb kc iy kd lt kf kg kh lu kj kk kl lv kn ko kp kq hn dt translated"><a class="ae lp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae lp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jv jw kr jx b jy jz iv ka kb kc iy kd lt kf kg kh lu kj kk kl lv kn ko kp kq hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mu"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>