<html>
<head>
<title>Golang for PHP Developers: Dependency management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向PHP开发人员的Golang:依赖性管理</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/golang-for-php-developers-dependency-management-19bf2c9bc2c4?source=collection_archive---------8-----------------------#2017-06-02">https://medium.com/hackernoon/golang-for-php-developers-dependency-management-19bf2c9bc2c4?source=collection_archive---------8-----------------------#2017-06-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="77f3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://hackernoon.com/tagged/php" rel="noopener ugc nofollow" target="_blank"> PHP </a>生态系统被用于依赖管理的<a class="ae jp" href="https://getcomposer.org/" rel="noopener ugc nofollow" target="_blank"> Composer </a>彻底破坏了。Composer非常简单易用。对于<a class="ae jp" href="https://hackernoon.com/tagged/golang" rel="noopener ugc nofollow" target="_blank"> Golang </a>生态系统<a class="ae jp" href="http://glide.sh/" rel="noopener ugc nofollow" target="_blank"> Glide </a>就是Composer对于PHP的意义；对于Golang来说，Glide是最简单的(可能是)最常用的依赖管理工具。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/ab3f62fb40a1e937f63911502e467464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*08k5xZm9MFSlnCSL-JL1Aw@2x.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">The Composer and Glide logo’s</figcaption></figure><p id="a3eb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本文通过四个重要的Composer命令来比较Glide和Composer:init、install、require和update。不包括<a class="ae jp" href="https://glide.readthedocs.io/en/latest/#installing-glide" rel="noopener ugc nofollow" target="_blank">安装滑道</a>。</p><h1 id="b9b2" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">滑行作曲者初始化</h1><p id="1074" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">Glide还知道在Golang项目中初始化依赖管理的“init”子命令。在询问您一些关于您正在设置的软件包的问题后，这将为您设置初始的<code class="eh lj lk ll lm b">glide.yaml</code>。</p><p id="a3c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为您的项目创建一个<code class="eh lj lk ll lm b">glide.yaml</code>:</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="b32c" class="lr kh hu lm b fv ls lt l lu lv">$ glide init</span></pre><p id="1f1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，Glide将创建<code class="eh lj lk ll lm b">glide.yaml</code>文件，并尝试填充它。如果你在一个代码库上初始化glide，而这个代码库已经有了。转到源文件。</p><h1 id="bd13" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">Glide的composer安装</h1><p id="3e12" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">现在你知道了如何在项目中初始化glide，是时候安装依赖项了。Composer和Glide在这方面很像。要安装依赖项，只需调用:</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="ef2e" class="lr kh hu lm b fv ls lt l lu lv">$ glide install</span></pre><p id="97a4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Glide将在<code class="eh lj lk ll lm b">vendor/</code>文件夹中安装依赖项，就像Composer一样。</p><h1 id="4ac9" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">滑行需要作曲家</h1><p id="fd89" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">Glide的“get”子命令相当于Composer的“require”。它的工作原理也大致相同。以下面两个命令为例:</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="3318" class="lr kh hu lm b fv ls lt l lu lv">$ composer require rtuin/somepackage </span><span id="5d18" class="lr kh hu lm b fv lw lt l lu lv"># Add a dev dependency <br/>$ composer require --dev rtuin/somepackage </span><span id="8bdc" class="lr kh hu lm b fv lw lt l lu lv"># Or, with version specified <br/>$ composer require rtuin/somepackage:^1.0</span></pre><p id="2dc5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Glide的对应物，注意用<code class="eh lj lk ll lm b">#</code>代替<code class="eh lj lk ll lm b">:</code>来表示版本:</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="970e" class="lr kh hu lm b fv ls lt l lu lv">$ glide get github.com/rtuin/somepackage </span><span id="16f7" class="lr kh hu lm b fv lw lt l lu lv"># Add a dev dependency <br/>$ glide get --test github.com/rtuin/somepackage </span><span id="9aee" class="lr kh hu lm b fv lw lt l lu lv"># Or, with version specified <br/>$ glide get github.com/rtuin/somepackage#^1.0</span></pre><p id="4413" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Glide和Composer一样尊重<a class="ae jp" href="https://glide.readthedocs.io/en/latest/versions/" rel="noopener ugc nofollow" target="_blank">表示版本号</a>的方式。</p><h1 id="a3c6" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">Glide的作曲更新</h1><p id="1a3a" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">Composer“更新”和Glide“更新”有完全相同的结果。它将根据<code class="eh lj lk ll lm b">glide.yaml</code>文件中列出的包找到新的依赖版本，并根据您配置的版本范围约束检查这些版本是否需要安装。</p><p id="c759" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果有任何包需要更新，Glide会像Composer一样，将这个包下载到<code class="eh lj lk ll lm b">vendor/</code>文件夹，并将新版本写入<code class="eh lj lk ll lm b">glide.lock</code>文件。最终导致可重复的安装。</p><h1 id="52aa" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">Glide的composer.json</h1><p id="d732" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">Glide使用YAML格式而不是json，但除此之外，<code class="eh lj lk ll lm b">glide.yaml</code>文件的本质与<code class="eh lj lk ll lm b">composer.json</code>文件相似。</p><p id="007e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面你会看到一个<code class="eh lj lk ll lm b">composer.json</code>文件和一个<code class="eh lj lk ll lm b">glide.yaml</code>文件，让你知道它们有多相似。</p><p id="b418" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有三个主要区别:</p><ul class=""><li id="383a" class="lx ly hu it b iu iv iy iz jc lz jg ma jk mb jo mc md me mf dt translated"><code class="eh lj lk ll lm b">glide.yaml</code>中的包定义不包含版本号。软件包版本是由您将启用Glide的软件包放入的版本控制系统定义的。例如，这可以是散列引用、修订号或(语义版本)标记名。</li><li id="e480" class="lx ly hu it b iu mg iy mh jc mi jg mj jk mk jo mc md me mf dt translated">没有“开发”导入，但是有“测试”导入。(但是你可以用同样的方法使用它们。)</li><li id="746c" class="lx ly hu it b iu mg iy mh jc mi jg mj jk mk jo mc md me mf dt translated">Glide中没有自动加载指令。这是因为Golang有自己固定的加载依赖项的方式，你不能使用Glide来影响它们。在Golang中，包加载是可预测的，不需要依赖项管理器中的配置值。</li></ul><p id="3eb2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">composer.json:</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="9e04" class="lr kh hu lm b fv ls lt l lu lv">{<br/>  "name": "rtuin/somepackage",<br/>  "description": "This is some package description",<br/>  "homepage": "https://github.com/rtuin/somepackage",<br/>  "license": "MIT",<br/>  "version": "1.0.0",<br/>  "authors": [<br/>    {<br/>      "name": "Richard Tuin",<br/>      "email": "git@rtuin.nl",<br/>      "homepage": "http://www.rtuin.nl"<br/>    }<br/>  ],<br/>  "autoload": {<br/>    "psr-4": {"Rtuin\\Somepackage": "src/"}<br/>  },<br/>  "require": {<br/>      "rtuin/someotherpackage": "^4.1",<br/>  },<br/>  "require-dev": {<br/>    "rtuin/somedevdependency": "^5.3"<br/>  }<br/>}</span></pre><p id="cf8b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">glide.yaml</p><pre class="jr js jt ju fq ln lm lo lp aw lq dt"><span id="1dff" class="lr kh hu lm b fv ls lt l lu lv">package: github.com/rtuin/somepackage<br/>homepage: https://github.com/rtuin/somepackage<br/>license: MIT<br/>owners:<br/>- name: Richard Tuin<br/>  email: git@rtuin.nl<br/>  homepage: http://www.rtuin.nl<br/>import:<br/>- package: github.com/rtuin/someotherpackage<br/>  version: ^4.1<br/>testImport:<br/>- package: github.com/rtuin/somedevdependency<br/>  version: ^5.3</span></pre><h1 id="48ae" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">结论</h1><p id="39b5" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">事实证明，Golang的Glide与PHP的Composer非常相似。Glide不是Golang唯一受欢迎的依赖管理器，但它绝对是最容易使用的，并且与Composer非常相似。</p><p id="0e6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我还在slideshare上的幻灯片中提供了这些内容:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ml mm l"/></div></figure></div><div class="ab cl mn mo hc mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hn ho hp hq hr"><p id="b3df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mu">最初发布于</em><a class="ae jp" href="http://www.rtuin.nl/2017/06/golang-for-php-developers-dependency-management/" rel="noopener ugc nofollow" target="_blank"><em class="mu">rt uin . nl</em></a><em class="mu">。</em></p><div class="jr js jt ju fq ab cb"><figure class="mv jv mw mx my mz na paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mv jv mw mx my mz na paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mv jv mw mx my mz na paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="nb nc nd"><p id="f922" class="ir is mu it b iu iv iw ix iy iz ja jb ne jd je jf nf jh ji jj ng jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mu it b iu iv iw ix iy iz ja jb ne jd je jf nf jh ji jj ng jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff nh"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ni mm l"/></div></figure></div></div>    
</body>
</html>