<html>
<head>
<title>Predict a TIP using Machine learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用机器学习预测小费</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/predict-a-tip-using-machine-learning-aee94f467ef2?source=collection_archive---------29-----------------------#2017-10-19">https://medium.com/hackernoon/predict-a-tip-using-machine-learning-aee94f467ef2?source=collection_archive---------29-----------------------#2017-10-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d054" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本指南是使用Python和R进行机器学习的系列教程的第二部分，你可以在这里找到第1部分<a class="ae jp" rel="noopener" href="/@doronsegal/a-starter-guide-for-machine-learning-f2fe14d1665c"/>。</p><p id="61a8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">什么是线性回归？</strong>(来自维基百科)<br/>在<a class="ae jp" href="https://en.wikipedia.org/wiki/Statistics" rel="noopener ugc nofollow" target="_blank">统计</a>，<strong class="it hv">线性回归</strong>是一种<a class="ae jp" href="https://en.wikipedia.org/wiki/Linear" rel="noopener ugc nofollow" target="_blank">线性</a>方法，用于建模标量<a class="ae jp" href="https://en.wikipedia.org/wiki/Dependent_variable" rel="noopener ugc nofollow" target="_blank">因变量</a> <em class="jq"> y </em>与一个或多个<a class="ae jp" href="https://en.wikipedia.org/wiki/Explanatory_variable" rel="noopener ugc nofollow" target="_blank">解释变量</a>(或自变量)X 之间的关系。一个解释变量的情况称为<a class="ae jp" href="https://en.wikipedia.org/wiki/Simple_linear_regression" rel="noopener ugc nofollow" target="_blank"> <em class="jq">简单线性回归</em> </a>。对于多个解释变量，该过程称为<em class="jq">多元线性回归</em>。(该术语与<a class="ae jp" href="https://en.wikipedia.org/wiki/Multivariate_linear_regression" rel="noopener ugc nofollow" target="_blank"> <em class="jq">多元线性回归</em> </a>不同，多元线性回归预测多个相关的因变量，而不是单个标量变量。)</p><p id="0165" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本上，这是中学时的函数，<code class="eh jr js jt ju b">Y = mx + b<br/></code>，其中<code class="eh jr js jt ju b">Y</code>是y轴上的值，等于斜率乘以<code class="eh jr js jt ju b">x</code>的值加上常数<code class="eh jr js jt ju b">b</code>。</p><p id="e66b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们首先创建一个模型，根据他或她的客户的年龄来预测服务员将获得的小费(我将在下面解决这个特定模型的问题)。为了使我们的数据集适合线性回归算法，<code class="eh jr js jt ju b">X</code>将是年龄，<code class="eh jr js jt ju b">Y</code>将是小费金额。稍后我将演示如何通过使用组大小而不是年龄来改进我们的模型。在该示例中，<code class="eh jr js jt ju b">X</code>将是组大小，而<code class="eh jr js jt ju b">Y</code>将是小费数量</p><blockquote class="jv jw jx"><p id="49da" class="ir is jq it b iu iv iw ix iy iz ja jb jy jd je jf jz jh ji jj ka jl jm jn jo hn dt translated">这只是一个演示如何使用线性回归构建简单模型的示例。</p><p id="0b23" class="ir is jq it b iu iv iw ix iy iz ja jb jy jd je jf jz jh ji jj ka jl jm jn jo hn dt translated">年龄和小费没有很强的相关性，有许多变量需要考虑，如用餐者总数、地点、餐馆类型、饭菜类型等..</p></blockquote><p id="8aba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">数据集:</strong></p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/fd78a0c1bb734094dd7d445fa6c34a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*BQARmK40AxXEWT2G2st4lA.png"/></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">This random dataset, it isn’t designed to make sense.</figcaption></figure><blockquote class="jv jw jx"><p id="97aa" class="ir is jq it b iu iv iw ix iy iz ja jb jy jd je jf jz jh ji jj ka jl jm jn jo hn dt translated">Python示例</p></blockquote><figure class="kc kd ke kf fq kg"><div class="bz el l di"><div class="kn ko l"/></div></figure></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><blockquote class="jv jw jx"><p id="ad14" class="ir is jq it b iu iv iw ix iy iz ja jb jy jd je jf jz jh ji jj ka jl jm jn jo hn dt translated">r示例</p></blockquote><figure class="kc kd ke kf fq kg"><div class="bz el l di"><div class="kn ko l"/></div></figure></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="cc68" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是图表</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff kw"><img src="../Images/21cdfb33561457d762530ca4a822d872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iw8V4ntrjawcg1bypGXhnw.png"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">This graph is our train dataset</figcaption></figure><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lb"><img src="../Images/bc503219f1f76ba3a11a203e416f4332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfi8CuyOI6-g1wL6_Z-DIw.png"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">Test dataset graph</figcaption></figure><p id="3442" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从图表中我们可以了解到什么？<br/> 正如你可能猜到的那样，小费的多少和顾客的年龄之间存在微弱的相关性。作为数据驱动的人，我们应该总是检查所有的可能性，尽量不要有偏见。现在让我们试着检查不同的数据集<code class="eh jr js jt ju b">tip</code>和<code class="eh jr js jt ju b">number of diners</code>。</p><p id="258d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">使用新的数据集:<em class="jq">用餐人数</em>和<em class="jq">小费</em> </strong></p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lc"><img src="../Images/4f17ac333b2e7de278b7e69192405f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*Sq9gEo9T8pr_sP1-yRZ4Ag.png"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">Group size vs Tip</figcaption></figure><p id="d9cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们使用线性回归模型来处理这些数字</p><p id="2309" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将使用相同的代码(参见上面的示例)，但是我将向您展示新的训练数据集和测试数据集图。</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff ld"><img src="../Images/dec8a45112797c36e4cdde99b52565ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EDrxBbeFgf2u5n99JFGDHw.png"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">How much a group of X will tip (Train set) — stronger correlation</figcaption></figure><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff le"><img src="../Images/6124253550efd0ad98780bb08477bbd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AIbR8Vdma16zYT-kWLimMg.png"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">How much a group of X will tip (Test set) — we can see that our test set fit to our train set</figcaption></figure><p id="8c1e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，我们看到，团队规模与小费金额之间的相关性比小费金额与客户年龄之间的相关性强得多。</p><p id="561b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以在我们的模型上运行一个查询，使用这个命令来预测一组5名用餐者的小费金额:<code class="eh jr js jt ju b">my_test_tip = regressor.predict(np.array(5))</code></p><p id="530e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">总结<br/> </strong>这是一个基本模型，仅用于演示线性回归的基础知识以及如何创建模型。在现实生活中，我们使用更多的变量，使得我们的模型更加复杂。</p><p id="26cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我花了一些时间在这些教程上，所以我希望你们会觉得有用。如果你想要更多，请鼓掌表示你的支持！或者送点比特币爱心给我买瓶啤酒<em class="jq">1 pg 4 bbrevsewroo 6 zs 6 kyvi 1 emfpaglac</em></p><p id="8f51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">干杯！<br/>欲了解更多多伦西格尔，请登录我的网站http://segaldoron.com</p></div></div>    
</body>
</html>