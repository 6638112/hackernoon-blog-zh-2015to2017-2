<html>
<head>
<title>Open Source Packages Kind Of Suck Sometimes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开源软件包有时有点糟糕</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/open-source-packages-kind-of-suck-sometimes-19c2727bac26?source=collection_archive---------8-----------------------#2017-08-16">https://medium.com/hackernoon/open-source-packages-kind-of-suck-sometimes-19c2727bac26?source=collection_archive---------8-----------------------#2017-08-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="8dbe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我喜欢开源社区。node.js生态系统是一个奇妙的地方，你可以在npm上找到几乎所有东西的包。问题是，你可以为<em class="jp">找到几乎所有的</em>包，有时不止一个包完成同样的事情。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="3f88" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从最抽象的角度来看，这是开源代码最好的事情之一。任何人都可以发布任何东西，如果你不喜欢某个包或者你想要其他的东西，你可以派生出它，并根据你自己的目的修改它。这在过去被证明对我很有用。在<a class="ae jx" href="https://hackernoon.com/automating-my-personal-note-taking-compilation-system-415696705657" rel="noopener ugc nofollow" target="_blank">之前的一个帖子</a>中，我谈到了现有的<a class="ae jx" href="https://www.npmjs.com/package/gulp-pdflatex" rel="noopener ugc nofollow" target="_blank"> gulp-pdflatex </a>包如何不能满足我的需求，所以我写了自己的版本，发布为<a class="ae jx" href="https://www.npmjs.com/package/gulp-pdflatex2" rel="noopener ugc nofollow" target="_blank"> gulp-pdflatex2 </a>。这很好，但它破坏了生态系统。如果你在谷歌上搜索gulp pdflatex，你会找到三个匹配的包。</p><figure class="jz ka kb kc fq kd fe ff paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="fe ff jy"><img src="../Images/ebdff89da77191d494486f4e24eeca39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HuUJ8orY9ZXzdtlAS8fFGA.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Searching ‘gulp pdflatex’ on Google</figcaption></figure><p id="43bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于初学者来说，这可能非常烦人，因为不清楚最佳解决方案。除了包的用法略有不同之外，每个包可能有也可能没有错误或者处于损坏/过期的状态。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="b529" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本周，我在做我的一个开源项目(<a class="ae jx" href="https://github.com/omgimanerd/getnews.tech" rel="noopener ugc nofollow" target="_blank"> getnews.tech </a>)，我需要一个node.js库来处理IP地址的地理定位，通常称为geoip。</p><figure class="jz ka kb kc fq kd fe ff paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="fe ff ko"><img src="../Images/eb49cf77f5bcaeb8353db60630716a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1MQikEUsF24FjIDOsL8vEA.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Searching ‘node geoip’ on Google</figcaption></figure><p id="694e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">废话。</p><p id="5a4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们浏览一下:</p><ul class=""><li id="65b8" class="kp kq hu it b iu iv iy iz jc kr jg ks jk kt jo ku kv kw kx dt translated"><a class="ae jx" href="https://www.npmjs.com/package/geoip" rel="noopener ugc nofollow" target="_blank">GeoIP</a>:libgeoip C库的一个薄薄的包装，据所有者承认，它有内存泄漏，不应该选择它而不是<a class="ae jx" href="https://www.npmjs.com/package/node-geoip" rel="noopener ugc nofollow" target="_blank"> node-geoip </a>。</li><li id="cd1c" class="kp kq hu it b iu ky iy kz jc la jg lb jk lc jo ku kv kw kx dt translated"><a class="ae jx" href="https://www.npmjs.com/package/geoip-native" rel="noopener ugc nofollow" target="_blank"> geoip-native </a>:使用免费MaxMind数据库的本地JavaScript geoip库。我用了一段时间，直到我意识到软件包提供的MaxMind数据库已经过时了。</li><li id="a078" class="kp kq hu it b iu ky iy kz jc la jg lb jk lc jo ku kv kw kx dt translated"><a class="ae jx" href="https://www.npmjs.com/package/node-geoip" rel="noopener ugc nofollow" target="_blank"> node-geoip </a>:原生JavaScript库，使用预打包的CSV文件查找ip地址，面临与geoip-native相同的问题。</li><li id="9165" class="kp kq hu it b iu ky iy kz jc la jg lb jk lc jo ku kv kw kx dt translated"><a class="ae jx" href="https://www.npmjs.com/package/geoip-lite-country" rel="noopener ugc nofollow" target="_blank"> geoip-lite-country </a>:“剥离下来的节点-geoip-lite”。哦，现在还有<a class="ae jx" href="https://www.npmjs.com/package/node-geoip-lite" rel="noopener ugc nofollow" target="_blank"> node-geoip-lite </a>？</li><li id="3dc1" class="kp kq hu it b iu ky iy kz jc la jg lb jk lc jo ku kv kw kx dt translated"><a class="ae jx" href="https://www.npmjs.com/package/node-service-geoip" rel="noopener ugc nofollow" target="_blank"> node-service-geoip </a>:“包装node-geoip包的RabbitMQ微服务(npm上的geoip-lite)。”还有一个geoip-lite封装？</li></ul><p id="e26b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里至少有7个处理地理定位的包，快速搜索npm包目录会发现更多。</p><figure class="jz ka kb kc fq kd fe ff paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="fe ff ld"><img src="../Images/99dbbffdaf9e959845d02bc695b856e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OmEgimbldP2bb3QUsHnZww.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Packages with the keyword ‘geoip’ on npmjs.</figcaption></figure><p id="79cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我说了一把吗？我指的是更多的性交。这证明是一个巨大的头痛给我。也不是所有的包都有好的输出文档，所以我没有立即排除它，而是安装它，试用它，如果它不符合我的目的，就删除它。</p><p id="969b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为我希望能够从IP地址中确定国家和时区，所以我最终满足于使用<a class="ae jx" href="https://www.npmjs.com/package/maxmind" rel="noopener ugc nofollow" target="_blank"> maxmind </a>包，这样我就可以提供我自己的maxmind二进制数据库，并独立于该包更新它。(<a class="ae jx" href="https://twitter.com/omgimanerd/status/897386355818233856" rel="noopener ugc nofollow" target="_blank">这是为了检测getnews.tech的用户时区</a>)</p><p id="aca1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这只是困扰生态系统的一个问题的小小例证。它不仅仅局限于npm和node.js，快速搜索“pip geoip”还会显示一些不同的Python包(尽管问题没有npm那么糟糕)。虽然npm确实包含了一个大的包库，可以做任何你能想到的事情，但是对它们进行分类可能会很混乱。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="4e03" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我不知道解决这个问题的好方法，但也许向社区展示这一点可以让我们讨论一种建设性的方法。我们应该鼓励开发人员取消发布他们不再维护的未使用/损坏的包吗？至少，我们应该鼓励他们清楚地标记过时的或不推荐的包，这样他们在搜索结果中的排名就会降低。npm已经允许在搜索时根据<a class="ae jx" href="https://npms.io/about" rel="noopener ugc nofollow" target="_blank">流行度和质量</a>对包进行排名，但这并没有在我寻找合适的geoip包时帮助我太多。</p><p id="c2bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢听我抱怨或谈论我的代码，请考虑在Twitter上关注我。感谢阅读！</p></div></div>    
</body>
</html>