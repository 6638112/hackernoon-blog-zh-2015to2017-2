<html>
<head>
<title>Building Angular development environment with Gulp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用大口营造角度发展环境</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/building-angular-development-environment-with-gulp-230df2f2f6ca?source=collection_archive---------1-----------------------#2016-10-07">https://medium.com/hackernoon/building-angular-development-environment-with-gulp-230df2f2f6ca?source=collection_archive---------1-----------------------#2016-10-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/710ff07d57e40e3d5534dfad5bccd968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*-hn8bzW5kPQ4XNja3UBJLg.png"/></div></figure><p id="e055" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为<a class="ae jw" href="https://hackernoon.com/tagged/angular" rel="noopener ugc nofollow" target="_blank">角度</a>应用程序建立一个舒适的开发环境有时可能是一项复杂的任务。应该考虑许多问题，主要是:</p><ul class=""><li id="fd51" class="jx jy hu ja b jb jc jf jg jj jz jn ka jr kb jv kc kd ke kf dt translated">复制HTML文件</li><li id="9c8a" class="jx jy hu ja b jb kg jf kh jj ki jn kj jr kk jv kc kd ke kf dt translated">连接、注释和最小化。js文件</li><li id="3a7a" class="jx jy hu ja b jb kg jf kh jj ki jn kj jr kk jv kc kd ke kf dt translated">最小化并复制CSS文件</li><li id="44f3" class="jx jy hu ja b jb kg jf kh jj ki jn kj jr kk jv kc kd ke kf dt translated">复制图像和字体</li><li id="7ada" class="jx jy hu ja b jb kg jf kh jj ki jn kj jr kk jv kc kd ke kf dt translated">从包管理器(尤其是bower)注入依赖性</li></ul><p id="bf7b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">幸运的是,<a class="ae jw" href="http://gulpjs.com/" rel="noopener ugc nofollow" target="_blank">T3可以解决上面提到的所有任务。我不会涵盖开发者通过</a><a class="ae jw" href="https://hackernoon.com/tagged/gulp" rel="noopener ugc nofollow" target="_blank">大口</a>和它的强大插件所能达到的所有能力，但是任何没有以前大口背景的人都可以用这篇文章来建立他的第一个开发环境。</p><p id="e729" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以，不再拖延，让我们开始吧！</p></div><div class="ab cl kl km hc kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="hn ho hp hq hr"><h2 id="cc9e" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">第一步</h2><p id="baec" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">现在，让我们创建一个新的项目文件夹，并定义我们项目的架构。我通常使用文件夹来存放脚本(带有用于角度指令、服务和控制器的子文件夹)、样式表、视图(HTML文件，可能根据每个应用程序的功能划分为相关的文件夹——取决于项目的规模)、图像和字体，在文档根有一个<strong class="ja hv">index.html</strong>文件。基本上，结构如下所示:</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/9e4acb7a50b4b94e2a0a5a3a0473ba0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*Q8XoOBcOsZxFuGT194Jn_g.jpeg"/></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Folder tree structure for a simple angular app</figcaption></figure><p id="e0e3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们到了。从这一点上，我们需要开始了解大口是如何工作的。继续用<a class="ae jw" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv"> npm </strong> </a> <strong class="ja hv">安装。</strong></p><blockquote class="mb mc md"><p id="e753" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ npm安装大口</strong></p></blockquote><p id="11c0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在应用程序的文档根中创建一个glut file . js文件。让我们从一个基本的任务开始——将所有html文件从“views”文件夹复制到我们的“dist”文件夹(这将是我们的生产就绪(嗯，说得难听点)应用程序版本的根文件夹)，同时保留文件/文件夹结构。</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="0341" class="ks kt hu mj b fv mn mo l mp mq">var gulp = require('gulp'); // import the gulp module itself</span><span id="ed4a" class="ks kt hu mj b fv mr mo l mp mq">gulp.task('copy-html-files', function () {<br/>    var stream =  gulp.src('./app/views/**/*.html') <em class="me">// stream source</em><br/>        .pipe(gulp.dest('./dist/views/')); <em class="me">// copy to dist/views</em><br/>    return stream;<br/>});</span></pre><p id="b543" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然后你就跑了</p><blockquote class="mb mc md"><p id="8e4b" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $大口拷贝-html-文件</strong></p></blockquote><p id="9fad" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在你的终端里。</p><p id="01df" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这里喝什么？它带走了所有。应用程序/视图文件夹中的html文件，并将它们复制粘贴到dist目录中，同时创建与以前结构相似的文件夹。</p><p id="d98c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在让我们深入探讨一些更复杂的任务。</p><h2 id="d308" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">介绍大口-用户界面</h2><p id="c158" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">假设我们想把我们所有的。css文件，缩小并连接成一个单一的文件。我们将使用<a class="ae jw" href="https://www.npmjs.com/package/gulp-useref" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">gulp-useref</strong></a><strong class="ja hv"/>进行<strong class="ja hv"> </strong>串联和源接，<a class="ae jw" href="https://www.npmjs.com/package/gulp-minify-css" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">gulp-minify-CSS</strong></a><strong class="ja hv"/>进行缩小，<a class="ae jw" href="https://github.com/robrich/gulp-if" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv"> gulp-if </strong> </a>进行条件语句。css非常简单，你只需要用管道在流上调用它。gulp-if也不难:它只接受一个字符串参数作为条件(过滤满足这个特定条件的文件),如果条件为真，只执行任务<strong class="ja hv">和</strong>。相反，gulp-useref有一个非常方便而且(老实说)非常棒的用法:它允许将依赖文件注入到html文件中，并告诉useref将什么内容放入流中进行连接。让我们来看看根目录下index.html文件的一个示例:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="d7ac" class="ks kt hu mj b fv mn mo l mp mq">&lt;!-- build:css styles/main.css --&gt;<br/>&lt;link rel="stylesheet" href="styles/custom-css-file.css"&gt;<br/>&lt;link rel="stylesheet" href="styles/some-plugin-css-file.css"&gt;<br/>&lt;!-- endbuild --&gt;</span></pre><p id="257e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">开始和结束这一部分的注释只是告诉gulp-useref链接的文件将被放入一个流中，连接并复制粘贴到dist/styles/main.css文件中。下面是这个操作的gulpfile.js代码:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="b610" class="ks kt hu mj b fv mn mo l mp mq"><strong class="mj hv">var </strong>useref = require('gulp-useref');<br/><strong class="mj hv">var </strong>minifyCss = require('gulp-minify-css');<br/><strong class="mj hv">var </strong>gulpif = require('gulp-if');</span><span id="1efa" class="ks kt hu mj b fv mr mo l mp mq">gulp.task('css-files', <strong class="mj hv">function </strong>() {<br/>    <strong class="mj hv">var </strong>stream = gulp.src('./app/index.html')<br/>        .pipe(useref()) <em class="me">//take a streem from index.html comment</em><br/>        .pipe(gulpif('*.css', minifyCss())) <em class="me">// if .css file, minify</em><br/>        .pipe(gulpif('*.css', gulp.dest('./dist'))); <em class="me">// copy to dist</em><br/>    <strong class="mj hv">return </strong>stream;<br/>});</span></pre><p id="3155" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将在dist/styles中创建一个main.css文件，包括comments标记之间所有css文件的缩小版本。</p><h2 id="4261" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">不仅仅是css:从包管理器注入依赖项</h2><p id="52a2" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">您不仅可以使用useref管理定制文件，还可以从包管理器(npm，bower…)注入依赖项。我个人更喜欢<a class="ae jw" href="https://bower.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">鲍尔</strong> </a>，在这里我会举一个例子。</p><p id="a9c0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">假设我们的项目需要<a class="ae jw" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv"/></a>和<a class="ae jw" href="https://jquery.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv"> jQuery </strong> </a>。继续用bower安装它:</p><blockquote class="mb mc md"><p id="7f17" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ bower安装角<br/> $ bower安装jquery </strong></p></blockquote><p id="fac5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">bower将在您的文档根目录下创建一个bower_components文件夹。现在，我们将使用<a class="ae jw" href="https://www.npmjs.com/package/wiredep" rel="noopener ugc nofollow" target="_blank"> wiredep </a>将这些依赖项注入到我们的index.html文件中，并将它们连接/美化成一个vendor.js文件。我们会用<a class="ae jw" href="https://www.npmjs.com/package/gulp-ng-annotate" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv"> ngAnnotate </strong> </a>和<a class="ae jw" href="https://www.npmjs.com/package/gulp-uglify" rel="noopener ugc nofollow" target="_blank">ugly</a>。</p><blockquote class="mb mc md"><p id="f947" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ npm安装囫囵吞下<br/> $ npm安装电线<br/> $npm安装囫囵吞下</strong></p></blockquote><p id="19d1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在，在我们的index.html档案中:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="dea2" class="ks kt hu mj b fv mn mo l mp mq">&lt;!-- build:js scripts/vendor.js --&gt; <em class="me">// concatenate to vendor.js</em><br/>&lt;!-- bower:js --&gt; <em class="me">// tells wiredep to inject all bower dependencies</em><br/><br/>&lt;!-- endbower --&gt;<br/>&lt;!-- endbuild --&gt;</span></pre><p id="242b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">并为bower文件创建一个任务:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="8a80" class="ks kt hu mj b fv mn mo l mp mq"><strong class="mj hv">var </strong>wiredep = require('wiredep').stream;<br/><strong class="mj hv">var </strong>uglify = require('gulp-uglify');<br/><strong class="mj hv">var </strong>ngAnnotate = require('gulp-ng-annotate');</span><span id="1bcb" class="ks kt hu mj b fv mr mo l mp mq">gulp.task('bower-files', <strong class="mj hv">function </strong>() {<br/>    <strong class="mj hv">var </strong>stream = gulp.src('./app/index.html')<br/>        .pipe(wiredep({<br/>            directory: 'bower_components' <em class="me">//inject dependencies</em><br/>        }))<br/>        .pipe(useref())<br/>        .pipe(gulpif('*.js', ngAnnotate())) <em class="me">// ng-annotate if .js</em><br/>        .pipe(gulpif('*.js', uglify())) <em class="me">// uglify if .js</em><br/>        .pipe(gulpif('*.js', gulp.dest('./dist'))); <em class="me">// paste to dist</em><br/>    <strong class="mj hv">return </strong>stream;<br/>});</span></pre><p id="6c7e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然后跑</p><blockquote class="mb mc md"><p id="1b18" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $一饮而尽鲍尔-files </strong></p></blockquote><p id="6b3e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以，就这样吧！我们的bower依赖项被成功地包含在一个vendor.js文件中并被压缩。</p><h2 id="c1fb" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">任务太多</h2><p id="8e90" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">所以，当我要部署我的项目时，我必须一个接一个地运行所有这些任务。—可能是初学者显而易见的问题。你当然不知道。你只需使用<a class="ae jw" href="https://www.npmjs.com/package/gulp-run-sequence" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">吞咽-运行-序列</strong> </a>。它允许您在终端的一个命令上运行几个任务。</p><blockquote class="mb mc md"><p id="eec3" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ npm安装吞咽运行序列</strong></p></blockquote><p id="7979" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在gulpfile.js中实现一个序列:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="6732" class="ks kt hu mj b fv mn mo l mp mq"><strong class="mj hv">var </strong>runSequence = require('run-sequence');</span><span id="170a" class="ks kt hu mj b fv mr mo l mp mq"><em class="me">/* some other plugins go here */</em></span><span id="6f19" class="ks kt hu mj b fv mr mo l mp mq"><em class="me">/* define our tasks here */</em></span><span id="e33a" class="ks kt hu mj b fv mr mo l mp mq">gulp.task('build', <strong class="mj hv">function </strong>(callback) {<br/>    runSequence(<br/>        'css-files',<br/>        'bower-files',<br/>        'copy-html-files',<br/>        /* other tasks maybe */<br/>    callback);<br/>});</span></pre><p id="3d6d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在快跑</p><blockquote class="mb mc md"><p id="fb40" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $一饮而尽建</strong></p></blockquote><p id="a17e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将执行作为字符串传递给runSequence的任务。</p><p id="f32d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">注意一件重要的事情:</strong> run-sequence异步执行任务<em class="me">，</em>意味着它们将(几乎)同时开始并被并行执行。因此，如果您的任务可能依赖于要完成的其他任务，它们在按顺序运行时可能会导致意外行为。为了避免这种情况，您应该从任务函数返回流。就像这样:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="f517" class="ks kt hu mj b fv mn mo l mp mq">gulp.task('some-task', function(){<br/>      var stream = gulp.src('some-source') <em class="me">// save the stream<br/>      /* do some stuff here */<br/>      </em>return stream; <em class="me">// return the stream so task can be run<br/>   </em>});<em class="me">               // in queue</em></span></pre><p id="7afe" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将有助于您避免运行序列中的任何不愉快的问题。</p><p id="5421" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">全部去掉！</strong></p><p id="9f33" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">有时，您可能需要删除dist文件夹中的内容。在您正常的开发生命周期中，每当您做出更改时，您都必须这样做——就在您再次开始复制文件之前！(参见下一节)</p><p id="80ce" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://www.npmjs.com/package/gulp-clean" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">大口-干净</strong> </a>就是你要的东西。</p><blockquote class="mb mc md"><p id="7cd1" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ npm安装大口清洁</strong></p></blockquote><p id="fe9f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">现在定义一个简单的任务:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="8853" class="ks kt hu mj b fv mn mo l mp mq">var clean <strong class="mj hv">=</strong> require('gulp-clean');</span><span id="a754" class="ks kt hu mj b fv mr mo l mp mq">gulp.task('clean', function () {<br/>        var stream =  gulp.src('./dist', {read<strong class="mj hv">:</strong> false})<br/>                      .pipe(clean());<br/>        return stream<br/>});</span></pre><p id="5798" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将安全地删除您的dist文件夹中的所有内容。</p><p id="f5b6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">来自官方文件:</p><blockquote class="mb mc md"><p id="f258" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated">选项read:false防止gulp读取文件的内容，并使这项任务快得多。如果需要在同一个流中清理文件及其内容，请不要将read选项设置为false。</p></blockquote><h2 id="f910" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">自动化？</h2><p id="d875" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">这么说，每次我对项目文件进行更改时，我都必须运行大量任务？，可能是另一个明显的初学者问题。不，你不需要。事实上，你不应该。<a class="ae jw" href="https://www.npmjs.com/package/gulp-watch" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">一饮而尽——观看</strong> </a>解决问题。继续安装它:</p><blockquote class="mb mc md"><p id="e509" class="iy iz me ja b jb jc jd je jf jg jh ji mf jk jl jm mg jo jp jq mh js jt ju jv hn dt translated"><strong class="ja hv"> $ npm安装吞咽式手表</strong></p></blockquote><p id="821f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">设置任务和其他事情一样简单:</p><pre class="lt lu lv lw fq mi mj mk ml aw mm dt"><span id="578e" class="ks kt hu mj b fv mn mo l mp mq">gulp.task('watch', <strong class="mj hv">function</strong>() {<br/>    gulp.watch('./app/**/**/*.*', <strong class="mj hv">function </strong>() {<br/>        runSequence('task1', 'task2', ...);<br/>    });<br/>});</span></pre><p id="1cd1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将在您每次更改文件时，重新执行您在运行序列中定义的任何命令。</p><p id="a8aa" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这是一个调用gulp后dist folder的外观示例。如您所见，文件夹结构被保留，但是。css和。js文件已被连接。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="fe ff ms"><img src="../Images/dcbbca99a349fda38494a5137a11964b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*xdFouuPnTnXFThvQorJD0A.jpeg"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">A look on the document-folder tree after gulp</figcaption></figure><h2 id="f473" class="ks kt hu bd ku kv kw kx ky kz la lb lc jj ld le lf jn lg lh li jr lj lk ll lm dt translated">一些提示</h2><p id="91d9" class="pw-post-body-paragraph iy iz hu ja b jb ln jd je jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv hn dt translated">您可能会尝试为每个部署特性创建任务，按顺序运行它们，并设置一个观察器。但是要小心！每次进行更改时，连接和缩小大量文件非常耗时。在一个大规模的项目中，这有时会花费10到15秒的时间，这真的会减慢你的开发速度。为此，我更喜欢创建某种“迷你”版本的任务(只是基本的复制粘贴和/或可能是连接和依赖注入)和一个吞咽观察器，以及一个生产版本，这是缓慢的，只是缩小一切，不打开观察器。这将允许您避免减慢您的工作速度，并且有能力创建一个很酷的、微小的、生产就绪版本的开发环境。</p><p id="b098" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">总结</strong></p><p id="3191" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果可以自动化的话，不要徒手做任何工作。gulp.js是一个很好的工具，使用非常广泛，简单方便。觉得有兴趣？下面是github上我自己版本的gulpfile的链接，我每天都在使用它:</p><div class="mx my fm fo mz na"><a href="https://github.com/Armenvardanyan95/gulpfile.js" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab ej"><div class="nc ab nd cl cj ne"><h2 class="bd hv fv z el nf eo ep ng er et ht dt translated">Armenvardanyan95/gulpfile.js</h2><div class="nh l"><p class="bd b gc z el nf eo ep ng er et ek translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn iw na"/></div></div></a></div><figure class="lt lu lv lw fq iv"><div class="bz el l di"><div class="no np l"/></div></figure></div></div>    
</body>
</html>