<html>
<head>
<title>The Role Of Affordance In Software Design</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可见性在软件设计中的作用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/affordance-in-software-design-12cc0d9d2721?source=collection_archive---------3-----------------------#2017-07-20">https://medium.com/hackernoon/affordance-in-software-design-12cc0d9d2721?source=collection_archive---------3-----------------------#2017-07-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="bca9" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">构建软件类似于制作一个真实的物体</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/0a7a00132ae5440e993a4c38c779c1a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCDe8QIlBuI6JhI5YkZmbQ.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">The picture of a gun built with the muzzle pointed towards the shooter. Not very useful I guess...</figcaption></figure><p id="77cb" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我非常喜欢战争纪念碑。</p><p id="0aab" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">有机会近距离观看士兵们在战争中穿戴的真实物品真是太棒了。它们被保存下来，培养了那些从未体验过它们的人的想象力。文物，自从第一次被放进玻璃里就不能碰。</p><p id="c931" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">当走过<a class="ae kv" href="https://en.wikipedia.org/wiki/Australian_War_Memorial" rel="noopener ugc nofollow" target="_blank">澳大利亚战争纪念馆</a>的二战室时，可以看到当时的设备质量是多么的差。想象一下，一个士兵拿着一把没有激光瞄准器或电子仪器的机枪，只是一块为<strong class="kb hv">精心制造的天真的铁，主要目的是伤害一个生物</strong>，制造来触发一个机制，将火药压向弹壳，并将子弹高速扔向指定的方向。</p><p id="669e" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这时你就会意识到工程学是多么令人生畏。</p><p id="aa3d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">令人难以置信的是，一个工具可以被制造出来，仅仅是为了被一个人使用。</p><blockquote class="kw"><p id="9dd7" class="kx ky hu bd kz la lb lc ld le lf ku ek translated">工程学是令人生畏的，因为它允许精心制造一种工具，而这种工具的唯一目的就是被人操作。</p></blockquote><p id="859c" class="pw-post-body-paragraph jz ka hu kb b kc lg iv ke kf lh iy kh ki li kk kl km lj ko kp kq lk ks kt ku hn dt translated">尽管机关枪是为士兵瞄准和射击而制造的，但它可以有多种用途。</p><p id="d8fc" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">任何人都可以用它通过用铁的硬度击打敌人的头部来击倒敌人。在这种情况下，它可以被不知道如何射击的人使用，但<strong class="kb hv">朝着同样的目的</strong>。</p><p id="0edb" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">通过利用枪的格式，它可以用来打开一瓶啤酒。在这种情况下，它也可以被一个不知道如何射击的人使用，但<strong class="kb hv">朝着一个不同的目的</strong>这是在创造枪时从未想过的。</p><p id="3fc0" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">据说打开一个瓶子，用熨斗打人，射出一颗子弹是一把二战机枪<strong class="kb hv">能让</strong>一个人做的事情。</p><p id="ea0b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">一挺机枪提供使用手段的能力被称为<strong class="kb hv">启示</strong>。</p><p id="f319" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">用更一般的术语来说:</p><blockquote class="ll lm ln"><p id="1825" class="jz ka lo kb b kc kd iv ke kf kg iy kh lp kj kk kl lq kn ko kp lr kr ks kt ku hn dt translated">启示是对一个对象或环境进行操作的可能性。</p><p id="467a" class="jz ka lo kb b kc kd iv ke kf kg iy kh lp kj kk kl lq kn ko kp lr kr ks kt ku hn dt translated">— <a class="ae kv" href="https://en.wikipedia.org/wiki/Affordance" rel="noopener ugc nofollow" target="_blank">维基百科上的启示</a></p></blockquote><p id="83ac" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">但是机枪和启示跟<a class="ae kv" href="https://hackernoon.com/tagged/software-development" rel="noopener ugc nofollow" target="_blank">软件开发</a>有什么关系呢？</p><p id="1f58" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">启示(或者更确切地说是<a class="ae kv" href="http://johnnyholland.org/2010/04/perceived-affordances-and-designing-for-task-flow/" rel="noopener ugc nofollow" target="_blank">感知启示</a>)也可以是衡量你所编写的代码和你所创建的API的有效性的一个标准。一个具有清晰可见启示的API允许开发者理解它的目的，并在它被设计的<a class="ae kv" rel="noopener" href="/@fagnerbrack/the-programming-cybernetic-environment-7202838593a2">控制论环境</a>中无缝地使用它。</p><p id="6e36" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">假设你正在使用面向对象的原则创建一个游戏。它有一个使用了<code class="eh ls lt lu lv b">MachineGun</code>的<code class="eh ls lt lu lv b">Soldier</code>类:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lw lx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae kv" href="https://gist.github.com/FagnerMartinsBrack/0a2e40687eb18b9a64d9034c69636b58" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/FagnerMartinsBrack/0a2e40687eb18b9a64d9034c69636b58</a></figcaption></figure><p id="96fe" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">你可以设计<code class="eh ls lt lu lv b">Soldier</code>来使用<code class="eh ls lt lu lv b">MachineGun</code>对抗敌人。在这种情况下，士兵就是消费<code class="eh ls lt lu lv b">MachineGun</code> API的<strong class="kb hv">客户端</strong>。</p><p id="a79d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">因为这是<a class="ae kv" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>而不是现实生活，你可以为将要使用<code class="eh ls lt lu lv b">MachineGun</code>的客户端定义允许的动作(方法):</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lw lx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae kv" href="https://gist.github.com/FagnerMartinsBrack/2abc4035b1cbc8f2cfdb5f092ff586ac" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/FagnerMartinsBrack/2abc4035b1cbc8f2cfdb5f092ff586ac</a></figcaption></figure><p id="cef0" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">然而，仅仅因为一个<code class="eh ls lt lu lv b">MachineGun</code>拥有<code class="eh ls lt lu lv b">open(bottle)</code>的功能，并不意味着一个<code class="eh ls lt lu lv b">Soldier</code>被允许做这件事。这就是为什么之前看到的<code class="eh ls lt lu lv b">Soldier</code>类没有使用<code class="eh ls lt lu lv b">MachineGun</code>中的<code class="eh ls lt lu lv b">open(bottle)</code>方法，而是使用了<code class="eh ls lt lu lv b">useHandEquipmentAgainst(enemy)</code>方法。</p><p id="1f6f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">如果环境允许，你可以说<strong class="kb hv"/><code class="eh ls lt lu lv b"><strong class="kb hv">MachineGun</strong></code><strong class="kb hv">让士兵射击</strong>。</p><p id="24a8" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">您还可以允许士兵打开一瓶啤酒，但是您需要明确地创建该功能:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lw lx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae kv" href="https://gist.github.com/FagnerMartinsBrack/f76c1599151d82485cbcbea87f38f77d" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/FagnerMartinsBrack/f76c1599151d82485cbcbea87f38f77d</a></figcaption></figure><p id="506e" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">以上是一种启示，可以存在于我们创建的这个<a class="ae kv" rel="noopener" href="/@fagnerbrack/the-programming-cybernetic-environment-7202838593a2">控制论环境</a>中的相互连接的模块之间，在这个环境中，概念对象都与现实生活相隔离，无论一个对象允许其用户做什么，都可能受到编程语言安全机制的限制——例如，像Java静态类型系统或JavaScript运行时语法错误。</p><p id="672f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">但是，您可以将这种构建可负担系统的方法向前推进一步。</p><p id="f3e3" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">如果你把一把未上膛的机枪交给一个石器时代的人，他们可能首先用它来敲碎岩石。这是他们能感知到的该物体的唯一启示。</p><p id="2c09" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">同样的，如果你给一个不知道如何使用它的程序员一个精心制作的编程API <code class="eh ls lt lu lv b">MachineGun</code>类，他们可能会在<code class="eh ls lt lu lv b">Soldier</code>类中创建一个<code class="eh ls lt lu lv b">getWeapon()</code>来将<code class="eh ls lt lu lv b">Soldier</code>的武器功能用于其他目的。使用getter可能是他们唯一知道的事情，因此也是他们认为代码提供给他们的唯一事情:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lw lx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae kv" href="https://gist.github.com/FagnerMartinsBrack/36f1cc7d07abb93d82031ad336a79b74" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/FagnerMartinsBrack/36f1cc7d07abb93d82031ad336a79b74</a></figcaption></figure><p id="4b6d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">以上就是违反了一个有据可查的原则叫做<a class="ae kv" href="https://martinfowler.com/bliki/TellDontAsk.html" rel="noopener ugc nofollow" target="_blank">告诉，不要问</a>和<a class="ae kv" href="http://wiki.c2.com/?LawOfDemeter" rel="noopener ugc nofollow" target="_blank">得墨者法则</a>。当人们开始在不合适的地方添加getters来检索信息时，这是一个非常常见的错误。</p><p id="4d74" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">如果程序员不理解环境的潜在目的和他们正在使用的API，就很难有效地使用工具提供给他们的功能来实现创建一个高效设计的可持续系统的目标。整个环境允许他们做最初的开发者从未想过的事情——比如添加一个getter——并且没有什么可以阻止它。</p><blockquote class="kw"><p id="ccc2" class="kx ky hu bd kz la lb lc ld le lf ku ek translated">可理解的启示也定义了程序员可以用代码做什么。程序员可以发现新类型的启示，这些启示最初不是为该代码设计的。</p></blockquote><p id="b0f1" class="pw-post-body-paragraph jz ka hu kb b kc lg iv ke kf lh iy kh ki li kk kl km lj ko kp kq lk ks kt ku hn dt translated">一个士兵还需要依靠枪的质量来确保它能被有效地使用。比如:射击时，枪要把子弹高速抛向目标，而不是抛向射手。</p><p id="70a2" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">程序员还需要依赖API的质量来确保它能被有效地使用。如果<code class="eh ls lt lu lv b">Soldier</code>有一个方法<code class="eh ls lt lu lv b">equipShootingGun(new HandGun())</code>和<code class="eh ls lt lu lv b">equipWhiteGun(new Knife())</code>，调用<code class="eh ls lt lu lv b">.stab()</code>方法的<code class="eh ls lt lu lv b">Soldier</code>类的客户端会期望<code class="eh ls lt lu lv b">Soldier</code>使用<code class="eh ls lt lu lv b">Knife</code>，而不是<code class="eh ls lt lu lv b">HandGun</code>来执行动作:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lw lx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><a class="ae kv" href="https://gist.github.com/FagnerMartinsBrack/7c5a58cde6056d6675b02b4a164ec200" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/FagnerMartinsBrack/7c5a58cde6056d6675b02b4a164ec200</a></figcaption></figure><p id="4cb5" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">上面的例子违反了最小惊讶原则。调用<code class="eh ls lt lu lv b">.stab()</code>方法时，<code class="eh ls lt lu lv b">Soldier</code>正在拍摄。从运行<code class="eh ls lt lu lv b">Soldier</code>实例的客户的角度来看，这是一种惊人的行为。</p><p id="3418" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">API的设计者负责显式和隐式地构建API的功能。如果他们不在乎这些，一旦系统开始增长，它最终会以一种不同于预期的方式运行。</p><blockquote class="kw"><p id="676f" class="kx ky hu bd kz la lb lc ld le lf ku ek translated">不要低估程序员找到创造性的方法来消费API的能力。</p></blockquote><p id="47f3" class="pw-post-body-paragraph jz ka hu kb b kc lg iv ke kf lh iy kh ki li kk kl km lj ko kp kq lk ks kt ku hn dt translated">API设计定义了代码允许程序员做什么。如果设计者错误地构建了API，那么就很难以可预测的方式使用系统的组件。</p><p id="e547" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在现实生活中，一把设计糟糕的机枪很容易让士兵朝他们的脚开枪。设计上的失败可能需要很长时间才能被武器使用者注意到。</p><p id="4d69" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">软件也是如此。</p><p id="e9e1" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">大多数人只是为了工作而建造它，并不关心设计。只要项目是无害的实验或探索性的编码，那就没什么错。如果你打算构建可伸缩的东西，那么你需要考虑设计，主要是你的API和代码提供给消费者去做的事情。</p><p id="0307" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">有些事情是你无法改变的，比如来自“告诉，不要问”原则或编程语言规则的错误。然而，思考这些概念至少是我们朝着目标前进的一步。</p><p id="bc2c" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">现实生活中的工程和软件设计有着相同的基础。</p><p id="e036" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">对于你消费的东西和你建造的东西，都有可感知的启示，你只需要识别它们并分析它们的权衡。但是请注意，它们可能因人而异。</p><p id="681a" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">一个API也需要API设计者的制造技能才能正确运行，对于机关枪的设计者也是一样。</p><p id="eaa5" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">所有这些原则可能会帮助你不要造一把最终会打中别人脚的枪。</p><p id="196d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">而你，你的代码能让另一个开发者做什么？</p></div><div class="ab cl ly lz hc ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="hn ho hp hq hr"><p id="9867" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">感谢阅读。如果你有一些反馈，请通过<a class="ae kv" href="https://twitter.com/FagnerBrack" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae kv" href="https://www.facebook.com/fagner.brack" rel="noopener ugc nofollow" target="_blank">脸书</a>或<a class="ae kv" href="http://github.com/FagnerMartinsBrack" rel="noopener ugc nofollow" target="_blank"> Github </a>联系我。</p></div></div>    
</body>
</html>