<html>
<head>
<title>How to use Lo-Dash functions with Async/Await</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Async/Await中使用Lo-Dash函数</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-use-lo-dash-functions-with-async-await-b0be7709534c?source=collection_archive---------4-----------------------#2017-10-02">https://medium.com/hackernoon/how-to-use-lo-dash-functions-with-async-await-b0be7709534c?source=collection_archive---------4-----------------------#2017-10-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="fa06" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是一个非常酷和有用的库。如果我们能够使用<code class="eh jp jq jr js b">Async/Await</code>的函数，JavaScript的生活将会更加舒适。<br/>我想尽可能地写出与<code class="eh jp jq jr js b">Lo-Dash</code>函数相同的方式。因为如果我们已经知道如何使用<code class="eh jp jq jr js b">Lo-Dash</code>，就不需要学习新的功能。示例代码如下所示。</p><pre class="jt ju jv jw fq jx js jy jz aw ka dt"><span id="86cc" class="kb kc hu js b fv kd ke l kf kg">// example 1<br/>const array = [1, 2, 3];<br/>const result = _.map(array, syncFunc);</span><span id="781d" class="kb kc hu js b fv kh ke l kf kg">// ↓ async/await</span><span id="f564" class="kb kc hu js b fv kh ke l kf kg">const result = await _.map(array, asyncFunc);</span><span id="3a0d" class="kb kc hu js b fv kh ke l kf kg">function syncFunc(n) {<br/>  return n * 2;<br/>}<br/>function asyncFunc(n) {<br/>  return new Promise(resolve =&gt; setTimeout(resolve, 10, n * 2));<br/>}</span></pre><p id="494e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh jp jq jr js b">_.chain</code>使我们的代码变得干净，我们也想使用它。</p><pre class="jt ju jv jw fq jx js jy jz aw ka dt"><span id="280c" class="kb kc hu js b fv kd ke l kf kg">// example 2<br/>const array = [1, 2, 3];<br/>const result = _.chain(array)<br/>  .map(syncFunc)<br/>  .sum()<br/>  .value();</span><span id="718e" class="kb kc hu js b fv kh ke l kf kg">// ↓ async/await</span><span id="0ea7" class="kb kc hu js b fv kh ke l kf kg">const result = await _.chain(array)<br/>  .map(asyncFunc)<br/>  .sum()<br/>  .value();</span></pre><h1 id="90cd" class="ki kc hu bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">将Lo-Dash函数转换为异步函数</h1><p id="14c2" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">我开发的库具有<code class="eh jp jq jr js b">mixin</code>功能。它将<code class="eh jp jq jr js b">Lo-Dash</code>函数转换为异步函数，并将它们分配给<code class="eh jp jq jr js b">Aigle</code>。用法如下。</p><pre class="jt ju jv jw fq jx js jy jz aw ka dt"><span id="6cd7" class="kb kc hu js b fv kd ke l kf kg">const _ = require('lodash');<br/>const Aigle = require('aigle');</span><span id="3dec" class="kb kc hu js b fv kh ke l kf kg">Aigle.mixin(_);</span><span id="08ee" class="kb kc hu js b fv kh ke l kf kg">// example 1<br/>const array = [1, 2, 3];<br/>const result = await Aigle.map(array, asyncFunc);</span><span id="4cfe" class="kb kc hu js b fv kh ke l kf kg">// example 2<br/>const result = await Aigle.chain(array)<br/>  .map(asyncFunc)<br/>  .sum()<br/>  .value();</span><span id="facf" class="kb kc hu js b fv kh ke l kf kg">// or</span><span id="0ace" class="kb kc hu js b fv kh ke l kf kg">const result = await Aigle.resolve(array)<br/>  .map(asyncFunc)<br/>  .sum();</span></pre><p id="9df7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您将能够异步使用<code class="eh jp jq jr js b">Lo-Dash</code>函数。此外，<code class="eh jp jq jr js b">Aigle</code>已经有许多函数与<code class="eh jp jq jr js b">Lo-Dash</code>函数具有相同的功能，这些函数不会被转换，因为它们已经被优化。</p><h1 id="d6ef" class="ki kc hu bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">结论</h1><p id="c546" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated"><code class="eh jp jq jr js b">Aigle</code>会让你的代码和<code class="eh jp jq jr js b">Lo-Dash</code>一样干净。如果你对<code class="eh jp jq jr js b">Aigle</code>感兴趣，我希望你能阅读下面的文章。用<code class="eh jp jq jr js b">Aigle</code>来享受<code class="eh jp jq jr js b">Async/Await</code>吧。</p><h2 id="bf23" class="kb kc hu bd kj lk ll lm kn ln lo lp kr jc lq lr kv jg ls lt kz jk lu lv ld lw dt translated">参考</h2><ul class=""><li id="a00c" class="lx ly hu it b iu lf iy lg jc lz jg ma jk mb jo mc md me mf dt translated"><a class="ae mg" href="https://github.com/suguru03/aigle" rel="noopener ugc nofollow" target="_blank">艾格</a></li><li id="b670" class="lx ly hu it b iu mh iy mi jc mj jg mk jk ml jo mc md me mf dt translated"><a class="ae mg" href="https://github.com/lodash/lodash" rel="noopener ugc nofollow" target="_blank">破折号</a></li><li id="9f6e" class="lx ly hu it b iu mh iy mi jc mj jg mk jk ml jo mc md me mf dt translated"><a class="ae mg" href="https://hackernoon.com/how-to-make-the-fastest-promise-library-f632fd69f3cb" rel="noopener ugc nofollow" target="_blank">如何最快做出承诺库</a></li><li id="1f77" class="lx ly hu it b iu mh iy mi jc mj jg mk jk ml jo mc md me mf dt translated"><a class="ae mg" href="https://hackernoon.com/aigle-vs-bluebird-5ed3becb4c4c" rel="noopener ugc nofollow" target="_blank">艾格vs蓝鸟</a></li></ul></div></div>    
</body>
</html>