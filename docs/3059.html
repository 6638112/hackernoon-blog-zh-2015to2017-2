<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-googles-answer-to-aws-reseved-instances-is-a-big-deal-4b9b36d8e631?source=collection_archive---------1-----------------------#2017-03-10">https://medium.com/hackernoon/why-googles-answer-to-aws-reseved-instances-is-a-big-deal-4b9b36d8e631?source=collection_archive---------1-----------------------#2017-03-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><p id="bafc" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir">为什么谷歌对AWS保留实例的回答很重要</strong></p><p id="8f92" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir"> <em class="is">更新3月13日</em> </strong> <em class="is">:两天后AWS </em> <a class="ae it" href="https://aws.amazon.com/blogs/aws/new-instance-size-flexibility-for-ec2-reserved-instances/" rel="noopener ugc nofollow" target="_blank"> <em class="is">通过放松关于实例类型之间切换的规则来回应</em> </a> <em class="is">这一举动。但是，这丝毫没有减轻对实例族和代的限制。你还是受限于实例族的网络/磁盘/GPU/CPU特性。</em></p><p id="3434" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">我一直在关注围绕谷歌新推出的承诺使用折扣计划的讨论，以及它与亚马逊保留实例(RIs)的比较。结论已经出来了——像Rightscale这样的第三方已经做了计算，显示谷歌至少便宜了35%。</p><p id="fccb" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">人们很容易忽略更大的影响，一些媒体已经<a class="ae it" href="http://www.zdnet.com/article/google-cloud-platform-committed-use-discounts-trump-aws-reserved-instances-for-now/" rel="noopener ugc nofollow" target="_blank">得出结论</a>这是一个容易修复的小故障(只要将35%的差距降至0%，你看……)。没那么快。谷歌承诺使用折扣不仅仅是一个“定价模式”。有一些重要的实际好处与成本无关，其他云供应商在技术上短期内无法与之竞争。最终，所有客户都赢了！</p><p id="7957" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">让我们讨论什么、如何以及为什么…</p><p id="34c5" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir">谷歌承诺使用折扣vs亚马逊RIs </strong></p><p id="1fae" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">简而言之，Google now <a class="ae it" href="https://cloud.google.com/compute/pricing#committed_use" rel="noopener ugc nofollow" target="_blank">允许</a>用户预购1年和3年的CPU和RAM，以换取高达57%的大幅折扣。有了谷歌，你可以创建<a class="ae it" href="https://cloud.google.com/compute/pricing#custommachinetypepricing" rel="noopener ugc nofollow" target="_blank">定制虚拟机</a>，选择你自己的CPU和RAM配置。所有实例都可以获得出色的网络，所有实例都可以获得顶级的磁盘和GPU。因此，您真正购买的是CPU和RAM，同时保留了体系结构的灵活性。用户可以随时调节IOPS/磁盘/网络/GPU旋钮，不受“实例族”或其他任意(对我们来说)限制的影响。</p><p id="5f49" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">这与亚马逊提供的RIs形成了鲜明的对比——预购实例类型，它们具有特定的特征，如“良好的网络实例”或“GPU实例”或“优秀的存储实例”。因此，通过Amazon，您可以预先购买CPU/RAM/IOPS/网络/GPU/磁盘特征的预设配置，只有最低限度的灵活性(主要是围绕EBS和实例大小)，并且您对其他预设配置的移动性受到严重限制。所以你最好确定你做了正确的选择，因为你已经忍受了1-3年。</p><p id="7ec4" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">这是查看<a class="ae it" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>实例的另一种方式。“计算优化”实例只是具有较差磁盘、网络和少量RAM的实例的另一个名称。为什么不拥有伟大的一切！！</p><p id="73ab" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir">这怎么怎么怎么可能？</strong></p><p id="6b70" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">由于谷歌云的独特性质，谷歌能够提供这种服务。幕后的Google Compute Engine并不是一项出售一堆运行在特定硬件上的虚拟机的服务。Compute Engine是一台固执己见、活生生的超级计算机，不断以最佳方式为其客户分配资源(与微软在这一领域令人困惑的<a class="ae it" href="http://www.zdnet.com/article/azure-is-becoming-the-first-ai-supercomputer-says-microsoft/" rel="noopener ugc nofollow" target="_blank">声明</a>相比)。复杂性被抽象化，用户接触到熟悉的IaaS原语—虚拟机、网络、磁盘等。</p><p id="20e6" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">自2013年以来，谷歌一直在大力利用<a class="ae it" href="https://cloudplatform.googleblog.com/2015/03/Google-Compute-Engine-uses-Live-Migration-technology-to-service-infrastructure-without-application-downtime.html" rel="noopener ugc nofollow" target="_blank">实时迁移</a>来帮助使这些原语尽可能对客户友好(更不用说，修补关键的管理程序缺陷或执行维护或消除噪音邻居问题)。再见维护窗口！</p><p id="7da2" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">实时迁移还让我们真正最大限度地提高性能，并使性能稳定且可预测。考验我们，我谅你也不敢！据我所知，没有其他云有实时迁移，当然不会达到相同的程度。</p><p id="88e9" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">以下是谷歌云的一些更关键的技术问题:</p><ul class=""><li id="c9f0" class="iu iv hu hv b hw hx ia ib ie iw ii ix im iy iq iz ja jb jc dt translated">谷歌运行同质的<a class="ae it" href="https://cloud.google.com/security/whitepaper" rel="noopener ugc nofollow" target="_blank">硬件足迹</a>，制造和设计进入其数据中心的组件。</li><li id="cb86" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">谷歌的<a class="ae it" href="https://cloudplatform.googleblog.com/2015/06/A-Look-Inside-Googles-Data-Center-Networks.html" rel="noopener ugc nofollow" target="_blank"> Jupiter </a>网络在每个数据中心单元内提供了1pb的二等分网络带宽。带宽确实是长在树上的，这也是谷歌能够提供像BigQuery和Spanner这样有价值的服务的主要原因。</li><li id="9d58" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">博格是谷歌的指挥者(也是<a class="ae it" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>的前身)，按需旋转工作负载，打包资源，执行滚动升级，并确保性能全面一流。</li></ul><p id="8ca4" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">谷歌是唯一一家以这种方式运营的云提供商，在过去的3.5年多时间里一直如此。事实上，在这么长的时间内还没有其他竞争对手出现，这表明这个问题有多难，以及创造这一出价存在多少技术障碍。</p><p id="ae07" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir">承诺使用折扣的好处</strong></p><p id="3f37" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">让我们快速浏览一下谷歌承诺使用折扣的一些好处:</p><ul class=""><li id="b8a6" class="iu iv hu hv b hw hx ia ib ie iw ii ix im iy iq iz ja jb jc dt translated">它们相当便宜。我怀疑这对客户很重要，但不要逼我这么做。</li><li id="dc61" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">你不需要预先付费就能得到便宜的价格。</li><li id="d42b" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">在谷歌上，你不会停留在“实例家族”上，你必须创造性地迫使你的销售代表升级到最新一代。可悲的是，你的销售代表的激励与你的直接冲突，就连<a class="ae it" href="https://youtu.be/BUN0wx2e6Dc?t=4m54s" rel="noopener ugc nofollow" target="_blank"> Pivotal </a>也发现了这一点(去看那个视频吧！).</li><li id="c672" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">您不会被困在对您来说可能是低效或浪费的CPU/RAM组合上。使用自定义虚拟机对其进行重新划分。</li><li id="84a9" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">你的网络/磁盘/IOPS/GPU旋钮没有焊接关闭。您在这里保留了100%的灵活性。这是一件大事！</li><li id="3e54" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">正如Urs在他昨天的演讲中提到的，你可以退休了。别玩俄罗斯方块了，说真的——施虐受虐完全是可有可无的。</li></ul><p id="30d4" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated"><strong class="hv ir">你如何与之竞争？</strong></p><p id="0380" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">您可以通过降低价格或使RIs更加用户友好和限制更少来回答Google的承诺使用折扣，但为了提供Google的承诺使用折扣，您需要做一些严肃的工程作业:</p><ul class=""><li id="d6df" class="iu iv hu hv b hw hx ia ib ie iw ii ix im iy iq iz ja jb jc dt translated">获得一个定制的数据中心堆栈，对供应商的依赖性很小</li><li id="0342" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">确保此堆栈尽可能同质</li><li id="d0de" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">构建一个类似Jupiter的网络，让数据中心中的每个实例都能以10G的速度与其他每个实例进行通信..都在同一时间..</li><li id="abba" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">收购Borg或类似的orchestrator，并在该orchestrator上投入大量资金10年以上</li><li id="f5d9" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">创建虚拟机，为您提供一流的磁盘、网络和GPU，不受“实例系列”或类型的影响。</li><li id="3a5c" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">将实时迁移产品化，并让它在3年多的时间内成熟。</li><li id="ff98" class="iu iv hu hv b hw jd ia je ie jf ii jg im jh iq iz ja jb jc dt translated">将定制机器类型产品化</li></ul><p id="35d6" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">不要低估(没有双关语)这里的技术复杂性。这些问题非常非常难。正如埃里克·施密特所说，谷歌在过去三年里投入了300亿美元在这场篝火上，它显示了。最终，用户赢了！</p><p id="5c30" class="pw-post-body-paragraph hs ht hu hv b hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq hn dt translated">因此，下次当你试图弄清楚你的云账单时，或者下次你的销售代表打电话给你重申你的承诺时，或者下次你试图从你的云供应商那里获得折扣时，想想谷歌。你值得最好的！</p><blockquote class="ji jj jk"><p id="834b" class="hs ht is hv b hw hx hy hz ia ib ic id jl if ig ih jm ij ik il jn in io ip iq hn dt translated"><a class="ae it" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae it" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae it" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae it" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="dca4" class="hs ht is hv b hw hx hy hz ia ib ic id jl if ig ih jm ij ik il jn in io ip iq hn dt translated">要了解更多信息，请<a class="ae it" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">阅读我们的“关于”页面</a>、<a class="ae it" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">在脸书上点赞/给我们发消息</a>，或者简单地说，<a class="ae it" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="hs ht is hv b hw hx hy hz ia ib ic id jl if ig ih jm ij ik il jn in io ip iq hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae it" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae it" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jo jp jq jr fq js"><div class="bz el l di"><div class="jt ju l"/></div></figure></div></div>    
</body>
</html>