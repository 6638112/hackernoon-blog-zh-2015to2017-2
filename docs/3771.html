<html>
<head>
<title>Using JavaScript’s map function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript的地图功能</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-javascripts-map-function-e0245b97d5ea?source=collection_archive---------0-----------------------#2017-04-22">https://medium.com/hackernoon/using-javascripts-map-function-e0245b97d5ea?source=collection_archive---------0-----------------------#2017-04-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3199" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">map函数只是将一个数组转换成另一个数组。例如，假设您有一个person对象数组，但您真正需要的是一个名称(字符串)数组:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff jp"><img src="../Images/47a1e67e73c9fa8d353794cd7ab22913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*PNQRJDvl3pv2FNjNyUtyDw.png"/></div></figure><p id="5766" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">map函数将把person对象的数组转换成一个名称(字符串)数组。</p><p id="5ed5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">假设这是您开始使用的阵列:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="6652" class="kc kd hu jy b fv ke kf l kg kh">const<strong class="jy hv"> </strong>friends = [<br/>    {id:<strong class="jy hv">1</strong>, name: '<strong class="jy hv">Dave</strong>',age:<strong class="jy hv">50</strong>},<br/>    {id:<strong class="jy hv">2</strong>,name: '<strong class="jy hv">Kellie</strong>',age:<strong class="jy hv">42</strong>},<br/>    {id:<strong class="jy hv">3</strong>,name: '<strong class="jy hv">Max</strong>',age:<strong class="jy hv">12</strong>},<br/>    {id:<strong class="jy hv">2</strong>,name: '<strong class="jy hv">Jack</strong>',age:<strong class="jy hv">12</strong>}<br/>];</span></pre><p id="201f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你想把它转换成这样:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="f80a" class="kc kd hu jy b fv ke kf l kg kh">['Dave', 'Kellie', 'Max','Jack']</span></pre><p id="4d35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先定义一个映射函数。映射函数对单行进行操作，将一个人转换(或映射)为一个姓名(字符串):</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="9da2" class="kc kd hu jy b fv ke kf l kg kh">const mappingFunction = p =&gt; p.name;</span></pre><p id="3e1b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后将映射函数传递给array.map，如下所示:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="e844" class="kc kd hu jy b fv ke kf l kg kh">const<strong class="jy hv"> </strong>names = friends.map(mappingFunction);</span></pre><p id="1709" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它返回:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="4339" class="kc kd hu jy b fv ke kf l kg kh">['Dave', 'Kellie', 'Max','Jack']</span></pre><p id="9b4d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您也可以用一行代码来实现这一点:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="2d73" class="kc kd hu jy b fv ke kf l kg kh">const<strong class="jy hv"> </strong>names = friends.map(p =&gt; p.name);</span></pre><h1 id="52cd" class="ki kd hu bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">反应JSX中的映射函数</h1><p id="0d5f" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">这类事情在React JSX很常见。要将person对象的数组映射到<li>元素的数组，请使用如下映射函数:</li></p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="1007" class="kc kd hu jy b fv ke kf l kg kh">const mappingFunction = p =&gt; &lt;li&gt;{p.name}&lt;/li&gt;;</span></pre><p id="f8b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了确保React的DOM differing正确工作，您需要为每个<li>提供一个唯一的键:</li></p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="8b98" class="kc kd hu jy b fv ke kf l kg kh">const mappingFunction = p =&gt; &lt;li key=<strong class="jy hv">{p.id}</strong>&gt;{p.name}&lt;/li&gt;;</span></pre><p id="2a12" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在上下文中，可能是这样的:</p><pre class="jq jr js jt fq jx jy jz ka aw kb dt"><span id="5015" class="kc kd hu jy b fv ke kf l kg kh">render(){<br/>  return &lt;ul&gt;<br/>    {friends.map(p =&gt; &lt;li key={p.id}&gt;{p.name}&lt;/li&gt;)}<br/>  &lt;/ul&gt;;<br/>}</span></pre><div class="jq jr js jt fq ab cb"><figure class="lk ju ll lm ln lo lp paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="lk ju ll lm ln lo lp paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="lk ju ll lm ln lo lp paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lq lr ls"><p id="f922" class="ir is lt it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated"><a class="ae lx" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lx" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lx" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae lx" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is lt it b iu iv iw ix iy iz ja jb lu jd je jf lv jh ji jj lw jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lx" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lx" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="fe ff ly"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="md me l"/></div></figure></div></div>    
</body>
</html>