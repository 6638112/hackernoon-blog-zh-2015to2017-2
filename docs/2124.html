<html>
<head>
<title>How I hacked Google Daydream controller (Part II)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何黑了谷歌白日梦控制器(第二部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-hacked-google-daydream-controller-part-ii-2d27e6c46aac?source=collection_archive---------5-----------------------#2017-01-07">https://medium.com/hackernoon/how-i-hacked-google-daydream-controller-part-ii-2d27e6c46aac?source=collection_archive---------5-----------------------#2017-01-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d906" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">开发跨多个平台的兼容性。</p><p id="79b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你偶然发现了这个，很可能你会想发现这一切是如何开始的:<a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">我是如何黑掉谷歌白日梦控制器(上)</strong> </a>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/101f9c6c720f1b7695d2ad9b64355d9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-5eml3UmlzHhXF7WsTXNg.png"/></div></div></figure><p id="0206" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在过去的几周里，我继续开发我的黑客技术，任务是将<strong class="it hv">谷歌白日梦</strong> <strong class="it hv">控制器</strong>从它的枷锁中解放出来。我现在的目标是将它的兼容性从<strong class="it hv"> iOS </strong>扩展到<em class="kc">其他平台</em>。</p><p id="7d6b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，对我来说，尽可能多地从我作品的前一章中继承一些东西是很重要的。因此，我继续使用JavaScript作为主要的编程语言来快速前进。想到<strong class="it hv"> JS </strong>，我偶然发现<strong class="it hv">noble</strong>(<a class="ae jp" href="http://github.com/sandeepmistry/noble" rel="noopener ugc nofollow" target="_blank">github.com/sandeepmistry/noble</a>)一个惊人的<a class="ae jp" href="https://nodejs.org" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Node.js </strong> </a>模块，方便实现<strong class="it hv"> BLE </strong> ( <em class="kc">蓝牙低能耗</em>)外设。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/59dc52b85788e48c31595e3e903ee9cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-8J3o6TYVPy2wh3Wll0gbw.png"/></div></div></figure><p id="0da4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，我安装了一台全新的<a class="ae jp" href="https://www.ubuntu.com/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">Ubuntu 14.04 LTS</strong></a><strong class="it hv"/>(<em class="kc">长时间支持</em>)机器，打开了一个<strong class="it hv"> shell </strong>并作为<strong class="it hv"> sudo </strong>运行了我为此编写的安装<em class="kc">脚本</em>:</p><pre class="jr js jt ju fq kd ke kf kg aw kh dt"><span id="4b76" class="ki kj hu ke b fv kk kl l km kn">#!/bin/sh<br/>apt-get update  # To get the latest package lists<br/>curl -sL https://deb.nodesource.com/setup_7.x | sudo -E bash -<br/>apt-get install -y nodejs <!-- -->bluetooth bluez libbluetooth-dev libudev-dev npm<br/>ln -s /usr/bin/nodejs /usr/bin/node # Symlink</span><span id="b9d5" class="ki kj hu ke b fv ko kl l km kn"># Cleanings<br/>apt-get clean<br/>apt-get autoclean<br/>apt-get autoremove</span></pre><p id="ff63" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上面的代码安装了入门所需的一切。然而，请记住，要使用<strong class="it hv"> BLE </strong>设备，你还需要一个<em class="kc">蓝牙LE 4.x USB加密狗</em>(如下)，以防你的机器不能本地运行它。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/1cb51884c9080c4b6a9e38c95d0a9e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0l6MBCR1oL0UZfQ3rFVow.png"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek"><a class="ae jp" href="https://www.amazon.it/s/ref=nb_sb_noss?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;url=search-alias%3Daps&amp;field-keywords=bluetooth+usb+dongle+4.0&amp;rh=i%3Aaps%2Ck%3Abluetooth+usb+dongle+4.0" rel="noopener ugc nofollow" target="_blank">Bluetooth LE 4.x USB Dongle</a></figcaption></figure><p id="2b6d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后我开始创建一个新的<strong class="it hv"> Node.js </strong>脚本，通过<a class="ae jp" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">NPM</strong></a><strong class="it hv"/>(<em class="kc">节点包管理器</em>)安装<strong class="it hv"> noble </strong>库:</p><pre class="jr js jt ju fq kd ke kf kg aw kh dt"><span id="fb4e" class="ki kj hu ke b fv kk kl l km kn">npm install noble --save</span></pre><p id="55ed" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">完成后，我设法编辑了脚本，添加了对<strong class="it hv"> noble </strong>的主要引用:</p><pre class="jr js jt ju fq kd ke kf kg aw kh dt"><span id="57e6" class="ki kj hu ke b fv kk kl l km kn">var <strong class="ke hv">noble</strong> = require('noble');</span></pre><p id="a01b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">于是我开始实现所需的代码，让<strong class="it hv">谷歌Daydream控制器</strong>与<strong class="it hv"> Node.js </strong>对话。</p><p id="12c8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下图展示了我通过<strong class="it hv">蓝牙LE </strong>读取<strong class="it hv"> Daydream控制器数据</strong>的整个流程:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/4574b323846405a80daf59f9f73c9edc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a7_8sXxiFc65BTXrjAKQGA.png"/></div></div></figure><p id="278d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是它在可执行代码中转换后的样子:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/3cbfecd2cc39fce0591da678baf62cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qQrET330lJd5D13-iTLFMQ.png"/></div></div></figure><p id="d977" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">注意</strong>:不要忘记以<strong class="it hv"> sudo </strong>的身份运行<strong class="it hv"> Node.js </strong>脚本，在某些系统上，硬件接口对于<em class="kc">非sudoer </em>用户是不可访问的。</p><p id="96d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我重用了从我之前的<a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank">hack</a>继承来的基于<a class="ae jp" href="https://aframe.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> A帧</strong> </a> <strong class="it hv"> </strong>的沙盒。这样，我就可以很容易地在Ubuntu桌面上制作出谷歌白日梦控制器T21的数据包。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/261348b917d02ed7bafd149258bb166c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nLV6bIyS2lZHEMCSXwaFww.png"/></div></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">(Google Daydream Controller Desktop Driver Stack)</figcaption></figure><p id="a6ee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我开始接收数据时，我通过一个本地http服务器即时过滤并公开它:想象一下用架构来处理事情是多么强大。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="kt ku l"/></div><figcaption class="kp kq fg fe ff kr ks bd b be z ek">Google Daydream Controller Hacked (Running on Linux | Ubuntu 14.04 LTS)</figcaption></figure><p id="589b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可能注意到了，这种互动的前景是数不胜数的。由于<strong class="it hv"> Node.js </strong>的跨平台特性及其多功能性，很快我们将能够在任何类型的设备上运行<strong class="it hv">Google Daydream controller</strong>。</p><p id="fbac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">敬请关注。</p><p id="b171" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你错过开头了吗？看看这个:<a class="ae jp" href="https://hackernoon.com/how-i-hacked-google-daydream-controller-c4619ef318e4" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">我是如何黑掉谷歌Daydream控制器的(上篇)</strong> </a> <strong class="it hv">。<br/> </strong>或者……也许你有兴趣看一下<strong class="it hv"> <em class="kc">两个</em> </strong> <strong class="it hv"> Google Daydream控制器</strong>同时运行:<a class="ae jp" rel="noopener" href="/@matteo.pisani.91/how-i-hacked-google-daydream-controller-part-iii-12e75adc4829"> <strong class="it hv">我是如何黑掉Google Daydream控制器的(第三部)</strong> </a> <strong class="it hv">。</strong></p><div class="jr js jt ju fq ab cb"><figure class="kv jv kw kx ky kz la paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kv jv kw kx ky kz la paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kv jv kw kx ky kz la paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lb lc ld"><p id="f922" class="ir is kc it b iu iv iw ix iy iz ja jb le jd je jf lf jh ji jj lg jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is kc it b iu iv iw ix iy iz ja jb le jd je jf lf jh ji jj lg jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lh"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>