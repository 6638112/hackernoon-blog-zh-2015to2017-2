<html>
<head>
<title>JavaScript vs. Python in 2017</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2017年JavaScript vs. Python</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/javascript-vs-python-in-2017-d31efbb641b4?source=collection_archive---------0-----------------------#2017-03-20">https://medium.com/hackernoon/javascript-vs-python-in-2017-d31efbb641b4?source=collection_archive---------0-----------------------#2017-03-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="b4ac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">我可能是你最不可能想到会写文章批评JavaScript的人之一，但现在我们来了。</em> <br/> <br/>我最感兴趣的两个专业领域是<a class="ae jq" href="https://www.youtube.com/watch?v=M3uWx-fhjUc" rel="noopener ugc nofollow" target="_blank"> JavaScript和“大型编程”2013年，我在mloc.js </a>上做了一个<a class="ae jq" href="https://www.youtube.com/watch?v=PCL3dXQZ_Wk" rel="noopener ugc nofollow" target="_blank">演讲，我在演讲中指出，在为大型软件项目选择语言时，静态类型是一个必不可少的特性。出于这个原因，</a><a class="ae jq" href="http://blog.bolinfest.com/2017/03/python-airing-of-grievances.html" rel="noopener ugc nofollow" target="_blank">和其他原因</a>，我一直将Python的使用限制在只有少量文件的小项目上。最近，我需要为工作构建一个可以说节俭的命令行工具。我最近一直很喜欢<a class="ae jq" href="https://nuclide.io/" rel="noopener ugc nofollow" target="_blank">核素</a> / <a class="ae jq" href="https://flowtype.org/" rel="noopener ugc nofollow" target="_blank">流</a> / <a class="ae jq" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank">巴别塔</a> / <a class="ae jq" href="http://eslint.org/" rel="noopener ugc nofollow" target="_blank"> ESLint </a>工具链，所以我的第一反应是在这个新项目中也使用<a class="ae jq" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>。然而，很快就清楚了，如果我走那条路，我将不得不预先花很多时间让节俭绑定正常工作。我无法说服自己，我对JavaScript的个人偏好是否值得这样的投资，所以我决定看看Python。我隐约意识到有人在努力增加对Python中静态类型的支持，所以我搜索了一下技术水平。原来是一个名为<a class="ae jq" href="http://mypy.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Mypy </a>的工具，它提供了<a class="ae jq" href="https://en.wikipedia.org/wiki/Gradual_typing" rel="noopener ugc nofollow" target="_blank">渐进类型</a>，很像<a class="ae jq" href="https://flowtype.org/" rel="noopener ugc nofollow" target="_blank"> Flow </a>对JavaScript的作用或者<a class="ae jq" href="http://hacklang.org/" rel="noopener ugc nofollow" target="_blank"> Hack </a>对PHP的作用。幸运的是，Mypy更像Hack+HHVM，而不是Flow，因为Python 3运行时本身接受类型注释，而在将代码传递给JavaScript运行时之前，Flow类型注释必须由单独的工具剥离。(要在Python 2中使用Mypy，必须将类型注释放在注释中，<a class="ae jq" href="https://github.com/google/closure-compiler/wiki/Annotating-JavaScript-for-the-Closure-Compiler" rel="noopener ugc nofollow" target="_blank">按照Google Closure toolchain </a>的风格操作。)虽然Mypy看起来没有Flow成熟(例如，对增量类型检查的支持仍在进行中)，但是能够简洁地记录类型信息就足以重新激起我对Python的兴趣。<br/> <br/>在研究如何使用Python中的Thrift时，<a class="ae jq" href="https://hackernoon.com/tagged/google" rel="noopener ugc nofollow" target="_blank">谷歌</a>搜索发现了一些使用异步抽象的示例<a class="ae jq" href="https://github.com/facebook/fbthrift/tree/master/thrift/tutorial/py.asyncio" rel="noopener ugc nofollow" target="_blank"> Python代码。在逐步输入之后，<code class="eh jr js jt ju b">async</code> / <code class="eh jr js jt ju b">await</code>是JavaScript中另一个我离不开的特性，所以这个代码样本引起了我的注意！由于我们最近在工作中增加了对在Python 3.6中构建项目的支持，所以对我来说，使用Python中最新最棒的特性并运行起来是很容易的。(顺便说一下，我还了解到你真正想要的是Python 3.6，而不是3.5，因为3.6对Mypy </a>有一些重要的<a class="ae jq" href="http://mypy.readthedocs.io/en/latest/python36.html" rel="noopener ugc nofollow" target="_blank">改进，对</a> <code class="eh jr js jt ju b"><a class="ae jq" href="https://bugs.python.org/issue28613" rel="noopener ugc nofollow" target="_blank">asyncio</a></code> <a class="ae jq" href="https://bugs.python.org/issue28613" rel="noopener ugc nofollow" target="_blank"> API </a>、<a class="ae jq" href="https://www.python.org/dev/peps/pep-0498/" rel="noopener ugc nofollow" target="_blank">的</a><a class="ae jq" href="https://bugs.python.org/issue28613" rel="noopener ugc nofollow" target="_blank">修复，就像你在ES6 </a>、<a class="ae jq" href="https://docs.python.org/3/whatsnew/3.6.html" rel="noopener ugc nofollow" target="_blank">和更多</a>中所做的那样！)<br/> <br/>来自<a class="ae jq" href="https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f" rel="noopener ugc nofollow" target="_blank">“现代”JavaScript </a>时代，一件特别令人耳目一新的事情是重新发现Python是一种开箱即用的编辑/刷新语言，而JavaScript曾经是这样，但现在不是了。让我解释一下我的意思:</p><ul class=""><li id="6db8" class="jv jw hu it b iu iv iy iz jc jx jg jy jk jz jo ka kb kc kd dt translated">在Python 3.6中，我可以在我的文本编辑器中创建新的<code class="eh jr js jt ju b">example.py</code>文件，编写使用<code class="eh jr js jt ju b">async</code> / <code class="eh jr js jt ju b">await</code>和类型注释的Python代码，切换到我的终端，运行<code class="eh jr js jt ju b">python example.py</code>来执行我的代码。</li><li id="7948" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated">在JavaScript中，我可以在我的文本编辑器中创建新的<code class="eh jr js jt ju b">example.js</code>文件，编写使用<code class="eh jr js jt ju b">async</code> / <code class="eh jr js jt ju b">await</code>和类型注释的JavaScript代码，切换到我的终端，运行<code class="eh jr js jt ju b">node example.js</code>，看到它因为不理解我的类型注释而失败，运行<code class="eh jr js jt ju b">npm install -g babel-node</code>，运行<code class="eh jr js jt ju b">babel-node example.js</code>，看到它再次失败，因为我没有声明<code class="eh jr js jt ju b">babel-plugin-transform-flow-strip-types</code>插件的<code class="eh jr js jt ju b">.babelrc</code>，在我的机器上翻找，找到我在另一个项目中使用的<code class="eh jr js jt ju b">.babelrc</code>， 将那个<code class="eh jr js jt ju b">.babelrc</code>复制到我当前的目录，再次运行<code class="eh jr js jt ju b">babel-node example.js</code>，看着它失败，因为它不知道在哪里可以找到<code class="eh jr js jt ju b">babel-plugin-transform-flow-strip-types</code>，回到我取出<code class="eh jr js jt ju b">.babelrc</code>文件的目录，现在也复制它的<code class="eh jr js jt ju b">package.json</code>文件，从<code class="eh jr js jt ju b">package.json</code>中移除<code class="eh jr js jt ju b">example.js</code>不需要的垃圾，运行<code class="eh jr js jt ju b">npm install</code>，失去耐心，杀死<code class="eh jr js jt ju b">npm install</code>，运行<code class="eh jr js jt ju b">yarn install</code>，运行<code class="eh jr js jt ju b">babel-node example.js</code>来执行我的代码。 作为奖励，<code class="eh jr js jt ju b">babel-node example.js</code>运行起来比<code class="eh jr js jt ju b">node example.js</code>慢得多(去掉了类型注释)，因为我每次运行它时，它都会重新传输<code class="eh jr js jt ju b">example.js</code>。</li></ul><p id="a102" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">事实上，JavaScript生态系统提供了各种各样的工具来使用守护进程和缓存来加速这个过程，但是在任何人能够编写一行“现代”JavaScript之前，您或您团队中的某个人必须投入相当多的时间来研究、组装和维护您项目的JavaScript工具链。尽管您最终可能会实现一个不错的编辑/刷新工作流，但您肯定不会像在Python中那样有现成的工作流。</p><blockquote class="kj"><p id="344e" class="kk kl hu bd km kn ko kp kq kr ks jo ek translated">JavaScript不再是一种编辑/刷新语言。</p></blockquote><p id="ac67" class="pw-post-body-paragraph ir is hu it b iu ku iw ix iy kv ja jb jc kw je jf jg kx ji jj jk ky jm jn jo hn dt translated">JavaScript和Python之间另一个令人耳目一新的区别是Python的“内置电池”特性。如果你看看JavaScript附带的标准库，它是相当小的。节点环境在扩充标准库所提供的功能方面做了适度的工作，但是您需要的大部分功能不可避免地必须从npm中获取。具体来说，考虑Python标准库中包含的以下功能，但必须从npm中为节点项目提取这些功能:</p><ul class=""><li id="b65b" class="jv jw hu it b iu iv iy iz jc jx jg jy jk jz jo ka kb kc kd dt translated"><a class="ae jq" href="https://www.npmjs.com/package/rimraf" rel="noopener ugc nofollow" target="_blank">删除目录</a></li><li id="713f" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated">论点解析(<a class="ae jq" href="https://www.npmjs.com/package/commander" rel="noopener ugc nofollow" target="_blank"> I </a> <a class="ae jq" href="https://www.npmjs.com/package/yargs" rel="noopener ugc nofollow" target="_blank">不能</a> <a class="ae jq" href="https://www.npmjs.com/package/argparse" rel="noopener ugc nofollow" target="_blank">甚至……</a>)</li><li id="6ab0" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated"><a class="ae jq" href="https://www.npmjs.com/package/temp" rel="noopener ugc nofollow" target="_blank">创建临时文件</a></li><li id="6be2" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated">日志记录(有太多的to选项让我无法决定链接到哪个)</li><li id="1118" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated">单元测试(再次，<a class="ae jq" href="https://www.npmjs.com/package/mocha" rel="noopener ugc nofollow" target="_blank">太多</a> <a class="ae jq" href="https://www.npmjs.com/package/chai" rel="noopener ugc nofollow" target="_blank">太多</a> <a class="ae jq" href="https://www.npmjs.com/package/jasmine" rel="noopener ugc nofollow" target="_blank">到</a> <a class="ae jq" href="https://www.npmjs.com/package/jest" rel="noopener ugc nofollow" target="_blank">列表</a>)</li><li id="4f16" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated"><a class="ae jq" href="https://www.npmjs.com/package/sprintf-js" rel="noopener ugc nofollow" target="_blank"> printf格式字符串</a></li><li id="699e" class="jv jw hu it b iu ke iy kf jc kg jg kh jk ki jo ka kb kc kd dt translated"><a class="ae jq" href="https://www.npmjs.com/package/left-pad" rel="noopener ugc nofollow" target="_blank">左对齐一个字符串</a> ( <a class="ae jq" href="https://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/" rel="noopener ugc nofollow" target="_blank">节点开发者仍然在做这个的噩梦</a>)</li></ul><p id="fc22" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如您所见，对于其中的许多特性，有多个第三方库提供重叠的功能。(比如你在找一个JSON解析器，你会选择<code class="eh jr js jt ju b">parse-json</code>、<code class="eh jr js jt ju b">safe-json-parse</code>、<code class="eh jr js jt ju b">fast-json-parse</code>、<code class="eh jr js jt ju b">jsonparse</code>还是<code class="eh jr js jt ju b">json-parser</code>？)更糟糕的是，npm模块名称是按照先来先服务的原则分配的。就像域名一样，这意味着伟大的名字经常出现在不值得拥有的项目中。(例如，从下载数量来看，<a class="ae jq" href="https://www.npmjs.com/package/logging" rel="noopener ugc nofollow" target="_blank">名为</a> <code class="eh jr js jt ju b"><a class="ae jq" href="https://www.npmjs.com/package/logging" rel="noopener ugc nofollow" target="_blank">logging</a></code>的npm模块使其成为JavaScript最不受欢迎的日志包之一。)这使得第三方模块的比较更加费时，因为名字的质量不是库质量的有用信号。Python的第三方生态系统可能和npm的一样糟糕。令人印象深刻的是<em class="jp">我不知道是不是这样，因为这种情况很少见，我不得不求助于第三方Python包来获得我需要的功能</em>。我知道数据科学家非常依赖像NumPy这样的第三方包，但与节点生态系统不同的是，有一个每个人都使用的<em class="jp">NumPy包，而不是一系列名为<code class="eh jr js jt ju b">numpy-fast</code>、<code class="eh jr js jt ju b">numpy-plus</code>、<code class="eh jr js jt ju b">simple-numpy</code>等的竞争对手。</em></p><blockquote class="kj"><p id="ee50" class="kk kl hu bd km kn ko kp kq kr ks jo ek translated"><em class="kt">“我们应该停止将npm视为JavaScript生态系统多样性的证明，而是将其视为JavaScript标准库的失败。”</em></p></blockquote><p id="a9ea" class="pw-post-body-paragraph ir is hu it b iu ku iw ix iy kv ja jb jc kw je jf jg kx ji jj jk ky jm jn jo hn dt translated">对我来说，所有这一切中最大的讽刺之一是，与其他编程语言相比，JavaScript中强大的标准库的存在将是最大的优势。为什么？因为今天，每一个重要的网站都要求你下载下划线. js或其作者选择用来弥补JavaScript薄弱核心的任何东西。当您考虑这对网络流量和页面加载时间的总体负面影响时，这些数字是惊人的。</p><h1 id="8d7f" class="kz la hu bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw dt translated">那么…你是说JavaScript已经死了吗？</h1><p id="cd6b" class="pw-post-body-paragraph ir is hu it b iu lx iw ix iy ly ja jb jc lz je jf jg ma ji jj jk mb jm jn jo hn dt translated">不，不，我没有。如果你正在使用web技术构建UI(很多开发人员都是这样)，那么我仍然认为JavaScript是你最好的选择。模数<a class="ae jq" href="http://webassembly.org/" rel="noopener ugc nofollow" target="_blank"> Web Assembly </a>的出现(值得关注)，JavaScript仍然是唯一一种原生运行在浏览器中的语言。已经有很多尝试将现有的编程语言编译成JavaScript，以避免“不得不”编写JavaScript。有些情况下，结果是好的，但他们似乎从来没有伟大的。也许某些翻译工具链最终会成功地取代JavaScript作为web编写语言，但我怀疑在相当长的一段时间内，我们仍会有大多数web开发人员编写JavaScript。<br/> <br/>此外，浏览器并不是开发者使用web技术构建UI的唯一地方。另外两个突出的例子是<a class="ae jq" href="https://electron.atom.io/" rel="noopener ugc nofollow" target="_blank">电子</a>和<a class="ae jq" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank">反应原生</a>。Electron之所以吸引人，是因为它让你可以为Windows、Mac和Linux编写一次代码，而React Native之所以吸引人，是因为它让你可以为Android和iOS编写一次代码。这两种工具都很强大，因为使用这些工具的编辑/刷新周期比它们的本地等价物要快得多。从招聘的角度来看，似乎懂web技术的开发人员(1)比本地开发人员数量更多，并且(2)比本地开发人员的团队更小，可以支持更多的平台。事实上，我可以设想修改这些平台的方法，以支持Python作为脚本语言，而不是JavaScript，这可能会改变微积分。然而，JavaScript社区中存在的所有疯狂工具都让位于Babel这样的transpiler工具链，它使普通开发人员(不必是编译器黑客)更容易试验新的JavaScript语法。特别是，这种工具为像<a class="ae jq" href="https://facebook.github.io/react/docs/jsx-in-depth.html" rel="noopener ugc nofollow" target="_blank"> JSX </a>这样的东西铺平了道路，我认为这是使React成为构建UI的令人愉快的技术的关键特性之一。(注意，您可以在没有JSX的情况下使用React，但这很繁琐。)<br/> <br/>据我所知，Python社区还没有一个对等的、流行的机制来在Python中试验DSL。因此，尽管在这些现有环境中添加Python绑定可能很简单，但我不认为这足以让产品开发人员转向Python，除非也对语言进行更改，使用Python表达UI代码像现在用JavaScript+JSX一样容易。</p><h1 id="e209" class="kz la hu bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw dt translated">关键要点</h1><p id="4f75" class="pw-post-body-paragraph ir is hu it b iu lx iw ix iy ly ja jb jc lz je jf jg ma ji jj jk mb jm jn jo hn dt translated">Python 3.6内置了对渐进类型和异步/等待的支持。与JavaScript不同，这意味着您可以编写使用这些语言特性的Python代码，并直接运行该文件，而无需任何额外的工具。此外，它丰富的标准库意味着您只需花很少的时间去搜索和评估第三方库来填补缺失的空白。它在很大程度上是一种“完成工作”的服务器端脚本语言，与JavaScript相比，它需要更少的脚手架来启动项目。尽管Mypy可能不像今天的Flow或TypeScript那样有特色或有表现力，但那个项目的速度肯定是我将要开始关注的事情。相比之下，我预计JavaScript将在产品开发人员中保持强势，但那些今天使用Node作为服务器端代码或命令行工具的人可能会更好地使用Python。如果Node社区想要抵制这种变化，那么我认为他们将受益于(1)扩展Node API以使其更加全面，以及(2)减少Node的启动时间。如果他们可以修改他们的运行时来识别类型注释和JSX之类的东西，那就更好了，尽管这需要对V8(或Windows上的Chakra)进行更改，我预计这将很难维护和/或上游。让TC39标准化这些语言特性中的任何一个(这将迫使谷歌/微软在其JS运行时中加入原生支持)似乎也是一个艰难的推销。<br/> <br/>总的来说，我很高兴看到这两个社区的事情如何发展。你永远不知道什么时候会有人发布一项新技术，一夜之间淘汰你的整个工具链。据我所知，我们可能明天醒来，都决定<a class="ae jq" href="http://facebook.github.io/reason/" rel="noopener ugc nofollow" target="_blank">我们应该写OCaml </a>。最好设置你的闹钟。</p><p id="b3c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">本帖原载于</em><a class="ae jq" href="http://blog.bolinfest.com/2017/03/javascript-vs-python-in-2017.html" rel="noopener ugc nofollow" target="_blank"><em class="jp">bolinfest.com</em></a><em class="jp">。</em></p><blockquote class="mc md me"><p id="25b4" class="ir is jp it b iu iv iw ix iy iz ja jb mf jd je jf mg jh ji jj mh jl jm jn jo hn dt translated"><a class="ae jq" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jq" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jq" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>的机会。</p><p id="dca4" class="ir is jp it b iu iv iw ix iy iz ja jb mf jd je jf mg jh ji jj mh jl jm jn jo hn dt translated">要了解更多信息，<a class="ae jq" href="https://goo.gl/4ofytp" rel="noopener ugc nofollow" target="_blank">请阅读我们的“关于”页面</a> , <a class="ae jq" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">喜欢/在脸书给我们发消息</a>，或者简单地，<a class="ae jq" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank">发推文/DM @HackerNoon。</a></p><p id="708a" class="ir is jp it b iu iv iw ix iy iz ja jb mf jd je jf mg jh ji jj mh jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jq" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jq" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mi mj mk ml fq mm"><div class="bz el l di"><div class="mn mo l"/></div></figure></div></div>    
</body>
</html>