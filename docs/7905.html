<html>
<head>
<title>Consuming a Stencil Component in React App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React应用程序中使用模板组件</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/consuming-a-stencil-component-in-react-app-aa3f37f9e49a?source=collection_archive---------8-----------------------#2017-11-12">https://medium.com/hackernoon/consuming-a-stencil-component-in-react-app-aa3f37f9e49a?source=collection_archive---------8-----------------------#2017-11-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="dbc9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几天前有人问我一个问题，如何在<a class="ae jp" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank"> React </a>应用中使用模板组件。由于Stencil是一个生成定制元素的编译器，你可以在任何框架/库中使用任何由Stencil生成的组件，而不仅仅是在React应用中。</p><p id="0aea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一方面，我问自己为什么不创建一个示例应用程序来展示这一点，这就是为什么写这篇文章的原因:)</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><h2 id="bdbd" class="jx jy hu bd jz ka kb kc kd ke kf kg kh jc ki kj kk jg kl km kn jk ko kp kq kr dt translated">模具组件</h2><p id="0dde" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">在我的第一篇模板文章<a class="ae jp" rel="noopener" href="/@gilfink/getting-started-with-stencil-7e331962a9f1">模板介绍</a>中，我展示了一个可折叠面板组件片段。在本文中，我将在React应用程序中使用该组件。</p><h2 id="2a07" class="jx jy hu bd jz ka kb kc kd ke kf kg kh jc ki kj kk jg kl km kn jk ko kp kq kr dt translated">添加组件代码</h2><p id="4f9b" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">我使用<strong class="it hv"> create-react-app </strong>项目模板创建了React应用程序。如果您也想生成它，请使用以下命令行代码:</p><pre class="kx ky kz la fq lb lc ld le aw lf dt"><span id="6b6b" class="jx jy hu lc b fv lg lh l li lj">npm install -g create-react-app<br/><br/>create-react-app stencil-react</span></pre><p id="4c50" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一行将在您的机器上全局安装<strong class="it hv"> create-react-app </strong>生成器，第二行将生成<strong class="it hv"> stencil-react </strong> app框架。</p><p id="2146" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，将可折叠面板组件构建的代码作为资产添加到项目中。在<strong class="it hv">公共</strong>文件夹中，创建一个<strong class="it hv">资产</strong>文件夹，然后在那里添加模板组件:</p><figure class="kx ky kz la fq ll fe ff paragraph-image"><div class="fe ff lk"><img src="../Images/92b231767dd4c9f91a13b4823068e0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*7T5WWEYrpzUuWge697L-Og.png"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek">Adding The Stencil Component</figcaption></figure><p id="eba8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="ls">注意:添加组件代码也可以通过导入节点模块、添加</em><a class="ae jp" href="https://hackernoon.com/tagged/cdn" rel="noopener ugc nofollow" target="_blank"><em class="ls">CDN</em></a><em class="ls">中存在的脚本等方式完成。为了简单起见，我只添加了整个组件代码。</em></p><p id="5c2f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在<strong class="it hv">公共</strong>文件夹下的<strong class="it hv">index.html</strong>中，添加组件脚本:</p><pre class="kx ky kz la fq lb lc ld le aw lf dt"><span id="ff38" class="jx jy hu lc b fv lg lh l li lj">&lt;!DOCTYPE <strong class="lc hv">html</strong>&gt;<br/>&lt;<strong class="lc hv">html lang="en"</strong>&gt;<br/>  &lt;<strong class="lc hv">head</strong>&gt;<br/>    &lt;<strong class="lc hv">meta charset="utf-8"</strong>&gt;<br/>    &lt;<strong class="lc hv">meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"</strong>&gt;<br/>    &lt;<strong class="lc hv">meta name="theme-color" content="#000000"</strong>&gt;<br/>    &lt;<strong class="lc hv">link rel="manifest" href="%PUBLIC_URL%/manifest.json"</strong>&gt;<br/>    &lt;<strong class="lc hv">link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico"</strong>&gt;<br/>    &lt;<strong class="lc hv">title</strong>&gt;React App&lt;/<strong class="lc hv">title</strong>&gt;<br/>  &lt;/<strong class="lc hv">head</strong>&gt;<br/>  &lt;<strong class="lc hv">body</strong>&gt;<br/>    &lt;<strong class="lc hv">noscript</strong>&gt;<br/>      You need to enable JavaScript to run this app.<br/>    &lt;/<strong class="lc hv">noscript</strong>&gt;<br/>    &lt;<strong class="lc hv">div id="root"</strong>&gt;&lt;/<strong class="lc hv">div</strong>&gt;</span><span id="5c31" class="jx jy hu lc b fv lt lh l li lj">    &lt;<strong class="lc hv">script src="assets/stencil/mycomponent.js"</strong>&gt;&lt;/<strong class="lc hv">script</strong>&gt;<br/>  &lt;/<strong class="lc hv">body</strong>&gt;<br/>&lt;/<strong class="lc hv">html</strong>&gt;</span></pre><h2 id="184d" class="jx jy hu bd jz ka kb kc kd ke kf kg kh jc ki kj kk jg kl km kn jk ko kp kq kr dt translated">使用模具组件</h2><p id="0f0d" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">既然我们设置了所有的环境，我们可以像使用任何其他web组件一样使用模板组件。我更新了<strong class="it hv"> App.js </strong>代码如下:</p><pre class="kx ky kz la fq lb lc ld le aw lf dt"><span id="c875" class="jx jy hu lc b fv lg lh l li lj"><strong class="lc hv">import </strong>React, { Component } <strong class="lc hv">from 'react'</strong>;<br/><strong class="lc hv">import </strong>logo <strong class="lc hv">from './logo.svg'</strong>;<br/><strong class="lc hv">import './App.css'</strong>;<br/><br/><strong class="lc hv">class </strong>App <strong class="lc hv">extends </strong>Component {<br/>    <strong class="lc hv">collapseTitle </strong>= <strong class="lc hv">'Collapse Me!'</strong>;<br/><br/>    toggle() {<br/>        <strong class="lc hv">this</strong>.<strong class="lc hv">refs</strong>.collapsiblePanel.toggle();<br/>    }<br/><br/>  render() {<br/>    <strong class="lc hv">return </strong>(<br/>      &lt;<strong class="lc hv">div className="App"</strong>&gt;<br/>        &lt;<strong class="lc hv">header className="App-header"</strong>&gt;<br/>          &lt;<strong class="lc hv">img src=</strong>{logo} <strong class="lc hv">className="App-logo" alt="logo" </strong>/&gt;<br/>          &lt;<strong class="lc hv">h1 className="App-title"</strong>&gt;Welcome to React&lt;/<strong class="lc hv">h1</strong>&gt;<br/>        &lt;/<strong class="lc hv">header</strong>&gt;<br/>        &lt;<strong class="lc hv">p className="App-intro"</strong>&gt;<br/>          To get started, edit &lt;<strong class="lc hv">code</strong>&gt;src/App.js&lt;/<strong class="lc hv">code</strong>&gt; and save to reload.<br/>        &lt;/<strong class="lc hv">p</strong>&gt;<br/>          &lt;<strong class="lc hv">collapsible-panel ref="collapsiblePanel" title=</strong>{<strong class="lc hv">this</strong>.<strong class="lc hv">collapseTitle</strong>}&gt;<br/>              &lt;<strong class="lc hv">ul</strong>&gt;<br/>                &lt;<strong class="lc hv">li</strong>&gt;Components are awesome!&lt;/<strong class="lc hv">li</strong>&gt;<br/>                &lt;<strong class="lc hv">li</strong>&gt;They drive the web&lt;/<strong class="lc hv">li</strong>&gt;<br/>              &lt;/<strong class="lc hv">ul</strong>&gt;<br/>          &lt;/<strong class="lc hv">collapsible-panel</strong>&gt;<br/>          &lt;<strong class="lc hv">button onClick=</strong>{<strong class="lc hv">this</strong>.toggle.bind(<strong class="lc hv">this</strong>)}&gt;Toggle from outside!&lt;/<strong class="lc hv">button</strong>&gt;<br/>    &lt;/<strong class="lc hv">div</strong>&gt;<br/>    );<br/>  }<br/>}<br/><br/><strong class="lc hv">export default </strong>App;</span></pre><p id="7d9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如您所见，我使用了常规的React代码，并与模板生成的组件绑定。没什么特别的。在<strong class="it hv">渲染</strong>函数中，我添加了可折叠面板，并将其标题绑定到React组件<strong class="it hv"> collapsibleTitle </strong>成员。我还添加了一个<strong class="it hv"> ref </strong>属性，使<strong class="it hv">切换</strong>功能能够从外部切换面板。</p><p id="623c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果使用<code class="eh lu lv lw lc b">npm run start</code>命令运行应用程序，输出将是:</p><figure class="kx ky kz la fq ll fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff lx"><img src="../Images/825f423878618caad2bfbd17562a4cd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vuKTfiazhCdWt3fq40Ozww.png"/></div></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek">The Running App</figcaption></figure></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><h2 id="08c2" class="jx jy hu bd jz ka kb kc kd ke kf kg kh jc ki kj kk jg kl km kn jk ko kp kq kr dt translated">摘要</h2><p id="f017" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">在React应用中使用模板组件就像添加组件脚本并使用它一样简单。模板也可以从任何其他框架中消耗，包括角形、Vue或聚合物，这使得它超级强大。</p><p id="b483" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里找到app代码<a class="ae jp" href="https://github.com/gilf/stencil-react" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="9747" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">#使用平台</p><figure class="kx ky kz la fq ll"><div class="bz el l di"><div class="mc md l"/></div></figure></div></div>    
</body>
</html>