<html>
<head>
<title>How to set up E2E browser testing for your GitHub project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为您的GitHub项目设置E2E浏览器测试</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-set-up-e2e-browser-testing-for-your-github-project-89c24e15a84?source=collection_archive---------4-----------------------#2017-02-01">https://medium.com/hackernoon/how-to-set-up-e2e-browser-testing-for-your-github-project-89c24e15a84?source=collection_archive---------4-----------------------#2017-02-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="f3d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如今，大量大大小小的项目都是使用<a class="ae jp" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>工具开发的，并托管在<a class="ae jp" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上。这些项目的作者经常面临选择端到端测试工具的需求。当我们在DevExpress创建<a class="ae jp" href="https://devexpress.github.io/testcafe/" rel="noopener ugc nofollow" target="_blank"> TestCafe </a>时，我们希望它能够完美地适应现代<a class="ae jp" href="https://hackernoon.com/tagged/nodejs" rel="noopener ugc nofollow" target="_blank"> Node.js </a>开发工作流程。</p><ul class=""><li id="a7de" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">在测试和你正在开发的项目中使用相同的语言——现代的<a class="ae jp" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>,支持ES6和ES7特性。</li><li id="e0de" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">易于安装和启动。无需安装和维护额外的产品和浏览器插件。测试可以在<code class="eh ke kf kg kh b">npm install</code>之后立即运行。</li><li id="33cf" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">易于与CI系统集成。</li><li id="9f03" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">TestCafe功能可以用插件来扩展。</li><li id="53d7" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">测试可以使用任何第三方Node.js模块。</li></ul><p id="46c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本文中，我将展示在GitHub上为Node.js web项目设置自动化测试是多么容易。使用一个真实的项目(<a class="ae jp" href="https://github.com/twbs/bootstrap" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>)作为例子，我将描述如何在开发人员的机器上的本地浏览器中设置测试，以及如何一步一步地在<a class="ae jp" href="https://travis-ci.org/" rel="noopener ugc nofollow" target="_blank"> Travis CI </a>上配置持续集成测试。在CI测试部分，我将展示如何在Travis CI提供的浏览器(Chrome和Firefox)、headless浏览器(the<a class="ae jp" href="http://www.nightmarejs.org/" rel="noopener ugc nofollow" target="_blank">NightmareJS</a>browser automation library)以及提供各种操作系统和浏览器进行测试的云服务(<a class="ae jp" href="https://saucelabs.com/" rel="noopener ugc nofollow" target="_blank"> SauceLabs </a>)中运行测试。</p><p id="fe20" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我将展示如何在项目工作流程的每个阶段使用端到端测试:</p><ul class=""><li id="80f8" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">在本地机器上。您可以在任何浏览器中运行测试，而无需安装额外的库和插件。</li><li id="936d" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">在拉取请求中。这允许您在将更改推送到主分支之前，确保项目运行良好。</li><li id="e52e" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">将提交推送到主分支时。</li></ul><p id="4891" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了运行测试，我们将使用<a class="ae jp" href="https://github.com/DevExpress/testcafe" rel="noopener ugc nofollow" target="_blank"> TestCafe </a>测试框架。</p><p id="db2c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将为用于开发web项目的最流行的HTML、CSS和JavaScript框架<a class="ae jp" href="https://github.com/twbs/bootstrap" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>编写测试。为此，我分叉了引导库并创建了一个新的分支<code class="eh ke kf kg kh b">testcafe</code>。撰写本文时，存储库有基于QUnit的单元测试，这些单元测试在发送每个pull请求并合并到主分支时运行。此外，repo包含用于视觉测试组件的<a class="ae jp" href="https://github.com/AlexanderMoskovkin/bootstrap/tree/v4-dev/js/tests/visual" rel="noopener ugc nofollow" target="_blank">页面</a>，由人工进行手动验证。我们将为其中一个页面编写功能测试。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="b026" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">写作测试</h1><p id="ff27" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">我们将在测试中使用<a class="ae jp" href="https://martinfowler.com/bliki/PageObject.html" rel="noopener ugc nofollow" target="_blank">页面对象</a>模式。这种方法允许我们创建更多的声明性测试。在本文中，我们不会关注测试语法。有关测试API的信息，请参考TestCafe <a class="ae jp" href="https://devexpress.github.io/testcafe/documentation/test-api/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="d7b7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们用Bootstrap的模态组件为一个页面编写一个测试。模态对话框内部包含许多其他组件(手风琴、按钮等)。</p><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/e489e13f2d83169944b0bf635fe6a638.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*-PBS6za0Qw8M9g36re6lwQ.png"/></div></figure><p id="29fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe选择器系统将帮助我们创建一个页面对象。我们将用一个单独的<code class="eh ke kf kg kh b">page-model.js</code>文件中的类来描述整个页面及其组件。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="594a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里找到整个页面对象<a class="ae jp" href="https://github.com/AlexanderMoskovkin/bootstrap/blob/testcafe/js/tests/functional/page-model.js" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="69b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有了page对象，测试不必使用HTML标记。相反，它们操作页面的对象表示。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="f6c6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此测试夹具的完整版本可从<a class="ae jp" href="https://github.com/AlexanderMoskovkin/bootstrap/blob/testcafe/js/tests/functional/modal-test.js" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="da91" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">开发期间在本地浏览器中测试</h1><p id="bbf1" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">为了测试一个模态对话框页面，您需要一个HTTP服务器来提供这个页面。您可能已经有了一种在项目中提供测试页面的机制。我将使用一个简单的零配置http服务器。</p><p id="3fba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装TestCafe和http-server。</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="be03" class="mg kq hu kh b fv mh mi l mj mk">npm install -g testcafe http-server</span></pre><p id="36e3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在此之后，您将能够在您的机器上安装的任何浏览器中运行测试，只需在控制台中输入一行代码。</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="f47c" class="mg kq hu kh b fv mh mi l mj mk">testcafe chrome,firefox js/tests/functional/*-test.js --app "http-server ./ -p 3000"</span></pre><p id="4a6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh ke kf kg kh b">--app</code>选项允许您指定一个命令来部署您要测试的应用程序。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ml mb l"/></div></figure><p id="7edf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe将启动http-server，启动指定的浏览器，在其中运行测试，停止服务器并输出报告。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><p id="fe70" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe <a class="ae jp" href="https://devexpress.github.io/testcafe/documentation/using-testcafe/command-line-interface.html" rel="noopener ugc nofollow" target="_blank"> CLI </a>还可以通过可执行文件的路径启动浏览器(适用于便携式浏览器)，向浏览器启动命令传递参数，并在远程浏览器中运行测试。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="c2bd" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">设置持续集成测试</h1><p id="5465" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">我们将使用<a class="ae jp" href="https://travis-ci.org/" rel="noopener ugc nofollow" target="_blank"> Travis </a>作为CI服务。或者，我们可以使用具有不同特性的其他服务(<a class="ae jp" href="https://www.appveyor.com/" rel="noopener ugc nofollow" target="_blank"> AppVeyor </a>、<a class="ae jp" href="https://circleci.com/" rel="noopener ugc nofollow" target="_blank"> CircleCI </a>等)。</p><p id="1011" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Travis CI提供预装Chrome和Firefox的Linux虚拟机。</p><p id="eeb1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，我们应该将之前安装的模块添加到项目的开发依赖项中。您可以通过手动编辑<code class="eh ke kf kg kh b">package.json</code>或运行以下命令来实现</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="68ba" class="mg kq hu kh b fv mh mi l mj mk">npm install testcafe http-server --save-dev</span></pre><h2 id="c0fe" class="mg kq hu bd kr mm mn mo kv mp mq mr kz jc ms mt ld jg mu mv lh jk mw mx ll my dt translated">设置Travis CI</h2><p id="0d5e" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">让我们配置Travis CI来为每个pull请求运行测试。首先，您需要为您的项目启用Travis。</p><p id="fa34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://travis-ci.org/auth" rel="noopener ugc nofollow" target="_blank">使用您的GitHub帐户登录</a>Travis CI。Travis CI将从GitHub同步您的存储库。您可以在您的<a class="ae jp" href="https://travis-ci.org/profile/" rel="noopener ugc nofollow" target="_blank">个人资料页面</a>上看到他们。</p><p id="d5b5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过打开开关，为您想要构建的存储库启用Travis CI。</p><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/178ebceb023a48610caf96ab6f78c3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*Wf8xrh78MaTq84o4p-C_XA.png"/></div></figure><p id="11c6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">默认情况下，Travic CI基于推送和拉取请求运行构建。您可以在存储库的设置中更改此行为。</p><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="fe ff na"><img src="../Images/59316320db7172725e1aac13868ff717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U0wW5LFqWDnDnxLbNrz1Kg.png"/></div></div></figure><p id="708e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们配置一下<code class="eh ke kf kg kh b">.travis.yml</code>文件。在这个文件中，我们将指定Node.js版本和浏览器设置。此外，由于Travis CI使用没有常规图形环境的Ubuntu服务器虚拟机，我们<a class="ae jp" href="https://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-xvfb-to-Run-Tests-That-Require-a-GUI" rel="noopener ugc nofollow" target="_blank">设置并使用Xvfb </a>来无标题地运行浏览器。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="be25" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有关Travis配置的详细信息，请参见其<a class="ae jp" href="https://docs.travis-ci.com/user/customizing-the-build" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="522e" class="mg kq hu bd kr mm mn mo kv mp mq mr kz jc ms mt ld jg mu mv lh jk mw mx ll my dt translated">在预安装的浏览器中对拉请求运行测试</h2><p id="bf24" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">要在预先安装到Travis CI的浏览器中运行测试，向<code class="eh ke kf kg kh b">package.json</code>添加一个<code class="eh ke kf kg kh b">npm test</code>命令，其中包含我们用来在本地运行测试的行。</p><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="05e7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，当对主分支的拉请求被创建时，测试将在Travis上运行，您将能够查看一个<a class="ae jp" href="https://travis-ci.org/AlexanderMoskovkin/bootstrap/builds/194429019" rel="noopener ugc nofollow" target="_blank">测试运行报告</a>。拉请求中的提交状态将相应地改变。</p><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="fe ff nf"><img src="../Images/abefc0a243bc1fff03266dcac4edd7cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjcOU5kxw8uTi2eIRIEi1g.png"/></div></div></figure><p id="2e46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在拉请求被合并并且变更被拉入主分支之后，Travis CI将再次运行测试。您可以在您的Travis CI帐户中查看他们的状态，或者您可以将<a class="ae jp" href="https://docs.travis-ci.com/user/status-images/" rel="noopener ugc nofollow" target="_blank">徽章</a>添加到您的存储库自述文件中。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="fe60" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">将测试配置为在无头浏览器中运行</h1><p id="843c" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">如果您不需要测试依赖于浏览器的行为，您可能会发现在无头浏览器中运行测试非常有用。这允许您避免在测试机器上安装真正的浏览器。你只需要用<code class="eh ke kf kg kh b">npm install</code>安装单个模块。例如，一个TestCafe社区成员创建了一个<a class="ae jp" href="https://github.com/ryx/testcafe-browser-provider-nightmare" rel="noopener ugc nofollow" target="_blank">插件</a>，它允许你开箱即用地运行NighmareJS中的测试。让我们安装这个插件。</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="a489" class="mg kq hu kh b fv mh mi l mj mk">npm install testcafe-browser-provider-nightmare --save-dev</span></pre><p id="c3f3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之后，您可以将<code class="eh ke kf kg kh b">nightmare</code>作为浏览器名称传递给测试运行命令。</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="47b9" class="mg kq hu kh b fv mh mi l mj mk">testcafe nightmare js/tests/functional/*-test.js</span></pre><p id="bcbc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe允许你轻松地为任何这样的库创建你自己的插件。您可以在我们的<a class="ae jp" href="https://devexpress.github.io/testcafe/documentation/extending-testcafe/browser-provider-plugin/" rel="noopener ugc nofollow" target="_blank">文档</a>中找到说明。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="bf5f" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">使用跨浏览器测试服务在任何浏览器中进行测试</h1><p id="f7e5" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">如果上面描述的测试选项不能满足您的需求，请考虑在具有跨浏览器测试服务的真实浏览器中进行测试(<a class="ae jp" href="https://www.browserstack.com/" rel="noopener ugc nofollow" target="_blank"> BrowserStack </a>、<a class="ae jp" href="https://saucelabs.com/" rel="noopener ugc nofollow" target="_blank"> SauceLabs </a>等)。TestCafe有一个<a class="ae jp" href="https://github.com/DevExpress/testcafe-browser-provider-saucelabs" rel="noopener ugc nofollow" target="_blank">插件</a>，可以让你在SauceLabs的虚拟机上运行测试。一个SauceLabs账户是免费的，如果你用它来测试一个开源项目。</p><p id="4919" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要运行测试，首先安装一个插件。</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="0364" class="mg kq hu kh b fv mh mi l mj mk">npm install testcafe-browser-provider-saucelabs --save-dev</span></pre><p id="06e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，您需要在全局变量中为您的SauceLabs帐户指定登录和访问密钥(<code class="eh ke kf kg kh b">SAUCE_USERNAME</code>、<code class="eh ke kf kg kh b">SAUCE_ACCESS_KEY</code>)。在本地运行测试时，您可以通过控制台来完成。要对Travis运行测试，请在您的Travis帐户中指定凭据。</p><p id="b60a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe可以使用以下命令通过SauceLabs显示所有可用的浏览器:</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="2961" class="mg kq hu kh b fv mh mi l mj mk">testcafe --list-browsers saucelabs</span></pre><p id="0b5e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们在桌面和移动浏览器中运行我们的测试:</p><pre class="lt lu lv lw fq mc kh md me aw mf dt"><span id="2284" class="mg kq hu kh b fv mh mi l mj mk">testcafe "saucelabs:Chrome@beta:Windows 10,saucelabs:iPad Simulator@8.1" js/tests/functional/*-test.js --app "http-server ./ -p 3000"</span></pre><p id="d419" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TestCafe将在你的机器和SauceLabs服务器之间建立一个隧道，启动虚拟机，运行测试并输出结果。</p><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="fe ff ng"><img src="../Images/d65208e3871c19cb2bfa22901bae71f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BrEhOeC7wn4BhPRJe9_7ZA.png"/></div></div></figure><p id="e0b0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您从存储库分支打开一个拉请求，有一些限制。不可能通过Travis CI在pull请求中进行跨浏览器测试，因为这可能会危及您的SauceLabs凭证。幸运的是，您可以通过使用<a class="ae jp" href="https://github.com/twbs/savage" rel="noopener ugc nofollow" target="_blank"> Savage </a>来解决这个问题。</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><h1 id="9541" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">结论</h1><p id="f4cc" class="pw-post-body-paragraph ir is hu it b iu ln iw ix iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo hn dt translated">如你所见，配置TestCafe不需要任何困难的操作。它只需一个控制台命令即可完成。TestCafe可以输出不同格式的报告(json、nunit、spec、list、minimal)，并允许你用一个<a class="ae jp" href="https://devexpress.github.io/testcafe/documentation/extending-testcafe/reporter-plugin/" rel="noopener ugc nofollow" target="_blank">插件</a>创建自己的报告格式。这使您能够在每个CI系统中使用TestCafe。你也可以用一个<a class="ae jp" href="https://github.com/DevExpress/gulp-testcafe" rel="noopener ugc nofollow" target="_blank">吞咽</a>或<a class="ae jp" href="https://github.com/crudo/grunt-testcafe" rel="noopener ugc nofollow" target="_blank">咕哝</a>的任务来运行你的测试。</p><p id="1eb2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于TestCafe是为Node.js编写的，并且具有命令行和编程API，因此您可以灵活地配置测试过程以适应您的特定任务，并使用第三方Node.js库。</p><p id="29dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你对TestCafe感兴趣，你可以在我们的<a class="ae jp" href="https://devexpress.github.io/testcafe/" rel="noopener ugc nofollow" target="_blank">网站</a>或者<a class="ae jp" href="https://github.com/DevExpress/testcafe" rel="noopener ugc nofollow" target="_blank">资源库</a>了解更多。</p><p id="bc58" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您在使用现有解决方案构建CI时有任何问题，请使用评论部分。你认为TestCafe可以帮助你吗？我将感谢您的意见和反馈。我准备好回答你的问题了。</p><div class="lt lu lv lw fq ab cb"><figure class="nh lx ni nj nk nl nm paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nh lx ni nj nk nl nm paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nh lx ni nj nk nl nm paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="nn no np"><p id="f922" class="ir is nq it b iu iv iw ix iy iz ja jb nr jd je jf ns jh ji jj nt jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是AMI家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is nq it b iu iv iw ix iy iz ja jb nr jd je jf ns jh ji jj nt jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lt lu lv lw fq lx fe ff paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="fe ff nu"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="lt lu lv lw fq lx"><div class="bz el l di"><div class="nv mb l"/></div></figure></div></div>    
</body>
</html>