<html>
<head>
<title>Rails Development Without Ruby or Rails</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">没有Ruby或Rails的Rails开发</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/rails-development-without-ruby-or-rails-d41b3ce56249?source=collection_archive---------5-----------------------#2017-05-08">https://medium.com/hackernoon/rails-development-without-ruby-or-rails-d41b3ce56249?source=collection_archive---------5-----------------------#2017-05-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/47525370a2c40e91061f1a225a4ccb8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFp0UkiRlTgUuno4N-zDzA.png"/></div></div></figure><p id="8d3b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这可能吗？好吧，我承认不是。但是先别走！让我解释一下。</p><p id="e854" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我所说的是与您的开发机器相隔离的Rails应用程序开发。因此，虽然从技术上讲，你仍然需要Ruby和Rails <em class="ka">在某个地方</em>，但你不需要它们把你的本地机器搞得一团糟。</p><h1 id="1f13" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">老办法</h1><p id="533d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我开发Ruby on Rails已经将近10年了(这让我觉得自己真的老了)。虽然Rails是一个非常棒的框架，Ruby是一门非常漂亮的语言，但是Ruby on Rails的开发一直有一些问题困扰着我。</p><h2 id="e292" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">版本管理</h2><blockquote class="ls lt lu"><p id="78b8" class="jc jd ka je b jf jg jh ji jj jk jl jm lv jo jp jq lw js jt ju lx jw jx jy jz hn dt translated">你如何在项目之间管理Ruby的版本？您可以创建一个版本管理器，这样您就不必这么做了。</p></blockquote><p id="f3e5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh ly lz ma mb b">RVM</code>还是<code class="eh ly lz ma mb b">rbenv</code>，这是个问题…</p><p id="5924" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">版本管理器为您提供了下载、安装、列出和切换Ruby版本所需的一切，但老实说，这是一种痛苦(不像之前的<a class="ae mc" href="http://andre.arko.net/2015/04/28/how-does-bundler-work-anyway/" rel="noopener ugc nofollow" target="_blank">那么痛苦，但仍然是一种痛苦)。</a></p><p id="7225" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我不记得有多少次我安装了一个新的宝石，却忘了用<code class="eh ly lz ma mb b">rbenv rehash</code>把垫片放入环境中，所以我坐在那里挠头，想知道它为什么不工作...</p><p id="426b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">管理Ruby的版本、版本管理器的版本，并确保我运行的所有东西都和我团队中的其他人运行的是同一个版本，这太乏味了…唉。</p><h2 id="48e4" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">依赖性管理</h2><p id="11b6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这里的情况不会好到哪里去。<code class="eh ly lz ma mb b">gemfile</code>是声明依赖关系的直接方式，而<code class="eh ly lz ma mb b">bundler</code>使得获取/更新它们变得容易。但也就到此为止了。</p><p id="0d01" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我安装的那些宝石到底去哪了？</p><p id="d4e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它们都被塞进了一个文件夹，在当前版本的Ruby下，在你的本地机器上。成百上千的文件。太疯狂了，对吧？加上<code class="eh ly lz ma mb b">node_modules</code>和<code class="eh ly lz ma mb b">bower_components</code>，你可能在谈论你为每个项目存储的<strong class="je hv">数百万行代码！</strong></p><h2 id="f9fd" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">克鲁福特</h2><p id="5a5e" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这是前两次留下的所有东西。我不知道你怎么想，但我通常不会在完成一个项目后去清理所有的东西。</p><p id="1bd6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我敢说你已经安装了多少版本的Ruby了…如果你用的是<code class="eh ly lz ma mb b">rvm</code>那就是<code class="eh ly lz ma mb b">rvm list</code>，用<code class="eh ly lz ma mb b">rbenv</code>那就是<code class="eh ly lz ma mb b">rbenv versions</code>。</p><p id="bf62" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你六岁或更少，你可能是幸运的。最有可能的是你有接近12个(我甚至不会要求你检查你在每个Ruby版本上为你曾经工作过的每个项目安装了多少不同版本的gem)。</p><p id="fe41" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">是只有我，还是看起来应该有更好的方式…</p><h1 id="bddd" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">更好的方法</h1><p id="9306" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">退一步说，与大多数其他工作流相比，Ruby和Rails的开发仍然非常出色。但现在是2017年了。我想终于是时候把^的所有事情都弄清楚了。</p><p id="3d89" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">实现这一点的方法是使用隔离的开发环境。与其把所有东西都放在你的工作机器上，不如把它们放在专门为满足应用程序需求而创建的环境中。</p><p id="086c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将消除对版本和依赖性管理器的需要，消除版本和依赖性冲突，并释放空间和清理文件系统。</p><h2 id="0755" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">虚拟化和集装箱化</h2><p id="77b5" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">创建隔离的开发环境的一种方法是使用vagger和VirtualBox。这种方法有点过时了，但还是有点效果的。</p><p id="aa53" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">街区里新来的孩子叫多克。</p><p id="333a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Docker使得使用容器创建这些隔离的环境变得很容易。虽然Docker真的很酷，代表了容器化应用程序的巨大飞跃，但它很快就变得复杂了。</p><p id="0c50" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦您的应用程序增长，并且您有几十个运行多个微服务的容器，您必须在组合中加入Kubernetes或Swarm之类的东西…这是一个混乱。</p><p id="a72f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当你不得不开始添加<em class="ka">的东西</em>来帮助管理由其他<em class="ka">的东西</em>创建的<em class="ka">的东西</em>，这些东西都是为了让<em class="ka">的东西</em>变得更简单……事情总是变得更复杂。</p><h1 id="e6a8" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">最好的方法</h1><p id="ded2" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">最好的方法是忘记所有的事情。算了吧。</p><p id="1ffc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">作为一名应用程序开发人员，我不想担心如何设置我的开发环境<em class="ka">恰到好处</em>。我不想担心在该环境和任何生产环境之间保持平衡，我甚至不想<em class="ka">考虑</em>创建、配置或管理生产基础设施…</p><h2 id="be53" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">微PaaS</h2><p id="3893" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">消除这一切的方法是使用<a class="ae mc" href="https://content.nanobox.io/introducing-micro-paas-the-next-evolution-of-paas/" rel="noopener ugc nofollow" target="_blank">微型PaaS </a>。微PaaS的整个概念是，您的应用程序环境应该与您的应用程序共存。</p><h2 id="d64c" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">它是如何工作的</h2><p id="327b" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">微PaaS在项目的根目录下使用一个简单的配置文件来定义应用程序环境。因为这个配置文件存在于应用程序中，所以无论你的应用程序去哪里，你的环境都会跟着去。</p><p id="654f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">想想这里的含义…</p><p id="3219" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您创建自己的应用程序，轻松地与整个团队共享，并保证每个人都运行在完全相同的基础架构上。你不需要担心<em class="ka">那个人</em>似乎永远无法让应用程序运行，或者那个新来的家伙会占用你几天的时间来设置应用程序并提高效率。</p><p id="e138" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">微平台即服务的另一个<strong class="je hv">巨大的</strong>好处是，同样，由于您的应用程序环境与应用程序代码共存，您不必担心创建或配置生产基础设施。您只需部署您的代码，基础设施就为您创建和配置好了。</p><p id="85a9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这保证了所有环境之间的<em class="ka">精确的</em>对等性；开发，筹备，生产，等等。</p><h2 id="256a" class="le kc hu bd kd lf lg lh kh li lj lk kl jn ll lm kp jr ln lo kt jv lp lq kx lr dt translated">开发人员的理想平台</h2><p id="fbde" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">如果你能理解我在这里谈到的任何事情，并准备好改进你的开发工作流程，<a class="ae mc" href="https://nanobox.io" rel="noopener ugc nofollow" target="_blank"> Nanobox </a>是一个微型PaaS，你现在就可以开始使用。</p><p id="23eb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Nanobox通过利用Docker创建虚拟开发环境，为您提供了容器的所有功能和灵活性。这可以让你的项目保持独立，让你的工作机器保持干净。您不必担心配置应用程序环境的细节，这一切都是为您处理的。</p><p id="5362" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您和我一样，想不惜一切代价避免基础设施配置和管理的复杂性，没有传统PaaS的限制，Nanobox可以轻松地将您的应用部署到任何提供商。您可以轻松部署到AWS、DigitalOcean、Linode，甚至您定义的自定义提供商。没有更多的供应商锁定，耶！</p><p id="d2f0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在项目的根处有一个简单的<code class="eh ly lz ma mb b">boxfile.yml</code>,您定义了一个本地开发环境:</p><pre class="md me mf mg fq mh mb mi mj aw mk dt"><span id="0d29" class="le kc hu mb b fv ml mm l mn mo">run.config:<br/>  engine: ruby</span><span id="c0e5" class="le kc hu mb b fv mp mm l mn mo">  extra_packages:<br/>    - nodejs</span></pre><p id="1073" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过对同一个配置文件进行一些修改，您可以定义一个完整的生产环境:</p><pre class="md me mf mg fq mh mb mi mj aw mk dt"><span id="392f" class="le kc hu mb b fv ml mm l mn mo">run.config:<br/>  engine: ruby<br/><br/>  extra_packages:<br/>    - nodejs<br/>    - nginx<br/><br/>deploy.config:<br/>  extra_steps:<br/>    - rake assets:precompile<br/><br/>  before_live:<br/>    web.main:<br/>      - rake db:setup_or_migrate<br/><br/>data.db:<br/>  image: nanobox/postgresql<br/><br/>web.main:<br/>  start:<br/>    nginx: nginx -c /app/config/nginx.conf<br/>    puma: bundle exec puma -C /app/config/puma.rb<br/><br/>  writable_dirs:<br/>    - tmp<br/>    - log<br/><br/>  log_watch:<br/>    rails: 'log/production.log'<br/><br/>worker.main:<br/>  start: sidekiq</span></pre><h1 id="48c2" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">请客。哟。自我。</h1><p id="4b8e" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">停止在版本管理器、依赖性管理器、环境设置以及基础设施配置和管理上浪费时间和精力。</p><p id="0570" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">花时间做你真正喜欢做的事情…开发你的令人敬畏的应用程序！</p><div class="md me mf mg fq ab cb"><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mq iv mr ms mt mu mv paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ls lt lu"><p id="f922" class="jc jd ka je b jf jg jh ji jj jk jl jm lv jo jp jq lw js jt ju lx jw jx jy jz hn dt translated"><a class="ae mc" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae mc" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae mc" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd ka je b jf jg jh ji jj jk jl jm lv jo jp jq lw js jt ju lx jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae mc" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae mc" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mw"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>