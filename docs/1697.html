<html>
<head>
<title>Hacking a Bank : 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">入侵银行:101</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/hacking-a-bank-101-507d64d5b836?source=collection_archive---------5-----------------------#2016-11-30">https://medium.com/hackernoon/hacking-a-bank-101-507d64d5b836?source=collection_archive---------5-----------------------#2016-11-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/f3fdd276c997862a69acdb3724734a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQe3se5v_7CuJ8gEtYNT-w.jpeg"/></div></div></figure><h1 id="6471" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">高级银行业务逻辑漏洞</h1><p id="dec2" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">银行是经济的核心。如今，网络攻击每天都在发生，全球的银行都受到了影响。</p><p id="2b38" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">在过去的一年里，我们观察了各家银行在移动应用安全方面的<a class="ae ld" href="https://hackernoon.com/tagged/security" rel="noopener ugc nofollow" target="_blank">安全</a>。所描述的安全缺陷是由于糟糕的编程实践造成的。</p><p id="89a6" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">缺陷可以解释如下—</p><ol class=""><li id="cdea" class="le lf hu kc b kd ky kh kz kl lg kp lh kt li kx lj lk ll lm dt translated">重放攻击</li><li id="4b01" class="le lf hu kc b kd ln kh lo kl lp kp lq kt lr kx lj lk ll lm dt translated">绕过对恶意受益人的付款</li><li id="a8ff" class="le lf hu kc b kd ln kh lo kl lp kp lq kt lr kx lj lk ll lm dt translated">2FA中的旁路质询响应</li></ol><p id="4588" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">为了描述这些攻击，考虑一个虚构的银行“SPDL银行”。银行的客户是爱丽丝和鲍勃，黑客是伊夫。我们希望反映逻辑中的缺陷，我们使用Charles Proxy来嗅探移动银行和银行服务器之间的SSL流量。</p><p id="cafb" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">移动<a class="ae ld" href="https://hackernoon.com/tagged/banking" rel="noopener ugc nofollow" target="_blank">银行</a>应用程序应该允许用户执行他们可以在银行执行的操作的子集。因此，我们提出了我们对移动银行应用程序实际上应该如何运行的假设。付款时，付款请求只应有效一次。同样，转让应该只可能给批准的和信任的受益人。继续讨论质询响应，作为附加的安全层，银行可能会要求密码的某些数字(如第2、第3和第7位数字)，或类似形式的二次身份验证。只有在响应了所请求的内容后，交易才会被处理。</p><h1 id="1f3e" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">1).重放攻击</h1><p id="4130" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">假设Alice正在通过移动银行应用程序向Bob转账。付款申请只应有效一次。任何向银行提供相同信息的企图都应被视为无效。在实际场景中，假设Alice合法地向Bob转账10美元。Bob可以与黑客Eve配对，并且可以将请求重放10次。因此，在未经授权的情况下，90美元从爱丽丝的账户中被取走。</p><p id="db49" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">对重放攻击的防御是一个随机数，或作为时间函数的客户机和服务器之间的秘密。</p><h1 id="934a" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">2.绕过支付攻击</h1><p id="82c0" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">作为日常业务的一部分，Alice向Bob转账100美元。这是一个有效的交易，因为Bob存在于批准的受益人列表中。</p><p id="bcf9" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">完成交易的步骤如下-</p><blockquote class="ls lt lu"><p id="6cb7" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">爱丽丝-&gt;服务器:转账100美元给鲍勃</p><p id="4596" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">服务器-&gt;爱丽丝:好的；给我认证号码:1，5，8</p><p id="bd61" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">爱丽丝-&gt;服务器:转账100$给鲍勃；认证1:22 5:45 8:12</p><p id="9ec0" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">传输成功</p></blockquote><p id="01a7" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">认证字符可以被认为是密钥值对，其中有16个密钥1…16。这些都有认证数字</p><p id="0d07" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">绕过支付攻击发生在步骤3。Eve，对手可以篡改请求</p><blockquote class="ls lt lu"><p id="c1c8" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">3.爱丽丝-&gt;服务器:转账10000$给Eve认证1:22 5:45 8:12</p></blockquote><p id="8bdf" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">服务器接受它，并且传输成功。问题是</p><ol class=""><li id="621f" class="le lf hu kc b kd ky kh kz kl lg kp lh kt li kx lj lk ll lm dt translated">如果收件人是受益人，第3步中缺少检查</li><li id="35c0" class="le lf hu kc b kd ln kh lo kl lp kp lq kt lr kx lj lk ll lm dt translated">步骤1和3之间未保持状态。</li></ol><p id="639e" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">因此，金钱可能被转移到恶意实体。</p><h1 id="b38c" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">3.双因素身份验证旁路</h1><p id="449c" class="pw-post-body-paragraph ka kb hu kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">如交易步骤中所述，需要提供认证值。服务器要求从16个值中随机选择3个值，作为双因素验证。</p><p id="a79d" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">一次攻击改变了挑战应答问题。</p><p id="5565" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">在步骤2中，当银行要求2FA时</p><blockquote class="ls lt lu"><p id="50b6" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">2.服务器-&gt;爱丽丝:好的；给我认证号码:1，5，8</p></blockquote><p id="2934" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">Eve可以篡改请求响应，并提供她知道的3个有效的键值对。因此，不管服务器要求什么，Eve都可以提供她知道的键值对，交易仍然可以进行。因此，她有效地绕过了安全机制，因为她可以欺骗每个交易。</p><blockquote class="ls lt lu"><p id="db5e" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">爱丽丝-&gt;服务器:转账100$给鲍勃；认证1:22 2:99 3:10</p></blockquote></div><div class="ab cl lz ma hc mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hn ho hp hq hr"><p id="d83d" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">这是一种高级攻击，需要Eve拥有会话密钥。然而，一旦她通过嗅探一个实时交易，结合漏洞2和3，她可以创建恶意交易。</p><p id="6a43" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">这些缺陷与逻辑相关，可能不属于银行的威胁模型，因为它们假设应用程序位于可信计算基础中。然而，这种假设可能不成立，因为通过具有误导性权限的应用程序来毒害电话证书存储是多么容易。</p><p id="7d13" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">公钥锁定将解决嗅探中的问题，但是在首次安装和运行银行应用程序时，可能会有对手嗅探流量。此外，这些逻辑漏洞甚至会存在于网络银行应用程序中。</p><p id="993d" class="pw-post-body-paragraph ka kb hu kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">在球形防御(neural.ai)，我们正在为银行开发技术，通过学习语法和可信通信的语义，使用深度学习来实时检测入侵企图。</p><div class="mg mh mi mj fq ab cb"><figure class="mk iv ml mm mn mo mp paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mk iv ml mm mn mo mp paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mk iv ml mm mn mo mp paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ls lt lu"><p id="f922" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated"><a class="ae ld" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ld" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ld" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ld" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ka kb lv kc b kd ky kf kg kh kz kj kk lw la kn ko lx lb kr ks ly lc kv kw kx hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ld" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ld" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mg mh mi mj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mq"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="mg mh mi mj fq iv"><div class="bz el l di"><div class="mr ms l"/></div></figure></div></div>    
</body>
</html>