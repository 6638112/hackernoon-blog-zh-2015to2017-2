<html>
<head>
<title>The horrors of spelling when training and building chatbots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">训练和构建聊天机器人时拼写的恐怖</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-horrors-of-spelling-when-training-and-building-chatbots-d67d1b32ce27?source=collection_archive---------7-----------------------#2017-11-19">https://medium.com/hackernoon/the-horrors-of-spelling-when-training-and-building-chatbots-d67d1b32ce27?source=collection_archive---------7-----------------------#2017-11-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/56e7fd9c17869447ca09e210f320a51a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f49GzHgf0u60e6exRqEZmw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo courtesy of <a class="ae jg" href="https://pixabay.com/en/users/bogitw-851103/" rel="noopener ugc nofollow" target="_blank">bogitw</a> on Pixabay</figcaption></figure><p id="9bde" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我已经在Alexa平台上发布了二十种不同的语音激活聊天机器人。在过去的几个月里，我已经把我的注意力转移到了使用亚马逊Lex为脸书信使开发聊天机器人上。同机<a class="ae jg" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">学</a>型号=易港对吧？现在我知道得更多了，我很谦卑，也愿意分享我的错误，这样其他人就能理解其中的不同。隐藏的挑战是解读文本中的拼写。以下是我所学到的。</p><h1 id="677e" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">架构比较— Alexa与Lex</h1><p id="8e8a" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">作为背景，在幕后，这里是两个平台如何使用机器学习模型。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff li"><img src="../Images/fb8c3ed754baa44d5c121d897309f98a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lnzCCDBM9rd5rnSLbBsnoQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Basic Alexa Architecture w/ ML models</figcaption></figure><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ln"><img src="../Images/15ca33c1ec581c0d4d0298610167b05c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yKb0rPWAC077GgYvSpn_ow.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Basic Lex Architecture w/ ML models</figcaption></figure><p id="3bb4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">主要区别在于入站媒体—文本与声音文件。自然语言理解(NLU)模型是相同的。我可以重复使用示例话语和自定义插槽。围绕触发lambda函数的意图的模式是相同的。不同的是，Alexa使用自动语音识别(ASR)模型将声音翻译成文本，而不是接收用户在Facebook Messenger中输入的内容。我发现这超越了语音到文本的转换。围绕拼写检查和语言解释提供了额外的服务。我举个例子进一步解释一下。</p><h1 id="7dc3" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">我的测试对象，查克，快餐聊天机器人</h1><p id="4b77" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">我一直在开发一个聊天机器人，它已经在<a class="ae jg" href="https://www.facebook.com/fastfoodcaloriecounter" rel="noopener ugc nofollow" target="_blank"> Facebook Messenger </a>平台上发布了几个月。回购包括源代码和文档可以在<a class="ae jg" href="https://github.com/terrenjpeterson/caloriecounter" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="a6ee" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Chuck的目的是回答关于在快餐店的一顿基本餐中有多少卡路里的问题。我搜集了十几个受欢迎的餐馆网站，建立了数据模型，然后把所有数据输入Lex。</p><p id="251e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以你应该可以问恰克，沙拉里有多少卡路里。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lo"><img src="../Images/72db0633057cd2c6ae6c30aaec363668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xNO5PCZ7Y-5wsCnon5ouJw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo courtesy of <a class="ae jg" href="https://commons.wikimedia.org/wiki/File:Caesar_salad_(2).jpg" rel="noopener ugc nofollow" target="_blank">Wikipedia Commons</a>.</figcaption></figure><p id="196a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在想一分钟，你如何用语音和文本来表达这个查询。这张照片是一张凯撒沙拉，这是一个很容易发音的单词，所以语音命令可以直接识别和翻译。通过FB Messenger这样的客户端发短信是一个挑战，因为<em class="lp"> caesar </em>不是一个容易拼写的单词。我希望这个机器人是用户友好的，所以我一直在训练它所有不同的方式，有人可能会拼写<em class="lp">凯撒</em>。这需要驱动NLU模型的自定义插槽中的额外条目，以及Lambda函数中的代码。语音聊天机器人不需要这些。</p><p id="687c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们试试另一个。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lq"><img src="../Images/058ee6e2fc7021e3181a1c144a6bf202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9-MoEl1TSeeVNIOT3e4Mw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo courtesy of <a class="ae jg" href="https://commons.wikimedia.org/wiki/File:Chicken_salad_croissant_at_Collage_Catering_(4670091146).jpg" rel="noopener ugc nofollow" target="_blank">Wikipedia Commons</a></figcaption></figure><p id="51e0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有人知道单词<em class="lp">羊角面包</em>有多少种不同的写法吗？同样的挑战——考虑到拼写方面的挑战，语音驱动的机器人将比文本驱动的机器人更容易导航。</p><p id="dbc2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不服气？再来做一个例子。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lr"><img src="../Images/8c8338c190458f10c2a7a236458e15a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Vu5z4HurvaubJSJJAsVTA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">My photo from <a class="ae jg" href="https://flic.kr/p/5TPEp5" rel="noopener ugc nofollow" target="_blank">flickr</a></figcaption></figure><p id="71f8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">再说一次，在语音查询中说出比拼写容易得多。对于那些想要答案的高成就者来说，它的拼写是<em class="lp">油炸玉米饼</em>。</p><p id="9e36" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">因此，这里的关键要点是，在语音驱动的聊天机器人(即Alexa技能)中，进入NLU模型的文本来自语音识别服务——因此无论术语的难度如何，都不会包含拼写错误。对于基于文本的聊天机器人，同样的输入直接来自用户——因此包含拼写错误，尤其是对难词。</p><h2 id="fa67" class="ls kg hu bd kh lt lu lv kl lw lx ly kp js lz ma kt jw mb mc kx ka md me lb mf dt translated">那些是离群值，每个人都会拼写burger！</h2><p id="2a07" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">以上这些例子可能有些极端，但很容易解释语音识别模型不仅仅是将wave文件转换成文本。它本质上是基于训练数据进行拼写检查，这些数据用于构建拼写正确的模型。</p><h2 id="f31b" class="ls kg hu bd kh lt lu lv kl lw lx ly kp js lz ma kt jw mb mc kx ka md me lb mf dt translated">可能是因为手机上的小键盘吗？</h2><p id="c946" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">甚至对于基本词汇(鸡肉、牛排、汉堡等。)，有拼错的。其中大部分是正在使用的接口。在台式机上，键盘上的按键距离更远，因此不太可能错过按键。一个移动设备，很容易错过，差一个字母。</p><h2 id="7049" class="ls kg hu bd kh lt lu lv kl lw lx ly kp js lz ma kt jw mb mc kx ka md me lb mf dt translated">设备没有拼写检查吗？</h2><p id="a290" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">是的，客户端应用程序可以构建弯曲的线条来提醒用户他们可能会拼错一个单词，但通常需要在按下发送按钮之前进行一些干预。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/6a7e1bd46ca5dbdaba2f891ed6bc7586.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*FZUTDduPvpxHYGC10SAb6g.png"/></div></figure><p id="d54f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">此外，当人类接收文本时，我们接受较低的拼写标准，因为我们知道媒体容易出现这类错误。不幸的是，在源代码中编写匹配和查找是不宽容的！</p><h2 id="1416" class="ls kg hu bd kh lt lu lv kl lw lx ly kp js lz ma kt jw mb mc kx ka md me lb mf dt translated">建立一个更好的对话流程，并为他们拼写出来！</h2><p id="5a72" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">随着时间的推移，我已经改进了对话流程，以便沿途给出提示。例如，当一个错误发生在一个没有找到的食物项目上时，用户会被重定向到询问更一般的问题。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mh"><img src="../Images/ef11c676c353741b10e68debeafbc312.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*KK9m3tK_Aom2k5CvO9mZPw.png"/></div></div></figure><p id="91e2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这有助于提供正确的拼写，以及正在使用的官方术语。鉴于用户不太可能在响应中进行复制+粘贴，换位错误将继续发生。</p><h2 id="1253" class="ls kg hu bd kh lt lu lv kl lw lx ly kp js lz ma kt jw mb mc kx ka md me lb mf dt translated">缩写也不会被捡起来！</h2><p id="1596" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">我们再来看另一个例子，你会向查克要这个做什么？</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/e9d957e82169854ca0b558f3f0fd5a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qN8gcXqChokCxz6HZhijTw.jpeg"/></div></div></figure><p id="0d9c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">六块鸡块——就像菜单上的一样，对吗？</p><p id="8aff" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以下是模型中用于训练机器人的这种意图的示例话语。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/4cdeb170582d62bed7be74d7f0f0f092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*lHAMZbNVo8to-qSeoSpLgg.png"/></div></figure><p id="29d6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这似乎很全面，但是我们如何发短信并不是我们如何说话。我经常调整的一个缺口是缩写词，因为用户会问这样的问题。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/101efd182ad2bb9b64398d4a6082bef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*_SIPM5IxMqSWQfxhCd2BQQ.png"/></div></figure><p id="bf92" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">问题不仅仅在于拼写，因为用户在发短信时经常使用缩写。这不是拼写问题，而是密切相关的——然而这在语音驱动的应用程序中并没有表现出来。Lex中的NLU模型实际上很擅长破译，但不是100%。</p><h1 id="69ce" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">有什么含义？</h1><p id="149a" class="pw-post-body-paragraph jh ji hu jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">这类似于我们在过去十几年的移动应用开发中所学到的。在构建聊天机器人时，每一个都需要针对界面进行定制。最初从语音开发的具有正确拼写术语的NLU模型将需要发展，提供在文本驱动模式中使用的附加服务。从用户体验来看，将语音驱动聊天机器人“叉车式”转换为文本将是一场斗争，因此要警惕工具声称的“一次编写，随处发布”。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="ml mm l"/></div></figure></div></div>    
</body>
</html>