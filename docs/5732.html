<html>
<head>
<title>Hello World, Once More</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你好，世界，再一次</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/hello-world-once-more-4d262286f138?source=collection_archive---------8-----------------------#2017-08-13">https://medium.com/hackernoon/hello-world-once-more-4d262286f138?source=collection_archive---------8-----------------------#2017-08-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="6d8f" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">React + Express with Docker的终极样板</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/6d7c3744ec8f7b31e4cb90756873ebb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oG4QcdS5HiR0Q0P3-_Phqg.jpeg"/></div></div></figure><p id="50bc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">所以我创建了<em class="kr">又一个</em> <a class="ae ks" href="https://github.com/MisaOgura/react-express-docker-boilerplate" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">样板</strong> </a>和<strong class="jx hv">反应和表达</strong>。</p><p id="1fee" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">原因如下。</p><h2 id="b810" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">我们还需要另一个样板文件吗？</h2><p id="36af" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">答案是肯定的！</p><p id="152d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">让我们面对现实吧——从头开始建立一个React项目是一件痛苦的事情。</p><p id="8814" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在<a class="ae ks" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">学习</a> <a class="ae ks" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank">反应</a>的同时，我遇到了这么多问题，仅仅是为了让一个hello world应用程序在浏览器上运行。试图编译和捆绑前端感觉像永远。Webpack配置看起来神秘而令人生畏。如此多的巴别塔预置可供选择…然后这里是后端。我应该如何构建应用程序？我应该选择客户端渲染还是服务器端渲染？使用哪个测试转轮？分离开发和生产工作流的最佳方式是什么？</p><p id="ff3c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">选择的丰富性是压倒性的。</p><p id="6bf1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">尽管有大量的教程和样板文件，但其中很多都已经过时了。他们中很少有人解释这些决定背后的基本原理。是时候把我学到的东西付诸实践了，所以我们可以专注于学习和使用React。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="ba8b" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">它有额外津贴</h2><p id="1a56" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">整个堆栈都兼容<strong class="jx hv">ES6</strong>。一个测试环境与<strong class="jx hv"> Jest </strong>连接在一起。而且是<strong class="jx hv"> Docker-ready </strong>。该存储库包含关于如何使用它的详细自述文件。</p><p id="4885" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在这篇文章中，我将谈谈创建样板文件的想法。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="baa4" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">应用程序结构</h2><p id="05f4" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">在考虑应用程序结构时，我特别强调了简单性和灵活性。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/ff8cd48a28a8e40e135b684b2b55b703.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*EHCJISVB5G5s7kQA14jliw.png"/></div></figure><ol class=""><li id="e89c" class="mc md hu jx b jy jz kb kc ke me ki mf km mg kq mh mi mj mk dt translated">我喜欢在顶层有一个单独的目录<code class="eh ml mm mn mo b">app</code>来包含所有的源代码，然后这些源代码被分成<code class="eh ml mm mn mo b">client</code>和<code class="eh ml mm mn mo b">server</code>。</li><li id="5e0c" class="mc md hu jx b jy mp kb mq ke mr ki ms km mt kq mh mi mj mk dt translated">我想让我的测试文件靠近被测试的东西，因为我不喜欢在心里沿着文件树上下移动到<code class="eh ml mm mn mo b">import myModule from '../../../src/server/helper/myModule’</code>。因此，我为<code class="eh ml mm mn mo b">client</code>和<code class="eh ml mm mn mo b">server</code>分别放置了一个<code class="eh ml mm mn mo b">__tests__</code>目录，而不是在顶层有一个单独的测试目录。</li><li id="67bc" class="mc md hu jx b jy mp kb mq ke mr ki ms km mt kq mh mi mj mk dt translated">默认情况下，应用程序使用<strong class="jx hv">服务器端渲染</strong>。因此，<code class="eh ml mm mn mo b">index.html</code>文件位于<code class="eh ml mm mn mo b">server</code>下的<code class="eh ml mm mn mo b">view</code>目录中。如果您愿意，可以很容易地切换到客户端渲染。</li></ol></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="7ba4" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">无压力的工作流程</h2><p id="1704" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">我非常喜欢快速反馈的无压力开发工作流程。</p><ol class=""><li id="c8d9" class="mc md hu jx b jy jz kb kc ke me ki mf km mg kq mh mi mj mk dt translated">开发模式带有<strong class="jx hv">手表功能</strong>。对客户端和服务器所做的更改会立即被检测到，应用程序会自动重新绑定/重新启动。</li><li id="00c0" class="mc md hu jx b jy mp kb mq ke mr ki ms km mt kq mh mi mj mk dt translated">使用<a class="ae ks" href="https://facebook.github.io/jest/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> Jest </strong> </a>运行测试。它带有一些有用的特性，比如<strong class="jx hv">并行测试</strong>、<strong class="jx hv">智能测试监视</strong>(只重新运行受变更影响的测试)，以及覆盖报告。</li></ol></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="e585" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">易于部署</h2><p id="dc7a" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">所以你在你的机器上创建了一个应用程序。但是<em class="kr">接下来的</em>是什么？这个问题经常被忽略。我想创造一些无需额外努力就可以部署的东西。</p><ol class=""><li id="891b" class="mc md hu jx b jy jz kb kc ke me ki mf km mg kq mh mi mj mk dt translated">除了开发的默认配置之外，我还创建了一个为生产优化的Webpack配置。生产模式下文件捆绑文件的大小为1kB。这是开发模式中捆绑内容的<em class="kr"> 0.0005% </em>。随着应用程序的增长，最小化包的大小变得至关重要。</li></ol><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mu"><img src="../Images/785e1da67b9573b561694ea814dc63f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRNNaTW_EYDx8HK5OEqZQA.png"/></div></div></figure><p id="37b3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">2.app运行在<a class="ae ks" href="https://www.docker.com/what-docker" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> Docker </strong> </a>中，所以可以直接部署到另一台机器或者云服务器上，不用担心依赖兼容性问题。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="3a78" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">代码风格</h2><p id="90c3" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">我将<a class="ae ks" href="https://standardjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">标准</strong> </a>作为代码风格和linter引入，因为我几乎完全遵循这种风格。它有健壮的规则允许你使用分号。它倾向于使用单引号而不是双引号。我喜欢！代码看起来干净多了。</p><p id="7b9f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">实施不需要配置，这是额外的好处。只需运行<code class="eh ml mm mn mo b">$ npm/yarn run standard</code>来检查任何林挺错误。我进行了配置，所以它也运行在<code class="eh ml mm mn mo b">$ npm/yarn test</code>的末尾。如果你不喜欢这种风格，就把它从脚本中删除。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="536a" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">最新包</h2><p id="a1d2" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">最后，没有什么比找到一份好的样板文件，却发现软件包已经过时更令人沮丧的了。所以我尽力确保npm包是最新的。比如我用了<a class="ae ks" href="https://webpack.js.org/configuration/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> Webpack版本3 </strong> </a>结合babel-preset-react和<a class="ae ks" href="https://babeljs.io/docs/plugins/preset-env/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> babel-preset-env </strong> </a>，替代babel-preset-2015、2016、2017和最新。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h2 id="4246" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">包裹</h2><p id="4a48" class="pw-post-body-paragraph jv jw hu jx b jy lp iv ka kb lq iy kd ke lr kg kh ki ls kk kl km lt ko kp kq hn dt translated">样板文件本质上是固执己见的。这并不意味着我认为没有更好的方法。关于你认为什么更好，为什么，我想了解不同的观点。所以请分享你的想法！我一如既往地感谢您的反馈。</p><p id="4a95" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我希望你喜欢使用样板文件。如果你喜欢，就开始吧，和你的伙伴们分享吧:)</p><p id="c16d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">谢谢，祝编码愉快！</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mv mw l"/></div></figure></div></div>    
</body>
</html>