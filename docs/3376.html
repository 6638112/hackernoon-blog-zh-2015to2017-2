<html>
<head>
<title>Risk Tolerance of Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">服务的风险承受能力</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/risk-tolerance-of-services-3bdc8a61a065?source=collection_archive---------15-----------------------#2017-03-29">https://medium.com/hackernoon/risk-tolerance-of-services-3bdc8a61a065?source=collection_archive---------15-----------------------#2017-03-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="cbeb" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">如何决定你真正想要的容错程度，以及如何定义可靠性的价值。</h2></div><p id="d04c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="kf">我是Google的一名站点可靠性工程师，在一个</em> <a class="ae kg" rel="noopener" href="/@jerub/commentary-on-site-reliability-engineering-9ba9e1be2a8c"> <em class="kf">系列帖子</em> </a> <em class="kf">中标注了</em><a class="ae kg" href="https://landing.google.com/sre/book.html" rel="noopener ugc nofollow" target="_blank"><em class="kf">【SRE】</em></a><em class="kf">。这里陈述的观点是我自己的，而不是我公司的。</em></p><p id="f453" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是对第三章<a class="ae kg" href="https://landing.google.com/sre/book/chapters/embracing-risk.html" rel="noopener ugc nofollow" target="_blank">第二部分的评论:拥抱风险</a>。Marc Alvidrez撰写，Kavita Guliani编辑。</p></div><div class="ab cl kh ki hc kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hn ho hp hq hr"><h1 id="be7e" class="ko kp hu bd kq kr ks kt ku kv kw kx ky ja kz jb la jd lb je lc jg ld jh le lf dt translated">服务的风险承受能力</h1><blockquote class="lg lh li"><p id="251e" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">确定服务的风险承受能力意味着什么？在正式环境中或在安全关键系统的情况下，服务的风险容限通常直接构建到基本产品或服务定义中。在谷歌，服务的风险容忍度往往不太明确。</p></blockquote><p id="6f81" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在谷歌内部，识别风险承受能力越来越好。显示系统可靠性阈值的集中仪表板非常有用。这有一个额外的好处，那就是它是一个“活文档”——它显示了系统的可靠性目标，以及它们当前的行为！</p><blockquote class="lg lh li"><p id="aeb9" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">为了确定服务的风险承受能力，SREs必须与产品所有者合作，将一组业务目标转化为我们可以设计的明确目标。在这种情况下，我们关注的业务目标对所提供服务的性能和可靠性有直接影响。实际上，这种翻译说起来容易做起来难。虽然消费者服务通常有明确的产品所有者，但基础设施服务(例如，存储系统或通用HTTP缓存层)很少具有类似的产品所有权结构。我们将依次讨论消费者和基础设施案例。</p></blockquote><p id="c8d9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">说起来容易做起来难:如此轻描淡写。您如何调和企业对100%可靠性的需求和日常失败的现实？这就是原因。</p><h2 id="1764" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">确定消费者服务的风险承受能力</h2><blockquote class="lg lh li"><p id="f18a" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">我们的消费者服务通常有一个产品团队，作为应用程序的业务所有者。比如搜索、谷歌地图、谷歌文档都有自己的产品经理。这些产品经理负责理解用户和业务，并塑造产品以在市场上取得成功。当产品团队存在时，该团队通常是讨论服务可靠性需求的最佳资源。在没有专门的产品团队的情况下，构建系统的工程师经常有意或无意地扮演这个角色。</p></blockquote><figure class="mb mc md me fq mf fe ff paragraph-image"><div class="fe ff ma"><img src="../Images/b7f123bd67e94b2c1f45c963d380a52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*rjErcGJrgstp4u18OMj2nQ.jpeg"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">The inside of a <a class="ae kg" href="https://www.google.co.uk/about/datacenters/inside/streetview/" rel="noopener ugc nofollow" target="_blank">Google Datacenter</a>.</figcaption></figure><p id="0211" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果员工做一些与他们的工作无关的事情的想法听起来很熟悉，那是因为这在我们整个行业都很普遍。后端工程师修复javascript bugs，QA工程师收集需求，销售人员成为scrum大师。</p><p id="a962" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些不一定是功能障碍(不是我们在本书前面讨论的发展/发展/SRE功能障碍)，但它确实取决于个人的技能。</p><p id="91bf" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不要因为你的职称是错的，就害怕接近这个过程:你可以客观地确定什么样的可靠性要求是必要的。确保你记录了你的理由。</p><blockquote class="lg lh li"><p id="ed68" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">在评估服务的风险承受能力时，需要考虑许多因素，例如:</p></blockquote><ul class=""><li id="31b8" class="mm mn hu jl b jm jn jp jq js mo jw mp ka mq ke mr ms mt mu dt translated">需要什么级别的可用性？</li><li id="17d6" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">不同类型的故障对服务有不同的影响吗？</em></li><li id="e1cd" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">我们如何使用服务成本来帮助定位风险连续体上的服务？</em></li><li id="27c3" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">还需要考虑哪些重要的服务指标？</em></li></ul><p id="c03f" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">下面将逐一讨论这些要点:</p><h2 id="d1fe" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">可用性目标水平</h2><blockquote class="lg lh li"><p id="8629" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">给定谷歌服务的目标可用性水平通常取决于它提供的功能以及该服务在市场中的定位。以下列表包括要考虑的问题:</p></blockquote><ul class=""><li id="b17a" class="mm mn hu jl b jm jn jp jq js mo jw mp ka mq ke mr ms mt mu dt translated"><em class="kf">用户期望什么样的服务水平？</em></li><li id="085a" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">这项服务与收入(我们的收入或我们客户的收入)直接相关吗？</em></li><li id="eca0" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated">这是付费服务还是免费服务？</li><li id="82fa" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">如果市场上有竞争对手，这些竞争对手提供什么水平的服务？</em></li><li id="5661" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated">这项服务的目标是消费者还是企业？</li></ul><p id="9545" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一个光谱有两个相反的末端。一个目标是“系统将永远运行，100%可靠”——我们知道这是不可行的，如果我们看到这种态度，我们需要尝试调整它。</p><p id="3704" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">另一端是自满:甚至拒绝衡量系统的可用性。这比有一个大的误差预算更糟糕:这是一个不可知的误差预算。</p><p id="29b8" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以衡量正确的东西是第一步，然后在这个尺度上计算出我们的用户期望是第二步。</p><blockquote class="lg lh li"><p id="34a3" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">考虑一下Google Apps对工作的要求。它的大部分用户是企业用户，有些是大企业，有些是小企业。这些企业依靠Google Apps的工作服务(如Gmail、日历、驱动、文档)来提供工具，使其员工能够完成日常工作。换句话说，Google Apps for Work服务的中断不仅是Google的中断，也是所有严重依赖我们的企业的中断。对于一个典型的Google Apps for Work服务，我们可能会设定一个99.9%的外部季度可用性目标，并通过一个更强的内部可用性目标和一个规定如果我们不能实现外部目标将受到惩罚的合同来支持这个目标。</p></blockquote><p id="c566" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这引发了一个有趣的问题:在这篇文章和以后的文章中，我会一直使用这些首字母缩写词:</p><p id="239e" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我将SLA或“服务水平协议”定义为“一个外部可用性目标，该目标带有一个合同，规定了如果我们未能达到外部目标将受到的惩罚”</p><p id="f6ba" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">SLO或“服务水平目标”是“内部可用性目标”，没有合同义务。</p><p id="805b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果没有SLI或“服务水平指标”，这两者都不存在。服务水平指标是衡量成功或失败的标准。</p><blockquote class="lg lh li"><p id="dd83" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">YouTube提供了一组相反的考虑因素。当谷歌收购YouTube时，我们必须决定该网站合适的可用性目标。2006年，YouTube专注于消费者，处于与谷歌截然不同的商业生命周期阶段。虽然YouTube已经有了一个很棒的产品，但它仍在快速变化和增长。我们为YouTube设定了一个比我们的企业产品更低的可用性目标，因为快速的功能开发相应地更重要。</p></blockquote><p id="e9ad" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在YouTube是一个如此庞大的产品，而我们可能没有非常有趣的关于YouTube正常运行时间的SLA:我们肯定会在内部有相当严格的SLO，以确保我们在推送视频(和广告！)可靠地传递给我们的用户。</p><h2 id="322d" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">故障类型</h2><blockquote class="lg lh li"><p id="0f7b" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">给定服务的预期故障形式是另一个重要的考虑因素。我们的业务对服务停机的恢复能力如何？对于服务来说，哪一个更糟糕:持续的低故障率，还是偶尔的全站点中断？这两种类型的故障可能会导致相同的绝对错误数量，但对业务的影响可能会大不相同。</p><p id="9961" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">服务于私人信息的系统中自然会出现完全中断和部分中断之间差异的说明性示例。考虑一个联系人管理应用程序，以及导致个人资料图片无法呈现的间歇性故障与导致一个用户的私人联系人被显示给另一个用户的故障情况之间的区别。第一种情况显然是用户体验不佳，SREs将努力快速解决问题。然而，在第二种情况下，暴露私人数据的风险很容易以显著的方式破坏基本的用户信任。因此，在第二种情况的调试和潜在清理阶段，完全关闭服务是合适的。</p></blockquote><p id="81e0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">隐私事件不是闹着玩的。</p><blockquote class="lg lh li"><p id="d37f" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">在谷歌提供的服务的另一端，在维护窗口期间定期停机有时是可以接受的。几年前，Ads前端曾经是这样一种服务。广告商和网站出版商使用它来建立、配置、运行和监控他们的广告活动。因为大部分工作发生在正常工作时间，所以我们认为以维护窗口形式出现的偶然、定期、计划内停机是可以接受的，并且我们将这些计划内停机算作计划内停机，而不是计划外停机。</p></blockquote><p id="1f4d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我以前在前台做广告！那是我的第一个SRE队。我是在计划内停机快结束时加入的。让我来充实一下:</p><p id="efc2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这里进行的维护是为了移动数据库主副本运行的位置，这样我们可以证明它可以被移动，或者可以进行数据中心维护。</p><p id="2322" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">注意:这是一个MySQL数据库，有一个权威的主数据库，有地理上分布的只读副本。</p><p id="5957" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">截至2011年底，主服务器故障转移过程变得如此之快，以至于停机时间不再是一个小时，而是按计划停机(即禁用系统并替换为“抱歉”页面，移动主服务器，将系统带回来)，我们只需移动主服务器的位置，就可以承受5分钟左右的高错误率和延迟，之后一切恢复正常。</p><p id="a51c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">大多数错误发生在“写”操作上，因为读操作总是在数据库副本上完成，而不是在当前的写主机上。</p><p id="2a6d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一旦我们转移到较新的程序，我们就开始根据我们的错误预算计算这些事件中的所有失败和延迟。我们的用户更高兴了，因为总的来说系统运行的时间更长了，而且web系统对短暂的后端错误有很强的弹性。</p><h2 id="29fc" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">费用</h2><blockquote class="lg lh li"><p id="59e3" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">成本通常是确定服务的适当可用性目标的关键因素。Ads特别适合进行这种权衡，因为请求的成功和失败可以直接转化为收益的增加或损失。在确定每项服务的可用性目标时，我们会询问以下问题:</p></blockquote><ul class=""><li id="609f" class="mm mn hu jl b jm jn jp jq js mo jw mp ka mq ke mr ms mt mu dt translated">如果我们以九分之一的可用性构建和运营这些系统，我们的收入会增加多少？</li><li id="a931" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">这些额外的收入抵消了达到那个可靠性水平的成本吗？</em></li></ul><p id="ceb9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如此简单。将可靠性转化为数字，比较这些数字。除了最简单的系统之外，很难正确处理。</p><blockquote class="lg lh li"><p id="e68a" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">为了使这个权衡方程更具体，考虑下面每个请求具有相同价值的示例服务的成本/收益:</p></blockquote><ul class=""><li id="2781" class="mm mn hu jl b jm jn jp jq js mo jw mp ka mq ke mr ms mt mu dt translated"><em class="kf">提议的可用性改进目标:99.9% → 99.99% </em></li><li id="c40e" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">可用性的建议增加量:0.09% </em></li><li id="1287" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">服务收入:100万美元</em></li><li id="b3ad" class="mm mn hu jl b jm mv jp mw js mx jw my ka mz ke mr ms mt mu dt translated"><em class="kf">可用性提高的价值:100万美元* 0.0009 = 900美元</em></li></ul><p id="c4ff" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">帮助思考练习:99.9%是一年8小时的停机时间，一个月40分钟，或者每1000个用户操作中有1个是错误的。</p><blockquote class="lg lh li"><p id="4a95" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">在这种情况下，如果可用性提高九分之一的成本不到900美元，那么这项投资是值得的。如果成本高于900美元，成本将超过预期的收入增长。</p></blockquote><p id="e028" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你认为你可以花900美元，将一个非平凡的面向用户的系统从预期的每月40分钟的停机时间提高到每月4分钟，我非常感兴趣，请留下评论。还有你的简历。</p><blockquote class="lg lh li"><p id="c11d" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">当我们在可靠性和收入之间没有一个简单的转换函数时，设定这些目标可能会更加困难。一个有用的策略可能是考虑互联网上ISP的背景差错率。如果从最终用户的角度来衡量故障，并且有可能将服务的错误率降低到背景错误率以下，则这些错误将落入给定用户的互联网连接的噪声中。虽然ISP和协议之间存在显著差异(例如，TCP与UDP、IPv4与IPv6)，但我们测量了ISP的典型后台错误率，介于0.01%和1%之间。</p></blockquote><h2 id="eef1" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">其他服务指标</h2><blockquote class="lg lh li"><p id="e7c0" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">除了可用性之外，检查与度量标准相关的服务的风险承受能力通常是富有成效的。理解哪些指标是重要的，哪些指标是不重要的，这为我们在尝试承担深思熟虑的风险时提供了自由度。</p></blockquote><p id="283d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我认为这一章没有充分解释和定义“可用性”的含义。但我认为这很好，考虑到我需要几个月的会议才能让一屋子的人就它的含义达成一致。</p><p id="47c7" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您可能会就定义服务水平指标这一主题写一整本书。</p><blockquote class="lg lh li"><p id="6f40" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">我们的Ads系统的服务延迟提供了一个说明性的例子。当谷歌首次推出网络搜索时，这项服务的一个显著特点就是速度。当我们引入在搜索结果旁边显示广告的AdWords时，该系统的一个关键要求是广告不应该降低搜索体验。这一要求推动了每一代AdWords系统的工程目标，并被视为不变量。</p></blockquote><p id="f6a2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当你想到AdWords十多年来一直由MySQL数据库支持这一事实时，你必须停下来想想为此付出的工程努力。</p><p id="0061" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">显然，直接从MySQL数据库中提供AdWords广告并不能与谷歌搜索的用户数量成比例。</p><blockquote class="lg lh li"><p id="701a" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">AdSense是谷歌的广告系统，它根据出版商插入其网站的JavaScript代码的请求提供上下文广告，它有一个非常不同的延迟目标。AdSense的延迟目标是避免在插入上下文广告时降低第三方页面的呈现速度。因此，特定的延迟目标取决于给定发布者的页面呈现速度。这意味着AdSense广告通常比AdWords广告慢数百毫秒。</p></blockquote><p id="f501" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不是说AdSense慢:几百毫秒对于页面资产加载来说其实已经很快了。这些延迟目标最初是在56k调制解调器还在广泛使用时设定的。</p><p id="ee63" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这只是一个有用的比较，用户可能仍然有一个“好”的体验，一个系统比另一个慢得多。包括目标和实际表现。</p><blockquote class="lg lh li"><p id="0cd1" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">这种更宽松的服务延迟要求允许我们在供应中做出许多明智的权衡(即，确定我们使用的服务资源的数量和位置)，这比简单的供应节省了我们大量的成本。换句话说，鉴于AdSense服务对延迟性能的适度变化相对不敏感，我们能够将服务整合到更少的地理位置，从而降低我们的运营开销。</p></blockquote><p id="2096" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当用户对较慢的响应/延迟的响应或暂时看不见的错误感到满意时，你可以为更宽松的错误预算提供一个很好的论据。</p><h2 id="2a17" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">确定基础设施服务的风险承受能力</h2><p id="527f" class="pw-post-body-paragraph jj jk hu jl b jm na iv jo jp nb iy jr js nc ju jv jw nd jy jz ka ne kc kd ke hn dt translated"><em class="kf">由于我个人对基础设施服务的</em> <a class="ae kg" href="https://landing.google.com/sre/book/chapters/embracing-risk.html#identifying-the-risk-tolerance-of-infrastructure-services-g0sxhdc2" rel="noopener ugc nofollow" target="_blank"> <em class="kf">风险承受能力</em> </a> <em class="kf">没有太多的话要说，所以我省略了这一部分，请点击SRE图书网站，阅读关于评估Bigtable等服务风险的部分。</em></p></div><div class="ab cl kh ki hc kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="hn ho hp hq hr"><h2 id="3606" class="lm kp hu bd kq ln lo lp ku lq lr ls ky js lt lu la jw lv lw lc ka lx ly le lz dt translated">接下来</h2><p id="128b" class="pw-post-body-paragraph jj jk hu jl b jm na iv jo jp nb iy jr js nc ju jv jw nd jy jz ka ne kc kd ke hn dt translated">第3章<a class="ae kg" href="https://landing.google.com/sre/book/chapters/embracing-risk.html" rel="noopener ugc nofollow" target="_blank">的最后一部分:拥抱风险</a>，标题为“错误预算的动机”。我们将讨论如何使用误差预算。</p><p id="2f68" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你可以在这里看到我所有的帖子<a class="ae kg" rel="noopener" href="/@jerub/commentary-on-site-reliability-engineering-9ba9e1be2a8c"/>。</p><div class="mb mc md me fq ab cb"><figure class="nf mf ng nh ni nj nk paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nf mf ng nh ni nj nk paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nf mf ng nh ni nj nk paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lg lh li"><p id="f922" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated"><a class="ae kg" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kg" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kg" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae kg" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jj jk kf jl b jm jn iv jo jp jq iy jr lj jt ju jv lk jx jy jz ll kb kc kd ke hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kg" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kg" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mb mc md me fq mf fe ff paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="fe ff nl"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>