<html>
<head>
<title>Security auditing ASP.NET applications using DevAudit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用DevAudit对ASP.NET应用程序进行安全审计</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/security-auditing-asp-net-applications-using-devaudit-ee31873be364?source=collection_archive---------11-----------------------#2017-05-17">https://medium.com/hackernoon/security-auditing-asp-net-applications-using-devaudit-ee31873be364?source=collection_archive---------11-----------------------#2017-05-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/338da9955e9e922c599bf35b990728df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1A61kdU70nsfZPnmVPepWA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Auditing the DNN CMS using DevAudit</figcaption></figure><p id="10cb" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在本文中，我将展示如何使用开源的跨平台多用途安全审计程序<a class="ae ke" href="https://github.com/OSSIndex/DevAudit" rel="noopener ugc nofollow" target="_blank"> DevAudit </a>对一个流行的开源ASP.NET web应用程序:<a class="ae ke" href="https://github.com/dnnsoftware/Dnn.Platform/" rel="noopener ugc nofollow" target="_blank">DNN CMS</a>(née<a class="ae ke" href="http://www.dnnsoftware.com/" rel="noopener ugc nofollow" target="_blank">DotNetNuke</a>)的库依赖项、应用程序配置和代码进行<a class="ae ke" href="https://hackernoon.com/tagged/security" rel="noopener ugc nofollow" target="_blank">安全审计。</a></p><h2 id="2e4e" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">介绍</h2><p id="9f32" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">我已经关注<a class="lf lg gr" href="https://medium.com/u/d282b2777ae0?source=post_page-----ee31873be364--------------------------------" rel="noopener" target="_blank"> Harry Lee </a>有一段时间了，很喜欢他们的文章，这些文章描述了他们如何使用他们的PVS-Studio项目来分析不同的<a class="ae ke" rel="noopener" href="/@Coder_HarryLee/re-analysis-of-umbraco-code-efed784b4e85">开源项目</a>的源代码。因此，以此为灵感，我决定就我所从事的一个项目撰写一系列文章，该项目还对多种应用程序和服务器进行分析和审计，以检测潜在的安全问题。在这里，我将展示开源<a class="ae ke" href="https://github.com/OSSIndex/DevAudit" rel="noopener ugc nofollow" target="_blank"> DevAudit </a>项目的一些关键特性，以及如何使用它对您或您的组织可能依赖的ASP.NET应用程序和项目执行安全审计。具体来说，我将介绍:</p><ol class=""><li id="15a3" class="lh li hu ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">审核ASP.NET应用程序的NuGet软件包依赖性，以及DevAudit如何处理软件包和漏洞版本及范围，以最大限度地减少误报。</li><li id="b96e" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">审核ASP.NET应用程序的Web.config应用程序配置。</li><li id="14c9" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">使用自定义审核规则检测特定的应用程序漏洞。</li><li id="3dd0" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">使用DevAudit GitHub审计环境直接在其GitHub项目站点上审计项目。</li><li id="83ec" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">对. NET应用程序的二进制文件使用静态分析来发现潜在的安全问题。</li></ol><h2 id="d5e1" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">关于DevAudit</h2><p id="c92b" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">如今，软件开发人员面临着不断发展的挑战<a class="ae ke" href="https://www.oreilly.com/ideas/the-alarming-state-of-secure-coding-neglect" rel="noopener ugc nofollow" target="_blank">构建安全的分布式应用程序，同时处理日益复杂的开发工具链、部署场景和操作环境，这些环境本身就像云一样充满敌意。安全漏洞可能存在于应用程序的各个方面，从库依赖和框架到应用程序代码到应用程序配置，再到服务器和应用程序必须运行的操作</a><a class="ae ke" href="https://hackernoon.com/tagged/enviroment" rel="noopener ugc nofollow" target="_blank">环境</a>配置。</p><p id="ee6b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">来自DevAudit自述文件:</p><blockquote class="lv lw lx"><p id="c151" class="jg jh ly ji b jj jk jl jm jn jo jp jq lz js jt ju ma jw jx jy mb ka kb kc kd hn dt translated">DevAudit是一款开源、跨平台、多用途的安全审计工具，面向开发人员和DevOps从业者，可检测解决方案堆栈多个级别的安全漏洞。DevAudit提供了广泛的审计功能，在软件开发生命周期中自动执行安全实践和安全审计。DevAudit可以扫描您的操作系统和应用程序包依赖性、应用程序和应用程序服务器配置以及应用程序代码，根据OSS Index从各种来源和数据源(如国家漏洞数据库(NVD)、CVE数据源、Debian安全咨询数据源、Drupal安全咨询和其他数据源)收集的数据，查找潜在的漏洞。</p></blockquote><p id="7bb2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">DevAudit是一种“白盒”安全扫描器，与试图使用外部可见的应用程序端点(如web服务URL)来检测漏洞的黑盒安全扫描器形成对比。DevAudit直接检查应用程序的代码和配置文件，从而实现更全面、更智能的审计和漏洞检测。凭借其通过SSH和WinRM以及Docker容器内部的远程审计功能，DevAudit可以拥有与黑盒扫描器相同的“覆盖范围”,因为它不要求应用程序与安全扫描器驻留在同一台本地计算机上。DevAudit附带了一个CLI界面，可以轻松集成到您的构建脚本和CI管道中。</p><h2 id="6f17" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">安装DevAudit</h2><p id="8464" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">安装DevAudit最简单的方法是使用来自项目<a class="ae ke" href="https://github.com/OSSIndex/DevAudit/releases" rel="noopener ugc nofollow" target="_blank">发布</a>页面的二进制发布文件。如果您想使用来自DevAudit库的最新代码，那么您可以遵循文档的<a class="ae ke" href="https://github.com/OSSIndex/DevAudit#installation" rel="noopener ugc nofollow" target="_blank">安装</a>部分中的构建和安装说明:</p><ol class=""><li id="2b41" class="lh li hu ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">请确保您安装了先决条件:。Windows上的NET Framework 4.6或Linux上的Mono 4.4+。</li><li id="e8e0" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">克隆DevAudit存储库:<code class="eh mc md me mf b">git clone <a class="ae ke" href="https://github.com/OSSIndex/DevAudit" rel="noopener ugc nofollow" target="_blank">https://github.com/OSSIndex/DevAudit</a></code></li><li id="ea48" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">通过在Windows上从Visual Studio提示符运行<code class="eh mc md me mf b">build.cmd</code>或者在Linux上运行<code class="eh mc md me mf b">./build.sh</code>来构建项目。</li><li id="52f5" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">您应该能够通过在Windows命令提示符下键入<code class="eh mc md me mf b">devaudit</code>从项目文件夹中执行DevAudit。</li></ol><p id="b3d7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在Linux上，您还可以从Docker Hub获取DevAudit Docker映像:</p><p id="3536" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh mc md me mf b">docker pull ossindex/devaudit:unstable</code></p><p id="f906" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们将审计开源DNN CMS的最新版本。你可以从<a class="ae ke" href="http://www.dnnsoftware.com/products" rel="noopener ugc nofollow" target="_blank"> DNN软件</a>网站下载安装档案，并将其解压到本地目录。注意，你不需要<strong class="ji hv">在你的服务器上安装DNN；在您决定安装之前，DevAudit将直接检查本地目录中的DNN应用程序文件，并报告任何检测到的安全问题。</strong></p><p id="3237" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">或者，使用DevAudit的2.1.x版本，您可以直接在GitHub上审计项目:</p><figure class="mh mi mj mk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mg"><img src="../Images/e9171b9cc19f1fce9101a17b1c0a094a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uj0WBK9RlS8YvN0qW-IFZQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Auditing DNN directly on the GitHub project repository</figcaption></figure><p id="34d6" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">您可以使用<code class="eh mc md me mf b">-g</code>命令行参数指定GitHub项目所有者、名称和到DevAudit的分支，以直接连接到项目的GitHub存储库。还计划支持其他项目托管站点，如BitBucket和GitLab。</p><p id="c53a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">要开始ASP.NET审计，您应该:</p><p id="28f4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh mc md me mf b">devaudit aspnet -r D:\Apps\DNN_Platform_9.0.2_install -c @web.config</code></p><p id="54d0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果您已经将DNN安装档案解压缩到D:\ Apps \ DNN _平台_ 9 . 0 . 2 _安装。<code class="eh mc md me mf b">-r </code>参数告诉DevAudit ASP.NET应用程序的根目录，而<code class="eh mc md me mf b">-c </code>指定要使用的ASP.NET配置文件的名称。这将启动对DNN应用程序的NuGet包依赖项和ASP.NET配置的审计。DevAudit并行运行不同的审计任务，随着任务的进展，信息和其他消息将回显到终端。</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="a4f5" class="kf kg hu mf b fv mp mq l mr ms">_____                 _______            __  __  __<br/>|     \ .-----..--.--.|   _   |.--.--..--|  ||__||  |_<br/>|  --  ||  -__||  |  ||       ||  |  ||  _  ||  ||   _|<br/>|_____/ |_____| \___/ |___|___||_____||_____||__||____|</span><span id="7d37" class="kf kg hu mf b fv mt mq l mr ms">v2.1.0.0<br/>12:56:53&lt;01&gt; [AUDIT] [INFO] Using NuGet v2 package manager configuration file D:\Apps\DNN_Platform_9.0.2_Install\packages.config <br/>12:56:53&lt;01&gt; [AUDIT] [INFO] Using ASP.NET configuration file D:\Apps\DNN_Platform_9.0.2_Install\web.config. <br/>12:56:54&lt;01&gt; [AUDIT] [INFO] Got 16 referenced assemblies in 134 ms <br/>12:56:54&lt;01&gt; [AUDIT] [SUCCESS] Got ASP.NET application version 9.0.2.5. <br/>12:56:54&lt;01&gt; [AUDIT] [STATUS] Scanning NuGet packages.Scanning NuGet packages...<br/>Scanning NuGet packages...<br/>Scanning NuGet packages...<br/>12:56:54&lt;06&gt; [AUDIT] [SUCCESS] Read configuration from web.config in 5 ms.<br/>12:56:54&lt;01&gt; [AUDIT] [SUCCESS] Scanned 7 NuGet packages.<br/>Searching OSS Index for vulnerabilities for 7 packages...<br/>12:56:54&lt;05&gt; [AUDIT] [INFO] Loading default configuration rules for ASP.NET application.<br/>Searching OSS Index for vulnerabilities for 7 packages...<br/>12:56:54&lt;05&gt; [AUDIT] [INFO] Got 10 default configuration rule(s) for 1 module(s) from aspnet.yml in 83 ms.</span></pre><p id="4bfa" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">您还可以指定<code class="eh mc md me mf b">-n</code>选项，并将终端输出重定向到一个文件或其他程序，以处理大量文本。</p><h2 id="d6f1" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">审核库依赖关系</h2><p id="dd14" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">DevAudit支持审计由不同应用程序和操作系统包管理器安装的库和软件，如Linux上的NuGet、Bower、Composer、dpkg和rpm/yum，以及Windows上的Chocolatey。对于ASP.NET应用程序，DevAudit将查看根目录中的<a class="ae ke" href="https://www.nuget.org/" rel="noopener ugc nofollow" target="_blank"> NuGet </a> packages.config文件，并根据从<a class="ae ke" href="https://ossindex.net/" rel="noopener ugc nofollow" target="_blank"> OSS Index </a> API获得的漏洞数据审核应用程序库依赖项的名称和版本。</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="2bd6" class="kf kg hu mf b fv mp mq l mr ms">Searching OSS Index for vulnerabilities for 7 packages...<br/>12:56:55&lt;07&gt; [AUDIT] [SUCCESS] Found 1 vulnerabilities for 7 package(s) on OSS Index in 1086 ms.<br/>Evaluating 10 configuration rule(s)...<br/>12:56:55&lt;06&gt; [AUDIT] [SUCCESS] Evaluated 10 configuration rule(s) in 15 ms.<br/>12:56:55&lt;07&gt; [AUDIT] [INFO] Evaluated 1 vulnerabilities with 0 matches to package version in 88 ms.</span><span id="cd75" class="kf kg hu mf b fv mt mq l mr ms">Package Source Audit Results<br/>============================<br/>0 total vulnerabilities found in NuGet package source audit. Total time for audit: 1381 ms.</span></pre><p id="0361" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这种情况下，packages.config文件中只列出了DNN的7个库依赖项。您可以使用<code class="eh mc md me mf b">--list-packages</code>选项查看软件包管理器配置文件中列出的软件包。</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="5722" class="kf kg hu mf b fv mp mq l mr ms">&gt; devaudit aspnet -r D:\Apps\DNN_Platform_9.0.2_Install -c <a class="ae ke" href="http://twitter.com/web" rel="noopener ugc nofollow" target="_blank">@web</a>.config --list-packages                                                             <br/> _____                 _______            __  __  __                                                                                               <br/>|     \ .-----..--.--.|   _   |.--.--..--|  ||__||  |_                                                                                             <br/>|  --  ||  -__||  |  ||       ||  |  ||  _  ||  ||   _|                                                                                            <br/>|_____/ |_____| \___/ |___|___||_____||_____||__||____|                                                                                            <br/>                                                                                                                                                   <br/>                                                                                                                                                   <br/>v2.1.0.0                                                                                                                                           <br/>21:26:16&lt;01&gt; [AUDIT] [INFO] Using NuGet v2 package manager configuration file D:\Apps\DNN_Platform_9.0.2_Install\packages.config                   <br/>21:26:16&lt;01&gt; [AUDIT] [INFO] Using ASP.NET configuration file D:\Apps\DNN_Platform_9.0.2_Install\web.config.                                        <br/>21:26:16&lt;01&gt; [AUDIT] [WARNING] The .NET assembly application binary was not specified so application modules and version cannot be detected.       <br/>21:26:16&lt;01&gt; [AUDIT] [STATUS] Scanning NuGet packages.                                                                                             <br/>Scanning NuGet packages...                                                                                                                         <br/>Scanning NuGet packages...                                                                                                                         <br/>Scanning NuGet packages...                                                                                                                         <br/>21:26:16&lt;01&gt; [AUDIT] [SUCCESS] Scanned 7 NuGet packages.                                                                                           <br/>[1/7] Microsoft.AspNet.Mvc 5.1.1                                                                                                                   <br/>[2/7] Microsoft.AspNet.Razor 3.1.1                                                                                                                 <br/>[3/7] Microsoft.AspNet.WebApi.Client 5.2.3                                                                                                         <br/>[4/7] Microsoft.AspNet.WebApi.Core 5.2.3                                                                                                           <br/>[5/7] Microsoft.AspNet.WebPages 3.1.1                                                                                                              <br/>[6/7] Microsoft.Web.Infrastructure 1.0.0.0                                                                                                         <br/>[7/7] Newtonsoft.Json 7.0.1</span></pre><p id="3c86" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">目前(幸运的是)没有任何漏洞被OSS索引为上述软件包版本。假设如果DNN依赖于一个旧的易受攻击的软件包版本，那么这将在软件包源审计结果中被标记。例如，如果我编辑packages.config文件并指定微软的5.1版本。AspNet.Mvc包，而不是最近的5.1.1:</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="ad4b" class="kf kg hu mf b fv mp mq l mr ms">&lt;package id=”Microsoft.AspNet.Mvc” version=”5.1" targetFramework=”net45" allowedVersions=”[5.1]” /&gt;</span></pre><p id="e1ae" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这会导致DevAudit检测到一个漏洞:</p><figure class="mh mi mj mk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mu"><img src="../Images/a1a282edb9cedff0d5139e88f4b7b0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T2_8FIa3gfekwQx8nQL0dg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Simulated NuGet package dependency vulnerability</figcaption></figure><p id="48dc" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在此模拟中检测到的漏洞是一个<a class="ae ke" href="https://technet.microsoft.com/en-us/library/security/ms14-059.aspx" rel="noopener ugc nofollow" target="_blank"> XSS漏洞</a>，影响系统的5.1版本。Web.Mvc库。但是，应用程序使用的实际版本是5.1 (5.1.1)的修补程序版本，DevAudit会正确地检测出该版本高于5.1。得益于多功能库，DevAudit中的版本检测可以处理NuGet版本控制和其他包管理器版本控制方案的语义。</p><h2 id="e70c" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">在DevAudit中处理包版本</h2><p id="37fc" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">最小化误报和漏报是漏洞检测和安全审计的一个重要的次要目标。漏洞被报告为存在于软件包和库的特定版本或版本范围中，例如<code class="eh mc md me mf b">&lt; 1.3.0</code>。误报的一个主要来源是在确定特定软件包版本是否满足漏洞的版本范围时，对软件包版本和版本范围的不正确处理。当比较软件版本时，版本的排序不一定对应于版本组件的词汇排序，这使得试图确定范围表达式(如</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="3bfb" class="kf kg hu mf b fv mp mq l mr ms">&gt;1.3.0-beta.1 and &lt;1.3.0-beta.11</span></pre><p id="5094" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">由1 . 3 . 0-β2这样的版本满足，因为就词汇排序而言，1 . 3 . 0-β2版本将“大于”1 . 3 . 0-β11。这种情况因使用不同范围语法的不同版本方案而变得更加复杂。例如，NuGet版本使用如下范围语法</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="6a8e" class="kf kg hu mf b fv mp mq l mr ms">[3.5, 3.9)</span></pre><p id="cbc5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">表示范围3.5 ≤版本&lt; 3.9, but this range syntax is not valid for Semver versioning.</p><p id="e92e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">DevAudit uses the <a class="ae ke" href="https://github.com/allisterb/Versatile" rel="noopener ugc nofollow" target="_blank">多功能</a>库，用于解析和比较软件包版本和版本范围，并确定指定的软件包版本或版本范围是否满足或与针对漏洞指定的版本或范围相交。Versatile对软件版本和版本范围的语义进行全面的语法分析和建模。这意味着，例如，当给定类似“1 . 3 . 0-beta 11”的版本字符串和特定的版本类(NuGet、Composer或SemVer等)时。)表示的字符串，通用工具根据version类语法将该字符串解析为组件:在本例中是主版本、次版本、补丁和特殊版本。通用将使用版本类(如NuGet)的语义进行版本比较，因此在我们的示例中，版本1.3.0-beta 11比1 . 3 . 0-beta 1更晚，但比1 . 3 . 0更早，因为<code class="eh mc md me mf b">beta</code>特殊版本组件指示这是预发布版本。</p><p id="ba66" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们看到的大多数解决这个问题的代码都使用复杂的正则表达式来尝试解决使用不同软件版本格式的问题。我们相信，当将已安装的软件包版本与针对漏洞报告的版本范围进行比较时，我们尝试对软件版本和范围的完整语法和语义进行建模的方法将产生更准确的结果，并显著降低误报率和漏报率。当在Debian和Ubuntu等发行版上使用操作系统包时，这一点甚至更加重要，这些发行版通常有一套复杂的包版本规则，例如“7.3p 1–1”、“1.13~alpha1+dfsg”等等。</p><h2 id="eb4f" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">审核应用程序配置</h2><p id="adb1" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">DevAudit还分析ASP.NET应用程序的Web.config配置文件，寻找已知的弱点和漏洞。对于DNN，我们在安装程序附带的Web.config文件中有一些发现:</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="fa72" class="kf kg hu mf b fv mp mq l mr ms">Application Configuration Audit Results                                                                                                                                                                                                         <br/>=======================================                                                                                                                                                                                                         <br/>2 total vulnerabilities found in ASP.NET application configuration audit. Total time for audit: 1521 ms.                                                                                                                                        <br/>                                                                                                                                                                                                                                                <br/>[1/1] Module: aspnet. 10 rule(s).  2 rule(s) succeeded. [VULNERABLE]                                                                                                                                                                            <br/>--[1/10] Rule: ASP.NET does not require SSL for authentication cookies. Result: True.                                                                                                                                                           <br/>  --Summary:                                                                                                                                                                                                                                    <br/>    --ASP.NET uses the SSL protocol to encrypt sensitive data like form authentication cookies that must be transmitted on a public network.                                                                                                    <br/>    --SSL should always be required for form authentication otherwise user sessions and identities in appliction are vulnerable to hijacking by attackers.                                                                                      <br/>  --Tags:                                                                                                                                                                                                                                       <br/>    --CWE/614/Sensitive Cookie in HTTPS Session Without 'Secure' Attribute                                                                                                                                                                      <br/>    --CWE/311/Missing Encryption of Sensitive Data                                                                                                                                                                                              <br/>    --CWE/784/Reliance on Cookies without Validation and Integrity Checking in a Security Decision                                                                                                                                              <br/>    --OWASP-Top10-2013/A5/Security Misconfiguration                                                                                                                                                                                             <br/>    --OWASP-Top10-2013/A6/Sensitive Data Disclosure                                                                                                                                                                                             <br/>  --Severity: 3                                                                                                                                                                                                                                 <br/>  --Resolution:                                                                                                                                                                                                                                 <br/>    --Set the requireSSL attribute to true in the forms element of the system.web element in the Web.config file.                                                                                                                               <br/>    --Note that additional steps are required to configure the IIS web server to use SSL, e.g                                                                                                                                                   <br/>    --<a class="ae ke" href="https://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis" rel="noopener ugc nofollow" target="_blank">https://www.iis.net/learn/manage/configuring-security/how-to-set-up-ssl-on-iis</a>                                                                                                                                                            <br/>  --Urls:                                                                                                                                                                                                                                       <br/>    --<a class="ae ke" href="http://www.developerfusion.com/article/6745/top-10-application-security-vulnerabilities-in-webconfig-files-part-two/3/" rel="noopener ugc nofollow" target="_blank">http://www.developerfusion.com/article/6745/top-10-application-security-vulnerabilities-in-webconfig-files-part-two/3/</a>                                                                                                                    <br/>                                                                                                                                                                                                                                                <br/>--[2/10] Rule: ASP.NET cookieless forms authentication is enabled. Result: False.                                                                                                                                                               <br/>--[3/10] Rule: ASP.NET request validation is disabled globally. Result: False.                                                                                                                                                                  <br/>--[4/10] Rule: ASP.NET hashing algorithm for form view-state validation is insecure. Result: True.                                                                                                                                              <br/>  --Summary:                                                                                                                                                                                                                                    <br/>    --ASP.NET uses hashing algorithms to help secure and make tamper-proof data such as form view state.                                                                                                                                        <br/>    --By default, ASP.NET after version 4 uses the HMACSHA256 algorithm for hash operations for validating form view-state.                                                                                                                     <br/>    --Older hashing algorithms like MD5 are today considered cryptographically insecure.                                                                                                                                                        <br/>    --Compliance with standards like FIPS requires more secure hash algorithms like HMACSHA256 to be used.                                                                                                                                      <br/>  --Tags:                                                                                                                                                                                                                                       <br/>    --OWASP-Top10-2013/A5/Security Misconfiguration                                                                                                                                                                                             <br/>    --CWE/327/Use of a Broken or Risky Cryptographic Algorithm                                                                                                                                                                                  <br/>  --Severity: 2                                                                                                                                                                                                                                 <br/>  --Resolution:                                                                                                                                                                                                                                 <br/>    --Set the validation attribute on the machineKey element of system.web in the Web.config file to HMACSHA256 or another cryptographically secure hash algorithm.                                                                             <br/>  --Urls:                                                                                                                                                                                                                                       <br/>    --<a class="ae ke" href="https://msdn.microsoft.com/library/w8h3skw9(v=vs.100).aspx" rel="noopener ugc nofollow" target="_blank">https://msdn.microsoft.com/library/w8h3skw9(v=vs.100).aspx</a>                                                                                                                                                                                <br/>                                                                                                                                                                                                                                                <br/>--[5/10] Rule: ASP.NET cookies are accessible through client-side script. Result: False.                                                                                                                                                        <br/>--[6/10] Rule: ASP.NET version headers are enabled. Result: False.                                                                                                                                                                              <br/>--[7/10] Rule: ASP.NET custom errors mode is not enabled. Result: False.                                                                                                                                                                        <br/>--[8/10] Rule: ASP.NET cookieless sessions are enabled. Result: False.                                                                                                                                                                          <br/>--[9/10] Rule: ASP.NET compilation is set to debug mode. Result: False.                                                                                                                                                                         <br/>--[10/10] Rule: ASP.NET tracing is enabled. Result: False.</span></pre><p id="8eef" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">DevAudit能够在DNN网站安装程序附带的股票配置文件中检测到2个漏洞。在第一种情况下，应用程序被配置为不需要SSL进行身份验证cookies，这意味着用户可以通过不安全的HTTP连接发送他们的登录凭证。这是意料之中的，因为DNN默认不启用SSL，应用程序的用户手册详细说明了在IIS上为您的DNN站点启用SSL所需的<a class="ae ke" href="http://www.dnnsoftware.com/wiki/how-to-ensure-ssl-for-all-authenticated-sessions" rel="noopener ugc nofollow" target="_blank">步骤</a>。然而，对于管理员来说，了解ASP.NET应用程序的常规配置包含的潜在漏洞仍然非常重要。让应用程序处于默认配置状态而不进行额外的配置和保护是web应用程序中漏洞的主要来源。</p><p id="72a9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">第二个发现与ASP.NET用来验证视图状态数据的哈希算法有关。ASP.NET的旧版本默认使用HMACSHA1哈希算法，而ASP.NET的新版本<a class="ae ke" href="https://msdn.microsoft.com/en-us/library/w8h3skw9(v=vs.100).aspx" rel="noopener ugc nofollow" target="_blank">默认使用HMACSHA256算法，这种算法更加安全，并且通过了FIPS认证。但是像DNN这样的应用程序可能仍然需要使用旧的哈希算法来向后兼容以前版本的软件。</a></p><p id="0b3d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">DNN 9.0.2的股票配置仍然使用HMACSHA1作为视图状态验证的哈希算法。这被DevAudit标记为漏洞。要自定义此行为，您可以通过使用自定义审核规则来更改或增加DevAudit检测应用程序中配置漏洞的方式。</p><h2 id="1cff" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">使用自定义审计规则</h2><p id="e3a7" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">DevAudit附带了一组默认的审计规则，存储在您的DevAudit版本的<code class="eh mc md me mf b">Rules</code>目录中(如果您直接从源代码构建，那么这个文件夹将在<code class="eh mc md me mf b">DevAudit.CommandLine\bin\Debug</code>中)。您可以通过编辑<code class="eh mc md me mf b">aspnet.yml</code> YAML文件来定制ASP.NET应用程序的审计规则。这里，我们将添加以下规则来检测DNN中的特定漏洞:</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="54d2" class="kf kg hu mf b fv mp mq l mr ms">-  id: 11<br/>       title: DNN machine key is set to a known default value<br/>       tags: <br/>        -   CWE/1004/Sensitive<br/>        -   OWASP-Top10-2013/A5/Security Misconfiguration<br/>       severity: 2<br/>       xpathtest: &gt;<br/>                boolean(/configuration/system.web/machineKey[@validationKey='F9D1A2D3E1D3E2F7B3D9F90FF3965ABDAC304902']) or<br/>                boolean(/configuration/system.web/machineKey[@decryptionKey='F9D1A2D3E1D3E2F7B3D9F90FF3965ABDAC304902F8D923AC'])<br/>   summary: |<br/>       DNN ships with well-known default values for the validation and decryption keys used to validate and encrypt form view state and authentication cookies.<br/>       These keys are normally changed during the installation process but a bad installation or copy-pasting of configuration can leave the default keys active.<br/>       If a DNN site still uses these keys then authentication cookies can be easily forged and used<br/>       to impersonate users and compromise a site's security. <br/>   resolution: |<br/>       DNN may not have been properly installed or is misconfigured. You should disable your DNN site until it can be properly installed and configured.            <br/>       urls:<br/>           -   https://blog.gdssecurity.com/labs/2008/3/21/dotnetnuke-default-machine-key-advisory.html</span></pre><p id="01ea" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">它检测与不良DNN安装相关的漏洞。将此规则附加到我们的<code class="eh mc md me mf b">aspnet.yml</code>规则文件后，第二次审计运行会产生第三个结果:</p><figure class="mh mi mj mk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mv"><img src="../Images/99b77113719fc11f9ebee7027cb24c6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CeGLpC2GAN5QO4I3YCWENA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Detecting a potential DNN vulnerability using a custom audit rule</figcaption></figure><p id="9e67" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">随着开发的进展，我们将为ASP.NET应用程序(如DNN)添加专门的规则集，以检查应用程序配置是否符合已发布的安全和强化准则。</p><h2 id="e510" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">通过静态分析进行审计</h2><p id="4a5b" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">除了审核包依赖关系和应用程序配置之外，DevAudit还可以通过静态分析审核. NET应用程序的代码。如果已经编译了应用程序，则可以使用<code class="eh mc md me mf b">-b</code>命令行参数指定应用程序二进制文件的路径</p><figure class="mh mi mj mk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mw"><img src="../Images/e9d3f44008f0f379a3ac2429b236ec85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PK0Ys3JUASEEb_VoOQYn-g.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Static analysis of DNN application code</figcaption></figure><p id="2a3b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这里，我们使用Mono项目的<a class="ae ke" href="http://www.mono-project.com/docs/tools+libraries/tools/gendarme/" rel="noopener ugc nofollow" target="_blank">宪兵</a>静态分析器。NET CIL代码，此外还有一个来自DevAudit项目的自定义分析器的初步版本，用于检测应用程序中弱加密的潜在用途。在这种情况下，自定义分析器检测到使用了<code class="eh mc md me mf b">SHA1CryptoServiceProvider</code>类，并请求了对<code class="eh mc md me mf b">ComputeHash </code>方法的调用，这表明请求了SHA1散列操作。在这种情况下，这是在DNN的<code class="eh mc md me mf b">FacebookRequestController</code>类的<code class="eh mc md me mf b">SignHMAC</code>方法中完成的，这表明应用程序正在使用SHA1向API进行远程请求，以创建密钥散列消息认证码。这不一定是漏洞，但了解应用程序使用的加密方法和算法仍然很重要。最近对SHA1的攻击已被证明是可行的，将来SHA1可能会作为一种散列算法而被弃用。自定义分析程序存储在DevAudit项目文件夹的<code class="eh mc md me mf b">Analyzers</code>文件夹中，可根据需要删除。</p><p id="3202" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">目前，您可以使用宪兵分析器在应用程序代码审核中使用宪兵定义的任何规则集。比如我们可以使用<a class="ae ke" href="https://github.com/mono/mono-tools/blob/master/gendarme/rules/Gendarme.Rules.Correctness" rel="noopener ugc nofollow" target="_blank">宪兵。规则。正确性</a>通过将<code class="eh mc md me mf b">GendarmeRules</code>命令行参数设置为<code class="eh mc md me mf b">Gendarme.Rules.Correctness:</code>来设置规则</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="b19c" class="kf kg hu mf b fv mp mq l mr ms">&gt; devaudit netfx -r D:\Apps\DNN_Platform_9.0.2_Install -c <a class="ae ke" href="http://twitter.com/web" rel="noopener ugc nofollow" target="_blank">@web</a>.config -b <a class="ae ke" href="http://twitter.com/bin" rel="noopener ugc nofollow" target="_blank">@bin</a>\DotNeTNUKE.DLL --skip-packages-audit -o GendarmeRules=Gendarme.Rules.Correctness -n | more             <br/>08:12:43&lt;01&gt; [AUDIT] [INFO] Using .NET Framework 4 configuration file D:\Apps\DNN_Platform_9.0.2_Install\web.config.                                                                 <br/>08:12:43&lt;01&gt; [AUDIT] [INFO] Got 16 referenced assemblies in 19 ms                                                                                                                    <br/>08:12:43&lt;01&gt; [AUDIT] [SUCCESS] Got .NET Framework 4 application version 9.0.2.5.                                                                                                     <br/>08:12:43&lt;03&gt; [AUDIT] [SUCCESS] Read configuration from web.config in 4 ms.                                                                                                           <br/>08:12:43&lt;04&gt; [AUDIT] [INFO] Loading default configuration rules for .NET Framework 4 application.                                                                                    <br/>08:12:43&lt;04&gt; [AUDIT] [INFO] Got 0 default configuration rule(s) for 0 module(s) from netfx4.yml in 60 ms.                                                                            <br/>08:12:44&lt;03&gt; [HOST] [INFO] Loaded SA-NETFX-0001-GendarmeRules analyzer from c:\Projects\DevAudit\DevAudit.CommandLine\bin\Debug\Analyzers\NetFx\GendarmeRules.cs.                    <br/>08:12:44&lt;03&gt; [HOST] [INFO] Loaded SA-NETFX-0002-WeakCrypto analyzer from c:\Projects\DevAudit\DevAudit.CommandLine\bin\Debug\Analyzers\NetFx\WeakCrypto.cs.                          <br/>08:12:44&lt;03&gt; [HOST] [SUCCESS] Loaded 2 out of 2 analyzer(s) in 1169 ms.                                                                                                              <br/>08:12:44&lt;08&gt; [HOST] [STATUS] SA-NETFX-0001-GendarmeRules analyzing.                                                                                                                  <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule TypesWithNativeFieldsShouldBeDisposableRule.                                                                                        <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule DoNotRecurseInEqualityRule.                                                                                                         <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule AttributeStringLiteralsShouldParseCorrectlyRule.                                                                                    <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule AvoidConstructorsInStaticTypesRule.                                                                                                 <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule TypesWithDisposableFieldsShouldBeDisposableRule.                                                                                    <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule ReviewSelfAssignmentRule.                                                                                                           <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule ProvideCorrectArgumentsToFormattingMethodsRule.                                                                                     <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule AvoidCodeWithSideEffectsInConditionalCodeRule.                                                                                      <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule AvoidFloatingPointEqualityRule.                                                                                                     <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule ReviewDoubleAssignmentRule.                                                                                                         <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule EnsureLocalDisposalRule.                                                                                                            <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule UseNoInliningWithGetCallingAssemblyRule.                                                                                            <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule ReviewUselessControlFlowRule.                                                                                                       <br/>08:12:44&lt;08&gt; [SCRIPT] [INFO] Using Gendarme rule ReviewUseOfInt64BitsToDoubleRule.                                                                                                   <br/>...</span></pre><p id="49c8" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这里，我们使用<code class="eh mc md me mf b">-n</code>参数来指示我们想要非交互程序输出，并通过<code class="eh mc md me mf b">more</code> Windows命令管道输出，因此我们可以很容易地查看输出的长页面(您可以使用<code class="eh mc md me mf b">less</code>命令在Linux上完成相同的事情。)许多调查结果似乎都是良性的，这与页面上使用ASP.NET控件的方式有关。不过，似乎还有一些令人关切的问题:</p><pre class="mh mi mj mk fq ml mf mm mn aw mo dt"><span id="a9f1" class="kf kg hu mf b fv mp mq l mr ms">--[882/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Services.Cache.DNNCacheDependency DotNetNuke.Services.Cache.DNNCacheDependency::_cacheDependency                                      <br/>   --[883/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: Lucene.Net.Index.IndexWriter DotNetNuke.Services.Search.Internals.LuceneControllerImpl::_writer                                                  <br/>   --[884/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: Lucene.Net.Index.IndexReader DotNetNuke.Services.Search.Internals.LuceneControllerImpl::_idxReader                                               <br/>   --[885/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Services.Search.Internals.LuceneControllerImpl/CachedReader DotNetNuke.Services.Search.Internals.LuceneControllerImpl::_reader        <br/>   --[886/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: System.Collections.Generic.IEnumerator`1&lt;T&gt; DotNetNuke.Collections.Internal.NaiveLockingList`1/NaiveLockingEnumerator::_enumerator               <br/>   --[887/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Collections.Internal.ISharedCollectionLock DotNetNuke.Collections.Internal.NaiveLockingList`1/NaiveLockingEnumerator::_readLock       <br/>   --[888/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Collections.Internal.ExclusiveLockStrategy DotNetNuke.Collections.Internal.MonitorLock::_lockStrategy                                 <br/>   --[889/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: System.Threading.ReaderWriterLockSlim DotNetNuke.Collections.Internal.ReaderWriterSlimLock::_lock                                                <br/>   --[890/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Collections.Internal.ILockStrategy DotNetNuke.Collections.Internal.SharedDictionary`2::_lockController                                <br/>   --[891/2084] Name: DisposableFieldsShouldBeDisposedRule Severity: High                                                                                         <br/>     --Problem: This type contains disposable field(s) which aren't disposed.                                                                                     <br/>     --Location: DotNetNuke.Collections.Internal.ILockStrategy DotNetNuke.Collections.Internal.SharedList`1::_lockStrategy                                        <br/>   --[892/2084] Name: EnsureLocalDisposalRule Severity: High                                                                                                      <br/>     --Problem: This disposable local is not guaranteed to be disposed of before the method returns.                                                              <br/>     --Location: System.Drawing.Bitmap DotNetNuke.UI.WebControls.CaptchaControl::CreateImage(System.Int32,System.Int32)<br/>...</span></pre><p id="a33e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">看起来实现<code class="eh mc md me mf b">IDisposable</code>的一些类字段没有在类的<code class="eh mc md me mf b">Dispose</code>实现中被释放，并且实现<code class="eh mc md me mf b">IDisposable</code>的一些方法变量不能保证在方法返回之前被释放。这些都表明应用程序的正确性存在潜在问题。诸如此类的问题可能会在运行时导致内存泄漏。像这样的信息对于ASP.NET web应用程序的管理员来说是非常有价值的，他们希望了解应用程序中潜在的问题点，或者在部署后对web服务器问题进行故障排除。</p><p id="3fa3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">随着开发的进展，我们将显著增加适用于ASP.NET应用程序的静态分析规则集和分析器。我们计划增加一些功能，比如分析ASP.NET页面中变量的数据流，以及检测潜在XSS漏洞的控制器方法。重要的是，这种分析只需要访问应用程序二进制文件(即DLL程序集文件)而不需要访问源代码，这意味着您将能够审计已经部署到服务器上的应用程序、现成的商业应用程序、遗留应用程序或任何无法访问. NET应用程序源代码的场景。</p><h2 id="b3f9" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">结论</h2><p id="2b00" class="pw-post-body-paragraph jg jh hu ji b jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz le kb kc kd hn dt translated">DevAudit提供了一系列审计功能，可以自动进行安全审计。NET应用程序的潜在漏洞和问题。在这里，我没有介绍ASP.NET审计的几个很酷的DevAudit特性，比如SSH和WinRM上的远程审计以及Docker容器审计，但是可以在以后的文章中找到更多描述该项目的关键特性的文章。DevAudit <a class="ae ke" href="https://github.com/OSSIndex/DevAudit/wiki" rel="noopener ugc nofollow" target="_blank"> wiki </a>是项目信息的第一站。</p><p id="9165" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我们正在构建项目的功能，以审计越来越多的服务器和应用程序(如Drupal)以及PHP等语言。我们的最终目标是为采用DevOps和DevSecOps的开发人员和团队提供一个自动化安全审计所有方面的完整平台。</p><div class="mh mi mj mk fq ab cb"><figure class="mx iv my mz na nb nc paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="mx iv my mz na nb nc paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="mx iv my mz na nb nc paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lv lw lx"><p id="f922" class="jg jh ly ji b jj jk jl jm jn jo jp jq lz js jt ju ma jw jx jy mb ka kb kc kd hn dt translated"><a class="ae ke" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客们下午的开始。我们是<a class="ae ke" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ke" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae ke" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jg jh ly ji b jj jk jl jm jn jo jp jq lz js jt ju ma jw jx jy mb ka kb kc kd hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ke" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ke" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="mh mi mj mk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nd"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><h2 id="8e8b" class="kf kg hu bd kh ki kj kk kl km kn ko kp jr kq kr ks jv kt ku kv jz kw kx ky kz dt translated">链接</h2><ul class=""><li id="36c8" class="lh li hu ji b jj la jn lb jr ne jv nf jz ng kd nh ln lo lp dt translated"><a class="ae ke" href="https://github.com/OSSIndex/DevAudit" rel="noopener ugc nofollow" target="_blank"> GitHub项目pag </a> e</li><li id="1850" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd nh ln lo lp dt translated"><a class="ae ke" href="https://gitpitch.com/OSSIndex/DevAudit" rel="noopener ugc nofollow" target="_blank">关于DevAudit的简短介绍</a>。</li><li id="426d" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd nh ln lo lp dt translated"><a class="ae ke" href="https://ossindex.net/" rel="noopener ugc nofollow" target="_blank"> OSS指数:</a>开源包和漏洞数据的指数。</li><li id="3c4e" class="lh li hu ji b jj lq jn lr jr ls jv lt jz lu kd nh ln lo lp dt translated"><a class="ae ke" href="https://vorsecurity.com/" rel="noopener ugc nofollow" target="_blank">VR安全</a>:联系商业支持选项。</li></ul><figure class="mh mi mj mk fq iv"><div class="bz el l di"><div class="ni nj l"/></div></figure></div></div>    
</body>
</html>