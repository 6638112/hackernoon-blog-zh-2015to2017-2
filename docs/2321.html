<html>
<head>
<title>Machine Learning as a Service (MLaaS) with Sklearn and Algorithmia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Sklearn和Algorithmia的机器学习即服务(MLaaS)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/machine-learning-as-a-service-mlaas-with-sklearn-and-algorithmia-7299fbaed584?source=collection_archive---------9-----------------------#2017-01-19">https://medium.com/hackernoon/machine-learning-as-a-service-mlaas-with-sklearn-and-algorithmia-7299fbaed584?source=collection_archive---------9-----------------------#2017-01-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/470f93bc692459583fccacf1a7600485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3K9287raohMg8PzkrswCwg.png"/></div></div></figure><p id="8aac" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我最近的<a class="ae ka" rel="noopener" href="/@nicksrose72/training-with-weights-machine-learning-at-the-gym-356c643b402f#.2ivh4748z">帖子</a>是关于去年使用<a class="ae ka" href="https://hackernoon.com/tagged/machine" rel="noopener ugc nofollow" target="_blank">机器</a> <a class="ae ka" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">学习</a>分析我的大学体育馆拥挤情况的，引起了很多很好的反响——包括:</p><ol class=""><li id="1315" class="kb kc hu je b jf jg jj jk jn kd jr ke jv kf jz kg kh ki kj dt translated">多么整洁！我一直想找个借口再也不去RSF(我们的健身房)了。</li><li id="db26" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz kg kh ki kj dt translated"><em class="kk">您能为我们的其他校园场所也这样做吗？</em></li><li id="489b" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz kg kh ki kj dt translated"><em class="kk">我如何自己做这样的事情？</em></li></ol><p id="5560" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，我很抱歉你对健身房有这样的感觉，我真诚地希望即将到来的新年决心浪潮不会彻底粉碎你永远健身的梦想。</p><p id="7734" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第二，是的。我正在为其他十个校园位置<a class="ae ka" href="http://packd.org/" rel="noopener ugc nofollow" target="_blank"> Packd </a> tracks创建更多预测模型。机器学习需要大量数据，因此在模型准备好进行训练之前，可能需要一些时间。</p><p id="7d76" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，问得好！在我的上一篇文章中，我暗示了你自己可以怎样做:</p><blockquote class="kq kr ks"><p id="e52c" class="jc jd kk je b jf jg jh ji jj jk jl jm kt jo jp jq ku js jt ju kv jw jx jy jz hn dt translated">我已经在Algorithmia上部署了随机森林回归器，以API调用的形式生成预测。</p></blockquote><p id="f4dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我意识到这需要更多的解释，这也是这篇文章的主题。我的过程可能不是最好的，但希望通过举例说明，我可以从我的错误中吸取教训，并给你一个起点。这篇文章的其余部分假设你有机器学习的基本知识，你知道Python，你熟悉API。在本教程中，我们将使用<a class="ae ka" href="http://scikit-learn.org/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>。</p><h2 id="05f2" class="kw kx hu bd ky kz la lb lc ld le lf lg jn lh li lj jr lk ll lm jv ln lo lp lq dt translated">在本地开发模型</h2><p id="3cb7" class="pw-post-body-paragraph jc jd hu je b jf lr jh ji jj ls jl jm jn lt jp jq jr lu jt ju jv lv jx jy jz hn dt translated">第一步是在本地(在你的电脑上)创建一个机器学习模型来进行测试。这方面的数据位于<a class="ae ka" href="https://www.kaggle.com/nsrose7224/crowdedness-at-the-campus-gym" rel="noopener ugc nofollow" target="_blank">这里</a>下载。您需要安装:</p><ul class=""><li id="8480" class="kb kc hu je b jf jg jj jk jn kd jr ke jv kf jz lw kh ki kj dt translated">数量(pip安装数量)</li><li id="503d" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz lw kh ki kj dt translated">熊猫(pip安装熊猫)</li><li id="f5d1" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz lw kh ki kj dt translated">软件(pip安装软件)</li><li id="774d" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz lw kh ki kj dt translated">Scikit-learn (pip安装Scikit-learn)</li></ul><p id="456f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们需要用这些数据建立一个预测模型。以下内容摘自我在<a class="ae ka" href="https://www.kaggle.com/nsrose7224/d/nsrose7224/crowdedness-at-the-campus-gym/random-forest-regressor-accuracy-0-89" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>的内核:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="8261" class="kw kx hu mc b fv mg mh l mi mj"><strong class="mc hv">import</strong> <strong class="mc hv">numpy</strong> <strong class="mc hv">as</strong> <strong class="mc hv">np</strong> <em class="kk"># linear algebra</em><br/><strong class="mc hv">import</strong> <strong class="mc hv">pandas</strong> <strong class="mc hv">as</strong> <strong class="mc hv">pd</strong> <em class="kk"># data processing, CSV file I/O (e.g. pd.read_csv)</em><br/><br/><strong class="mc hv">from</strong> <strong class="mc hv">sklearn.ensemble</strong> <strong class="mc hv">import</strong> RandomForestRegressor<br/><strong class="mc hv">from</strong> <strong class="mc hv">sklearn.model_selection</strong> <strong class="mc hv">import</strong> train_test_split<br/><strong class="mc hv">from</strong> <strong class="mc hv">sklearn.preprocessing</strong> <strong class="mc hv">import</strong> StandardScaler</span><span id="b105" class="kw kx hu mc b fv mk mh l mi mj">df = pd.read_csv("data.csv") # or wherever your data is located</span><span id="ef4c" class="kw kx hu mc b fv mk mh l mi mj"><em class="kk"># Extract the training and test data</em><br/>data = df.values<br/>X = data[:, 1:]  <em class="kk"># all rows, no "number_people"</em><br/>y = data[:, 0]  <em class="kk"># all rows, "number_people" only</em><br/>X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.25, random_state=42)</span><span id="1a09" class="kw kx hu mc b fv mk mh l mi mj"><em class="kk"># Scale the data to be between -1 and 1</em><br/>scaler = StandardScaler()<br/>scaler.fit(X_train)<br/>X_train = scaler.transform(X_train)<br/>X_test = scaler.transform(X_test)</span><span id="8668" class="kw kx hu mc b fv mk mh l mi mj"># Create your prediction model<br/>model = RandomForestRegressor(n_estimators=140)<br/>model.fit(X_train, y_train)</span></pre><p id="56cc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们暂停一下。我浏览了上面代码中的一些重要细节。首先，我不需要修改任何数据(比如将“是/否”的列值转换为1/0)，因为我已经在后台完成了这一部分。第二，选择正确的模型不是一件小事，我好像凭空扯出了随机森林回归量。(我真的没有，详情查看我的<a class="ae ka" rel="noopener" href="/@nicksrose72/training-with-weights-machine-learning-at-the-gym-356c643b402f#.2ivh4748z">第一帖</a>)。最后，为什么我将n_estimators设置为140？通常我们想要在我们的超参数上做一个<a class="ae ka" href="http://scikit-learn.org/stable/modules/grid_search.html" rel="noopener ugc nofollow" target="_blank">网格搜索</a>来找到最优的n _估计量，但是我已经在幕后做了艰苦的工作(这需要一些时间)。</p><p id="8ba4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后一行是最重要的——它实际上执行了算法的学习部分。它改变变量<strong class="je hv">模型的状态。</strong>从现在开始，我们可以向模型中加入新数据来进行预测:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="161e" class="kw kx hu mc b fv mg mh l mi mj">test_output = model.predict(X_test) # predicted values<br/>score = model.score(X_test, y_test) # accuracy score, around 0.90<br/>print(test_output)</span></pre><p id="6c28" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是测试数据的预测人数:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="108b" class="kw kx hu mc b fv mg mh l mi mj">array([ 44.92142857,  54.22142857,  45.35714286, ...,  47.95714286,<br/>        63.27142857,  40.22142857])</span></pre><p id="ebc5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">太好了！这还不能真正预测未来——测试数据实际上是原始历史数据的四分之一(<a class="ae ka" href="http://stats.stackexchange.com/questions/19048/what-is-the-difference-between-test-set-and-validation-set" rel="noopener ugc nofollow" target="_blank">更多关于测试/训练数据分割</a>)。如果我们想真正预测未来，我们需要做更多的工作。</p><p id="5984" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了预测未来健身房会有多拥挤，我们需要一个新的列值数组，其中除了目标标签<strong class="je hv"> number_people </strong>之外的所有内容都被填充。如何填写这些内容的细节可能会在另一篇文章中介绍，但总的想法是在未来创建几个datetimess，并为每个datetime添加每个特征值(时间戳、星期几、是不是周末、是不是假日、是不是学期开始，等等)。对于天气特征值，我使用了<a class="ae ka" href="https://darksky.net/" rel="noopener ugc nofollow" target="_blank">黑暗天空</a> API进行预测。</p><p id="a6b5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">假设你现在有一个未来时间的数组，你想预测体育馆会有多拥挤。你可以这样做:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="9610" class="kw kx hu mc b fv mg mh l mi mj">X_predict = generate_prediction_data() # your special call here<br/>scaler = StandardScaler()<br/>X_predict = scaler.fit_transform(X_predict)<br/>predictions = model.predict(X_predict)</span></pre><p id="1c4d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">恭喜你！<strong class="je hv">预测</strong>变量现在保存未来每个日期的预测人数。现在，如果你愿意，你可以为今年剩下的时间，或者这个世纪，或者任何时候，生成预测，并且称之为你的预测值。然而，这看起来会占用大量的内存，并且在未来可能会不太准确。最好是<em class="kk">存储</em>我们创建的模型，只在我们想做预测的时候才拿出来。以下是在sklearn中的做法:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="afcc" class="kw kx hu mc b fv mg mh l mi mj"><strong class="mc hv">from </strong>sklearn.externals <strong class="mc hv">import </strong>joblib</span><span id="1aae" class="kw kx hu mc b fv mk mh l mi mj"># How to save the model:<br/>joblib.dump(model, "prediction_model.pkl")</span><span id="c6f4" class="kw kx hu mc b fv mk mh l mi mj"># You can quit your Python process here, even shut off your computer.</span><span id="fb16" class="kw kx hu mc b fv mk mh l mi mj"># Later, if you want to load the saved model back into memory:<br/>model = joblib.load("prediction_model.pkl")</span></pre><p id="b0e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在scikit-learn中存储已经训练好的模型很容易。当然，你的用户不可能每次需要预测时都打电话给你，所以你可以在你的电脑上生成预测。他们需要对您提供的服务进行某种API调用来进行预测。</p><h2 id="c7b8" class="kw kx hu bd ky kz la lb lc ld le lf lg jn lh li lj jr lk ll lm jv ln lo lp lq dt translated">将您的模型存储在云中</h2><p id="4055" class="pw-post-body-paragraph jc jd hu je b jf lr jh ji jj ls jl jm jn lt jp jq jr lu jt ju jv lv jx jy jz hn dt translated">您可以将<strong class="je hv"> prediction_model.pkl </strong>文件存储在您的服务器上，并在有人请求预测时加载该文件，但是加载该文件会占用大量内存。对我来说，比我的托管公司分配的还要多。最好把你的机器学习模型放在完全不同的服务器上。你可以从大公司那里得到一些选择，包括<a class="ae ka" href="https://cloud.google.com/ml/" rel="noopener ugc nofollow" target="_blank">谷歌</a>、<a class="ae ka" href="https://azure.microsoft.com/en-us/services/machine-learning/" rel="noopener ugc nofollow" target="_blank">微软</a>和<a class="ae ka" href="https://aws.amazon.com/machine-learning/" rel="noopener ugc nofollow" target="_blank">亚马逊</a>。</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/9619bc2abcc07418efb839ad0ea76ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_8RzCVcQVkcARqkViDsLfA.png"/></div></div></figure><p id="a742" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，我决定去一家规模较小、知名度较低的公司试一试。</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mm"><img src="../Images/db8cf9295cb0a1b2916e5bb343ae2d70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T74ENhHLZ40k5zdD6gxrag.png"/></div></div></figure><p id="e902" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Algorithmia是一家相对较新的公司，位于西雅图，专注于“算法即服务”。该平台的用户可以创建代码片段，并将它们托管在Algorithmia上，并将它们的代码作为API调用。此外，这些开发者可以向其他使用他们代码的用户收费。这是一个有趣的商业想法，我渴望看到它是如何工作的，但现在我只是使用托管服务的想法。</p><p id="d247" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">创建帐户后，您需要将您的<strong class="je hv"> prediction_model.pkl </strong>上传到数据部分。这里，我有几个预测模型，每个都以。pkl扩展:</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mn"><img src="../Images/096fcca9ff50f09cbe094d1ef499bf7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KvLdcgWH7-gaEkSECuY3Aw.png"/></div></div></figure><p id="d2a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">上传就像拖放一样简单，如果您有较大的预测模型(&gt; 500 MiB)，只需几分钟。下一步是创建一个使用你的数据进行预测的算法。</p><h2 id="9df6" class="kw kx hu bd ky kz la lb lc ld le lf lg jn lh li lj jr lk ll lm jv ln lo lp lq dt translated">作为服务呼叫进行预测</h2><p id="bc3b" class="pw-post-body-paragraph jc jd hu je b jf lr jh ji jj ls jl jm jn lt jp jq jr lu jt ju jv lv jx jy jz hn dt translated">在Algorithmia顶部的“更多”标签下，你会找到“添加算法”按钮。</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mo"><img src="../Images/0b5370fed9c46cc6fbe630c718e9a84a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJTgAijEu8wgy3lcxl3lWw.png"/></div></div></figure><p id="4cc2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">接下来你需要填写你的算法如何运作的细节。</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mp"><img src="../Images/4805c53b7b844eec464b6880405c6c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4P_-cdu1jYwBJ86n39sZnA.png"/></div></div></figure><p id="0581" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我启用了“完全访问互联网”和“可以调用其他算法”以防万一。这意味着我的算法可以调用外部web APIs，如<a class="ae ka" href="https://darksky.net/" rel="noopener ugc nofollow" target="_blank">黑暗天空</a>天气API，并调用<em class="kk">我在Algorithmia上创建的其他</em>算法。</p><p id="1385" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Algorithmia提供了一个在线代码编辑器供您编辑您的算法。一旦你创建了你的算法，你将被带到这里:</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mq"><img src="../Images/1f9e721d3de19c327fef7c5767990f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NqL7L0oWjumTPCePHKmpYg.png"/></div></div></figure><p id="481c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每个算法都由一个<strong class="je hv">应用</strong>方法组成，该方法接受一个输入，方便地命名为<strong class="je hv">输入</strong>。<strong class="je hv">输入</strong>变量是您定义的任何东西，因为您将是调用算法的人。通常，<strong class="je hv"> input </strong>将是您的特征的二维数组，其中每一行都缺少您想要预测的列。对我来说，那就是<strong class="je hv">号_人</strong>。这里有一个<strong class="je hv">输入</strong>的例子:</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="03e4" class="kw kx hu mc b fv mg mh l mi mj">input = [<br/>    [<br/>        1.072308379173353,<br/>        0.772801541291309,<br/>        0.0,<br/>        0.0,<br/>        0.24191249808036538,<br/>       -0.36311268827583276,<br/>        0.0,<br/>        0.0,<br/>        0.0,<br/>        1.034839680120056<br/>    ],<br/>    ...</span><span id="acee" class="kw kx hu mc b fv mk mh l mi mj">]</span></pre><p id="19ac" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果我们将<strong class="je hv">输入</strong>扔向我在本地创建的<strong class="je hv">模型</strong>，我们将得到每个特性行的预测<strong class="je hv">数量_人数</strong>的列表，就像我们想要的那样。剩下的唯一一件事就是将这种行为映射为服务调用。让我们完成Algorithmia上的代码。</p><p id="dd26" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在继续之前，请确保向代码中添加了正确的依赖项。因为我们使用sci-kit learn，所以我们需要添加以下内容:</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mr"><img src="../Images/f22c9fdc4234756b8afa6eb83adceb25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xIhzjIrWmMutbfoeSj4zEg.png"/></div></div></figure><p id="0d70" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">完成源代码后，我们得到了这个:</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ms"><img src="../Images/9f411591f07680fed1f5ef723d3fd84c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0HqnMDz1nY86u_M82WoTig.png"/></div></div></figure><p id="b587" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然很短，但是这个可以。当一个新的格式正确的<strong class="je hv">输入</strong>传递给这个算法时，代码会找到我们之前上传的<strong class="je hv"> prediction_model.pkl </strong>文件的路径，使用joblib将其加载到内存中，最后进行预测并返回。点击“保存”、“编译”，然后“发布”来完成你的算法。</p><p id="9371" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你会在这一页结束，这是完成的结果。</p><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mt"><img src="../Images/86fcdd43706688a87a93d0df663f4a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5F2vo53pTCtjUE4-QY5HgQ.png"/></div></div></figure><p id="bfb7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你向下滚动到“使用这个算法”并点击Python选项卡，你会发现调用你的算法是多么容易。</p><pre class="lx ly lz ma fq mb mc md me aw mf dt"><span id="e547" class="kw kx hu mc b fv mg mh l mi mj"><strong class="mc hv">import</strong> Algorithmia  </span><span id="1977" class="kw kx hu mc b fv mk mh l mi mj">input = &lt;INPUT&gt; <br/>client = Algorithmia.client(&lt;Your Algorithmia Key here&gt;) <br/>algo = client.algo('nsrose/testalgo2/') <br/><strong class="mc hv">print</strong> algo.pipe(input)</span></pre><p id="d65f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将在任何地方工作，从任何安装了Python和Algorithmia的计算机(pip安装algorithmia)。你所要做的就是确保你的<strong class="je hv">输入</strong>格式正确！</p><h1 id="0806" class="mu kx hu bd ky mv mw mx lc my mz na lg nb nc nd lj ne nf ng lm nh ni nj lp nk dt translated">为什么这是一件好事？</h1><ol class=""><li id="a64d" class="kb kc hu je b jf lr jj ls jn nl jr nm jv nn jz kg kh ki kj dt translated">从你的应用程序的其余部分中分离出ML关注点:通过调用和预测API调用，你的应用程序可以摆脱机器学习机制的关注。它需要做的就是创建正确格式化的输入。</li><li id="90c6" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz kg kh ki kj dt translated"><strong class="je hv">缓解内存消耗</strong>:加载*。pkl文件存储到内存中是一项繁重的任务，可能不适合有限服务器上的小型应用程序。将这项工作外包给Algorithmia是一个不错的选择。</li><li id="7f60" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz kg kh ki kj dt translated"><strong class="je hv">源码控制你的ML代码</strong> : Algorithmia最近增加了对Git repos的支持，所以你可以离线编辑你的代码，并推送修改。</li></ol><h1 id="eb12" class="mu kx hu bd ky mv mw mx lc my mz na lg nb nc nd lj ne nf ng lm nh ni nj lp nk dt translated">改进建议</h1><ul class=""><li id="0c22" class="kb kc hu je b jf lr jj ls jn nl jr nm jv nn jz lw kh ki kj dt translated">向在线代码编辑器添加调试工具</li><li id="b373" class="kb kc hu je b jf kl jj km jn kn jr ko jv kp jz lw kh ki kj dt translated">添加集成(当有人使用您的算法时，可能会发出松弛通知)</li></ul><p id="df1e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">感谢Algorithmia的人们帮助回答了我的问题。我认为你有一个很好的产品，我希望它起飞！</p><div class="lx ly lz ma fq ab cb"><figure class="no iv np nq nr ns nt paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="no iv np nq nr ns nt paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="no iv np nq nr ns nt paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="kq kr ks"><p id="f922" class="jc jd kk je b jf jg jh ji jj jk jl jm kt jo jp jq ku js jt ju kv jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd kk je b jf jg jh ji jj jk jl jm kt jo jp jq ku js jt ju kv jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nu"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="lx ly lz ma fq iv"><div class="bz el l di"><div class="nv nw l"/></div></figure></div></div>    
</body>
</html>