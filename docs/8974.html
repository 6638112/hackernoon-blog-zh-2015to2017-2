<html>
<head>
<title>Is void forgotten? JavaScript: The Useful Parts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">虚空被遗忘了吗？JavaScript:有用的部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/is-void-forgotten-javascript-the-useful-parts-2de88901a1e0?source=collection_archive---------13-----------------------#2017-12-21">https://medium.com/hackernoon/is-void-forgotten-javascript-the-useful-parts-2de88901a1e0?source=collection_archive---------13-----------------------#2017-12-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/b29a93a3fd9de9ab197ed43129f1495c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z3RlLyTIxznbsHQ7DDt-cw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://www.flickr.com/photos/54459164@N00/" rel="noopener ugc nofollow" target="_blank">Johnson Cameraface</a> on <a class="ae jg" href="https://www.flickr.com/" rel="noopener ugc nofollow" target="_blank">Flickr</a></figcaption></figure><blockquote class="jh ji jj"><p id="d837" class="jk jl jm jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">在许多语言中，<code class="eh kj kk kl km b">void</code>是一个没有值的类型。在JavaScript中，<code class="eh kj kk kl km b">void</code>是一个接受操作数并返回<code class="eh kj kk kl km b">undefined</code>的运算符。这个没啥用，而且很混乱。避开<code class="eh kj kk kl km b">void</code>。~道格拉斯·克洛克福特。<a class="ae jg" href="http://shop.oreilly.com/product/9780596517748.do" rel="noopener ugc nofollow" target="_blank"> JavaScript:好的部分</a></p></blockquote><p id="ec17" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">如果你同意这种说法，我不想浪费你的时间，从这里跳出来，继续拯救世界。😎如果不是，让我们来看看为什么void是有用的，你不应该避免它。</p></div><div class="ab cl kq kr hc ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hn ho hp hq hr"><h1 id="acd9" class="kx ky hu bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu dt translated">为什么虚空会混淆？</h1><p id="ac4d" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated"><code class="eh kj kk kl km b">void 0 === undefined //true</code>😰 😱 😵</p><p id="58ce" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">为什么？怎么会？什么是虚空？这是JavaScript吗？</p><p id="9942" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">当我问开发人员关于虚空的问题时得到的答案，这里主要的困惑是开发人员忘记了或者不知道或者觉得奇怪。</p><p id="2eac" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated"><code class="eh kj kk kl km b"><a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" rel="noopener ugc nofollow" target="_blank"><strong class="jn hv">void</strong></a></code> <strong class="jn hv">运算符</strong>对给定的<code class="eh kj kk kl km b"><em class="jm">expression</em></code>求值，然后返回<code class="eh kj kk kl km b"><a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" rel="noopener ugc nofollow" target="_blank">undefined</a></code>。这就是你需要了解的关于<code class="eh kj kk kl km b">void</code>操作员的所有信息。</p><h1 id="303a" class="kx ky hu bd kz la ma lc ld le mb lg lh li mc lk ll lm md lo lp lq me ls lt lu dt translated">虚空能有多大用处？</h1><h2 id="82be" class="mf ky hu bd kz mg mh mi ld mj mk ml lh kn mm mn ll ko mo mp lp kp mq mr lt ms dt translated">1.计算表达式并从函数中跳出</h2><p id="3f27" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated">有一次我做了一次代码审查，发现了一个这样的方法:</p><pre class="mt mu mv mw fq mx km my mz aw na dt"><span id="0785" class="mf ky hu km b fv nb nc l nd ne">function doStuff(a) {<br/>    if (a) {<br/>        doSomething()       <br/>    } else {<br/>        doSomethingElse()<br/>        return<br/>    }</span><span id="fb07" class="mf ky hu km b fv nf nc l nd ne">    doSomethingMore()<br/>}</span></pre><p id="24d0" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">因此，从这个方法中你可以看到，在<code class="eh kj kk kl km b">doSomethingElse()</code>的情况下，我们返回<code class="eh kj kk kl km b">undefined</code>并从函数中跳出。让我们保存一行，用<code class="eh kj kk kl km b">void</code>让它更易读。</p><pre class="mt mu mv mw fq mx km my mz aw na dt"><span id="265f" class="mf ky hu km b fv nb nc l nd ne">function doStuff(a) {<br/>    if (a) {<br/>        doSomething()       <br/>    } else {<br/>        return void doSomethingElse()<br/>    }</span><span id="7591" class="mf ky hu km b fv nf nc l nd ne">    doSomethingMore()<br/>}</span></pre><p id="644b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">从void描述中你知道它评估<code class="eh kj kk kl km b">doSomethingElse()</code>并返回<code class="eh kj kk kl km b">undefined</code>。这正是我们需要的👍</p><h2 id="de43" class="mf ky hu bd kz mg mh mi ld mj mk ml lh kn mm mn ll ko mo mp lp kp mq mr lt ms dt translated">2.检查未定义的</h2><p id="4528" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated">旧的浏览器允许<code class="eh kj kk kl km b">undefined</code>被重新分配<code class="eh kj kk kl km b">undefined = 'test'</code>。但是，ECMAScript 5在2009年修复了这个问题。</p><div class="ng nh fm fo ni nj"><a href="https://es5.github.io/#x15.1.1.3" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab ej"><div class="nl ab nm cl cj nn"><h2 class="bd hv fv z el no eo ep np er et ht dt translated">带注释的ES5</h2><div class="nq l"><h3 class="bd b fv z el no eo ep np er et ek translated">这是ECMAScript规范5.1版的带注释的超链接HTML版本，其源代码是…</h3></div><div class="nr l"><p class="bd b gc z el no eo ep np er et ek translated">es5.github.io</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ja nj"/></div></div></a></div><p id="cedb" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">如果你需要支持旧的浏览器，例如IE8，这里有一个帮助功能😊</p><pre class="mt mu mv mw fq mx km my mz aw na dt"><span id="8d85" class="mf ky hu km b fv nb nc l nd ne">function isUndefined(value) {<br/>    return value === void 0<br/>}</span></pre><h2 id="dc78" class="mf ky hu bd kz mg mh mi ld mj mk ml lh kn mm mn ll ko mo mp lp kp mq mr lt ms dt translated">3.链接的preventDefault()行为</h2><p id="20f8" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated">我们都知道没有<code class="eh kj kk kl km b">href</code>属性的<code class="eh kj kk kl km b">a</code>标签是无效的，但是在HTML5中<code class="eh kj kk kl km b">href</code>属性是不需要的，所以可以省略。</p><div class="ng nh fm fo ni nj"><a href="https://www.w3.org/TR/2016/REC-html51-20161101/links.html#element-attrdef-a-href" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab ej"><div class="nl ab nm cl cj nn"><h2 class="bd hv fv z el no eo ep np er et ht dt translated">HTML 5.1: 4.8。链接</h2><div class="nq l"><h3 class="bd b fv z el no eo ep np er et ek translated">同样，对于具有href属性和属性的和元素，必须为的关键字创建链接</h3></div><div class="nr l"><p class="bd b gc z el no eo ep np er et ek translated">www.w3.org</p></div></div></div></a></div><p id="2bfe" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">不知何故，如果你需要阻止<code class="eh kj kk kl km b">href</code>作品使用<code class="eh kj kk kl km b">void</code>。</p><pre class="mt mu mv mw fq mx km my mz aw na dt"><span id="bc87" class="mf ky hu km b fv nb nc l nd ne">&lt;a href="javascript: void(0)"&gt;About&lt;/a&gt;</span></pre><h2 id="1410" class="mf ky hu bd kz mg mh mi ld mj mk ml lh kn mm mn ll ko mo mp lp kp mq mr lt ms dt translated">4.立即调用的函数表达式</h2><p id="4eea" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated">当使用<a class="ae jg" href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE" rel="noopener ugc nofollow" target="_blank">立即调用的函数表达式</a>时，<code class="eh kj kk kl km b">void</code>可用于强制将<code class="eh kj kk kl km b">function</code>关键字视为表达式而非声明。</p><pre class="mt mu mv mw fq mx km my mz aw na dt"><span id="11a5" class="mf ky hu km b fv nb nc l nd ne">void function IIFE() {<br/>    // do something ...<br/>}()</span></pre></div><div class="ab cl kq kr hc ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hn ho hp hq hr"><h1 id="004b" class="kx ky hu bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu dt translated">结论</h1><p id="e693" class="pw-post-body-paragraph jk jl hu jn b jo lv jq jr js lw ju jv kn lx jy jz ko ly kc kd kp lz kg kh ki hn dt translated"><code class="eh kj kk kl km b">void</code>是一个简单的操作符，我觉得它很有用。我估计，更多的开发者不使用是因为学习的时候没有接触过。当然，如果一个团队感到困惑，最好进行讨论。在帮助中，ESLint有规则(<a class="ae jg" href="https://eslint.org/docs/rules/no-void2" rel="noopener ugc nofollow" target="_blank"> no-void </a>)。编码快乐！😎</p><p id="68b8" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated">👏<strong class="jn hv">感谢您的阅读。欢迎建议、评论、想法:)</strong></p><p id="8716" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh ki hn dt translated"><strong class="jn hv">如果你喜欢这个，鼓掌吧，跟着我上</strong> <a class="ae jg" rel="noopener" href="/@shystruk"> <strong class="jn hv">中</strong></a><strong class="jn hv"/><a class="ae jg" href="https://twitter.com/shystrukk" rel="noopener ugc nofollow" target="_blank"><strong class="jn hv">推特</strong></a><strong class="jn hv"/><a class="ae jg" href="https://github.com/shystruk" rel="noopener ugc nofollow" target="_blank"><strong class="jn hv">github</strong></a><strong class="jn hv">和你的朋友们分享一下</strong> ✌️</p></div></div>    
</body>
</html>