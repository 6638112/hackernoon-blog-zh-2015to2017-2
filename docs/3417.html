<html>
<head>
<title>ION: A Data Format for Intelligent Real-time Distributed Systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ION:智能实时分布式系统的数据格式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/ion-the-data-format-designed-for-intelligent-real-time-distributed-systems-d41d68b5a7a4?source=collection_archive---------11-----------------------#2017-03-31">https://medium.com/hackernoon/ion-the-data-format-designed-for-intelligent-real-time-distributed-systems-d41d68b5a7a4?source=collection_archive---------11-----------------------#2017-03-31</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/06873350d82cf180cbb9ff7ef407ec33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_6rfVPugCaNKg2fzDOo3YQ.png"/></div></div></figure><p id="f8ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我们之前的帖子[ <a class="ae ka" href="https://hackernoon.com/our-ambitious-quest-to-democratise-distributed-systems-act-2-ion-vs-json-ce69f4e5c4a9" rel="noopener ugc nofollow" target="_blank"> 1 </a> ] [ <a class="ae ka" href="https://hackernoon.com/our-ambitious-quest-to-democratize-distributed-systems-act-1-protocols-b6bec5297213" rel="noopener ugc nofollow" target="_blank"> 2 </a>中，我们简要介绍了我们的数据格式ION，它是Nanosai.com项目<a class="ae ka" href="http://www.nanosai.com/" rel="noopener ugc nofollow" target="_blank">的一个组成部分。在本帖中，我们将分享更多关于ion的轻量级技术信息，以及我们认为它如何帮助开发人员构建更好的分布式系统生态系统。</a></p><p id="3954" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是首先我们需要澄清一些否则可能会引起混乱的事情。在Amazon公开发布他们的ION格式之前，我们就发布了我们的ION数据格式。因此，我们没有选择ION这个名字，因为它与Amazon的ION相似。事实上，直到我们设计并命名了我们的ION格式之后，我们才发现了相似之处。首字母缩写词ION源自“IAP对象表示法”，其中我们的开放网络协议IAP代表“互联网应用协议”。一个直接了当的证据如下:</p><p id="5be8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">1.我们的联合创始人在Infoq.com<a class="ae ka" href="https://www.infoq.com/articles/IAP-Fast-HTTP-Alternative" rel="noopener ugc nofollow" target="_blank">发表了一篇关于IAP的文章，其中明确提到了ION。</a></p><p id="131c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.我们的黑客新闻公告<a class="ae ka" href="https://news.ycombinator.com/item?id=11027319" rel="noopener ugc nofollow" target="_blank">这里</a>关于ION与黑客新闻公告帖子<a class="ae ka" href="https://news.ycombinator.com/item?id=11546098" rel="noopener ugc nofollow" target="_blank">这里</a>关于亚马逊的ION。你会注意到我们的黑客新闻公告比亚马逊的公告要早得多。</p><p id="c7aa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">什么是离子(我们的离子！)?</strong></p><p id="b169" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">简而言之，ION是一种通用的二进制数据格式，可用于对各种数据进行编码。它的表达能力足以包含序列化对象(如Java或C#对象)、CSV、JSON、XML、文本和二进制数据。</p><p id="677f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">解析和生成它非常快，也相当容易，在网络上比JSON和XML压缩得更多，对于服务器、路由器和其他轻量级硬件(我们相信)来说也很容易处理。</p><p id="65ce" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如下图所示，ION是我们开放分布式系统堆栈的核心部分之一。我们将ION设计为IAP的默认数据格式，因此，所有IAP消息都使用ION进行编码。</p><p id="a1a7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">IAP是一种通用的面向消息的网络协议，设计用于同步和异步通信，使IAP适用于许多不同的用例，如RPC、文件交换、流、消息队列订阅。我们创建IAP是因为现有的协议如HTTP不能满足我们的通用性和高性能需求。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/3491f7aaba702f9ee9b9e261e09cc8b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*KelSJ-1VDcgSMpqUEzk3DQ.png"/></div></figure><p id="a14f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">智能实时分布式系统的定义</strong></p><p id="8376" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Nanosai.com<a class="ae ka" href="http://www.nanosai.com" rel="noopener ugc nofollow" target="_blank">我们相信以下两个定义中的条件是一个系统被归类为“智能实时分布式系统”所需要满足的最少且充分的条件。</a></p><p id="835e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">定义1: </strong>让我们做一个分布式系统。我们说S是智能分布式系统，如果S至少满足下列条件；</p><p id="a973" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(I)系统中节点之间的即插即用式交互。</p><p id="639a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(ii)多功能，这意味着它支持许多不同的用例及架构。</p><p id="67a1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(iii)健壮，这意味着它可以在出现故障的情况下存活。</p><p id="af95" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(iv)当故障条件固定时的自愈能力。</p><p id="f92c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">定义2: </strong>分布式系统S是实时分布式系统，如果它至少满足以下条件；</p><p id="a5c2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(I)通过快速网络协议进行通信。这在术语上意味着一个紧凑的二进制协议。</p><p id="9706" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(ii)异步通信，如许多实时系统所要求的。</p><p id="89ef" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(iii)每秒至少可以处理1，000条消息(尽管我们真正的目标是每秒10，000到100，000多条消息)。</p><p id="b7bc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">为什么我们需要一种新的数据格式？</strong></p><p id="f37d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，当在分布式系统中的节点之间交换数据时，使用快速、紧凑和通用的数据格式对数据进行编码是有利的。我们觉得现有的格式(如Protobuf、CBOR、MessagePack、JSON)不够通用，也不够快，无法满足我们对未来分布式系统的需求。</p><p id="ec79" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">其次，对于通信节点来说，快速数据格式读写(反序列化和序列化)更快。如果开发人员需要最高速度，甚至可以以二进制形式遍历ION。</p><p id="c191" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第三，紧凑的数据格式需要较少的字节来表示编码的数据。字节越少，需要的网络带宽就越少，因此可以更快地通过网络传输。在读写数据时，紧凑的数据格式也是一个优势。</p><p id="707c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，通用数据格式是一种可以用于尽可能多的用例的数据格式。这最大限度地减少了发明新数据格式的需要。当然，总有其他人想出比ION更好的数据格式的可能性。但本着开放创新的精神，我们对此表示欢迎！</p><p id="5037" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">IAP外的离子</strong></p><p id="bc81" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">作为一种数据格式，ION可以独立于IAP使用。开发人员可以使用ION作为数据文件、日志文件中的数据格式，作为通过HTTP等传输的二进制消息的数据格式。</p><p id="03df" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ION可以包含二进制数据，因此开发人员也可以在必要时在ION中嵌入其他格式。例如，MP3文件、ZIP文件、JPG文件等。</p><p id="d3ed" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> ION与其他数据格式的比较</strong></p><p id="29fe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ION是一种数据格式，类似于JSON的二进制版本。在这方面，ION类似于MessagePack、CBOR和亚马逊的ION，但有一个有利的区别。</p><p id="b4aa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在文本<a class="ae ka" href="http://tutorials.jenkov.com/ion/ion-vs-other-formats.html" rel="noopener ugc nofollow" target="_blank">中，我们对ion与其他数据格式</a>和<a class="ae ka" href="http://tutorials.jenkov.com/ion/ion-performance-benchmarks.html" rel="noopener ugc nofollow" target="_blank">的比较有更详细的描述。</a></p><p id="902e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">电流释放</strong></p><p id="9e73" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">新的<a class="ae ka" href="https://github.com/nanosai/grid-ops-java/releases/tag/0.5.0" rel="noopener ugc nofollow" target="_blank"> 0.5.0版本</a>包含了对IonObjectReader和IonObjectWriter以及相关类的改进。这些类现在能够读写对象图，其中一个POJO类包含它自己类型的字段。例如，一个包含Node child1和Node child2实例变量的Node类。</p><p id="0dc5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在此版本之前，试图用引用自身的类创建一个IonObjectReader或IonObjectWriter会导致堆栈溢出异常。现在已经修复了。</p><p id="4d88" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在未来几周，我们将发布新的ION更新和更新文档、基准等。</p><p id="1f0e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，请在这里下载我们的首席技术官<a class="ae ka" href="https://leanpub.com/the-grid-vision" rel="noopener ugc nofollow" target="_blank">创作的免费书籍。我们的开源Java工具包Grid Ops可在</a><a class="ae ka" href="https://github.com/nanosai/grid-ops-java" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得。如果您希望在我们推出托管基础设施服务时收到测试邀请，请在此处<a class="ae ka" href="https://goo.gl/forms/zXQe9k2es9iombdD2" rel="noopener ugc nofollow" target="_blank">订阅。</a></p><p id="8ec3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kg">由共同创始人</em><a class="kh ki gr" href="https://medium.com/u/665359d135fa?source=post_page-----d41d68b5a7a4--------------------------------" rel="noopener" target="_blank"><em class="kg">bambo rdébaldé</em></a><em class="kg">发布。</em></p><div class="kc kd ke kf fq ab cb"><figure class="kj iv kk kl km kn ko paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kj iv kk kl km kn ko paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kj iv kk kl km kn ko paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="kp kq kr"><p id="f922" class="jc jd kg je b jf jg jh ji jj jk jl jm ks jo jp jq kt js jt ju ku jw jx jy jz hn dt translated"><a class="ae ka" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae ka" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae ka" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae ka" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jc jd kg je b jf jg jh ji jj jk jl jm ks jo jp jq kt js jt ju ku jw jx jy jz hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae ka" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ka" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kv"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>