# 跟踪/监控同一事务中的微服务日志链

> 原文：<https://medium.com/hackernoon/trace-monitor-chain-of-microservice-logs-in-the-same-transaction-f13420f2d42c>

在微服务架构中，日志、错误、监视器等可能会丢失...拥有一个公共的日志记录位置是使服务日志可按顺序查询的良好实践。在微服务领域，每个服务负责自己的异常和日志。

考虑调用宇宙内外其他微服务的流水线微服务。如果链中的一个调用失败，我们可以预计链中之前的调用也可能引发错误，但是如何跟踪链中哪个请求导致了这个错误呢？

![](img/8e5c7d378edb94ebf7fbaebdab300916.png)

Demonstration

最快的解决方法是:如果请求没有'**请求 ID** 信息，则从请求的开始放入'**请求 ID** 或'**事务 ID** 信息，并通过服务传递相同的“请求 ID”。如果您使用 HTTP 在微服务之间建立连接，您可以将“请求 ID”作为 HTTP 头。

当您开始记录请求链时，您将拥有**相同的‘请求 ID’**，这将**易于查询**并分析哪一个导致了错误。

最后，如果你对完全可追踪的系统感兴趣，也可以查看一下 opentracing 的规格。

快乐监控！