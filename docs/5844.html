<html>
<head>
<title>Flutter First Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">舞动第一步</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/flutter-first-steps-fffd906f093b?source=collection_archive---------8-----------------------#2017-08-19">https://medium.com/hackernoon/flutter-first-steps-fffd906f093b?source=collection_archive---------8-----------------------#2017-08-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="5388" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几个月前我第一次遇见了<a class="ae jp" href="https://flutter.io" rel="noopener ugc nofollow" target="_blank"> Flutter </a>。我非常清楚地记得这个时刻:“哦，又一个跨平台<a class="ae jp" href="https://hackernoon.com/tagged/mobile" rel="noopener ugc nofollow" target="_blank">移动</a>解决方案。没用。再见。”而且完全忘记了。</p><p id="e163" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几个月前，我在<a class="ae jp" href="https://twit.tv/shows/floss-weekly/episodes/439" rel="noopener ugc nofollow" target="_blank"> FLOSS Weekly </a>上找到了对Flutter联合创始人Adam Barth的采访。经过这次讨论，我决定给它一个机会，并开始颤振。</p><p id="4cee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我选择了一个日历应用程序作为PoC项目。几年前我学习Android/ <a class="ae jp" href="https://hackernoon.com/tagged/kotlin" rel="noopener ugc nofollow" target="_blank"> Kotlin </a>的时候也做过类似的应用。该应用程序包括:</p><ul class=""><li id="d8e5" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">每月和每日日历布局</li><li id="a06f" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">事件详情</li><li id="7e77" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">用于创建新事件的用户表单</li><li id="7366" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">事件的本地存储</li></ul><p id="cf08" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是结果。</p><h2 id="f752" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">颤动很快</h2><p id="d735" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">布局在两个平台上都能快速工作。我看不出原生Flutter和非常原生的Android实现之间的性能有任何下降。</p><h2 id="06a5" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">Flutter拥有受React启发的出色UI编程模型</h2><p id="31fc" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">React-style比iOS/Android机型简单。为了给Android构建几乎相似的月度布局，我用Kotlin编写了视图相关的~370 loc。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="610e" class="ke kf hu lj b fv ln lo l lp lq">140 ./MonthlyCalendarContainerFragment.kt</span><span id="dfba" class="ke kf hu lj b fv lr lo l lp lq">187 ./MonthlyCalendarFragment.kt</span><span id="db99" class="ke kf hu lj b fv lr lo l lp lq">43 ./MonthlyCalendarGridLayout.kt</span></pre><p id="39d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并且与颤振和飞镖~147 loc。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="071c" class="ke kf hu lj b fv ln lo l lp lq">147 ./calendar.dart</span></pre><p id="1796" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该屏幕在Flutter中的布局代码示例:</p><figure class="le lf lg lh fq lt fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/09a807489cc8ff4a562d05bc8eb18171.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*eo5CRoZyBuAqxDNeImwhPA.jpeg"/></div></figure><figure class="le lf lg lh fq lt"><div class="bz el l di"><div class="lw lx l"/></div></figure><p id="ffd8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，Android中的布局代码并没有变大:</p><figure class="le lf lg lh fq lt"><div class="bz el l di"><div class="lw lx l"/></div></figure><p id="7928" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是除了布局之外，我们还需要片段、视图初始化、dagger等等。结果是多了两倍的代码。更少的代码，更少的错误，更少的开发时间。还不错。</p><h2 id="8294" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">Flutter支持热重装</h2><p id="6970" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">在我的家用笔记本电脑mbp 13上，Android Studio/Xcode可以在大约10秒钟内修改一个文件后重新运行小应用程序。这是最好的情况。在一些大型项目中，任何更改都需要在更强大的mbp 15 '上花费至少2分钟。颤振是怎么回事？</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="97c6" class="ke kf hu lj b fv ln lo l lp lq">Performing hot reload…</span><span id="2c95" class="ke kf hu lj b fv lr lo l lp lq">Reloaded 1 of 471 libraries in 752ms.</span><span id="8927" class="ke kf hu lj b fv lr lo l lp lq">Performing full restart…</span><span id="0db9" class="ke kf hu lj b fv lr lo l lp lq">Restarted app in 800ms.</span></pre><p id="7313" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你不需要重新编译原生项目，Flutter在不到1秒的时间内立即重新加载代码。更有趣的是，热重载保存了应用程序的状态:您不需要导航到当前屏幕或在表单中重新输入数据。太神奇了。</p><h2 id="80bf" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">Flutter使用Dartlang，这是一种类型安全的简单语言</h2><p id="ee51" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">Dart的设计是显而易见和简单的(与JavaScript相反)。我花了几天时间熟悉Dart。</p><h2 id="ac63" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">Flutter有非常好的开发工具</h2><p id="5846" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">Flutter继承了Dart的许多工具:自动套用格式、linter、调试器、IntelliJ IDE和Visual Studio代码支持。我最喜欢的是代码分析器。我记得它的配置在iOS和Android上是多么的痛苦。但是这里我只添加了一个配置文件“analysis_options.yaml ”,它开始在控制台和ide中开箱即用。</p><p id="b00d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我发现了许多很棒的功能，但不提我遇到的问题是不诚实的。</p><h2 id="9ed2" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">颤动增加应用程序大小</h2><p id="53a5" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">Flutter不使用平台现有的UI基础设施。因此，您需要将整个框架嵌入到应用程序中。在调试模式下大约为25MB，在生产模式下大约为7mb。我不认为这是一个严重的问题，而且我猜测一旦Flutter发布，Android和Fuchsia将默认拥有这个框架。</p><h2 id="cbcc" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">缺少插件和库</h2><p id="ee85" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">扑扑很年轻。因此，不可能将Flutter的插件数量与iOS/Android库进行比较。每周都有新的插件加入，但是目前大约有60个可用的包。也可以使用一些不依赖于其他框架(如web)的Dart包。对我来说，主要问题是缺少存储选项(一个具有基本sqlite支持的包和一个键值存储)。更重要的一点是，Flutter中没有地图小部件，你只能从本机Activity/UIViewController中使用地图。</p><h2 id="4eb1" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">阿尔法版本</h2><p id="8073" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">你必须小心，主动开发的平台不如成熟的平台稳定。我发现了一个文本输入的错误，这是前一天引入的。颤振队第二天固定。对这种情况做好准备。</p><p id="1c97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管有明显的缺点，但Flutter是移动开发的一大进步。我将自己的经验与它和原生iOS/Android开发进行了比较，对我来说，Flutter是赢家:</p><ul class=""><li id="ee3f" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">简单的反应式用户界面模型</li><li id="7d30" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">快速开发周期</li><li id="e853" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">成熟的开发工具</li><li id="7d97" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">写一次，到处跑</li></ul><figure class="le lf lg lh fq lt"><div class="bz el l di"><div class="ly lx l"/></div></figure></div></div>    
</body>
</html>