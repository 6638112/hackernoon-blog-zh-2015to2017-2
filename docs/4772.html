<html>
<head>
<title>Diffie-Hellman explained sort of.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迪菲-赫尔曼解释说。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/diffie-hellman-explained-sort-of-5efd0467584c?source=collection_archive---------8-----------------------#2017-06-21">https://medium.com/hackernoon/diffie-hellman-explained-sort-of-5efd0467584c?source=collection_archive---------8-----------------------#2017-06-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="41c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">D-H是一种密钥交换机制，一种通过公共信道交换加密密钥的方式，也就是说，<strong class="it hv">我想和我的好友Simon约定一个数字，但是我不想告诉他这个数字是什么。</strong></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/38fddc5097484a7007578f75c25b880e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VxQgvmvC5YuQBsvLFGmPzA.png"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Agreeing in Prime and Base Numbers</figcaption></figure><p id="f7ef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，要做到这一点，有一些要求，也有一些规则必须适用于我们要在开放空间交流的价值观:</p><ul class=""><li id="e2c6" class="kf kg hu it b iu iv iy iz jc kh jg ki jk kj jo kk kl km kn dt translated">同意质数</li><li id="2428" class="kf kg hu it b iu ko iy kp jc kq jg kr jk ks jo kk kl km kn dt translated">同意一个基数</li><li id="0a4e" class="kf kg hu it b iu ko iy kp jc kq jg kr jk ks jo kk kl km kn dt translated">每个1个秘密指数</li></ul><p id="5788" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，所有这些数字都通过公共交通工具相互交流，这是一个要求:<strong class="it hv">每个用户都会生成一个“秘密指数”，它们之间不能有任何公因数</strong>。所以这里有一些代码来弥补</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="bd0f" class="ky kz hu ku b fv la lb l lc ld">def giveMePrimes():<br/>  primeList = list()<br/>  for num in range(1000,10001):<br/>    if all(num%i!=0 for i in range(2,int(math.sqrt(num))+1)):<br/>      primeList.append(num)<br/>  return primeList</span></pre><p id="5203" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这会将范围()中的质数追加到列表中。</p><p id="fa3e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于基指数和秘密指数，我们在一个范围内随机选择数字:</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="dd7e" class="ky kz hu ku b fv la lb l lc ld">secure_random.choice = random.SystemRandom()<br/>secure_random.choice(range(1,10001))</span></pre><p id="934a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">假设我们有这些数字:</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="aa6d" class="ky kz hu ku b fv la lb l lc ld">P (prime) = <strong class="ku hv">2833</strong><br/>N (base) = <strong class="ku hv">3667</strong><br/>J(Jerry's Secret exponent) = <strong class="ku hv">6531</strong><br/>S(Simon's Secret exponent) = <strong class="ku hv">8249</strong></span></pre><p id="0596" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">只有秘密指数才是我们想要保密的，杰瑞和西蒙只知道他们的“秘密指数”，P和N <strong class="it hv">，简而言之，只有P和N已经通过公共渠道进行了交流。</strong></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff le"><img src="../Images/5863a8718607f91bedc08a65c3723fc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-IVl7bQ46uw3tC3nEfhQQ.png"/></div></div></figure><p id="dd1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，每一方将使用他们拥有的值<strong class="it hv"> (P，N和每个单独的“秘密指数”)</strong>计算一个数</p><p id="1dfa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Jerry将计算:(N(底数)的J(秘密指数)模数P(质数))</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="f4be" class="ky kz hu ku b fv la lb l lc ld">JC = N ** J % P (<strong class="ku hv">2642</strong>)</span></pre><p id="c47f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">西蒙:</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="971a" class="ky kz hu ku b fv la lb l lc ld">SC = N ** S % P (<strong class="ku hv">1037</strong>)</span></pre><p id="ad11" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并且他们会互相传递这些值<strong class="it hv"> (Jerry把JC传给Simon，Simon把SC传给Jerry)。</strong></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lf"><img src="../Images/b3fdf5f1c4a43747a046e15c69a5c2c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eI4GYddIjiQfsoNNcivqDw.png"/></div></div></figure><p id="3c0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很好！现在来回顾一下，让我们看看每个人都知道哪些价值观:</p><p id="8424" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">杰瑞</strong>:质数，底数，杰瑞的秘密指数，JC和SC</p><p id="25ba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">西蒙</strong>:素数、底数、西蒙的秘密指数、JC和SC</p><p id="ad21" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">随机</strong> : Prime，Base，JC，SC</p><p id="096e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以现在是魔术发生的时候了，他们都应用了下面的函数:<strong class="it hv">(对等体的计算数到“秘密指数”模素数)</strong></p><p id="4c75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">杰瑞:</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="4145" class="ky kz hu ku b fv la lb l lc ld">SC ** J % P</span></pre><p id="dd0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">西蒙</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="2e7f" class="ky kz hu ku b fv la lb l lc ld">JC ** S % P</span></pre><p id="6703" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你计算一下，这可以转化为:</p><p id="412d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尿壶</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="b94c" class="ky kz hu ku b fv la lb l lc ld">1037 ** 6531 % 2833 = 1747L</span></pre><p id="1f07" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">西蒙</p><pre class="jq jr js jt fq kt ku kv kw aw kx dt"><span id="50d1" class="ky kz hu ku b fv la lb l lc ld">2642 ** 8249 % 2833 = 1747L</span></pre><p id="3e42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">太好了(<strong class="it hv"> L </strong> == Python的字面意思)，现在我们有了一个西蒙和杰瑞知道的数字(<strong class="it hv"> 1747L </strong>)，这个数字是从一堆公开传播的数字衍生而来的。</p><p id="3751" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有了这个号码作为“钥匙”,西蒙和杰瑞就可以开始用密码进行秘密交流了。</p><p id="013d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我举了一个例子，我用它来做这个，它有点用:</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="lg lh l"/></div></figure><div class="jq jr js jt fq ab cb"><figure class="li ju lj lk ll lm ln paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="li ju lj lk ll lm ln paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="li ju lj lk ll lm ln paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="lo lp lq"><p id="f922" class="ir is lr it b iu iv iw ix iy iz ja jb ls jd je jf lt jh ji jj lu jl jm jn jo hn dt translated"><a class="ae lv" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae lv" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae lv" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>，并乐意<a class="ae lv" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is lr it b iu iv iw ix iy iz ja jb ls jd je jf lt jh ji jj lu jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae lv" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae lv" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lw"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>