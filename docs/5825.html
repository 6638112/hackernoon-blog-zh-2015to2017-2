<html>
<head>
<title>Visualizing data in terminal using lehar</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用lehar可视化终端中的数据</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/visualizing-data-in-terminal-using-lehar-7cfded09c1ad?source=collection_archive---------6-----------------------#2017-08-18">https://medium.com/hackernoon/visualizing-data-in-terminal-using-lehar-7cfded09c1ad?source=collection_archive---------6-----------------------#2017-08-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="a171" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">有时候，洞察力可以从数据的可视化中获得，而不是盯着它。</p></blockquote><p id="943a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated"><strong class="ix hv">TL；博士:</strong>这篇文章是关于一个终端可视化工具<strong class="ix hv"> lehar </strong>，它在https://github.com/darxtrix/lehar<a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank">开源</a></p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff jx"><img src="../Images/c14062268b48567c75fd4551f82e6e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*g90tzTd2giomDQODTj2DvA.png"/></div></figure><p id="f400" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">上周在黑ptop的时候，我想给它添加一个网络传感器，但是我一直在想如何把它呈现给最终用户。提醒一下，<a class="ae jw" href="http://darxtrix.in/ptop/" rel="noopener ugc nofollow" target="_blank"> ptop </a>是<a class="ae jw" href="https://hackernoon.com/tagged/python" rel="noopener ugc nofollow" target="_blank"> Python </a>中的一个任务管理器，我在2015年的时候曾做过这个兼职项目。它继续冲击GitHub上的<a class="ae jw" href="https://github.com/trending" rel="noopener ugc nofollow" target="_blank">趋势</a>库列表。</p><p id="aa60" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">网络传感器基本上会向用户显示网络上当前的传入/传出数据。例如，显示CPU信息的<a class="ae jw" href="http://darxtrix.in/ptop" rel="noopener ugc nofollow" target="_blank"> ptop </a>的<strong class="ix hv"> CPU传感器</strong>如下所示:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kf"><img src="../Images/78dc12cd175060069159c1ae6610d28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K4D6n7FVgqaco-tf8vsQZg.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">CPU usage info in ptop</figcaption></figure><p id="24c8" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我们可以从中得出的一个区别是，对于CPU、内存等传感器，我们有一个<a class="ae jw" href="https://en.wikipedia.org/wiki/Upper_and_lower_bounds" rel="noopener ugc nofollow" target="_blank">上限</a>，但是对于网络传感器，我们没有上限。因此，可视化应该使用户明白，与点<strong class="ix hv"> t2 </strong>相比，点<strong class="ix hv"> t1 </strong>处的网络利用率更高，同时显示上行速度&amp;下行速度，因此这里需要<strong class="ix hv">数据的相对排序。</strong></p><p id="389f" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我试着用标准的<a class="ae jw" href="https://en.wikipedia.org/wiki/Sorting" rel="noopener ugc nofollow" target="_blank">排序</a>问题打个比方，数据在某个时间点可以和网速一样随机(排序情况下的位置)。因此，我想想出一种方法来显示在标准排序算法的情况下的移动(交换),例如像这样的GIF:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff ko"><img src="../Images/b370aff46e684876be683fbbc7662fca.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*IOBMaR7IuMPecejAlJgzMA.gif"/></div></figure><p id="ff24" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">Spark提供了一个shell命令来从T2数据中创建这样的可视化效果，但是我找不到任何Python库。所以我写了<a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank"> lehar </a>。<a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank"> lehar </a>可以作为<strong class="ix hv"> Python2 </strong>和<strong class="ix hv"> Python3 </strong>模块使用，同时也可以作为shell命令使用。代码在<a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank"> GitHub </a>开源</p><p id="439c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated"><a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank"> lehar </a>用数据的<strong class="ix hv">相对排序</strong>来表示。例如，<br/>数据= [1，2，3，4，5]将表示为▂▄▅▇█(增加高度)</p><p id="2e2e" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">要绘制这样的可视化效果，只需在你的<strong class="ix hv"> Python </strong>代码中调用简单的<a class="ae jw" href="https://github.com/darxtrix/lehar" rel="noopener ugc nofollow" target="_blank"> lehar </a> API。例如，我用来绘制上述可视化效果的代码是对标准的<a class="ae jw" href="https://en.wikipedia.org/wiki/Selection_sort" rel="noopener ugc nofollow" target="_blank">选择排序</a>程序的一个小小的修改，其中不是将较小的元素移动到数组的前面，而是将较大的元素移向末尾。除此之外，我们只是在第10行打印部分排序的数据，并在第21行给出一个时间延迟，在下一行跟随一个<a class="ae jw" href="https://en.wikipedia.org/wiki/Carriage_return" rel="noopener ugc nofollow" target="_blank">回车</a>以在终端的同一行打印内容</p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="kp kq l"/></div></figure><p id="db6c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">是的，lehar也支持颜色！</p><p id="7643" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">最后，网络传感器可以像这样与网络状态一起显示:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kr"><img src="../Images/936184ca1c9db463371a7ba22e410d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTX4QICqzmV0ej3fRR_gsg.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Network visualization ptop</figcaption></figure><p id="00a0" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">你可以投稿到<a class="ae jw" href="https://github.com/darxtrix/lehar/" rel="noopener ugc nofollow" target="_blank"> lehar </a>，在<a class="ae jw" href="https://github.com/darxtrix/lehar/" rel="noopener ugc nofollow" target="_blank">https://github.com/darxtrix/lehar/</a>找到使用说明</p><p id="dedd" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">如果你喜欢这个故事，请击掌。对于任何评论/想法或任何在终端中显示此信息的替代方法，请在此评论。</p><p id="3fc8" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated"><strong class="ix hv">大家在Twitter上分享连线</strong> <a class="ae jw" href="https://twitter.com/darxtrix" rel="noopener ugc nofollow" target="_blank"> @darxtrix </a></p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ks kq l"/></div></figure><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ks kq l"/></div></figure></div></div>    
</body>
</html>