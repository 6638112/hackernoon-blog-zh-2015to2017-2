<html>
<head>
<title>How Fast Can Google GO Really Go?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google GO到底能走多快？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-fast-can-google-go-really-go-790be9fd515a?source=collection_archive---------9-----------------------#2017-08-07">https://medium.com/hackernoon/how-fast-can-google-go-really-go-790be9fd515a?source=collection_archive---------9-----------------------#2017-08-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/b6ef3e1931953cc7e78e65d2d1f892e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HODvaHcol4z_AezF.png"/></div></figure><p id="b4a8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">70年代，我十几岁的时候就开始编程了，一台是老式的TRS 80，配有盒式驱动器和BASIC语言，另一台是IBM大型机，配有RPGII和COBOL。TRS 80正在尝试基于文本的游戏，但它们很有趣。在现实世界中，我们使用计算机来批量处理数据，语言也为此进行了优化。RPG(不要与角色扮演游戏混淆)超级强大，但超级奇怪，因为它完全优化了80列穿孔卡，尽可能不费力，而COBOL和BASIC是免费格式。幸运的是，现在RPG和BASIC的安装数量相对较少，但COBOL呢，它能被取代吗？</p><p id="62ca" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">据报道，COBOL仍然是世界上70%的已安装软件，并处理比谷歌和YouTube搜索查询多200倍的事务。一个大问题是没有人再学习COBOL了，作为一种语言，COBOL不再像教授的那样，尽管它非常容易学习。有了这个序言，你可能想知道我要说什么。我一直认为Python会是一个很有价值的继任者，我也相信这一点，但在过去几年里，我一直在使用谷歌相对较新的Go语言做一些小项目。我真的不想做另一种语言的比较，而是对COBOL擅长的东西——原始批处理——进行性能比较。</p><p id="d316" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我下载了一个地理数据文件，它是一个CSV文件中的一系列数字字符串，作为测试用例。该文件大约190MB，包含2，173，762条记录。这似乎是一个很好的测试案例，可以给我们一些及时的结果。</p><p id="d403" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我想做的另一件事是使用一台旧的、功能不足的计算机，所以我们选择了一台只有640MB内存、运行Windows XP的计算机。</p><p id="a416" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">对于COBOL编译器，我使用了我自己的产品KOBOL，这是几年前我们测试中最快的COBOL。COBOL语言中最昂贵的动词之一是“UNSTRING”命令，它将基于分隔符将字符串解析为一个或多个变量。除了需要提前定义所有变量之外，这非常方便，所以您需要知道您正在处理的数据。这在Go中没有限制，但我想用尽可能相似的方式定义这两个应用。</p><p id="8f48" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为了使测试简单，我们要做的就是读取文件，并在逗号分隔符上将它解析成所需数量的变量。由于RAM容量低而记录数量大，我认为结果应该非常相似，因为我们将从磁盘中进行大量读取。不过，我对结果感到相当惊讶。我们在每次运行之间进行了重新启动，以确保系统每次都处于相似的状态，并且我们多次运行测试以确认结果，总分数将在此处得到反映。</p><p id="6643" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">更有趣的是，Go语言有多种读取文件的方式。我保持它的简单，并限制自己阅读和阅读所有。功能上的区别是READALL会先将整个文件吸入内存，然后在那里对其执行操作。这些是数字，然后我们会回顾结果:</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="2908" class="kf kg hu kb b fv kh ki l kj kk">COBOL		2 minutes 28.27 seconds<br/>Go READ		40.55 seconds<br/>Go READALL	6 minutes 17.5 seconds</span></pre><p id="09a9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">对于COBOL应用程序，我甚至测试了删除记录上的所有处理，只留下读取，结果只改变了几秒钟，这真让我吃惊。显然我的KOBOL编译器比我想象的更有效。然后，我在一台64位、4gb内存的Windows 7机器上运行GO程序，看看它们的表现如何。我没有用KOBOL这样做，因为我们没有64位版本。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="a46e" class="kf kg hu kb b fv kh ki l kj kk">Go READ 	23.10 seconds<br/>Go READALL	23.61 seconds</span></pre><p id="5ba1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">看看READALL区别。它仍然没有READ快，但RAM和架构之间的变化产生了巨大的差异。虽然READ的性能提升不到2倍，但READALL的性能提升接近9倍。不过，这告诉我，READALL对于任何严肃的批处理的性能都是一个非常糟糕的想法，因为结果会在系统之间发生巨大的变化。对于小文件来说，这可能是个好主意，但是对于批处理，我会远离它。</p><p id="d686" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我很喜欢COBOL，因为它做了它应该做的事情，但是Go是现代的、干净的、可移植的、编译的、快速的，并且与现在教授的非常相似。Go比Java领先了好几年，而Java根本不适合作为COBOL的替代品。我使用Go的时间越长，我就越喜欢它作为几乎所有其他语言的替代品，从网络到处理数百万医疗记录的服务器。</p><p id="9fb2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">点击此处查看代码的精彩之处！</p><p id="da9a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以要回答题目中的问题，围棋真的可以走得很快。比目前运行世界计算机的COBOL语言还要快。</p></div></div>    
</body>
</html>