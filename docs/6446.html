<html>
<head>
<title>Bringing Touch Bar Support to the Atom Text Editor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Atom文本编辑器带来触摸条支持</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/bringing-touch-bar-support-to-the-atom-text-editor-eade4f8dd491?source=collection_archive---------25-----------------------#2017-09-18">https://medium.com/hackernoon/bringing-touch-bar-support-to-the-atom-text-editor-eade4f8dd491?source=collection_archive---------25-----------------------#2017-09-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="b067" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">六周前，我一头扎进了USB-C和Touch Bars的古怪世界，订购了一台闪亮的新MacBook Pro。大约从1997年开始，我就成为了苹果的用户，跟随苹果走过了黑暗的日子，经历了CPU的变化和操作系统的变化。但最近的这一波机器似乎比以往任何时候都引发了更多的抗议，我认为主要是因为许多用户认为苹果显示出放弃其“专业”用户群的强烈迹象。我最终会得到一个完整的MacBook Pro评测，但在这篇文章中，我想专注于特定应用程序使用的特定硬件功能。</p><p id="362e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">批评者和客户普遍认为一些新MacbBook Pro机型顶部的touch bar是一个愚蠢和失败的想法，但就像许多新功能一样，如果做得好，它有它的用途。随着支持它的应用程序数量的增长，它的使用也在增长，我每天使用的一些应用程序仍然在等待支持它。</p><p id="c6df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我经常在工作中使用一个应用程序，GitHub的文本编辑器<a class="ae jp" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank"> Atom </a>，它基于<a class="ae jp" href="https://electron.atom.io/" rel="noopener ugc nofollow" target="_blank"> Electron </a>框架。最近版本的框架<a class="ae jp" href="https://electron.atom.io/docs/api/touch-bar/" rel="noopener ugc nofollow" target="_blank">引入了对触摸条</a>的支持，而Atom的1.19版本也为Atom带来了这种支持。一些勇敢的开发者已经发布了增加touch bar功能的包，所以我决定去看看。</p><h1 id="f1dd" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Touchbar注册表</h1><p id="8ed9" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我将从这个包开始，因为它是另一个包的依赖项，将电子API抽象为Atom。您将它包含在您的包<em class="kt"> package.json </em>文件中，并添加如下按钮:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="39d7" class="ld jr hu kz b fv le lf l lg lh">consumeTouchBar(touchbarRegistry){ touchbarRegistry.addItem( newTouchBarButton({ label:'Hello Dzone', backgroundColor:'#0288d1', click:()=&gt;console.log('Hey there!') }) ); }</span></pre><p id="e8dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这将(无益地)添加一个标签为“Hello Dzone”的按钮，单击该按钮会向Atom的控制台记录一条消息。当然，这个包还有更有用的用例，我想作者希望其他开发者会在他们的包中使用它，但是到目前为止，很少有人这样做。</p><p id="8cb6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/touchbar-registry" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/touchbar-registry</a></p><h1 id="fd42" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Linter用户界面</h1><p id="f44f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我喜欢Atom <a class="ae jp" href="https://atom.io/packages/linter" rel="noopener ugc nofollow" target="_blank"> linter </a>包，以及它支持的所有linter。在一个窗格中，我可以看到我的代码&amp;文本的各种各样的问题，并可以通过我的方式修复它们。这个包将警告类型的摘要添加到touch bar中，但是此时按下按钮没有任何作用。</p><p id="8853" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">深入研究<a class="ae jp" href="https://github.com/haklop/linter-ui-touchbar/blob/master/lib/touchbarUI.js" rel="noopener ugc nofollow" target="_blank"> <em class="kt"> touchbarUI.js </em> </a>文件，看看这是如何工作的。</p><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/0454a8dcae70af3a71abaf6f00951d12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IOXQg-8c2S0h5gN9.png"/></div></div></figure><p id="4be1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">【https://atom.io/packages/linter-ui-touchbar T4】</p><h1 id="d7e0" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">触摸栏实用程序</h1><p id="a5d2" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这个包允许您在一个数组中添加一系列按钮、标签和Atom动作，例如，默认情况下是:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="20b8" class="ld jr hu kz b fv le lf l lg lh">[{ "type":"label", "label":"touch-bar-utility rocks! ����" },{ "type":"button", "label":"��", "clickDispatchAction":"atom-beautify:beautify-editor", "backgroundColor":"#b355d6" },{ "type":"button", "label":"//", "clickDispatchAction":"editor:toggle-line-comments", "backgroundColor":"#4899a8" }]</span></pre><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/9a1dfe91bfd51cebf4232e2afb8fb14c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YsaAEwwyiD64OX3C.png"/></div></div></figure><p id="aeb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第一个除了显示一个带有图标的标签之外什么也不做，第二个分配一个带有彩色背景的表情图标，点击后运行“美化”动作，第三个切换代码中的注释。它还可以让你为图标，弹出窗口，滑块，间隔等等分配文件。我改变了我的，为自己创造了更多有用的快捷方式:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="9e59" class="ld jr hu kz b fv le lf l lg lh">[{ "type":"button", "label":"🔗", "clickDispatchAction":"markdown-writer:insert-link" },{ "type":"button", "label":"💅", "clickDispatchAction":"atom-beautify:beautify-editor" },{ "type":"button", "label":"//", "clickDispatchAction":"editor:toggle-line-comments" }]</span></pre><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/cccfbd5c8a88fa9aacdd45828bbfdeb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BDzRSSLRwgKxmRT7.png"/></div></div></figure><p id="7ac7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">到目前为止，这是对我最有用的包，但我希望能够添加实用按钮，如字数统计。</p><p id="af1b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/touch-bar-utility" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/touch-bar-utility</a></p><h1 id="68e2" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">触摸栏</h1><p id="a770" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这与上一个包的工作方式类似，添加了一个切换键盘快捷键(<em class="kt"> ctrl-alt-o </em>)，目前缺少一个设置窗格，将配置移动到一个<em class="kt"> lib/config.json </em>文件中，这意味着您需要直接在<em class="kt"> ~/中找到它。atom/packages/touchbar </em>文件夹，我不确定软件包更新将如何工作。一旦进入，选项是相似的，但是稍微清晰一些，默认文件给出了更多的例子。为了创建类似我上面创建的东西，我使用了下面的JSON，它也添加了一个表情滑块和一个颜色选择器。</p><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/26260db11bfef01c818c31c71bec42c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-pk2G3oD0GAcvGKK.png"/></div></div></figure><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/585db7057a6907232b4d0fa6d1c31ab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yBeLbU3CMDQ4p__L.png"/></div></div></figure><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/f865d0f76f4b2f6118e7b303f8c54c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LhSAlqiMK4oMajaB.png"/></div></div></figure><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="54b5" class="ld jr hu kz b fv le lf l lg lh">{ "elements":[ { "name":"comment-button", "type":"button", "label":"//", "command":"editor:toggle-line-comments" }, { "name":"beautify-button", "type":"button", "label":"💅", "command":"atom-beautify:beautify-editor" }, { "name":"color-picker", "type":"color-picker" }, { "type":"popover", "label":"😁", "elements":[{ "name":"emoji-scrubber", "type":"scrubber", "label":"😊", "items":"emojis"}] }, { "name":"markdown-links", "type":"button", "label":"🔗", "command":"markdown-writer:insert-link" } ] }</span></pre><p id="2038" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/touchbar" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/touchbar</a></p><h1 id="74c4" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">原子触摸栏</h1><p id="1ef8" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">另一个包遵循与前两个包相似的思想，但是较少被记录，它定义了<em class="kt"> ~/中的动作。atom/packages/atoms-touch bar/lib/touch bars/action . js</em>并且需要代码和JSON配置。这提供了更多的灵活性(和更好的功能)，但是需要更多的关于你在做什么的初步知识。我从文档中得到的印象是，该设置允许您添加不同的“栏”并根据上下文动态调用它们，这是唯一允许这样做的包，并且更符合touch bar的精神，但需要一种方法让其他包实现它，使它真正有用。</p><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/d98abcc7a415ee1805ad542f9881a9ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IVCKLdhwIcSy1924.png"/></div></div></figure><p id="8e99" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/atoms-touchbar" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/atoms-touchbar</a></p><h1 id="cd65" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Atom touchbar</h1><p id="350c" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这个包并没有声称是可配置的，你应该把它当作一个如何创建你自己的定制包的例子(尽管你可以看到，已经有足够多的Atom touch bar包了)。它提供了用于切换命令面板、模糊查找器、linter面板、Git面板和注释/取消注释选择的按钮。如果您没有启用任何这些功能，那么按钮将不起作用。</p><figure class="ku kv kw kx fq lj fe ff paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="fe ff li"><img src="../Images/95aaaa784dcda3194164f714f7e9e6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RMe8eiCinbSsz5GL.png"/></div></div></figure><p id="9b51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/atom-touchbar" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/atom-touchbar</a></p><h1 id="69cd" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">Touchbar Git</h1><p id="ce06" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">将git信息添加到touch bar，但它对我不起作用，如果这是你想要的，请查看存储库。</p><p id="07ce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://atom.io/packages/touchbar-git" rel="noopener ugc nofollow" target="_blank">https://atom.io/packages/touchbar-git</a></p><h1 id="c61a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">提高标准</h1><p id="235b" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">touch bar的要点是对上下文敏感，到目前为止，除了<code class="eh lq lr ls kz b">atoms-touchbar</code>(据我所知)之外，所有的包都是基于特定的用例来修复按钮，而不是基于动态用例。合乎逻辑的下一步是让包开发者都利用一个依赖包，并向他们的包添加功能，然后允许用户从设置窗格切换他们想要使用的按钮。由于文本编辑器用户通常是重度键盘用户，从理论上讲，touch bar可能是有用的，但它们高度可定制的特性意味着这将是多么真实还有待观察。</p></div><div class="ab cl lt lu hc lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hn ho hp hq hr"><p id="87a8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kt">原载于</em><a class="ae jp" href="https://dzone.com/articles/bringing-touch-bar-support-to-the-atom-text-editor" rel="noopener ugc nofollow" target="_blank"><em class="kt"/></a><em class="kt">。</em></p></div></div>    
</body>
</html>