<html>
<head>
<title>6 Reasons Why We Distribute C++ Libraries as Source-Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们将C++库作为源代码发布的6个原因</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/6-reasons-why-we-distribute-c-libraries-as-source-code-2dc614d5ef1e?source=collection_archive---------6-----------------------#2017-07-25">https://medium.com/hackernoon/6-reasons-why-we-distribute-c-libraries-as-source-code-2dc614d5ef1e?source=collection_archive---------6-----------------------#2017-07-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/7362e75089a9d1c4947a9b428bb6ffb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mY9s68LiW9UN4VkV_VnKTA.jpeg"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">It’s JavaScript… which is distributed as source-code! (Photo by <a class="ae ih" href="http://unsplash.com/photos/xekxE_VR0Ec?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a> on <a class="ae ih" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a>)</figcaption></figure><div class=""/><p id="b9db" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">编写C++应用程序时，不可避免地会用到外部库。这是好事！代码重用使我们更有生产力，让我们构建更大更好的产品。有了<a class="ae ih" href="http://buckaroo.pm" rel="noopener ugc nofollow" target="_blank"> Buckaroo.pm </a>，我们试图用一个C++的纯源代码包管理器让这变得更简单。</p><p id="b15f" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">仅限源代码？是的，原因如下:</p><h1 id="9e2e" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">1.它是跨平台的</h1><p id="1c1c" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">假设C++代码适当地抽象掉了任何使用的系统库，C++源代码是完全可移植的。然而，一旦被编译，这个属性就丢失了，因为二进制文件必须以特定的指令集为目标。</p><h1 id="3732" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">2.调试体验更好</h1><p id="a46f" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">在调试项目时，能够深入研究您所使用的库函数的实现是一件好事。当您从源代码构建时，这变得特别容易，因为您所依赖的确切代码已经在您的机器上了！</p><h1 id="baf1" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">3.没有ABI兼容性问题</h1><p id="11f7" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">GCC的用户会注意到<code class="eh li lj lk ll b">std::string</code> ABI从4.9到5.0的变化。虽然这个改变对于转换到C++ 11是必要的，但是它<a class="ae ih" href="https://stackoverflow.com/questions/34571583/understanding-gcc-5s-glibcxx-use-cxx11-abi-or-the-new-abi" rel="noopener ugc nofollow" target="_blank">在社区中引起了很多混乱</a>。如果您已经从源代码构建了项目，那么升级是一件容易的事情。😌</p><h1 id="7da7" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">4.源代码更小</h1><p id="8bf2" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">由于其代码生成特性，C++尤其如此:库的源代码通常远小于其对应的二进制代码。事实上，对于可复制的构建，源代码是一种极好的压缩形式！</p><h1 id="e09c" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">5.可以正确支持编译器标志</h1><p id="eb3c" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">带有1个编译器开关的库有2个可能的编译二进制文件。带有2个编译器开关的库有4个可能的二进制文件。具有3个编译器开关的库有8个可能的二进制文件。具有4个编译器开关的库有16个可能的二进制文件。现在混合使用交叉编译...你明白了。并非所有这些组合都很重要，但复杂性是巨大的。当从源代码分发时，我们可以通过允许用户控制进程来支持所有可能的编译器标志设置。</p><h1 id="108f" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">6.更好的优化</h1><p id="4e5c" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">C++就是建立抽象的塔，编译器可以把它分解成高效的机器代码。这些抽象在编译后会丢失，可能用于优化代码的重要信息也会随之丢失。使用二进制库时，您会失去执行许多跨库优化的机会。从源代码构建可以产生更快的代码。</p><h1 id="0298" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">但是编译时间呢？</h1><p id="0edf" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated">这就是好的构建系统至关重要的地方。我们选择了<a class="ae ih" href="https://buckbuild.com" rel="noopener ugc nofollow" target="_blank"> Buck build </a>，一个由脸书开发和使用的可复制的构建系统。因为Buck是可复制的，所以缓存中间构建工件并在您的团队中共享它们成为可能！</p><p id="f803" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">阅读<a class="ae ih" href="https://hackernoon.com/7-reasons-to-use-buck-build-5b44d7413585" rel="noopener ugc nofollow" target="_blank">使用降压构建的7个理由</a>。</p><h1 id="e8da" class="kf kg ik bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">准备好试试牛仔了吗？</h1><p id="f79e" class="pw-post-body-paragraph jh ji ik jj b jk ld jm jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke hn dt translated"><a class="ae ih" href="http://buckaroo.pm" rel="noopener ugc nofollow" target="_blank"> Buckaroo </a>是一个源代码专用的C++包管理器。首先，请阅读文档。您可以在<a class="ae ih" href="http://buckaroo.pm" rel="noopener ugc nofollow" target="_blank"> Buckaroo.pm </a>上浏览现有套餐，或者在<a class="ae ih" href="https://github.com/LoopPerfect/buckaroo-wishlist" rel="noopener ugc nofollow" target="_blank">愿望清单</a>上请求更多套餐。</p></div></div>    
</body>
</html>