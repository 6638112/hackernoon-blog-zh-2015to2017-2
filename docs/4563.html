<html>
<head>
<title>Why Pingdom wasn’t enough for me today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么平度今天对我来说不够</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-pingdom-wasnt-enough-for-me-today-6153e1780c05?source=collection_archive---------20-----------------------#2017-06-07">https://medium.com/hackernoon/why-pingdom-wasnt-enough-for-me-today-6153e1780c05?source=collection_archive---------20-----------------------#2017-06-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="baea" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">免责声明:我是<a class="ae jt" href="https://assertible.com" rel="noopener ugc nofollow" target="_blank">assert able</a>的联合创始人。这是一个成功的故事，关于建造和饲养一个<a class="ae jt" href="https://hackernoon.com/tagged/product" rel="noopener ugc nofollow" target="_blank">产品</a>来解决我自己的问题。</p></blockquote><p id="e104" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">今天，我的一个API出现了短暂的中断。导致我<a class="ae jt" href="https://hackernoon.com/tagged/identify" rel="noopener ugc nofollow" target="_blank">确定</a>问题的一系列事件让我意识到<strong class="ix hv">在API监控工具</strong>中有效通知的重要性。我想概述发生了什么，以及<a class="ae jt" href="https://assertible.com" rel="noopener ugc nofollow" target="_blank">assert able</a>如何比<a class="ae jt" href="https://www.pingdom.com/" rel="noopener ugc nofollow" target="_blank"> Pingdom </a>更快地帮助我发现问题。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff jx"><img src="../Images/96688dc1a423ed5445fa3d8d5ad203d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/0*O1gd2k_x7OwYuX2N.png"/></div></figure><p id="f1c3" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">这个特殊的web服务是我认为至关重要的；用户<strong class="ix hv">依靠本服务</strong>的可用性进行<em class="iw">他们的</em>服务。正常运行时间监控通过<a class="ae jt" href="https://www.pingdom.com/" rel="noopener ugc nofollow" target="_blank"> Pingdom </a>设置，更深入的验证正在<a class="ae jt" href="https://assertible.com" rel="noopener ugc nofollow" target="_blank">assert able</a>上运行。这两项服务都是<strong class="ix hv">每隔几分钟持续检查一次API </strong>，并且被设置为在任何检查失败时提醒团队。</p><h1 id="3a81" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">事情是这样的</h1><p id="1544" class="pw-post-body-paragraph iu iv hu ix b iy ld ja jb jc le je jf ju lf ji jj jv lg jm jn jw lh jq jr js hn dt translated">一个请求被合并了，CircleCI开始构建应用程序并准备部署。这是一个每天发生几次的常规过程。我走出办公室，但随身带着手机以接收提醒(幸运的是)。</p><p id="45bb" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">下午1:22，我收到了Pingdom的通知<strong class="ix hv">服务停止。</strong>Pingdom发送的默认警报没有提供任何<em class="iw"/>有意义的停电信息，显然不足以采取行动:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff li"><img src="../Images/51a358a7825e63e717184901c6f2e032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Z3_iU_5ixAmLJK3MRjRmg.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Thanks, Pingdom.</figcaption></figure><p id="43ef" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">搞什么鬼。这是我第一次知道<strong class="ix hv">我的API </strong>有问题。慌乱中，我调出了手机上的<a class="ae jt" href="https://aws.amazon.com/console/mobile/" rel="noopener ugc nofollow" target="_blank"> AWS控制台应用程序</a>，但在加载之前，我收到了Assertible的<em class="iw">秒</em>停机提醒:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff lr"><img src="../Images/86f64f7736c72b02f11d88ab0cca4eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IjbJyAKaVMzcXoQi.png"/></div></div><figcaption class="ln lo fg fe ff lp lq bd b be z ek">Assertible’s failure alert — within 1 minute of Pingdom’s</figcaption></figure><p id="0eba" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">答对了。从可断言的故障警报中，我<strong class="ix hv">立即知道问题出在AWS部署</strong>的某个地方。在部署过程中，我们已经多次看到<code class="eh ls lt lu lv b">503</code>状态代码。尽管极其不便，但这并不罕见。</p><p id="1695" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">当AWS自行修复和重新部署失败的实例时，我监视了AWS事件。仅仅几分钟后，<strong class="ix hv">API恢复，一切正常</strong>。我能呼吸了。</p><p id="90d3" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">当我回到办公室时，我能够通过查看AWS事件日志来证实我从可断言警报中得出的结论。AWS<strong class="ix hv">未能部署新应用</strong>。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff lw"><img src="../Images/c4b5ccb329c9168a472f3e579e9440e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u58ZYON6SCl5_dSo.png"/></div></div></figure><p id="d267" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">到这个时候，一切都运行正常，所以我不必采取任何行动。</p><p id="d716" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">这个故事的寓意是，有时候，<strong class="ix hv">一个简单的ping是不够的。Web服务是复杂的动物，每一种都有自己独特的行为方式。它们应该不断地被验证它们所提供的业务逻辑。</strong></p><p id="0a40" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">可断言的事实是:</p><ul class=""><li id="4b67" class="lx ly hu ix b iy iz jc jd ju lz jv ma jw mb js mc md me mf dt translated"><a class="ae jt" href="https://assertible.com/docs/guide/automation#schedules" rel="noopener ugc nofollow" target="_blank">按计划运行运行状况检查</a></li><li id="0f94" class="lx ly hu ix b iy mg jc mh ju mi jv mj jw mk js mc md me mf dt translated">设置为<a class="ae jt" href="https://assertible.com/docs/guide/automation#slack" rel="noopener ugc nofollow" target="_blank">发送API故障警报</a></li><li id="39ff" class="lx ly hu ix b iy mg jc mh ju mi jv mj jw mk js mc md me mf dt translated">并且使用了<a class="ae jt" href="https://assertible.com/docs/guide/assertions" rel="noopener ugc nofollow" target="_blank"> HTTP断言来验证预期的状态代码。</a></li></ul><p id="65ae" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">…是在3分钟内找到问题根本原因的关键因素。上下文是关键，而默认的Pingdom警报没有提供这一点。</p><p id="e055" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">不要误解我——我将继续使用Pingdom。但是Assertible将一直伴随着对我的web服务进行更多的<strong class="ix hv">深入检查和验证</strong>。</p><p id="b6da" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">我很高兴我构建了一个工具<strong class="ix hv">来解决我自己的问题</strong>，我希望其他人会发现这对于确定web服务监控中什么是重要的很有用。</p><p id="6c8c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">::@CodyReichert</p><div class="jy jz ka kb fq ab cb"><figure class="ml kc mm mn mo mp mq paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="ml kc mm mn mo mp mq paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="ml kc mm mn mo mp mq paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="ir is it"><p id="f922" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated"><a class="ae jt" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是AMI家庭的一员。我们现在<a class="ae jt" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jt" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jt" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jt" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mr"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ms mt l"/></div></figure></div></div>    
</body>
</html>