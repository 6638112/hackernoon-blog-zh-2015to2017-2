<html>
<head>
<title>How Did I “Hack” AWS Lambda to Run Docker Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何“黑掉”AWS Lambda来运行Docker容器的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-did-i-hack-aws-lambda-to-run-docker-containers-7184dc47c09b?source=collection_archive---------0-----------------------#2017-06-04">https://medium.com/hackernoon/how-did-i-hack-aws-lambda-to-run-docker-containers-7184dc47c09b?source=collection_archive---------0-----------------------#2017-06-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/5f6214420b7968e8a06b24f03728cb5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgGp8L5W7SWeoT_tAo9zxA.png"/></div></div></figure><div class=""/><blockquote class="jc jd je"><p id="1d98" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji ig">2012年12月更新:</strong> Lambda现在原生支持Docker容器！<br/>T5】https://AWS . Amazon . com/blogs/AWS/new-for-AWS-lambda-container-image-support/</p></blockquote><p id="8177" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Lambda为什么不开箱出货Docker？是因为安全考虑吗？何必呢，我们自己来！</p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><p id="d10c" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Lambda是无服务器市场的先锋。看下面的图表:</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><a href="https://goo.gl/0Bk7vM"><div class="fe ff kp"><img src="../Images/89e06bbff694491b1ef6f2ba2433baf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_VfB8bml95dPgx8jjzCJA.png"/></div></a><figcaption class="ku kv fg fe ff kw kx bd b be z ek">🤔 What happened on Jan 8th?</figcaption></figure><p id="de21" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我知道，这只是搜索活动。但是你可以看到2015年提前了多少。</p><p id="0fe8" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">垄断对最终用户没有好处。没有竞争=发展停滞。一年后，Azure推出了功能绑定和逻辑应用。Google展示了更简单的依赖管理和漂亮的仪表板。</p><p id="424a" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">最近我发现了<a class="ae ke" href="http://openwhisk.org/" rel="noopener ugc nofollow" target="_blank"> Apache OpenWhisk </a>。这是运行您自己的无服务器平台的开源替代方案。不像其他任何东西，它可以运行你提供的Docker图像的功能。</p><h1 id="031d" class="ky kz if bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">Docker for Serverless？有什么意义？</h1><p id="f2b6" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">你可能会问，<em class="jh">“为什么要复杂化？为什么是Docker？无服务器是简单的功能。”</em>。当然，但事实是事情并不总是那么简单。</p><h2 id="7965" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated"><strong class="ak">不再有</strong> <code class="eh mp mq mr ms b"><strong class="ak">zip</strong></code></h2><p id="61f6" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">整个世界都转向了容器，现在AWS告诉你把所有代码和依赖项打包到一个zip文件中。后退一步。\_(ツ)_/</p><p id="bc94" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">使用Docker，您可以像多年来使用微服务一样构建功能。</p><h2 id="320e" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated"><strong class="ak">任意二进制</strong></h2><p id="e571" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">曾经想在你的函数中使用<a class="ae ke" href="https://github.com/kelektiv/node.bcrypt.js" rel="noopener ugc nofollow" target="_blank"> bcrypt </a>、<a class="ae ke" href="https://github.com/svdgraaf/serverless-screenshot" rel="noopener ugc nofollow" target="_blank"> phantom.js </a>、<a class="ae ke" href="https://github.com/binoculars/aws-lambda-ffmpeg" rel="noopener ugc nofollow" target="_blank"> ffmpeg </a>或任何其他二进制文件吗？使用特定版本的Amazon Linux启动EC2实例，编译二进制文件，将所有内容压缩到50MB以下，就可以开始了！</p><p id="c7f4" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">小提示:如果二进制太大，可以在运行时下载到<code class="eh mp mq mr ms b">/tmp</code>。网络速度是惊人的，但要小心冷启动开销。</p><p id="80ae" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">有了Docker，你可以把它扔进Dockerfile，让奇迹发生。</p><h2 id="944f" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated">用任何语言写作</h2><p id="3573" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">至于2017年6月官方支持的有:Node.js，Python，Java (Groovy，Scala)，C#。</p><p id="f09d" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">非正式的:<a class="ae ke" href="http://apex.run/" rel="noopener ugc nofollow" target="_blank"> Go </a>，<a class="ae ke" href="https://aws.amazon.com/blogs/compute/clojure/" rel="noopener ugc nofollow" target="_blank"> Closure </a>，<a class="ae ke" href="https://aws.amazon.com/blogs/compute/scripting-languages-for-aws-lambda-running-php-ruby-and-go/" rel="noopener ugc nofollow" target="_blank"> PHP </a>，<a class="ae ke" href="https://aws.amazon.com/blogs/compute/scripting-languages-for-aws-lambda-running-php-ruby-and-go/" rel="noopener ugc nofollow" target="_blank"> Ruby </a>，<a class="ae ke" href="https://github.com/abailly/aws-lambda-haskell" rel="noopener ugc nofollow" target="_blank"> Haskell </a>，<a class="ae ke" rel="noopener" href="/@gigq/using-swift-in-aws-lambda-6e2a67a27e03"> Swift </a>，<a class="ae ke" href="http://lukemerrett.com/fsharp-on-aws-lambda/" rel="noopener ugc nofollow" target="_blank"> F# </a>等等一些。</p><p id="86ab" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">使用非官方语言很麻烦，类似于编译二进制文件。</p><p id="1e73" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">有了Docker，就像<code class="eh mp mq mr ms b">FROM brainfuck:latest</code>一样简单。</p><h2 id="867e" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated">没有供应商锁定</h2><p id="71f6" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">这是一个普通的docker图像，里面有您的代码。当然，有一些自定义逻辑依赖于FaaS API，但我已经感觉好多了。</p><p id="3677" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">有了Docker，无论你在哪里都没关系。</p><h1 id="7bc8" class="ky kz if bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">有多难？</h1><p id="cf09" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">好了，理论到此为止。我希望你能分享我的兴奋。</p><p id="ebc6" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">首先，我需要知道Lambda运行在什么样的环境中。我想四处看看，试试看有没有可能在那里运行docker守护进程。</p><p id="5c07" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">在我的实验中，我使用了埃里克·哈蒙德的一个叫做<a class="ae ke" href="https://github.com/alestic/lambdash" rel="noopener ugc nofollow" target="_blank"> lambdash </a>的便利工具。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><a href="https://github.com/alestic/lambdash"><div class="fe ff mv"><img src="../Images/e1c6b96466a0c076a40a4168b873893d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*48eqSn04Du4bKAkIZAzfIA.png"/></div></a><figcaption class="ku kv fg fe ff kw kx bd b be z ek">Did you know Eric is <a class="ae ke" href="https://goo.gl/7EkNeK" rel="noopener ugc nofollow" target="_blank">officially</a> AWS Community Hero?</figcaption></figure><p id="f389" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">您可以在那里运行任何命令。说真的，看看这个。</p><p id="61ca" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">于是我开始玩荒谬的命令a-la <code class="eh mp mq mr ms b">sudo apt-get install docker</code>之类的。不出所料。</p><p id="d3a5" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">然后我试着从<a class="ae ke" href="https://docs.docker.com/engine/installation/binaries/" rel="noopener ugc nofollow" target="_blank">静态二进制</a>安装Docker。下载和解包都很顺利，除非我试着启动它。Docker需要root权限来启动一个守护进程😓。当然，在Lambda这样有限的环境中，它是不可用的。</p><p id="4301" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">那么限制多少呢？</p><ul class=""><li id="cf01" class="mw mx if ji b jj jk jn jo kf my kg mz kh na kd nb nc nd ne dt translated">128到1536 MB内存(以及相应数量的CPU)</li><li id="7bb9" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd nb nc nd ne dt translated">0.1秒至300秒的执行时间</li><li id="9534" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd nb nc nd ne dt translated"><code class="eh mp mq mr ms b">/tmp</code>下512 MB可写磁盘空间</li><li id="2b69" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd nb nc nd ne dt translated">250 MB的已部署代码和依赖项(但50 MB已压缩)</li><li id="e076" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd nb nc nd ne dt translated">没有ROOT访问权限</li></ul><h2 id="f13e" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated">没有须藤。还有可能运行Docker吗？</h2><p id="e67d" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">我的大脑回答说“不”，但我的心告诉我“去研究吧，VLAD”。</p><p id="101d" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">所以我做了调查。有哪些选择？</p><ul class=""><li id="5001" class="mw mx if ji b jj jk jn jo kf my kg mz kh na kd nb nc nd ne dt translated">使用<a class="ae ke" href="https://github.com/iopipe/dockaless" rel="noopener ugc nofollow" target="_blank">坞站</a>。这个库包装Docker Remote API，在Lambda之外生成任意Docker容器</li><li id="235d" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd nb nc nd ne dt translated">忘记这个愚蠢的想法</li></ul><p id="8788" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">第一个选项不是真正的“无服务器”。它需要一些真正的服务器运行。所以我打算选择第二档，除非有一天我发现了<a class="ae ke" href="https://github.com/indigo-dc/udocker" rel="noopener ugc nofollow" target="_blank">乌多克</a>。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><a href="https://github.com/indigo-dc/udocker"><div class="fe ff nk"><img src="../Images/fd86f9707c3cfdb23a10450251239152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBRhfT9BLRB2KZNl7jDcVg.png"/></div></a><figcaption class="ku kv fg fe ff kw kx bd b be z ek">Only 117 stars on GitHub. This gem deserves more!</figcaption></figure><blockquote class="nl"><p id="0df2" class="nm nn if bd no np nq nr ns nt nu kd ek translated">没有root权限执行docker容器。</p></blockquote><p id="3f76" class="pw-post-body-paragraph jf jg if ji b jj nv jl jm jn nw jp jq kf nx jt ju kg ny jx jy kh nz kb kc kd hn dt translated">这太疯狂了。</p><p id="d85a" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">针说，这个项目结束了我的成功。这些聪明的家伙发现你可以打开docker镜像并在一个仿真环境中执行它。干得好。</p><h1 id="32f2" class="ky kz if bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">直奔主题</h1><p id="2eae" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">你可以在<a class="ae ke" href="https://goo.gl/LsiJJZ" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到所有代码。但在一些免责声明之前:</p><ol class=""><li id="0730" class="mw mx if ji b jj jk jn jo kf my kg mz kh na kd oa nc nd ne dt translated"><em class="jh"> udocker </em>默认使用<em class="jh"> PRoot </em>作为执行引擎。它在Lambda中不起作用。</li><li id="b50c" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd oa nc nd ne dt translated">幸运的是，有一个<a class="ae ke" href="https://github.com/indigo-dc/udocker/tree/udocker-fr" rel="noopener ugc nofollow" target="_blank">开发分支</a>，允许你从3个可用的执行引擎中选择一个。</li><li id="04d4" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd oa nc nd ne dt translated">Lambda有512 MB的磁盘空间。没有巨大的码头图片。</li><li id="c7f5" class="mw mx if ji b jj nf jn ng kf nh kg ni kh nj kd oa nc nd ne dt translated">每次Lambda冷启动都需要下载udocker和docker镜像(大概每4个小时，<a class="ae ke" href="https://www.iopipe.com/2016/09/understanding-aws-lambda-coldstarts/" rel="noopener ugc nofollow" target="_blank"> proof </a>)。这可能需要几秒钟。</li></ol><h2 id="e6e3" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated">装置</h2><p id="c293" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">在Lambda中，唯一允许你写的地方是<code class="eh mp mq mr ms b">/tmp</code>。但是默认情况下，udocker会尝试写入homedir。我需要改变它的想法。</p><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="93c7" class="mb kz if ms b fv of og l oh oi"><em class="jh">export </em>HOME=/tmp<br/><em class="jh">export </em>UDOCKER_DIR=/tmp<br/><em class="jh">export </em>UDOCKER_BIN=/tmp<br/><em class="jh">export </em>UDOCKER_LIB=/tmp<br/><em class="jh">export </em>UDOCKER_CONTAINERS=/tmp</span></pre><p id="a0cd" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">瞧。你家现在在/tmp。想做什么就做什么。</p><p id="8d83" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">接下来，我们来下载udocker python脚本。</p><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="d58e" class="mb kz if ms b fv of og l oh oi">$ <em class="jh">cd</em> /tmp<br/>$ <em class="jh">curl</em> https://raw.githubusercontent.com/indigo-dc/udocker/udocker-fr/udocker.py &gt; udocker<br/>$ <em class="jh">python</em> udocker version</span></pre><p id="047e" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">如果一切顺利，您将看到如下内容:</p><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="fe48" class="mb kz if ms b fv of og l oh oi">Info: creating repo: /tmp<br/>Info: installing from tarball 1.1.0-RC2<br/>Info: downloading: https://owncloud.indigo-datacl...<br/><strong class="ms ig">udocker 1.1.0-RC2</strong></span></pre><p id="1ad3" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我只显示我运行了什么代码。你选择<em class="jh">如何</em>运行它。为了简单起见，我使用了<code class="eh mp mq mr ms b">lambdash</code>。您可能希望从您为函数编写的Node.js/Java/Python代码中生成一个脚本。</p><h2 id="996a" class="mb kz if bd la mc md me le mf mg mh li kf mi mj lm kg mk ml lq kh mm mn lu mo dt translated">设置和运行Ubuntu</h2><p id="b6b8" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">这会将图像从Docker Hub下载到您的/tmp。</p><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="701b" class="mb kz if ms b fv of og l oh oi">$ <em class="jh">python</em> udocker pull ubuntu:17.04</span></pre><p id="42cb" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">下一步很重要。您需要创建一个容器并设置执行引擎模式。由于PRoot在Lambda中不工作(<a class="ae ke" href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1202161" rel="noopener ugc nofollow" target="_blank"> bug </a>，我尝试了第二个选项。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff oj"><img src="../Images/19f24b5f6916b0d8f0014bf8a187cd45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jc9DYCT7AbkuBpAzbcc15A.png"/></div></div><figcaption class="ku kv fg fe ff kw kx bd b be z ek">Plenty of options to choose, not sure what all they mean. Help me, linux experts.</figcaption></figure><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="fe71" class="mb kz if ms b fv of og l oh oi">$ <em class="jh">python</em> udocker create --name=ubuntu ubuntu:17.04<br/>$ <em class="jh">python</em> udocker setup --execmode=F1 ubuntu</span></pre><p id="9dbb" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">最后，屏住呼吸跑起来。</p><pre class="kq kr ks kt fq ob ms oc od aw oe dt"><span id="1bd2" class="mb kz if ms b fv of og l oh oi">$ <em class="jh">python </em>udocker run --nosysdirs ubuntu cat /etc/lsb-release</span><span id="e122" class="mb kz if ms b fv ok og l oh oi">DISTRIB_ID=Ubuntu<br/>DISTRIB_RELEASE=17.04<br/>DISTRIB_CODENAME=zesty<br/><strong class="ms ig">DISTRIB_DESCRIPTION="Ubuntu 17.04"</strong></span></pre><p id="f990" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">仅此而已。这是一个小的概念证明。但是你明白了。去尝试一下图片，然后在下面的评论中告诉我你的想法。</p><h1 id="aa9d" class="ky kz if bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv dt translated">这不是个好主意。但是建造它很有趣</h1><p id="d75c" class="pw-post-body-paragraph jf jg if ji b jj lw jl jm jn lx jp jq kf ly jt ju kg lz jx jy kh ma kb kc kd hn dt translated">真是让人头疼。每4小时下载一次带有docker镜像的udocker。牺牲启动时间。堵塞你的/tmp高达100%等等。(不再是了，阅读下面的UPD)。</p><p id="6e4d" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">但是如果你有一个特定的用例，这是可能的。谁知道呢，也许这篇文章会促进AWS对本地Docker的支持(#awswishlist我在看着你)。</p><p id="873b" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我相信这将激励社区建立下一个疯狂的想法。就像这些人激励我一样:</p><div class="ht hu fm fo hv ol"><a rel="noopener follow" target="_blank" href="/clog/ssh-ing-into-your-aws-lambda-functions-c940cebf7646"><div class="om ab ej"><div class="on ab oo cl cj op"><h2 class="bd ig fv z el oq eo ep or er et ie dt translated">SSH到您的AWS Lambda函数中</h2><div class="os l"><h3 class="bd b fv z el oq eo ep or er et ek translated">无服务器有服务器的最终证明？</h3></div><div class="ot l"><p class="bd b gc z el oq eo ep or er et ek translated">medium.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ib ol"/></div></div></a></div><div class="ht hu fm fo hv ol"><a rel="noopener follow" target="_blank" href="/@marco.luethy/running-headless-chrome-on-aws-lambda-fa82ad33a9eb"><div class="om ab ej"><div class="on ab oo cl cj op"><h2 class="bd ig fv z el oq eo ep or er et ie dt translated">如何让无头Chrome在AWS Lambda上运行</h2><div class="os l"><h3 class="bd b fv z el oq eo ep or er et ek translated">让Chrome(阅读:Chrome)从编译到在AWS Lambda上部署“无服务器”运行的冒险。</h3></div><div class="ot l"><p class="bd b gc z el oq eo ep or er et ek translated">medium.com</p></div></div><div class="ou l"><div class="pa l ow ox oy ou oz ib ol"/></div></div></a></div></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><p id="5150" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><em class="jh">附言，感谢您的阅读。点击💚如果您想要更多，请订阅；)</em></p></div><div class="ab cl ki kj hc kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hn ho hp hq hr"><p id="8fa2" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><strong class="ji ig"> P.P.S. UPD:在这篇文章发表前一个月，</strong><a class="mt mu gr" href="https://medium.com/u/e2bc97b56a68?source=post_page-----7184dc47c09b--------------------------------" rel="noopener" target="_blank">german moltó</a>已经开发了一个框架来实现在Lambda运行Docker的类似想法！</p><p id="d693" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">满足<strong class="ji ig">SCAR</strong>——无服务器容器感知架构！</p><div class="ht hu fm fo hv ol"><a href="https://github.com/grycap/scar" rel="noopener  ugc nofollow" target="_blank"><div class="om ab ej"><div class="on ab oo cl cj op"><h2 class="bd ig fv z el oq eo ep or er et ie dt translated">鹰帽/伤疤</h2><div class="os l"><h3 class="bd b fv z el oq eo ep or er et ek translated">scar -无服务器容器感知架构(例如AWS Lambda中的Docker容器)</h3></div><div class="ot l"><p class="bd b gc z el oq eo ep or er et ek translated">github.com</p></div></div><div class="ou l"><div class="pb l ow ox oy ou oz ib ol"/></div></div></a></div><div class="kq kr ks kt fq ab cb"><figure class="pc hw pd pe pf pg ph paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="pc hw pd pe pf pg ph paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="pc hw pd pe pf pg ph paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="jc jd je"><p id="f922" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae ke" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客们开始他们下午的方式。我们是<a class="ae ke" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家族的一员。我们现在<a class="ae ke" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受提交</a>并很高兴<a class="ae ke" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果您喜欢这个故事，我们建议您阅读我们的<a class="ae ke" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae ke" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实视为理所当然！</p></blockquote><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff pi"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure></div></div>    
</body>
</html>