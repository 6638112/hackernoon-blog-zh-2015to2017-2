<html>
<head>
<title>Canary Release with Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">金丝雀释放与Kubernetes</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/canary-release-with-kubernetes-1b732f2832ac?source=collection_archive---------5-----------------------#2017-03-28">https://medium.com/hackernoon/canary-release-with-kubernetes-1b732f2832ac?source=collection_archive---------5-----------------------#2017-03-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="c834" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安全轻松地部署新版本的web <a class="ae jp" href="https://hackernoon.com/tagged/app" rel="noopener ugc nofollow" target="_blank">应用</a></p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/60e2fbd0e0c06cc6a487b897b424469b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9E9k5-g5XqSMlf2WNIwqeA.jpeg"/></div></div></figure><p id="fc9d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://martinfowler.com/bliki/CanaryRelease.html" rel="noopener ugc nofollow" target="_blank"> Canary Release </a>是我们用来将一个新版本的<a class="ae jp" href="https://hackernoon.com/tagged/application" rel="noopener ugc nofollow" target="_blank">应用</a>“软”部署到产品中的技术。它包括只让一部分观众访问新版本的应用程序，而其他人仍然可以访问“旧”版本的应用程序。当我们想要确定稳定性时，这是非常有用的，以防任何变化可能会破坏稳定性，并产生很大的副作用。</p><p id="d449" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关键是:金丝雀释放从来就不容易付诸实践。根据我们所处的环境，它可能需要很长时间才能到位，因此我们通常更愿意将它放在一边。</p><p id="0d5f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，使用Docker容器和Kubernetes编排，这样做是非常友好的。在这里，我将展示如何使用这个工具来做一个虚拟网站的新版本的小金丝雀部署。</p><p id="0ccb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些是我们网站的版本:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kc"><img src="../Images/b995d58b0f3be42d043152fd037fc132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mFijMfmMuDdduh5-Ls0TGQ.jpeg"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">On the left, musicstore v1; on the right, the new version v2</figcaption></figure><h1 id="5b28" class="kh ki hu bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le dt translated">设置环境</h1><p id="1b5f" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">为了在本地使用Kubernetes，我们将安装<a class="ae jp" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> minikube </a>和<a class="ae jp" href="https://kubernetes.io/docs/tasks/kubectl/install/" rel="noopener ugc nofollow" target="_blank"> kubectl </a>。我们还需要安装<a class="ae jp" href="https://docs.docker.com/engine/installation/" rel="noopener ugc nofollow" target="_blank">码头</a>。</p><p id="41f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装好所有东西后，我们启动minikube，以启动并运行Kubernetes:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="7a30" class="lp ki hu ll b fv lq lr l ls lt">minikube start</span></pre><p id="da35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为响应，终端将显示:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="8369" class="lp ki hu ll b fv lq lr l ls lt">Starting local Kubernetes cluster...<br/>Starting VM...<br/>SSH-ing files into VM...<br/>Setting up certs...<br/>Starting cluster components...<br/>Connecting to cluster...<br/>Setting up kubeconfig...<br/>Kubectl is now configured to use the cluster.</span></pre><p id="6793" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第二步:调用这个命令在Minikube中运行Docker:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="7da3" class="lp ki hu ll b fv lq lr l ls lt">eval $(minikube docker-env)<br/></span></pre><h2 id="12fc" class="lp ki hu bd kj lu lv lw kn lx ly lz kr jc ma mb kv jg mc md kz jk me mf ld mg dt translated">设置数据库和后端</h2><p id="dbfe" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">对于这个应用程序，后端将是一个在Go中开发的API，对Mongo数据库进行查询。我们不会详细讨论这一部分，因为这里的目的不是展示如何在Go 中开发REST API。</p><p id="d4f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要部署后端，<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment/tree/master/api-golang/musicstore" rel="noopener ugc nofollow" target="_blank">克隆存储库</a>并使用下面的命令构建docker映像:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="bbcb" class="lp ki hu ll b fv lq lr l ls lt">docker build -t api-musicstore .</span></pre><h2 id="293e" class="lp ki hu bd kj lu lv lw kn lx ly lz kr jc ma mb kv jg mc md kz jk me mf ld mg dt translated">可选步骤:在数据库中插入一些数据:</h2><p id="0d80" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">使用以下命令输入docker容器:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="2af2" class="lp ki hu ll b fv lq lr l ls lt">docker exec -t -i &lt;mongo_container&gt; /bin/bash</span></pre><p id="5f2b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其中<strong class="it hv">&lt;mongo _ container&gt;</strong>是针对mongo映像运行的容器的id。跑完就能发现</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="c614" class="lp ki hu ll b fv lq lr l ls lt">docker ps</span><span id="05cb" class="lp ki hu ll b fv mh lr l ls lt">CONTAINER ID        IMAGE                                                        COMMAND                  CREATED             STATUS              PORTS               NAMES<br/>3304ee6ab94e        api-musicstore:v1                                            "/go/bin/musicstore"     3 minutes ago       Up 4 minutes                            k8s_backend.72a7365d_api-musicstore-931708012-g4grg_musicstore_442ad9d4-123c-11e7-ae23-0800275d1cac_9f1e978d<br/><strong class="ll hv">75b2eca8cf1f        mongo </strong>                                                       "docker-entrypoint..."   4 minutes ago       Up 4 minutes                            k8s_db.b9d32dcd_api-musicstore-931708012-g4grg_musicstore_442ad9d4-123c-11e7-ae23-0800275d1cac_67653438</span></pre><p id="2bb8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这种情况下，<mongo_container>就是<strong class="it hv"> 75b2eca8cf1f </strong>。所以我们跑:</mongo_container></p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="e06f" class="lp ki hu ll b fv lq lr l ls lt">docker exec -t -i <strong class="ll hv">75b2eca8cf1f</strong> /bin/bash</span></pre><p id="e4ea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在容器内部，我们使用以下命令打开mongo命令行工具:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="0901" class="lp ki hu ll b fv lq lr l ls lt">mongo</span></pre><p id="059a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦我们进入mongo，复制粘贴下面的内容，然后按Enter键:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mi mj l"/></div></figure><p id="1efd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样！现在我们的数据库中有了一些种子数据，让我们现在部署将与网站通信的REST API！</p><h2 id="c8f1" class="lp ki hu bd kj lu lv lw kn lx ly lz kr jc ma mb kv jg mc md kz jk me mf ld mg dt translated">部署后端:REST API</h2><p id="5930" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">通常，我喜欢在名称空间中组织我的部署和服务。这里，我创建了一个名称空间musicstore来部署我的Music Store虚拟应用程序。</p><p id="f753" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要创建这个名称空间，<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment/blob/master/kubeconfig/namespace.yaml" rel="noopener ugc nofollow" target="_blank">在本地复制这个文件</a>,并运行以下命令:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="e784" class="lp ki hu ll b fv lq lr l ls lt">kubectl create -f namespace.yaml</span></pre><p id="c741" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之后，<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment/tree/master/kubeconfig/back" rel="noopener ugc nofollow" target="_blank">复制这些文件</a>并运行以下命令，以便在Kubernetes中创建API/DB部署:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="aaac" class="lp ki hu ll b fv lq lr l ls lt">kubectl create -f deployment.json</span></pre><blockquote class="mk ml mm"><p id="0ab6" class="ir is mn it b iu iv iw ix iy iz ja jb mo jd je jf mp jh ji jj mq jl jm jn jo hn dt translated">注意:Kubernetes的配置文件可以在JSON和YAML两种结构中创建。</p></blockquote><p id="0b51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要创建副本控制器，请运行以下命令:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="a4c5" class="lp ki hu ll b fv lq lr l ls lt">kubectl create -f rc.yaml</span></pre><p id="8698" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，我们可以创建服务，我们的后端已经准备好运行了:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="c2a2" class="lp ki hu ll b fv lq lr l ls lt">kubectl create -f service.json</span></pre><p id="12a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以看到我们的API部署得很好，查询URL并在web浏览器中打开它:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="c8cd" class="lp ki hu ll b fv lq lr l ls lt">minikube service api-musicstore --url --namespace=musicstore<br/><a class="ae jp" href="http://192.168.99.100:32495" rel="noopener ugc nofollow" target="_blank">http://&lt;url&gt;:32495</a></span></pre><blockquote class="mk ml mm"><p id="fafb" class="ir is mn it b iu iv iw ix iy iz ja jb mo jd je jf mp jh ji jj mq jl jm jn jo hn dt translated">不要忘记指定名称空间musicstore，否则kubectl会在默认名称空间中搜索服务，但它不会找到！</p></blockquote></div><div class="ab cl mr ms hc mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hn ho hp hq hr"><h1 id="1c66" class="kh ki hu bd kj kk my km kn ko mz kq kr ks na ku kv kw nb ky kz la nc lc ld le dt translated">部署音乐商店虚拟网站的版本1</h1><p id="b7dd" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">现在我们要为网站的第一版建立图像。为了做到这一点，您将需要克隆<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment/tree/master/musicstore" rel="noopener ugc nofollow" target="_blank">这个存储库</a>并运行以下命令:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="0708" class="lp ki hu ll b fv lq lr l ls lt">docker build -t musicstore:v1 .</span></pre><p id="ce31" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">构建好容器后，我们可以继续进行部署了。首先，我们创建我们的服务:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="3e7d" class="lp ki hu ll b fv lq lr l ls lt">kubectl -f service.yaml</span></pre><p id="d015" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这将创建音乐商店网站服务。我们将创建部署，以便我们可以部署我们的代码来由该服务提供服务。让我们获取它的URL，并保留它以供以后测试:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="df48" class="lp ki hu ll b fv lq lr l ls lt">minikube service musicstore-website --url --namespace=musicstore<br/><a class="ae jp" href="http://192.168.99.100:32000" rel="noopener ugc nofollow" target="_blank">http://&lt;url&gt;:32000</a></span></pre><p id="0ff0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们看一下部署配置文件:我们将要求Kubernetes创建该网站的3个副本，以便处理流量和负载平衡。所有复制品将在第一时间指向对应于音乐商店网站版本v1的图像的图像:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mi mj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">The deployment file of version 1 of our Music Store</figcaption></figure><p id="0bdb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们部署它:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="5af0" class="lp ki hu ll b fv lq lr l ls lt">kubectl create -f deployment-without-canary.json</span></pre><p id="513c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，如果你打开网站，你会看到它的版本1:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/cecbc78bd364b0154ea1eb0ce90cba0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*XhmNQbOWVXKWkkbUAt0Zyg.jpeg"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Website after first deployment</figcaption></figure></div><div class="ab cl mr ms hc mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hn ho hp hq hr"><h1 id="bfb7" class="kh ki hu bd kj kk my km kn ko mz kq kr ks na ku kv kw nb ky kz la nc lc ld le dt translated">使用canary部署来部署音乐商店虚拟网站的版本2</h1><p id="e851" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">部署版本2的第一步是为它创建一个docker映像，就像我们为版本1所做的一样。</p><p id="255a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment/tree/master/musicstorev2" rel="noopener ugc nofollow" target="_blank">从这里复制内容</a>并在终端中运行以下命令:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="091c" class="lp ki hu ll b fv lq lr l ls lt">docker build -t musicstore:v2 .</span></pre><p id="c921" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如前所述，我们创建了前端服务的3个副本。如前所述，canary部署的想法是获取一部分流量，并将其重定向到新版本。</p><p id="0379" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将实现这一点，将我们服务的一个副本指向音乐商店的新版本。像这样，大部分流量还是会被重定向到版本1。</p><p id="ae6c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为此，我们运行以下命令:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="efb1" class="lp ki hu ll b fv lq lr l ls lt">kubectl apply deployment.json<br/>kubectl apply deployment-canary.json</span></pre><p id="149b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用这个命令，我们告诉Kubernetes将这个部署应用到我们的环境中。如果我们看一下这个文件，我们会发现关于版本1的部署，它唯一改变的是标签“canary”(另一个版本被认为是“稳定的”)，以及副本的数量(1个用于新版本，2个用于旧版本)。当然，它指向Docker图像<strong class="it hv"> musicstore:v2 </strong>:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mi mj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">The Canary Release deployment file of version 2</figcaption></figure><p id="1c62" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是版本1的部署情况，有两个副本指向稳定版本:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mi mj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Canary Release: depoloyment of version 1 with 2 replicas instead of 3</figcaption></figure><p id="faea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，我们可以看到一些流量已经看到我们的音乐商店虚拟应用程序的版本2:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ne"><img src="../Images/8de5bfcbf49a5a4fd70d461622d193c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tYqKLHYioAeLFF7QVroZrA.jpeg"/></div></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Musicstore version 2</figcaption></figure></div><div class="ab cl mr ms hc mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hn ho hp hq hr"><h1 id="ec51" class="kh ki hu bd kj kk my km kn ko mz kq kr ks na ku kv kw nb ky kz la nc lc ld le dt translated">推出新版本</h1><p id="110d" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">现在，我们可以放心大胆地使用新版本了。使用canary delpoyment，这很简单:我们只需要将所有副本设置为指向运行音乐商店版本2映像的稳定版本:</p><pre class="jr js jt ju fq lk ll lm ln aw lo dt"><span id="5be5" class="lp ki hu ll b fv lq lr l ls lt">kubectl apply deployment-new-version.json</span></pre><p id="7f33" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我们的deployment-new-version.json的外观:</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mi mj l"/></div><figcaption class="kd ke fg fe ff kf kg bd b be z ek">Rollout file of version 2</figcaption></figure><p id="d525" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">非常好！现在，每个人都可以看到音乐商店网站的新版本！</p><p id="b081" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本教程中用到的所有文件都可以在<a class="ae jp" href="https://github.com/morris-ribs/canary-deployment" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="22e7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一个释放金丝雀的好例子可以在<a class="ae jp" href="https://github.com/kelseyhightower/talks/tree/master/kubecon-eu-2016/demo" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><div class="jr js jt ju fq ab cb"><figure class="nf jv ng nh ni nj nk paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="nf jv ng nh ni nj nk paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="nf jv ng nh ni nj nk paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="mk ml mm"><p id="f922" class="ir is mn it b iu iv iw ix iy iz ja jb mo jd je jf mp jh ji jj mq jl jm jn jo hn dt translated"><a class="ae jp" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae jp" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae jp" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jp" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="ir is mn it b iu iv iw ix iy iz ja jb mo jd je jf mp jh ji jj mq jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jp" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jp" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff nl"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></div></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="nm mj l"/></div></figure></div></div>    
</body>
</html>