<html>
<head>
<title>ACM Month Of Code 2k17: Building Moodify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">代码2k17的ACM月:构建修改</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/acm-month-of-code-2k17-building-moodify-d5d9e0c52ca7?source=collection_archive---------12-----------------------#2017-04-18">https://medium.com/hackernoon/acm-month-of-code-2k17-building-moodify-d5d9e0c52ca7?source=collection_archive---------12-----------------------#2017-04-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class="fi fk ir is it ab cb"><figure class="iu iv iw ix iy iz ja paragraph-image"><div role="button" tabindex="0" class="jb jc di jd bf je"><img src="../Images/f66e116af063236ef758745ce150a7ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*6_91YlqY3g5Can1ssxqvYA.gif"/></div></figure><figure class="iu iv iw ix iy iz ja paragraph-image"><div role="button" tabindex="0" class="jb jc di jd bf je"><img src="../Images/658231216b729e57c676e41793f25903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*wg5oDgauJ_Ebn658siGeuQ.gif"/></div><figcaption class="jh ji fg fe ff jj jk bd b be z ek jl di jm jn">Moodify in action</figcaption></figure></div><p id="3393" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">三月是一个收获颇丰的月份，这都要归功于NIT Surat学生分会计算机械协会举办的这次大型活动。基本上在一个月内完成你能做的，并在演示中展示出来。关键是所有方面的创新和实现，包括编程、设计甚至代码本身。</p><p id="5fd0" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这个想法(是丹努什想出来的)是一个应用程序，它可以从拍摄的照片中识别你的情绪，并在音乐播放器中生成一个合适的播放列表。很漂亮，是吧？</p><h1 id="c163" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">履行</h1><p id="9da0" class="pw-post-body-paragraph jo jp hu jq b jr lk jt ju jv ll jx jy jz lm kb kc kd ln kf kg kh lo kj kk kl hn dt translated">一开始，我们实际上迷失了很长一段时间，因为这个想法使用了较少记录的技术，当然我们也没有教程可以遵循。但是经过研究和实验，我们决定使用<strong class="jq hv"> <em class="lp"> OpenCV </em> </strong>和Python来创建可以从捕获的图像中提取情绪的脚本，并且由于编码已经用Python开始，<strong class="jq hv"> <em class="lp"> Flask </em> </strong>被选为框架，用于将所有这一切包装为WebApp。</p><h1 id="10f5" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">网络应用</h1><p id="db60" class="pw-post-body-paragraph jo jp hu jq b jr lk jt ju jv ll jx jy jz lm kb kc kd ln kf kg kh lo kj kk kl hn dt translated">开发工作被分成多个部分，像照相机、音乐播放器和处理路线和数据库的服务器。所以前端用<strong class="jq hv"> <em class="lp"> AngularJS </em> </strong>编程，给它一个app似的流程，而UI设计在<strong class="jq hv"><em class="lp">Materialize</em></strong>CSS库之上。</p><p id="5158" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">谈到单个组件，</p><div class="lq lr ls lt fq ab cb"><figure class="iu iv lu ix iy iz ja paragraph-image"><div role="button" tabindex="0" class="jb jc di jd bf je"><img src="../Images/0a99c05acea924ec21efefb61618d3dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*8g1u6lx6vozq9IvOzGgrMA.png"/></div></figure><figure class="iu iv lv ix iy iz ja paragraph-image"><div role="button" tabindex="0" class="jb jc di jd bf je"><img src="../Images/10dc71317599a9c772356919e2235ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*UeFxlqcYORetDdvWrTedAw.png"/></div><figcaption class="jh ji fg fe ff jj jk bd b be z ek lw di lx jn">The Camera and the Music Player</figcaption></figure></div><p id="c7a8" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated"><em class="lp"> Camera </em> : WebcamJS主要用于处理只有前端的cam，生成的base64图像传入服务器。</p><p id="a8a3" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated"><em class="lp">音乐播放器</em> : SoundManager 2 API，使用AngularJS实现，用于处理音频文件</p><p id="853d" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">服务器:这是一个基本的Flask服务器，它连接到MongoDB数据库并处理路由。这个应用程序的基本路线是:</p><ul class=""><li id="1cbc" class="ly lz hu jq b jr js jv jw jz ma kd mb kh mc kl md me mf mg dt translated"><strong class="jq hv"> /index </strong> : <strong class="jq hv"> </strong>重定向到Cam-app的主路径或初始路径</li><li id="db65" class="ly lz hu jq b jr mh jv mi jz mj kd mk kh ml kl md me mf mg dt translated"><strong class="jq hv"> /cam </strong>:链接到相机，保存快照到服务器</li><li id="d0ee" class="ly lz hu jq b jr mh jv mi jz mj kd mk kh ml kl md me mf mg dt translated"><strong class="jq hv"> /player </strong>:链接到音乐播放器，也从URL中获取情绪作为参数，以便从DB中仅获取情绪特定的歌曲。</li><li id="960a" class="ly lz hu jq b jr mh jv mi jz mj kd mk kh ml kl md me mf mg dt translated"><strong class="jq hv"> /emotion </strong>:运行一个python脚本，该脚本使用snap in server提取情绪并返回其值</li><li id="b82a" class="ly lz hu jq b jr mh jv mi jz mj kd mk kh ml kl md me mf mg dt translated"><strong class="jq hv"> /songs </strong> : GET请求MongoDB返回歌曲的JSON数据</li></ul><div class="lq lr ls lt fq ab cb"><figure class="iu iv mm ix iy iz ja paragraph-image"><img src="../Images/4dd4042303d4e8e04a1638bf753d8b17.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*nZ78eaDup_n7OhHNrXKHcQ.png"/></figure><figure class="iu iv mn ix iy iz ja paragraph-image"><img src="../Images/bfcb41c41e5f0d9a4ec9124f0e023436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*kEFz8a7utzxy_oE4AezMvQ.png"/><figcaption class="jh ji fg fe ff jj jk bd b be z ek mo di mp jn">WebApp file structure and Database JSON data</figcaption></figure></div><h1 id="df5f" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">应用程序流程</h1><p id="d72a" class="pw-post-body-paragraph jo jp hu jq b jr lk jt ju jv ll jx jy jz lm kb kc kd ln kf kg kh lo kj kk kl hn dt translated">你从/ <strong class="jq hv">相机</strong>开始，在那里你可以拍照、重拍并继续拍摄。这基本上是将快照保存到服务器，并转到<strong class="jq hv"> /emotion </strong>路由来调用Python脚本，该脚本提取情绪并将其返回，重定向到/ <strong class="jq hv">播放器</strong>，并将情绪作为参数。/ <strong class="jq hv">播放器</strong>用情绪参数调用<strong class="jq hv"> /songs </strong>，根据生成的情绪返回歌曲。这显示在音乐播放器中。</p><h1 id="8efb" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">情绪识别</h1><p id="2dee" class="pw-post-body-paragraph jo jp hu jq b jr lk jt ju jv ll jx jy jz lm kb kc kd ln kf kg kh lo kj kk kl hn dt translated">好吧，这部分不完全是我的，但我会试着用我理解的方式简单地解释一下。基本上，/ <strong class="jq hv"> emotion </strong> route从cam获取图像并将其存储在服务器中，情绪识别脚本在服务器上运行。</p><p id="c94e" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">该脚本最初优化图像，以便最准确地进行检测，基本上只是将图像裁剪到脸部，然后转换为灰度。现在图像已经准备好了，OpenCV分析轮廓并检测面部的特征或标志，如图所示。</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div class="fe ff mq"><img src="../Images/2bc3ea62c80be518a4be9471a8a1c309.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*QCkOmdY6vGRiMMOmZijRWQ.png"/></div><figcaption class="jh ji fg fe ff jj jk bd b be z ek">Detecting facial landmarks</figcaption></figure><p id="b0ef" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">使用这些数据，加上机器学习，可以识别情绪。模型是通过在很多面上训练而成的。显示相同情绪的多张脸被作为训练数据输入，因此当它得到一张新脸时，它可以识别最接近的情绪。</p><figure class="lq lr ls lt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="jb jc di jd bf je"><div class="fe ff mr"><img src="../Images/09d2e84712a300a7cde1e30a77a00962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qT_KBMx2hQGcARdjHkZ8lA.png"/></div></div><figcaption class="jh ji fg fe ff jj jk bd b be z ek">Training data for anger mood</figcaption></figure><p id="602e" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">这是通过使用OpenCV实现的，更准确地说，是用于面部识别的Haar级联和用于面部标志分析的dlib预测器。</p><h1 id="059e" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">项目和开发商</h1><p id="f8fe" class="pw-post-body-paragraph jo jp hu jq b jr lk jt ju jv ll jx jy jz lm kb kc kd ln kf kg kh lo kj kk kl hn dt translated">项目的官方资源库:</p><div class="ms mt fm fo mu mv"><a href="https://github.com/ajayns/amoc-project" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab ej"><div class="mx ab my cl cj mz"><h2 class="bd hv fv z el na eo ep nb er et ht dt translated">ajayns/amoc项目</h2><div class="nc l"><h3 class="bd b fv z el na eo ep nb er et ek translated">amoc-project - Moodify:从面部识别情绪，在音乐播放器中生成合适的播放列表</h3></div><div class="nd l"><p class="bd b gc z el na eo ep nb er et ek translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jf mv"/></div></div></a></div><p id="9f75" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">开发者:</p><div class="ms mt fm fo mu mv"><a href="https://github.com/ajayns" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab ej"><div class="mx ab my cl cj mz"><h2 class="bd hv fv z el na eo ep nb er et ht dt translated">阿杰恩斯</h2><div class="nc l"><h3 class="bd b fv z el na eo ep nb er et ek translated">ajayns有14个可用的存储库。在GitHub上关注他们的代码。</h3></div><div class="nd l"><p class="bd b gc z el na eo ep nb er et ek translated">github.com</p></div></div><div class="ne l"><div class="nk l ng nh ni ne nj jf mv"/></div></div></a></div><div class="ms mt fm fo mu mv"><a href="https://github.com/dhanushkamath" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab ej"><div class="mx ab my cl cj mz"><h2 class="bd hv fv z el na eo ep nb er et ht dt translated">达努什卡马特(丹努什卡马特)</h2><div class="nc l"><h3 class="bd b fv z el na eo ep nb er et ek translated">dhanushkamath有两个可用的存储库。在GitHub上关注他们的代码。</h3></div><div class="nd l"><p class="bd b gc z el na eo ep nb er et ek translated">github.com</p></div></div><div class="ne l"><div class="nl l ng nh ni ne nj jf mv"/></div></div></a></div></div><div class="ab cl nm nn hc no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="hn ho hp hq hr"><p id="0d8d" class="pw-post-body-paragraph jo jp hu jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hn dt translated">此外，随时联系我在ajay.ns@outlook.com，检查我的<a class="ae nt" href="https://github.com/ajayns" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。如果你觉得有用，请推荐并分享我的帖子。</p></div></div>    
</body>
</html>