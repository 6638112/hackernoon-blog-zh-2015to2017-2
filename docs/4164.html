<html>
<head>
<title>Getting Started with Activity stream</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">活动流入门</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/getting-started-with-activity-stream-d7d5a528394c?source=collection_archive---------10-----------------------#2017-05-16">https://medium.com/hackernoon/getting-started-with-activity-stream-d7d5a528394c?source=collection_archive---------10-----------------------#2017-05-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ed57" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">今天，每个应用程序都间接使用活动流的概念，但是人们不知道有一个由社区专门为此目的定义的协议。</p><p id="eca1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">那么，什么是活动流呢？</strong></p><p id="72a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">活动流是一种协议(规范),用于以适当的结构化方式记录业务级事件。例如:脸书的新闻提要，Github的活动提要等。</p><p id="8b26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在任何标准系统中，通常都有很多我们想要坚持的活动。我们可以以协同编辑平台、社交平台、订单管理系统等为例。</p><p id="b11b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最好在活动流之上使用状态机来对系统施加规则。这两件事一起帮助你建立一个健壮的系统。</p><p id="a158" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们先来讨论一下规格:</p><p id="73f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在活动流中，你将事件分解成一个类似英语的句子，句子中有<code class="eh jp jq jr js b"><strong class="it hv">Actor Verb Object Target</strong></code></p><p id="8912" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如这个事件:<code class="eh jp jq jr js b">CustomerA placed an order for hotelA.</code>所以我们可以把它分解成<code class="eh jp jq jr js b"><strong class="it hv">Actor</strong> <strong class="it hv">verb</strong> <strong class="it hv">object</strong> <strong class="it hv">target</strong></code>的格式</p><p id="978a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> Actor </strong>:客户id</p><p id="470c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">动词</strong>:放置/状态</p><p id="9298" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">对象</strong>:订单标识</p><p id="54f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">目标</strong>:酒店标识</p><p id="24ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通常，我们用活动的名称创建<strong class="it hv">集合/表</strong>，其中我们有以下字段/列:actor、verb、object、target、created_at/published_at。</p><p id="8d17" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，我们将业务事件/活动分解成动词，如:<strong class="it hv">放置、交付、发送、分派</strong>等。</p><p id="aaa3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在把我们的<strong class="it hv">对象</strong>想象成<strong class="it hv">订单/朋友请求/演示请求</strong>等等。</p><p id="c912" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后是<strong class="it hv">目标</strong>组，它可以保存一个<strong class="it hv">单引用或组引用</strong>如:<strong class="it hv">朋友id、酒店id、文档id、组id等</strong>。</p><p id="8efd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，通过这种方式，我们可以在集合中记录每个业务级别的事件。</p><p id="6bb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用活动流的首要原则是你永远不要覆盖任何事件/活动。</p><p id="e30b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你避免在活动集合的基础上做决定。您只是将它作为只读文件使用。并将该信息用于后面的分析。</p><p id="e647" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以绑定这些事件来通知目标客户或向他们显示活动日志等。</p><p id="3fd2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，使用上述方法，你可以很容易地建立一个新闻提要，活动管理器等。</p><p id="23a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有许多开放源码包可供使用，您可以轻松地将其与您的系统集成。</p><p id="1c5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于<a class="ae jt" href="https://hackernoon.com/tagged/java" rel="noopener ugc nofollow" target="_blank"> java </a>和<a class="ae jt" href="https://hackernoon.com/tagged/python" rel="noopener ugc nofollow" target="_blank"> python </a>你可以参考这些链接:</p><p id="598f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">【https://github.com/OpenSocial/activitystreams T4】</p><p id="40f9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jt" href="http://django-activity-stream.readthedocs.io/en/latest/streams.html" rel="noopener ugc nofollow" target="_blank">http://django-activity-stream . readthedocs . io/en/latest/streams . html</a></p></div><div class="ab cl ju jv hc jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hn ho hp hq hr"><h1 id="aed7" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论:</h1><p id="4524" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">我希望我把一切都解释得足够清楚，让你明白。如果你有任何问题，请随意提问。你可以在推特  <em class="le">上找到我<a class="ae jt" href="https://twitter.com/rohitkhatana3" rel="noopener ugc nofollow" target="_blank"> <em class="le">。</em></a></em></p><p id="4e2d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请务必点击下面的“绿心”并关注我，了解更多关于技术的故事:)</p><blockquote class="lf lg lh"><p id="1ef5" class="ir is le it b iu iv iw ix iy iz ja jb li jd je jf lj jh ji jj lk jl jm jn jo hn dt translated"><a class="ae jt" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是阿妹家庭的一员。我们现在<a class="ae jt" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae jt" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>的机会。</p><p id="dca4" class="ir is le it b iu iv iw ix iy iz ja jb li jd je jf lj jh ji jj lk jl jm jn jo hn dt translated">要了解更多信息，请阅读我们的“关于”页面、<a class="ae jt" href="http://bit.ly/HackernoonFB" rel="noopener ugc nofollow" target="_blank">喜欢/在脸书上给我们发消息</a>，或者简单地发送<a class="ae jt" href="https://goo.gl/k7XYbx" rel="noopener ugc nofollow" target="_blank"> tweet/DM @HackerNoon。</a></p><p id="708a" class="ir is le it b iu iv iw ix iy iz ja jb li jd je jf lj jh ji jj lk jl jm jn jo hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae jt" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae jt" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="ll lm ln lo fq lp"><div class="bz el l di"><div class="lq lr l"/></div></figure></div></div>    
</body>
</html>