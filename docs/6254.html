<html>
<head>
<title>Accepting Payments in a React Native App (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React本地应用程序中接受支付(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/accepting-payments-in-a-react-native-app-part-1-9cb09a271f59?source=collection_archive---------6-----------------------#2017-09-10">https://medium.com/hackernoon/accepting-payments-in-a-react-native-app-part-1-9cb09a271f59?source=collection_archive---------6-----------------------#2017-09-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="d47b" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">将Braintree支付集成到React本地应用程序中</h2></div><h2 id="3af9" class="jj jk hu bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dt translated">背景</h2><p id="6413" class="pw-post-body-paragraph kh ki hu kj b kk kl iv km kn ko iy kp ju kq kr ks jy kt ku kv kc kw kx ky kz hn dt translated">最近，我需要在一个本地应用程序中集成一个支付平台。幸运的是，有许多用户友好的支付提供商可用于移动应用程序。我决定选择<a class="ae la" href="https://www.braintreepayments.com/" rel="noopener ugc nofollow" target="_blank">的Braintree </a>，因为它内置了<a class="ae la" href="https://hackernoon.com/tagged/paypal" rel="noopener ugc nofollow" target="_blank">的Paypal </a>集成。然而，我相信本文中介绍的技术可以应用到与其他支付提供商的合作中。</p><p id="ecd1" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">不仅有几个支付提供商，还有多个与React本地应用程序一起工作的支付库。谷歌快速搜索显示，有几个是专门针对布伦特里的。然而，由于我的应用程序与<a class="ae la" href="https://expo.io" rel="noopener ugc nofollow" target="_blank"> Expo、</a>的集成，我需要一个排除本机代码的解决方案，不幸的是，所有当前的(在本文发表时)跨平台解决方案都需要一些本机代码。</p><p id="e867" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">这意味着我需要创造我自己的…</p><figure class="lh li lj lk fq ll fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/fabd182fc6e23da9cf5a2013f1a7b6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/0*aO6sa4I4NJGHMkVc.jpg"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek">That feeling you get when you can’t find what you need in npm.</figcaption></figure><p id="df31" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">因此，在这一系列的文章中，我将创建一个只有JavaScript(没有本地代码)的Braintree支付组件，并以NPM包的形式发布该组件。为了保证每篇文章都是“一口大小”，文章的划分如下:</p><ol class=""><li id="d018" class="ls lt hu kj b kk lb kn lc ju lu jy lv kc lw kz lx ly lz ma dt translated"><a class="ae la" rel="noopener" href="/@reginald.johnson/accepting-payments-in-a-react-native-app-part-1-9cb09a271f59">项目介绍</a>。这一部分听起来可能不多，但它很好地解释了所有东西是如何组合在一起的。</li><li id="86b0" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated"><a class="ae la" rel="noopener" href="/@reginald.johnson/accepting-payments-in-a-react-native-app-part-2-b8927487ea9c">使用亚马逊网络服务的应用服务器</a>。这一部分解释了如何以安全的方式与Braintree的服务器进行交互。</li><li id="44df" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated"><a class="ae la" rel="noopener" href="/react-native-training/accepting-payments-in-a-react-native-app-part-3-c22828ecab13">使用Vanilla-JavaScript的初始版本</a>讨论构建一个可以接收付款的应用程序。</li><li id="502e" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated"><a class="ae la" rel="noopener" href="/@reginald.johnson/accepting-payments-in-a-react-native-app-part-4-cb4f7c02c193">基于React组件的版本</a>是关于将React放入React本地应用中。</li></ol><figure class="lh li lj lk fq ll fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/10ad3937217fe860ff9ce0902b8d705d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*NnlTI02w-QsK0ztto10wiA.png"/></div><figcaption class="lo lp fg fe ff lq lr bd b be z ek">The three different code based portions of this series</figcaption></figure><p id="b4cc" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">我的目标是，写这些文章将迫使我提高对所列主题的了解，记录我的发现以供将来参考，并帮助有相同需求的其他人。</p><h2 id="1d44" class="jj jk hu bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dt translated">应用</h2><p id="610b" class="pw-post-body-paragraph kh ki hu kj b kk kl iv km kn ko iy kp ju kq kr ks jy kt ku kv kc kw kx ky kz hn dt translated">我预计这个系列将具有超越React Native的适用性。例如，我将讨论使用AWS Lambda的服务器集成(它本身对node.js具有适用性)。此外，React Native (RN)是React的核心，React本身是建立在HTML和JavaScript之上的，所以不要让我对RN的关注影响了你。在这个过程中还会有一些webpack和CSS。最后，我见过的所有支付系统都有一个基于令牌的认证和授权系统，与第三方认证系统极其相似。</p><p id="db3d" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">底线是不要让我用的锤子分散你建造狗屋的注意力。技术是重要的部分，不一定是工具。</p><h2 id="3383" class="jj jk hu bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dt translated">设计</h2><p id="b1ed" class="pw-post-body-paragraph kh ki hu kj b kk kl iv km kn ko iy kp ju kq kr ks jy kt ku kv kc kw kx ky kz hn dt translated">我将在这里简要介绍该项目的预期设计。然而，每篇文章都将有一个与特定阶段相关的更深入的设计讨论。</p><p id="4aa7" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">总体而言，该项目将实现以下目标:</p><ol class=""><li id="2890" class="ls lt hu kj b kk lb kn lc ju lu jy lv kc lw kz lx ly lz ma dt translated">向用户呈现要“购买”的项目。</li><li id="1c3d" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">用户将这些商品放入购物车。</li><li id="4d80" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">用户开始购买流程，以便他们可以支付这些项目。</li><li id="37db" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">用户输入他们的支付信息。</li><li id="0eb3" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">布伦特里处理付款。</li><li id="bb4f" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">用户看到基于购买状态的反馈。</li></ol><p id="7124" class="pw-post-body-paragraph kh ki hu kj b kk lb iv km kn lc iy kp ju ld kr ks jy le ku kv kc lf kx ky kz hn dt translated">现在，让我们稍微分解一下这些步骤。</p><ol class=""><li id="aa53" class="ls lt hu kj b kk lb kn lc ju lu jy lv kc lw kz lx ly lz ma dt translated">在这种情况下，不需要真正的商店；我不是在写一篇关于建设电子商务网站的文章。我可以把物品信息放在一个对象数组中。然后我可以在UI中将这些对象显示为存储项目。</li><li id="74b6" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">最简单的实现是点击一个项目，该项目触发一个事件，该事件又将该项目添加到一个表示购物车的对象中。不妨同时更新购物车的总价格。</li><li id="fc48" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">对我来说听起来像是按下按钮结账。</li><li id="3643" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">好吧！事情变得有点复杂了。幸运的是，Braintree提供了一个可以放入网页的UI元素。不幸的是，使用React Native vice只是让整个网页与原生应用程序的交互变得更有趣一点。不过不用担心，这就是我写这些文章的原因。</li><li id="e27a" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">Braintree很好地描述了支付开发过程。他们的文档提供了整个过程的概述，以及对T2客户端和T4服务器的职责和交互的描述。Braintree还提供了一个沙盒供您在学习如何使用时进行实验。</li><li id="3d4b" class="ls lt hu kj b kk mb kn mc ju md jy me kc mf kz lx ly lz ma dt translated">在Braintree支付过程完成后，向用户显示一条消息就足够了。</li></ol><h2 id="26ad" class="jj jk hu bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dt translated">履行</h2><p id="e4a9" class="pw-post-body-paragraph kh ki hu kj b kk kl iv km kn ko iy kp ju kq kr ks jy kt ku kv kc kw kx ky kz hn dt translated">同样，更多的细节将在后续文章中介绍，但是从高层次上讲，我知道我需要一个应用服务器来执行服务器功能。我将使用AWS Lambda函数和AWS API网关来实现这一功能。此外，您现在可能已经知道，我打算使用React Native来构建一个与用户和应用服务器交互的移动客户端。</p><h2 id="d0b8" class="jj jk hu bd jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg dt translated">结论</h2><p id="d40a" class="pw-post-body-paragraph kh ki hu kj b kk kl iv km kn ko iy kp ju kq kr ks jy kt ku kv kc kw kx ky kz hn dt translated">暂时就这样了。希望这篇文章已经描述了我打算做什么，我打算如何做，以及我为什么这样做。我希望在本系列的其余文章中，您能继续关注我。</p></div></div>    
</body>
</html>