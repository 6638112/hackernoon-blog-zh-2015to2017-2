<html>
<head>
<title>Tarantool vs Redis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">塔兰托尔vs雷迪斯</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/tarantool-vs-redis-38a4041cc4bc?source=collection_archive---------3-----------------------#2016-09-19">https://medium.com/hackernoon/tarantool-vs-redis-38a4041cc4bc?source=collection_archive---------3-----------------------#2016-09-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/011cec9e20ff44414c2f6409f6502ae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/0*4xFP6mgp50R8bY7g."/></div></figure><figure class="iz ja jb jc fq iv fe ff paragraph-image"><div class="fe ff iy"><img src="../Images/70d9e91551e28766a1e8b7743c4cb9c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/0*f78WQRAF3stFrJyf."/></div></figure><p id="cbbe" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">嘿伙计们，</p><p id="8ee8" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">这是列昂尼德·尤里耶夫的一篇文章的英文翻译，最初发表在https://www.facebook.com/leo.yuriev/posts/553318381522430?脸书pnref=story 。</p><p id="a455" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">帖子讲的是Leonid同时使用Tarantool和Redis的经历。这仅仅是开始。更多文章即将发表。所以让我们开始:-)</p><p id="e138" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">作为我工作的一部分，我比较了来自Redis实验室的Tarantool和Redis。</p><p id="5863" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">以下是一些中间结果。</p><ol class=""><li id="b812" class="kc kd hu jf b jg jh jk jl jo ke js kf jw kg ka kh ki kj kk dt translated">开发团队可用性</li></ol><p id="e55a" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">科斯特贾·奥西波夫和塔兰图尔团队的伙计们随时待命。</p><p id="e156" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">2.Lua的支持</p><p id="5d76" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">长话短说，Tarantool是一个真正的Lua应用服务器，而Redis只能用局部变量运行Lua函数。</p><p id="efdf" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">详细地说:</p><p id="a828" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">塔兰托尔</p><ul class=""><li id="7d13" class="kc kd hu jf b jg jh jk jl jo ke js kf jw kg ka kl ki kj kk dt translated">Tarantool有一个带有JIT的全功能Lua引擎，它与<a class="ae kb" href="https://hackernoon.com/tagged/database" rel="noopener ugc nofollow" target="_blank">数据库</a>集成在一起，并具有嵌入式纤程支持。</li><li id="e1c9" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">对于大多数阻塞libc函数，Tarantool的Lua实现有交换纤程的对应物。</li><li id="cfd7" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">你可以编写并运行一个全功能服务，它可以使用任何Lua库，使用<a class="ae kb" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a>，获取并处理内部请求，连接到外部服务。</li><li id="1567" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">存储过程和触发器只是存在，并按照它们应该的方式工作，包括你可以用C编写它们并作为共享库加载它们。</li><li id="8729" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">您可以轻松地更新/重新加载所有Lua函数，甚至无需重启服务器。</li></ul><p id="c397" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">雷迪斯</p><ul class=""><li id="60f6" class="kc kd hu jf b jg jh jk jl jo ke js kf jw kg ka kl ki kj kk dt translated">Lua解释器生活在一个沙箱中，只适合简单的脚本编写(只有纯函数和局部变量)。</li><li id="2da6" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">您可以通过EVAL完成一个脚本，或者通过EVALSHA加载并稍后启动它。</li><li id="b546" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">Redis本身只能通过本地连接器从脚本中获得。</li><li id="74cf" class="kc kd hu jf b jg km jk kn jo ko js kp jw kq ka kl ki kj kk dt translated">在Redis的最新版本中，你可以用c编写模块/插件。</li></ul><p id="4699" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">3.持续</p><p id="a3c6" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis专注于内存处理，可以定期或停止备份数据。另一方面，Tarantool可以在磁盘上持续保存数据。</p><p id="c5cc" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool:除了快照，它还有一个全面的WAL(预写日志)。因此，它可以在每次开箱即用的交易后确保数据的持久性。</p><p id="7a64" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis:事实上，它只有快照。从技术上讲，您有AOF(仅附加文件，所有操作都写入其中)，但它需要手动控制，包括重新启动后的手动恢复。简而言之，使用Redis，您需要不时地手动暂停服务器，制作快照并归档AOF。</p><p id="64fa" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">4.延迟和吞吐量</p><p id="ac8a" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">在Tarantool中，您有专门的线程来处理网络和写入磁盘。这就是为什么你在现实生活中有更好的延迟。但是在合成测试中，Redis应该有更好的吞吐量，因为在上下文切换和线程同步上没有使用CPU。</p><p id="cf8a" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">5.指数</p><p id="e2ed" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool有二级索引，包括地理空间索引(R-TREE)。</p><p id="f1c1" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis没有二级索引，但是您可以通过几个操作或Lua脚本来模拟它们。有时候看起来很恶心。详情见此:<a class="ae kb" href="http://l.facebook.com/l.php?u=http%3A%2F%2Fredis.io%2Ftopics%2Findexes&amp;h=8AQHWLdY4AQH70t1kNg0gh6CCGsD2z74ZQ3u_egCs4C_oOA&amp;enc=AZMjpJ5DPjNMDKdTvVU7nRf_4fViwrMmbAlqGlLnJV5NmbDF6ue6Cdmb-ZeTfQTW88DNVAObeRas6lJblJ-wTuL-T7WG2tEkMTxxuogkIO7c5yb2K19zuJGDDhAzJWS23q40YoBWyi5s_YM4zzYctnk8cw9rMKhj9xww6uOzANZPRgVEUNNV_VV_oazEYwA9Od2K2_kKFOVb1xK7V7AXDZPO&amp;s=1" rel="noopener ugc nofollow" target="_blank">http://redis.io/topics/indexes</a></p><p id="e623" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">6.外部API</p><p id="548f" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis为列表、集合、哈希表等基本数据结构提供了简单的接口。那些接口方法基于通过网络访问对象/结构的概念，这对于大多数人来说是直观的。</p><p id="ccd8" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool有一个更通用的数据操作接口，它支持上述所有功能。</p><p id="9e48" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">7.集群化和复制</p><p id="e4ec" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis有现成的带复制和故障转移的Sentinel。</p><p id="d33c" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool具有复制功能，包括主-主，但没有集群或本机故障转移的内在编排(Tarantool开发者称这正在进行中)。</p><p id="be60" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">8.数据库大小</p><p id="dab0" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool有一个全新的存储引擎，名为“vinyl”(还没有正式发布，但是你已经可以尝试了)。它允许你存储和处理不适合你的内存的数据。</p><p id="01e7" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis只有一个内存引擎，目前还没有其他计划。</p><p id="5b72" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">9.结构化查询语言</p><p id="68c2" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Tarantool: SQL支持即将推出(基于sqlite的一个分支)，包括ODBC/JDBC。选择操作已经实现。你可以试试。</p><p id="c365" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">Redis:目前没有SQL支持，甚至在计划中也没有。</p><p id="78b8" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">附言</p><p id="384e" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">如果你渴望绝对的客观主义，那么你应该知道上面的比较包含一些不准确之处。<br/>然而，试图消除它们需要大量无法客观比较的细节。</p><p id="9816" class="pw-post-body-paragraph jd je hu jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hn dt translated">感谢您的阅读。如果你想在上面所说的基础上增加一些东西或者澄清它，请随意发表评论。</p><div class="iz ja jb jc fq ab cb"><figure class="kr iv ks kt ku kv kw paragraph-image"><a href="http://bit.ly/HackernoonFB"><img src="../Images/50ef4044ecd4e250b5d50f368b775d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*0hqOaABQ7XGPT-OYNgiUBg.png"/></a></figure><figure class="kr iv ks kt ku kv kw paragraph-image"><a href="https://goo.gl/k7XYbx"><img src="../Images/979d9a46439d5aebbdcdca574e21dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Vgw1jkA6hgnvwzTsfMlnpg.png"/></a></figure><figure class="kr iv ks kt ku kv kw paragraph-image"><a href="https://goo.gl/4ofytp"><img src="../Images/2930ba6bd2c12218fdbbf7e02c8746ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gKBpq1ruUi0FVK2UM_I4tQ.png"/></a></figure></div><blockquote class="kx ky kz"><p id="f922" class="jd je la jf b jg jh ji jj jk jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ka hn dt translated"><a class="ae kb" href="http://bit.ly/Hackernoon" rel="noopener ugc nofollow" target="_blank">黑客中午</a>是黑客如何开始他们的下午。我们是<a class="ae kb" href="http://bit.ly/atAMIatAMI" rel="noopener ugc nofollow" target="_blank"> @AMI </a>家庭的一员。我们现在<a class="ae kb" href="http://bit.ly/hackernoonsubmission" rel="noopener ugc nofollow" target="_blank">接受投稿</a>并乐意<a class="ae kb" href="mailto:partners@amipublications.com" rel="noopener ugc nofollow" target="_blank">讨论广告&amp;赞助</a>机会。</p><p id="708a" class="jd je la jf b jg jh ji jj jk jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz ka hn dt translated">如果你喜欢这个故事，我们推荐你阅读我们的<a class="ae kb" href="http://bit.ly/hackernoonlatestt" rel="noopener ugc nofollow" target="_blank">最新科技故事</a>和<a class="ae kb" href="https://hackernoon.com/trending" rel="noopener ugc nofollow" target="_blank">趋势科技故事</a>。直到下一次，不要把世界的现实想当然！</p></blockquote><figure class="iz ja jb jc fq iv fe ff paragraph-image"><a href="https://goo.gl/Ahtev1"><div class="fe ff le"><img src="../Images/be0ca55ba73a573dce11effb2ee80d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35tCjoPcvq6LbB3I6Wegqw.jpeg"/></div></a></figure><figure class="iz ja jb jc fq iv"><div class="bz el l di"><div class="lf lg l"/></div></figure></div></div>    
</body>
</html>